!function(){let e,t,r,a,n,o,i,s,l,c,d,u,p,h,m,g,x,f,b,v,y,w,j,N,k,C,S,E,P,O,I=e=>e;function A(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}System.register([],function(D,M){"use strict";return{execute:function(){var D=document.createElement("style");function T(e,t){for(var r=0;r<t.length;r++){const a=t[r];if("string"!=typeof a&&!Array.isArray(a))for(const t in a)if("default"!==t&&!(t in e)){const r=Object.getOwnPropertyDescriptor(a,t);r&&Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:()=>a[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function F(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}D.textContent='@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scale-z:1;--tw-rotate-x:initial;--tw-rotate-y:initial;--tw-rotate-z:initial;--tw-skew-x:initial;--tw-skew-y:initial;--tw-space-y-reverse:0;--tw-space-x-reverse:0;--tw-divide-y-reverse:0;--tw-border-style:solid;--tw-gradient-position:initial;--tw-gradient-from:#0000;--tw-gradient-via:#0000;--tw-gradient-to:#0000;--tw-gradient-stops:initial;--tw-gradient-via-stops:initial;--tw-gradient-from-position:0%;--tw-gradient-via-position:50%;--tw-gradient-to-position:100%;--tw-leading:initial;--tw-font-weight:initial;--tw-tracking:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-outline-style:solid;--tw-blur:initial;--tw-brightness:initial;--tw-contrast:initial;--tw-grayscale:initial;--tw-hue-rotate:initial;--tw-invert:initial;--tw-opacity:initial;--tw-saturate:initial;--tw-sepia:initial;--tw-drop-shadow:initial;--tw-drop-shadow-color:initial;--tw-drop-shadow-alpha:100%;--tw-drop-shadow-size:initial;--tw-backdrop-blur:initial;--tw-backdrop-brightness:initial;--tw-backdrop-contrast:initial;--tw-backdrop-grayscale:initial;--tw-backdrop-hue-rotate:initial;--tw-backdrop-invert:initial;--tw-backdrop-opacity:initial;--tw-backdrop-saturate:initial;--tw-backdrop-sepia:initial;--tw-duration:initial;--tw-ease:initial}}}@layer theme{:root,:host{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-red-50:oklch(97.1% .013 17.38);--color-red-100:oklch(93.6% .032 17.717);--color-red-200:oklch(88.5% .062 18.334);--color-red-400:oklch(70.4% .191 22.216);--color-red-500:oklch(63.7% .237 25.331);--color-red-600:oklch(57.7% .245 27.325);--color-red-700:oklch(50.5% .213 27.518);--color-red-800:oklch(44.4% .177 26.899);--color-red-900:oklch(39.6% .141 25.723);--color-orange-50:oklch(98% .016 73.684);--color-orange-100:oklch(95.4% .038 75.164);--color-orange-200:oklch(90.1% .076 70.697);--color-orange-300:oklch(83.7% .128 66.29);--color-orange-400:oklch(75% .183 55.934);--color-orange-500:oklch(70.5% .213 47.604);--color-orange-600:oklch(64.6% .222 41.116);--color-orange-700:oklch(55.3% .195 38.402);--color-orange-800:oklch(47% .157 37.304);--color-orange-900:oklch(40.8% .123 38.172);--color-amber-50:oklch(98.7% .022 95.277);--color-amber-100:oklch(96.2% .059 95.617);--color-amber-500:oklch(76.9% .188 70.08);--color-amber-600:oklch(66.6% .179 58.318);--color-amber-700:oklch(55.5% .163 48.998);--color-amber-800:oklch(47.3% .137 46.201);--color-yellow-50:oklch(98.7% .026 102.212);--color-yellow-100:oklch(97.3% .071 103.193);--color-yellow-200:oklch(94.5% .129 101.54);--color-yellow-300:oklch(90.5% .182 98.111);--color-yellow-400:oklch(85.2% .199 91.936);--color-yellow-500:oklch(79.5% .184 86.047);--color-yellow-600:oklch(68.1% .162 75.834);--color-yellow-700:oklch(55.4% .135 66.442);--color-yellow-800:oklch(47.6% .114 61.907);--color-yellow-900:oklch(42.1% .095 57.708);--color-green-50:oklch(98.2% .018 155.826);--color-green-100:oklch(96.2% .044 156.743);--color-green-200:oklch(92.5% .084 155.995);--color-green-300:oklch(87.1% .15 154.449);--color-green-400:oklch(79.2% .209 151.711);--color-green-500:oklch(72.3% .219 149.579);--color-green-600:oklch(62.7% .194 149.214);--color-green-700:oklch(52.7% .154 150.069);--color-green-800:oklch(44.8% .119 151.328);--color-green-900:oklch(39.3% .095 152.535);--color-emerald-100:oklch(95% .052 163.051);--color-emerald-500:oklch(69.6% .17 162.48);--color-emerald-600:oklch(59.6% .145 163.225);--color-emerald-800:oklch(43.2% .095 166.913);--color-blue-50:oklch(97% .014 254.604);--color-blue-100:oklch(93.2% .032 255.585);--color-blue-200:oklch(88.2% .059 254.128);--color-blue-300:oklch(80.9% .105 251.813);--color-blue-400:oklch(70.7% .165 254.624);--color-blue-500:oklch(62.3% .214 259.815);--color-blue-600:oklch(54.6% .245 262.881);--color-blue-700:oklch(48.8% .243 264.376);--color-blue-800:oklch(42.4% .199 265.638);--color-blue-900:oklch(37.9% .146 265.522);--color-indigo-50:oklch(96.2% .018 272.314);--color-indigo-100:oklch(93% .034 272.788);--color-indigo-200:oklch(87% .065 274.039);--color-indigo-300:oklch(78.5% .115 274.713);--color-indigo-500:oklch(58.5% .233 277.117);--color-indigo-600:oklch(51.1% .262 276.966);--color-indigo-700:oklch(45.7% .24 277.023);--color-indigo-800:oklch(39.8% .195 277.366);--color-purple-50:oklch(97.7% .014 308.299);--color-purple-100:oklch(94.6% .033 307.174);--color-purple-200:oklch(90.2% .063 306.703);--color-purple-300:oklch(82.7% .119 306.383);--color-purple-400:oklch(71.4% .203 305.504);--color-purple-500:oklch(62.7% .265 303.9);--color-purple-600:oklch(55.8% .288 302.321);--color-purple-700:oklch(49.6% .265 301.924);--color-purple-800:oklch(43.8% .218 303.724);--color-purple-900:oklch(38.1% .176 304.987);--color-rose-100:oklch(94.1% .03 12.58);--color-rose-500:oklch(64.5% .246 16.439);--color-rose-600:oklch(58.6% .253 17.585);--color-rose-800:oklch(45.5% .188 13.697);--color-slate-50:oklch(98.4% .003 247.858);--color-slate-100:oklch(96.8% .007 247.896);--color-slate-200:oklch(92.9% .013 255.508);--color-slate-300:oklch(86.9% .022 252.894);--color-slate-400:oklch(70.4% .04 256.788);--color-slate-500:oklch(55.4% .046 257.417);--color-slate-600:oklch(44.6% .043 257.281);--color-slate-700:oklch(37.2% .044 257.287);--color-slate-800:oklch(27.9% .041 260.031);--color-slate-900:oklch(20.8% .042 265.755);--color-gray-50:oklch(98.5% .002 247.839);--color-gray-100:oklch(96.7% .003 264.542);--color-gray-200:oklch(92.8% .006 264.531);--color-gray-300:oklch(87.2% .01 258.338);--color-gray-400:oklch(70.7% .022 261.325);--color-gray-500:oklch(55.1% .027 264.364);--color-gray-600:oklch(44.6% .03 256.802);--color-gray-700:oklch(37.3% .034 259.733);--color-gray-800:oklch(27.8% .033 256.848);--color-gray-900:oklch(21% .034 264.665);--color-gray-950:oklch(13% .028 261.692);--color-zinc-200:oklch(92% .004 286.32);--color-zinc-300:oklch(87.1% .006 286.286);--color-zinc-400:oklch(70.5% .015 286.067);--color-zinc-500:oklch(55.2% .016 285.938);--color-zinc-600:oklch(44.2% .017 285.786);--color-zinc-700:oklch(37% .013 285.805);--color-zinc-800:oklch(27.4% .006 286.033);--color-zinc-900:oklch(21% .006 285.885);--color-black:#000;--color-white:#fff;--spacing:.25rem;--container-xs:20rem;--container-sm:24rem;--container-md:28rem;--container-lg:32rem;--container-2xl:42rem;--container-3xl:48rem;--container-4xl:56rem;--container-5xl:64rem;--container-6xl:72rem;--container-7xl:80rem;--text-xs:.75rem;--text-xs--line-height:calc(1/.75);--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--text-base:1rem;--text-base--line-height: 1.5 ;--text-lg:1.125rem;--text-lg--line-height:calc(1.75/1.125);--text-xl:1.25rem;--text-xl--line-height:calc(1.75/1.25);--text-2xl:1.5rem;--text-2xl--line-height:calc(2/1.5);--text-3xl:1.875rem;--text-3xl--line-height: 1.2 ;--text-4xl:2.25rem;--text-4xl--line-height:calc(2.5/2.25);--font-weight-normal:400;--font-weight-medium:500;--font-weight-semibold:600;--font-weight-bold:700;--font-weight-extrabold:800;--font-weight-black:900;--tracking-tighter:-.05em;--tracking-tight:-.025em;--tracking-wide:.025em;--tracking-wider:.05em;--tracking-widest:.1em;--leading-tight:1.25;--leading-relaxed:1.625;--radius-sm:.25rem;--radius-md:.375rem;--radius-lg:.5rem;--radius-xl:.75rem;--radius-2xl:1rem;--radius-3xl:1.5rem;--ease-in:cubic-bezier(.4,0,1,1);--animate-spin:spin 1s linear infinite;--animate-ping:ping 1s cubic-bezier(0,0,.2,1)infinite;--animate-pulse:pulse 2s cubic-bezier(.4,0,.6,1)infinite;--animate-bounce:bounce 1s infinite;--blur-sm:8px;--blur-md:12px;--blur-lg:16px;--blur-xl:24px;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono);--color-hd-orange:#f96302;--color-hd-black:#0f172a}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:rgba(0,0,0,0);border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:rgba(0,0,0,0);border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab,red,red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}::-webkit-calendar-picker-indicator{line-height:1}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){-webkit-appearance:button;appearance:button}::file-selector-button{-webkit-appearance:button;appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}input,select,textarea{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium);color:var(--color-gray-900)}input::placeholder{color:var(--color-gray-400)}input:disabled,select:disabled,textarea:disabled{cursor:not-allowed;background-color:var(--color-gray-100);color:var(--color-gray-600);opacity:1}}@layer components;@layer utilities{.pointer-events-none{pointer-events:none}.visible{visibility:visible}.sr-only{clip-path:inset(50%);white-space:nowrap;border-width:0;width:1px;height:1px;margin:-1px;padding:0;position:absolute;overflow:hidden}.absolute{position:absolute}.fixed{position:fixed}.relative{position:relative}.static{position:static}.sticky{position:sticky}.inset-0{inset:calc(var(--spacing)*0)}.inset-x-0{inset-inline:calc(var(--spacing)*0)}.inset-y-0{inset-block:calc(var(--spacing)*0)}.-top-3{top:calc(var(--spacing)*-3)}.top-0{top:calc(var(--spacing)*0)}.top-1{top:calc(var(--spacing)*1)}.top-1\\.5{top:calc(var(--spacing)*1.5)}.top-1\\/2{top:50%}.top-2{top:calc(var(--spacing)*2)}.top-2\\.5{top:calc(var(--spacing)*2.5)}.top-3{top:calc(var(--spacing)*3)}.top-4{top:calc(var(--spacing)*4)}.top-6{top:calc(var(--spacing)*6)}.top-8{top:calc(var(--spacing)*8)}.top-\\[-10\\%\\]{top:-10%}.top-full{top:100%}.-right-4{right:calc(var(--spacing)*-4)}.right-0{right:calc(var(--spacing)*0)}.right-1\\.5{right:calc(var(--spacing)*1.5)}.right-2{right:calc(var(--spacing)*2)}.right-2\\.5{right:calc(var(--spacing)*2.5)}.right-3{right:calc(var(--spacing)*3)}.right-4{right:calc(var(--spacing)*4)}.right-6{right:calc(var(--spacing)*6)}.right-8{right:calc(var(--spacing)*8)}.right-\\[-10\\%\\]{right:-10%}.-bottom-1{bottom:calc(var(--spacing)*-1)}.bottom-0{bottom:calc(var(--spacing)*0)}.bottom-6{bottom:calc(var(--spacing)*6)}.bottom-\\[-10\\%\\]{bottom:-10%}.bottom-full{bottom:100%}.-left-4{left:calc(var(--spacing)*-4)}.left-0{left:calc(var(--spacing)*0)}.left-1{left:calc(var(--spacing)*1)}.left-1\\/2{left:50%}.left-2{left:calc(var(--spacing)*2)}.left-2\\.5{left:calc(var(--spacing)*2.5)}.left-3{left:calc(var(--spacing)*3)}.left-4{left:calc(var(--spacing)*4)}.left-5{left:calc(var(--spacing)*5)}.left-\\[-10\\%\\]{left:-10%}.z-0{z-index:0}.z-10{z-index:10}.z-20{z-index:20}.z-40{z-index:40}.z-50{z-index:50}.z-\\[60\\]{z-index:60}.z-\\[100\\]{z-index:100}.z-\\[101\\]{z-index:101}.z-\\[9999\\]{z-index:9999}.col-span-1{grid-column:span 1/span 1}.col-span-2{grid-column:span 2/span 2}.col-span-4{grid-column:span 4/span 4}.col-span-12{grid-column:span 12/span 12}.col-span-full{grid-column:1/-1}.container{width:100%}@media(min-width:40rem){.container{max-width:40rem}}@media(min-width:48rem){.container{max-width:48rem}}@media(min-width:64rem){.container{max-width:64rem}}@media(min-width:80rem){.container{max-width:80rem}}@media(min-width:96rem){.container{max-width:96rem}}.-m-6{margin:calc(var(--spacing)*-6)}.m-2{margin:calc(var(--spacing)*2)}.-mx-6{margin-inline:calc(var(--spacing)*-6)}.mx-1{margin-inline:calc(var(--spacing)*1)}.mx-2{margin-inline:calc(var(--spacing)*2)}.mx-auto{margin-inline:auto}.my-2{margin-block:calc(var(--spacing)*2)}.-mt-1{margin-top:calc(var(--spacing)*-1)}.mt-0{margin-top:calc(var(--spacing)*0)}.mt-0\\.5{margin-top:calc(var(--spacing)*.5)}.mt-1{margin-top:calc(var(--spacing)*1)}.mt-1\\.5{margin-top:calc(var(--spacing)*1.5)}.mt-2{margin-top:calc(var(--spacing)*2)}.mt-4{margin-top:calc(var(--spacing)*4)}.mt-6{margin-top:calc(var(--spacing)*6)}.mt-8{margin-top:calc(var(--spacing)*8)}.mt-10{margin-top:calc(var(--spacing)*10)}.mt-12{margin-top:calc(var(--spacing)*12)}.mt-auto{margin-top:auto}.mr-0\\.5{margin-right:calc(var(--spacing)*.5)}.mr-1{margin-right:calc(var(--spacing)*1)}.mr-1\\.5{margin-right:calc(var(--spacing)*1.5)}.mr-2{margin-right:calc(var(--spacing)*2)}.mr-3{margin-right:calc(var(--spacing)*3)}.mr-4{margin-right:calc(var(--spacing)*4)}.-mb-px{margin-bottom:-1px}.mb-1{margin-bottom:calc(var(--spacing)*1)}.mb-1\\.5{margin-bottom:calc(var(--spacing)*1.5)}.mb-2{margin-bottom:calc(var(--spacing)*2)}.mb-3{margin-bottom:calc(var(--spacing)*3)}.mb-4{margin-bottom:calc(var(--spacing)*4)}.mb-5{margin-bottom:calc(var(--spacing)*5)}.mb-6{margin-bottom:calc(var(--spacing)*6)}.mb-8{margin-bottom:calc(var(--spacing)*8)}.mb-10{margin-bottom:calc(var(--spacing)*10)}.mb-12{margin-bottom:calc(var(--spacing)*12)}.ml-1{margin-left:calc(var(--spacing)*1)}.ml-1\\.5{margin-left:calc(var(--spacing)*1.5)}.ml-2{margin-left:calc(var(--spacing)*2)}.ml-3{margin-left:calc(var(--spacing)*3)}.ml-4{margin-left:calc(var(--spacing)*4)}.ml-14{margin-left:calc(var(--spacing)*14)}.ml-auto{margin-left:auto}.line-clamp-2{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.block{display:block}.flex{display:flex}.grid{display:grid}.hidden{display:none}.inline-block{display:inline-block}.inline-flex{display:inline-flex}.table{display:table}.aspect-square{aspect-ratio:1}.h-1{height:calc(var(--spacing)*1)}.h-1\\.5{height:calc(var(--spacing)*1.5)}.h-2{height:calc(var(--spacing)*2)}.h-2\\.5{height:calc(var(--spacing)*2.5)}.h-3{height:calc(var(--spacing)*3)}.h-3\\.5{height:calc(var(--spacing)*3.5)}.h-4{height:calc(var(--spacing)*4)}.h-5{height:calc(var(--spacing)*5)}.h-6{height:calc(var(--spacing)*6)}.h-7{height:calc(var(--spacing)*7)}.h-8{height:calc(var(--spacing)*8)}.h-9{height:calc(var(--spacing)*9)}.h-10{height:calc(var(--spacing)*10)}.h-11{height:calc(var(--spacing)*11)}.h-12{height:calc(var(--spacing)*12)}.h-14{height:calc(var(--spacing)*14)}.h-16{height:calc(var(--spacing)*16)}.h-24{height:calc(var(--spacing)*24)}.h-40{height:calc(var(--spacing)*40)}.h-48{height:calc(var(--spacing)*48)}.h-64{height:calc(var(--spacing)*64)}.h-\\[40\\%\\]{height:40%}.h-\\[46px\\]{height:46px}.h-\\[50vh\\]{height:50vh}.h-\\[52px\\]{height:52px}.h-\\[60vh\\]{height:60vh}.h-\\[85vh\\]{height:85vh}.h-\\[300px\\]{height:300px}.h-\\[calc\\(100vh-64px\\)\\]{height:calc(100vh - 64px)}.h-\\[calc\\(100vh-250px\\)\\]{height:calc(100vh - 250px)}.h-auto{height:auto}.h-fit{height:fit-content}.h-full{height:100%}.h-px{height:1px}.h-screen{height:100vh}.max-h-40{max-height:calc(var(--spacing)*40)}.max-h-48{max-height:calc(var(--spacing)*48)}.max-h-56{max-height:calc(var(--spacing)*56)}.max-h-60{max-height:calc(var(--spacing)*60)}.max-h-64{max-height:calc(var(--spacing)*64)}.max-h-80{max-height:calc(var(--spacing)*80)}.max-h-\\[80vh\\]{max-height:80vh}.max-h-\\[85vh\\]{max-height:85vh}.max-h-\\[90vh\\]{max-height:90vh}.max-h-\\[92vh\\]{max-height:92vh}.max-h-\\[300px\\]{max-height:300px}.max-h-\\[400px\\]{max-height:400px}.max-h-\\[600px\\]{max-height:600px}.min-h-\\[40px\\]{min-height:40px}.min-h-\\[50px\\]{min-height:50px}.min-h-\\[80px\\]{min-height:80px}.min-h-\\[300px\\]{min-height:300px}.min-h-\\[400px\\]{min-height:400px}.min-h-\\[500px\\]{min-height:500px}.min-h-\\[600px\\]{min-height:600px}.min-h-screen{min-height:100vh}.w-1{width:calc(var(--spacing)*1)}.w-1\\.5{width:calc(var(--spacing)*1.5)}.w-1\\/2{width:50%}.w-1\\/3{width:33.3333%}.w-1\\/4{width:25%}.w-1\\/5{width:20%}.w-2{width:calc(var(--spacing)*2)}.w-2\\/3{width:66.6667%}.w-3{width:calc(var(--spacing)*3)}.w-3\\.5{width:calc(var(--spacing)*3.5)}.w-3\\/4{width:75%}.w-4{width:calc(var(--spacing)*4)}.w-5{width:calc(var(--spacing)*5)}.w-6{width:calc(var(--spacing)*6)}.w-7{width:calc(var(--spacing)*7)}.w-8{width:calc(var(--spacing)*8)}.w-9{width:calc(var(--spacing)*9)}.w-10{width:calc(var(--spacing)*10)}.w-11{width:calc(var(--spacing)*11)}.w-12{width:calc(var(--spacing)*12)}.w-14{width:calc(var(--spacing)*14)}.w-16{width:calc(var(--spacing)*16)}.w-20{width:calc(var(--spacing)*20)}.w-24{width:calc(var(--spacing)*24)}.w-28{width:calc(var(--spacing)*28)}.w-32{width:calc(var(--spacing)*32)}.w-40{width:calc(var(--spacing)*40)}.w-48{width:calc(var(--spacing)*48)}.w-56{width:calc(var(--spacing)*56)}.w-64{width:calc(var(--spacing)*64)}.w-72{width:calc(var(--spacing)*72)}.w-80{width:calc(var(--spacing)*80)}.w-\\[2px\\]{width:2px}.w-\\[40\\%\\]{width:40%}.w-\\[50px\\]{width:50px}.w-\\[80px\\]{width:80px}.w-\\[90px\\]{width:90px}.w-\\[100px\\]{width:100px}.w-\\[120px\\]{width:120px}.w-\\[140px\\]{width:140px}.w-\\[150px\\]{width:150px}.w-\\[250px\\]{width:250px}.w-\\[300px\\]{width:300px}.w-\\[500px\\]{width:500px}.w-fit{width:fit-content}.w-full{width:100%}.w-px{width:1px}.max-w-2xl{max-width:var(--container-2xl)}.max-w-3xl{max-width:var(--container-3xl)}.max-w-4xl{max-width:var(--container-4xl)}.max-w-5xl{max-width:var(--container-5xl)}.max-w-6xl{max-width:var(--container-6xl)}.max-w-7xl{max-width:var(--container-7xl)}.max-w-\\[70\\%\\]{max-width:70%}.max-w-\\[80px\\]{max-width:80px}.max-w-\\[120px\\]{max-width:120px}.max-w-\\[140px\\]{max-width:140px}.max-w-\\[150px\\]{max-width:150px}.max-w-\\[200px\\]{max-width:200px}.max-w-\\[1600px\\]{max-width:1600px}.max-w-lg{max-width:var(--container-lg)}.max-w-md{max-width:var(--container-md)}.max-w-sm{max-width:var(--container-sm)}.max-w-xs{max-width:var(--container-xs)}.min-w-0{min-width:calc(var(--spacing)*0)}.min-w-\\[3rem\\]{min-width:3rem}.min-w-\\[24px\\]{min-width:24px}.min-w-\\[60px\\]{min-width:60px}.min-w-\\[80px\\]{min-width:80px}.min-w-\\[200px\\]{min-width:200px}.min-w-full{min-width:100%}.flex-1{flex:1}.flex-shrink-0,.shrink-0{flex-shrink:0}.flex-grow{flex-grow:1}.table-fixed{table-layout:fixed}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.-translate-x-1\\/2{--tw-translate-x: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-x-full{--tw-translate-x:-100%;translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-x-0{--tw-translate-x:calc(var(--spacing)*0);translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-x-1{--tw-translate-x:calc(var(--spacing)*1);translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-x-4{--tw-translate-x:calc(var(--spacing)*4);translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-x-6{--tw-translate-x:calc(var(--spacing)*6);translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-y-1\\/2{--tw-translate-y: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-y-2{--tw-translate-y:calc(var(--spacing)*-2);translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-y-0{--tw-translate-y:calc(var(--spacing)*0);translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-y-\\[90\\%\\]{--tw-translate-y:90%;translate:var(--tw-translate-x)var(--tw-translate-y)}.scale-90{--tw-scale-x:90%;--tw-scale-y:90%;--tw-scale-z:90%;scale:var(--tw-scale-x)var(--tw-scale-y)}.scale-105{--tw-scale-x:105%;--tw-scale-y:105%;--tw-scale-z:105%;scale:var(--tw-scale-x)var(--tw-scale-y)}.scale-110{--tw-scale-x:110%;--tw-scale-y:110%;--tw-scale-z:110%;scale:var(--tw-scale-x)var(--tw-scale-y)}.rotate-45{rotate:45deg}.rotate-90{rotate:90deg}.rotate-180{rotate:180deg}.transform{transform:var(--tw-rotate-x,)var(--tw-rotate-y,)var(--tw-rotate-z,)var(--tw-skew-x,)var(--tw-skew-y,)}.animate-ping{animation:var(--animate-ping)}.animate-pulse{animation:var(--animate-pulse)}.animate-spin{animation:var(--animate-spin)}.cursor-col-resize{cursor:col-resize}.cursor-grab{cursor:grab}.cursor-help{cursor:help}.cursor-move{cursor:move}.cursor-not-allowed{cursor:not-allowed}.cursor-pointer{cursor:pointer}.touch-none{touch-action:none}.resize-none{resize:none}.appearance-none{-webkit-appearance:none;appearance:none}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.grid-cols-5{grid-template-columns:repeat(5,minmax(0,1fr))}.grid-cols-12{grid-template-columns:repeat(12,minmax(0,1fr))}.grid-cols-\\[1fr\\,auto\\]{grid-template-columns:1fr,auto}.grid-cols-\\[100px_auto\\]{grid-template-columns:100px auto}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-row{flex-direction:row}.flex-wrap{flex-wrap:wrap}.content-start{align-content:flex-start}.items-center{align-items:center}.items-end{align-items:flex-end}.items-start{align-items:flex-start}.justify-around{justify-content:space-around}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.justify-end{justify-content:flex-end}.justify-start{justify-content:flex-start}.gap-0\\.5{gap:calc(var(--spacing)*.5)}.gap-1{gap:calc(var(--spacing)*1)}.gap-1\\.5{gap:calc(var(--spacing)*1.5)}.gap-2{gap:calc(var(--spacing)*2)}.gap-3{gap:calc(var(--spacing)*3)}.gap-4{gap:calc(var(--spacing)*4)}.gap-6{gap:calc(var(--spacing)*6)}.gap-8{gap:calc(var(--spacing)*8)}.gap-20{gap:calc(var(--spacing)*20)}:where(.space-y-0>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*0)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*0)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-0\\.5>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*.5)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*.5)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-1>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*1)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*1)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-1\\.5>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*1.5)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*1.5)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-2>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*2)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*2)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-3>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*3)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*3)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-4>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*4)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*4)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-5>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*5)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*5)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-6>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*6)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*6)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-8>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*8)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*8)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-10>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*10)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*10)*calc(1 - var(--tw-space-y-reverse)))}.gap-x-8{column-gap:calc(var(--spacing)*8)}:where(.space-x-1>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing)*1)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--spacing)*1)*calc(1 - var(--tw-space-x-reverse)))}:where(.space-x-2>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing)*2)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--spacing)*2)*calc(1 - var(--tw-space-x-reverse)))}:where(.space-x-3>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing)*3)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--spacing)*3)*calc(1 - var(--tw-space-x-reverse)))}:where(.space-x-4>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing)*4)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--spacing)*4)*calc(1 - var(--tw-space-x-reverse)))}:where(.space-x-6>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing)*6)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--spacing)*6)*calc(1 - var(--tw-space-x-reverse)))}.gap-y-4{row-gap:calc(var(--spacing)*4)}.gap-y-12{row-gap:calc(var(--spacing)*12)}:where(.divide-y>:not(:last-child)){--tw-divide-y-reverse:0;border-bottom-style:var(--tw-border-style);border-top-style:var(--tw-border-style);border-top-width:calc(1px*var(--tw-divide-y-reverse));border-bottom-width:calc(1px*calc(1 - var(--tw-divide-y-reverse)))}:where(.divide-gray-50>:not(:last-child)){border-color:var(--color-gray-50)}:where(.divide-gray-100>:not(:last-child)){border-color:var(--color-gray-100)}:where(.divide-gray-200>:not(:last-child)){border-color:var(--color-gray-200)}:where(.divide-slate-100>:not(:last-child)){border-color:var(--color-slate-100)}.self-end{align-self:flex-end}.self-start{align-self:flex-start}.truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-visible{overflow:visible}.overflow-x-auto{overflow-x:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-auto{overflow-y:auto}.overflow-y-visible{overflow-y:visible}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:var(--radius-2xl)}.rounded-3xl{border-radius:var(--radius-3xl)}.rounded-full{border-radius:3.40282e38px}.rounded-lg{border-radius:var(--radius-lg)}.rounded-md{border-radius:var(--radius-md)}.rounded-none{border-radius:0}.rounded-sm{border-radius:var(--radius-sm)}.rounded-xl{border-radius:var(--radius-xl)}.rounded-t-3xl{border-top-left-radius:var(--radius-3xl);border-top-right-radius:var(--radius-3xl)}.rounded-t-lg{border-top-left-radius:var(--radius-lg);border-top-right-radius:var(--radius-lg)}.rounded-t-md{border-top-left-radius:var(--radius-md);border-top-right-radius:var(--radius-md)}.rounded-l-md{border-top-left-radius:var(--radius-md);border-bottom-left-radius:var(--radius-md)}.rounded-l-none{border-top-left-radius:0;border-bottom-left-radius:0}.rounded-r-md{border-top-right-radius:var(--radius-md);border-bottom-right-radius:var(--radius-md)}.rounded-b-lg{border-bottom-right-radius:var(--radius-lg);border-bottom-left-radius:var(--radius-lg)}.rounded-bl-full{border-bottom-left-radius:3.40282e38px}.rounded-bl-none{border-bottom-left-radius:0}.border{border-style:var(--tw-border-style);border-width:1px}.border-0{border-style:var(--tw-border-style);border-width:0}.border-2{border-style:var(--tw-border-style);border-width:2px}.border-4{border-style:var(--tw-border-style);border-width:4px}.border-y{border-block-style:var(--tw-border-style);border-block-width:1px}.border-t{border-top-style:var(--tw-border-style);border-top-width:1px}.border-t-0{border-top-style:var(--tw-border-style);border-top-width:0}.border-t-2{border-top-style:var(--tw-border-style);border-top-width:2px}.border-t-4{border-top-style:var(--tw-border-style);border-top-width:4px}.border-t-\\[3px\\]{border-top-style:var(--tw-border-style);border-top-width:3px}.border-r{border-right-style:var(--tw-border-style);border-right-width:1px}.border-r-0{border-right-style:var(--tw-border-style);border-right-width:0}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-b-2{border-bottom-style:var(--tw-border-style);border-bottom-width:2px}.border-b-4{border-bottom-style:var(--tw-border-style);border-bottom-width:4px}.border-l{border-left-style:var(--tw-border-style);border-left-width:1px}.border-l-2{border-left-style:var(--tw-border-style);border-left-width:2px}.border-l-4{border-left-style:var(--tw-border-style);border-left-width:4px}.border-dashed{--tw-border-style:dashed;border-style:dashed}.border-none{--tw-border-style:none;border-style:none}.border-\\[\\#e1e1e1\\]{border-color:#e1e1e1}.border-\\[var\\(--border-color\\)\\],.border-\\[var\\(--border-color\\)\\]\\/50{border-color:var(--border-color)}@supports (color:color-mix(in lab,red,red)){.border-\\[var\\(--border-color\\)\\]\\/50{border-color:color-mix(in oklab,var(--border-color)50%,transparent)}}.border-\\[var\\(--text-muted\\)\\]\\/30{border-color:var(--text-muted)}@supports (color:color-mix(in lab,red,red)){.border-\\[var\\(--text-muted\\)\\]\\/30{border-color:color-mix(in oklab,var(--text-muted)30%,transparent)}}.border-black{border-color:var(--color-black)}.border-blue-100{border-color:var(--color-blue-100)}.border-blue-200{border-color:var(--color-blue-200)}.border-blue-300{border-color:var(--color-blue-300)}.border-blue-400{border-color:var(--color-blue-400)}.border-blue-500{border-color:var(--color-blue-500)}.border-blue-600{border-color:var(--color-blue-600)}.border-emerald-500\\/20{border-color:rgba(0,187,127,.2)}@supports (color:color-mix(in lab,red,red)){.border-emerald-500\\/20{border-color:color-mix(in oklab,var(--color-emerald-500)20%,transparent)}}.border-gray-50{border-color:var(--color-gray-50)}.border-gray-100{border-color:var(--color-gray-100)}.border-gray-200{border-color:var(--color-gray-200)}.border-gray-300{border-color:var(--color-gray-300)}.border-gray-400{border-color:var(--color-gray-400)}.border-gray-600{border-color:var(--color-gray-600)}.border-gray-700{border-color:var(--color-gray-700)}.border-gray-700\\/50{border-color:rgba(54,65,83,.5)}@supports (color:color-mix(in lab,red,red)){.border-gray-700\\/50{border-color:color-mix(in oklab,var(--color-gray-700)50%,transparent)}}.border-gray-800{border-color:var(--color-gray-800)}.border-green-100{border-color:var(--color-green-100)}.border-green-200{border-color:var(--color-green-200)}.border-green-300{border-color:var(--color-green-300)}.border-green-400{border-color:var(--color-green-400)}.border-green-500{border-color:var(--color-green-500)}.border-green-600{border-color:var(--color-green-600)}.border-hd-orange{border-color:var(--color-hd-orange)}.border-hd-orange\\/5{border-color:rgba(249,99,2,.05)}@supports (color:color-mix(in lab,red,red)){.border-hd-orange\\/5{border-color:color-mix(in oklab,var(--color-hd-orange)5%,transparent)}}.border-hd-orange\\/20{border-color:rgba(249,99,2,.2)}@supports (color:color-mix(in lab,red,red)){.border-hd-orange\\/20{border-color:color-mix(in oklab,var(--color-hd-orange)20%,transparent)}}.border-hd-orange\\/30{border-color:rgba(249,99,2,.3)}@supports (color:color-mix(in lab,red,red)){.border-hd-orange\\/30{border-color:color-mix(in oklab,var(--color-hd-orange)30%,transparent)}}.border-hd-orange\\/50{border-color:rgba(249,99,2,.5)}@supports (color:color-mix(in lab,red,red)){.border-hd-orange\\/50{border-color:color-mix(in oklab,var(--color-hd-orange)50%,transparent)}}.border-indigo-100{border-color:var(--color-indigo-100)}.border-indigo-200{border-color:var(--color-indigo-200)}.border-indigo-500{border-color:var(--color-indigo-500)}.border-orange-100{border-color:var(--color-orange-100)}.border-orange-200{border-color:var(--color-orange-200)}.border-orange-300{border-color:var(--color-orange-300)}.border-orange-400{border-color:var(--color-orange-400)}.border-purple-100{border-color:var(--color-purple-100)}.border-purple-200{border-color:var(--color-purple-200)}.border-purple-300{border-color:var(--color-purple-300)}.border-purple-400{border-color:var(--color-purple-400)}.border-red-100{border-color:var(--color-red-100)}.border-red-200{border-color:var(--color-red-200)}.border-red-400{border-color:var(--color-red-400)}.border-red-500{border-color:var(--color-red-500)}.border-red-500\\/20{border-color:rgba(251,44,54,.2)}@supports (color:color-mix(in lab,red,red)){.border-red-500\\/20{border-color:color-mix(in oklab,var(--color-red-500)20%,transparent)}}.border-red-600{border-color:var(--color-red-600)}.border-slate-100{border-color:var(--color-slate-100)}.border-slate-200{border-color:var(--color-slate-200)}.border-slate-300{border-color:var(--color-slate-300)}.border-transparent{border-color:rgba(0,0,0,0)}.border-white\\/5{border-color:rgba(255,255,255,.05)}@supports (color:color-mix(in lab,red,red)){.border-white\\/5{border-color:color-mix(in oklab,var(--color-white)5%,transparent)}}.border-white\\/10{border-color:rgba(255,255,255,.1)}@supports (color:color-mix(in lab,red,red)){.border-white\\/10{border-color:color-mix(in oklab,var(--color-white)10%,transparent)}}.border-white\\/20{border-color:rgba(255,255,255,.2)}@supports (color:color-mix(in lab,red,red)){.border-white\\/20{border-color:color-mix(in oklab,var(--color-white)20%,transparent)}}.border-white\\/30{border-color:rgba(255,255,255,.3)}@supports (color:color-mix(in lab,red,red)){.border-white\\/30{border-color:color-mix(in oklab,var(--color-white)30%,transparent)}}.border-yellow-100{border-color:var(--color-yellow-100)}.border-yellow-200{border-color:var(--color-yellow-200)}.border-yellow-400{border-color:var(--color-yellow-400)}.border-yellow-500{border-color:var(--color-yellow-500)}.border-zinc-300{border-color:var(--color-zinc-300)}.border-zinc-900{border-color:var(--color-zinc-900)}.border-t-hd-orange{border-top-color:var(--color-hd-orange)}.border-t-white{border-top-color:var(--color-white)}.border-l-\\[\\#F96302\\]{border-left-color:#f96302}.border-l-blue-500{border-left-color:var(--color-blue-500)}.border-l-blue-600{border-left-color:var(--color-blue-600)}.border-l-gray-300{border-left-color:var(--color-gray-300)}.border-l-green-500{border-left-color:var(--color-green-500)}.border-l-hd-orange{border-left-color:var(--color-hd-orange)}.border-l-orange-500{border-left-color:var(--color-orange-500)}.border-l-red-500{border-left-color:var(--color-red-500)}.border-l-transparent{border-left-color:rgba(0,0,0,0)}.bg-\\[\\#F96302\\]{background-color:#f96302}.bg-\\[\\#f0f0f0\\]{background-color:#f0f0f0}.bg-\\[var\\(--bg-card\\)\\]{background-color:var(--bg-card)}.bg-\\[var\\(--bg-main\\)\\],.bg-\\[var\\(--bg-main\\)\\]\\/30{background-color:var(--bg-main)}@supports (color:color-mix(in lab,red,red)){.bg-\\[var\\(--bg-main\\)\\]\\/30{background-color:color-mix(in oklab,var(--bg-main)30%,transparent)}}.bg-\\[var\\(--bg-main\\)\\]\\/50{background-color:var(--bg-main)}@supports (color:color-mix(in lab,red,red)){.bg-\\[var\\(--bg-main\\)\\]\\/50{background-color:color-mix(in oklab,var(--bg-main)50%,transparent)}}.bg-amber-50{background-color:var(--color-amber-50)}.bg-amber-100{background-color:var(--color-amber-100)}.bg-black{background-color:var(--color-black)}.bg-black\\/5{background-color:rgba(0,0,0,.05)}@supports (color:color-mix(in lab,red,red)){.bg-black\\/5{background-color:color-mix(in oklab,var(--color-black)5%,transparent)}}.bg-black\\/10{background-color:rgba(0,0,0,.1)}@supports (color:color-mix(in lab,red,red)){.bg-black\\/10{background-color:color-mix(in oklab,var(--color-black)10%,transparent)}}.bg-black\\/20{background-color:rgba(0,0,0,.2)}@supports (color:color-mix(in lab,red,red)){.bg-black\\/20{background-color:color-mix(in oklab,var(--color-black)20%,transparent)}}.bg-black\\/40{background-color:rgba(0,0,0,.4)}@supports (color:color-mix(in lab,red,red)){.bg-black\\/40{background-color:color-mix(in oklab,var(--color-black)40%,transparent)}}.bg-black\\/50{background-color:rgba(0,0,0,.5)}@supports (color:color-mix(in lab,red,red)){.bg-black\\/50{background-color:color-mix(in oklab,var(--color-black)50%,transparent)}}.bg-black\\/60{background-color:rgba(0,0,0,.6)}@supports (color:color-mix(in lab,red,red)){.bg-black\\/60{background-color:color-mix(in oklab,var(--color-black)60%,transparent)}}.bg-black\\/80{background-color:rgba(0,0,0,.8)}@supports (color:color-mix(in lab,red,red)){.bg-black\\/80{background-color:color-mix(in oklab,var(--color-black)80%,transparent)}}.bg-black\\/90{background-color:rgba(0,0,0,.9)}@supports (color:color-mix(in lab,red,red)){.bg-black\\/90{background-color:color-mix(in oklab,var(--color-black)90%,transparent)}}.bg-blue-50{background-color:var(--color-blue-50)}.bg-blue-50\\/10{background-color:rgba(239,246,255,.1)}@supports (color:color-mix(in lab,red,red)){.bg-blue-50\\/10{background-color:color-mix(in oklab,var(--color-blue-50)10%,transparent)}}.bg-blue-50\\/30{background-color:rgba(239,246,255,.3)}@supports (color:color-mix(in lab,red,red)){.bg-blue-50\\/30{background-color:color-mix(in oklab,var(--color-blue-50)30%,transparent)}}.bg-blue-50\\/50{background-color:rgba(239,246,255,.5)}@supports (color:color-mix(in lab,red,red)){.bg-blue-50\\/50{background-color:color-mix(in oklab,var(--color-blue-50)50%,transparent)}}.bg-blue-100{background-color:var(--color-blue-100)}.bg-blue-100\\/70{background-color:rgba(219,234,254,.7)}@supports (color:color-mix(in lab,red,red)){.bg-blue-100\\/70{background-color:color-mix(in oklab,var(--color-blue-100)70%,transparent)}}.bg-blue-400{background-color:var(--color-blue-400)}.bg-blue-500{background-color:var(--color-blue-500)}.bg-blue-600{background-color:var(--color-blue-600)}.bg-emerald-100{background-color:var(--color-emerald-100)}.bg-emerald-500{background-color:var(--color-emerald-500)}.bg-emerald-500\\/5{background-color:rgba(0,187,127,.05)}@supports (color:color-mix(in lab,red,red)){.bg-emerald-500\\/5{background-color:color-mix(in oklab,var(--color-emerald-500)5%,transparent)}}.bg-emerald-500\\/10{background-color:rgba(0,187,127,.1)}@supports (color:color-mix(in lab,red,red)){.bg-emerald-500\\/10{background-color:color-mix(in oklab,var(--color-emerald-500)10%,transparent)}}.bg-gray-50{background-color:var(--color-gray-50)}.bg-gray-50\\/10{background-color:rgba(249,250,251,.1)}@supports (color:color-mix(in lab,red,red)){.bg-gray-50\\/10{background-color:color-mix(in oklab,var(--color-gray-50)10%,transparent)}}.bg-gray-50\\/30{background-color:rgba(249,250,251,.3)}@supports (color:color-mix(in lab,red,red)){.bg-gray-50\\/30{background-color:color-mix(in oklab,var(--color-gray-50)30%,transparent)}}.bg-gray-50\\/50{background-color:rgba(249,250,251,.5)}@supports (color:color-mix(in lab,red,red)){.bg-gray-50\\/50{background-color:color-mix(in oklab,var(--color-gray-50)50%,transparent)}}.bg-gray-50\\/80{background-color:rgba(249,250,251,.8)}@supports (color:color-mix(in lab,red,red)){.bg-gray-50\\/80{background-color:color-mix(in oklab,var(--color-gray-50)80%,transparent)}}.bg-gray-50\\/95{background-color:rgba(249,250,251,.95)}@supports (color:color-mix(in lab,red,red)){.bg-gray-50\\/95{background-color:color-mix(in oklab,var(--color-gray-50)95%,transparent)}}.bg-gray-100{background-color:var(--color-gray-100)}.bg-gray-100\\/50{background-color:rgba(243,244,246,.5)}@supports (color:color-mix(in lab,red,red)){.bg-gray-100\\/50{background-color:color-mix(in oklab,var(--color-gray-100)50%,transparent)}}.bg-gray-100\\/80{background-color:rgba(243,244,246,.8)}@supports (color:color-mix(in lab,red,red)){.bg-gray-100\\/80{background-color:color-mix(in oklab,var(--color-gray-100)80%,transparent)}}.bg-gray-100\\/90{background-color:rgba(243,244,246,.9)}@supports (color:color-mix(in lab,red,red)){.bg-gray-100\\/90{background-color:color-mix(in oklab,var(--color-gray-100)90%,transparent)}}.bg-gray-200{background-color:var(--color-gray-200)}.bg-gray-200\\/50{background-color:rgba(229,231,235,.5)}@supports (color:color-mix(in lab,red,red)){.bg-gray-200\\/50{background-color:color-mix(in oklab,var(--color-gray-200)50%,transparent)}}.bg-gray-300{background-color:var(--color-gray-300)}.bg-gray-400{background-color:var(--color-gray-400)}.bg-gray-400\\/20{background-color:rgba(153,161,175,.2)}@supports (color:color-mix(in lab,red,red)){.bg-gray-400\\/20{background-color:color-mix(in oklab,var(--color-gray-400)20%,transparent)}}.bg-gray-600{background-color:var(--color-gray-600)}.bg-gray-700{background-color:var(--color-gray-700)}.bg-gray-800{background-color:var(--color-gray-800)}.bg-gray-800\\/40{background-color:rgba(30,41,57,.4)}@supports (color:color-mix(in lab,red,red)){.bg-gray-800\\/40{background-color:color-mix(in oklab,var(--color-gray-800)40%,transparent)}}.bg-gray-900{background-color:var(--color-gray-900)}.bg-green-50{background-color:var(--color-green-50)}.bg-green-50\\/10{background-color:rgba(240,253,244,.1)}@supports (color:color-mix(in lab,red,red)){.bg-green-50\\/10{background-color:color-mix(in oklab,var(--color-green-50)10%,transparent)}}.bg-green-50\\/30{background-color:rgba(240,253,244,.3)}@supports (color:color-mix(in lab,red,red)){.bg-green-50\\/30{background-color:color-mix(in oklab,var(--color-green-50)30%,transparent)}}.bg-green-50\\/50{background-color:rgba(240,253,244,.5)}@supports (color:color-mix(in lab,red,red)){.bg-green-50\\/50{background-color:color-mix(in oklab,var(--color-green-50)50%,transparent)}}.bg-green-100{background-color:var(--color-green-100)}.bg-green-100\\/70{background-color:rgba(220,252,231,.7)}@supports (color:color-mix(in lab,red,red)){.bg-green-100\\/70{background-color:color-mix(in oklab,var(--color-green-100)70%,transparent)}}.bg-green-400{background-color:var(--color-green-400)}.bg-green-500{background-color:var(--color-green-500)}.bg-green-600{background-color:var(--color-green-600)}.bg-hd-black{background-color:var(--color-hd-black)}.bg-hd-black\\/80{background-color:rgba(15,23,42,.8)}@supports (color:color-mix(in lab,red,red)){.bg-hd-black\\/80{background-color:color-mix(in oklab,var(--color-hd-black)80%,transparent)}}.bg-hd-orange{background-color:var(--color-hd-orange)}.bg-hd-orange\\/5{background-color:rgba(249,99,2,.05)}@supports (color:color-mix(in lab,red,red)){.bg-hd-orange\\/5{background-color:color-mix(in oklab,var(--color-hd-orange)5%,transparent)}}.bg-hd-orange\\/10{background-color:rgba(249,99,2,.1)}@supports (color:color-mix(in lab,red,red)){.bg-hd-orange\\/10{background-color:color-mix(in oklab,var(--color-hd-orange)10%,transparent)}}.bg-hd-orange\\/20{background-color:rgba(249,99,2,.2)}@supports (color:color-mix(in lab,red,red)){.bg-hd-orange\\/20{background-color:color-mix(in oklab,var(--color-hd-orange)20%,transparent)}}.bg-indigo-50{background-color:var(--color-indigo-50)}.bg-indigo-100{background-color:var(--color-indigo-100)}.bg-indigo-500{background-color:var(--color-indigo-500)}.bg-indigo-600{background-color:var(--color-indigo-600)}.bg-orange-50{background-color:var(--color-orange-50)}.bg-orange-50\\/10{background-color:rgba(255,247,237,.1)}@supports (color:color-mix(in lab,red,red)){.bg-orange-50\\/10{background-color:color-mix(in oklab,var(--color-orange-50)10%,transparent)}}.bg-orange-50\\/30{background-color:rgba(255,247,237,.3)}@supports (color:color-mix(in lab,red,red)){.bg-orange-50\\/30{background-color:color-mix(in oklab,var(--color-orange-50)30%,transparent)}}.bg-orange-50\\/50{background-color:rgba(255,247,237,.5)}@supports (color:color-mix(in lab,red,red)){.bg-orange-50\\/50{background-color:color-mix(in oklab,var(--color-orange-50)50%,transparent)}}.bg-orange-100{background-color:var(--color-orange-100)}.bg-orange-100\\/50{background-color:rgba(255,237,213,.5)}@supports (color:color-mix(in lab,red,red)){.bg-orange-100\\/50{background-color:color-mix(in oklab,var(--color-orange-100)50%,transparent)}}.bg-orange-100\\/70{background-color:rgba(255,237,213,.7)}@supports (color:color-mix(in lab,red,red)){.bg-orange-100\\/70{background-color:color-mix(in oklab,var(--color-orange-100)70%,transparent)}}.bg-orange-500{background-color:var(--color-orange-500)}.bg-orange-600{background-color:var(--color-orange-600)}.bg-purple-50{background-color:var(--color-purple-50)}.bg-purple-50\\/30{background-color:rgba(250,245,255,.3)}@supports (color:color-mix(in lab,red,red)){.bg-purple-50\\/30{background-color:color-mix(in oklab,var(--color-purple-50)30%,transparent)}}.bg-purple-100{background-color:var(--color-purple-100)}.bg-purple-600{background-color:var(--color-purple-600)}.bg-red-50{background-color:var(--color-red-50)}.bg-red-50\\/30{background-color:rgba(254,242,242,.3)}@supports (color:color-mix(in lab,red,red)){.bg-red-50\\/30{background-color:color-mix(in oklab,var(--color-red-50)30%,transparent)}}.bg-red-100{background-color:var(--color-red-100)}.bg-red-400{background-color:var(--color-red-400)}.bg-red-500{background-color:var(--color-red-500)}.bg-red-500\\/5{background-color:rgba(251,44,54,.05)}@supports (color:color-mix(in lab,red,red)){.bg-red-500\\/5{background-color:color-mix(in oklab,var(--color-red-500)5%,transparent)}}.bg-red-500\\/10{background-color:rgba(251,44,54,.1)}@supports (color:color-mix(in lab,red,red)){.bg-red-500\\/10{background-color:color-mix(in oklab,var(--color-red-500)10%,transparent)}}.bg-red-600{background-color:var(--color-red-600)}.bg-red-600\\/10{background-color:rgba(228,0,20,.1)}@supports (color:color-mix(in lab,red,red)){.bg-red-600\\/10{background-color:color-mix(in oklab,var(--color-red-600)10%,transparent)}}.bg-rose-100{background-color:var(--color-rose-100)}.bg-slate-50{background-color:var(--color-slate-50)}.bg-slate-50\\/50{background-color:rgba(248,250,252,.5)}@supports (color:color-mix(in lab,red,red)){.bg-slate-50\\/50{background-color:color-mix(in oklab,var(--color-slate-50)50%,transparent)}}.bg-slate-50\\/80{background-color:rgba(248,250,252,.8)}@supports (color:color-mix(in lab,red,red)){.bg-slate-50\\/80{background-color:color-mix(in oklab,var(--color-slate-50)80%,transparent)}}.bg-slate-100{background-color:var(--color-slate-100)}.bg-slate-800{background-color:var(--color-slate-800)}.bg-transparent{background-color:rgba(0,0,0,0)}.bg-white{background-color:var(--color-white)}.bg-white\\/10{background-color:rgba(255,255,255,.1)}@supports (color:color-mix(in lab,red,red)){.bg-white\\/10{background-color:color-mix(in oklab,var(--color-white)10%,transparent)}}.bg-white\\/20{background-color:rgba(255,255,255,.2)}@supports (color:color-mix(in lab,red,red)){.bg-white\\/20{background-color:color-mix(in oklab,var(--color-white)20%,transparent)}}.bg-yellow-50{background-color:var(--color-yellow-50)}.bg-yellow-50\\/50{background-color:rgba(254,252,232,.5)}@supports (color:color-mix(in lab,red,red)){.bg-yellow-50\\/50{background-color:color-mix(in oklab,var(--color-yellow-50)50%,transparent)}}.bg-yellow-100{background-color:var(--color-yellow-100)}.bg-yellow-500{background-color:var(--color-yellow-500)}.bg-zinc-200{background-color:var(--color-zinc-200)}.bg-zinc-800{background-color:var(--color-zinc-800)}.bg-zinc-800\\/50{background-color:rgba(39,39,42,.5)}@supports (color:color-mix(in lab,red,red)){.bg-zinc-800\\/50{background-color:color-mix(in oklab,var(--color-zinc-800)50%,transparent)}}.bg-zinc-900\\/80{background-color:rgba(24,24,27,.8)}@supports (color:color-mix(in lab,red,red)){.bg-zinc-900\\/80{background-color:color-mix(in oklab,var(--color-zinc-900)80%,transparent)}}.bg-gradient-to-br{--tw-gradient-position:to bottom right in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.bg-gradient-to-r{--tw-gradient-position:to right in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.from-\\[var\\(--bg-main\\)\\]{--tw-gradient-from:var(--bg-main);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-\\[var\\(--border-color\\)\\]{--tw-gradient-from:var(--border-color);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-blue-600{--tw-gradient-from:var(--color-blue-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-gray-50{--tw-gradient-from:var(--color-gray-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-green-100{--tw-gradient-from:var(--color-green-100);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-green-600{--tw-gradient-from:var(--color-green-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-hd-orange{--tw-gradient-from:var(--color-hd-orange);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-hd-orange\\/10{--tw-gradient-from:#f963021a}@supports (color:color-mix(in lab,red,red)){.from-hd-orange\\/10{--tw-gradient-from:color-mix(in oklab,var(--color-hd-orange)10%,transparent)}}.from-hd-orange\\/10{--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-orange-500{--tw-gradient-from:var(--color-orange-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-purple-600{--tw-gradient-from:var(--color-purple-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-\\[var\\(--bg-card\\)\\]{--tw-gradient-to:var(--bg-card);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-blue-700{--tw-gradient-to:var(--color-blue-700);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-gray-100{--tw-gradient-to:var(--color-gray-100);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-green-50{--tw-gradient-to:var(--color-green-50);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-green-700{--tw-gradient-to:var(--color-green-700);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-orange-500{--tw-gradient-to:var(--color-orange-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-orange-600{--tw-gradient-to:var(--color-orange-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-purple-700{--tw-gradient-to:var(--color-purple-700);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-transparent{--tw-gradient-to:transparent;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.stroke-\\[1\\.5\\]{stroke-width:1.5px}.stroke-\\[2\\]{stroke-width:2px}.object-contain{object-fit:contain}.object-cover{object-fit:cover}.p-0{padding:calc(var(--spacing)*0)}.p-0\\.5{padding:calc(var(--spacing)*.5)}.p-1{padding:calc(var(--spacing)*1)}.p-1\\.5{padding:calc(var(--spacing)*1.5)}.p-2{padding:calc(var(--spacing)*2)}.p-2\\.5{padding:calc(var(--spacing)*2.5)}.p-3{padding:calc(var(--spacing)*3)}.p-4{padding:calc(var(--spacing)*4)}.p-5{padding:calc(var(--spacing)*5)}.p-6{padding:calc(var(--spacing)*6)}.p-8{padding:calc(var(--spacing)*8)}.p-10{padding:calc(var(--spacing)*10)}.p-12{padding:calc(var(--spacing)*12)}.px-0{padding-inline:calc(var(--spacing)*0)}.px-1{padding-inline:calc(var(--spacing)*1)}.px-1\\.5{padding-inline:calc(var(--spacing)*1.5)}.px-2{padding-inline:calc(var(--spacing)*2)}.px-2\\.5{padding-inline:calc(var(--spacing)*2.5)}.px-3{padding-inline:calc(var(--spacing)*3)}.px-4{padding-inline:calc(var(--spacing)*4)}.px-5{padding-inline:calc(var(--spacing)*5)}.px-6{padding-inline:calc(var(--spacing)*6)}.px-8{padding-inline:calc(var(--spacing)*8)}.py-0{padding-block:calc(var(--spacing)*0)}.py-0\\.5{padding-block:calc(var(--spacing)*.5)}.py-1{padding-block:calc(var(--spacing)*1)}.py-1\\.5{padding-block:calc(var(--spacing)*1.5)}.py-2{padding-block:calc(var(--spacing)*2)}.py-2\\.5{padding-block:calc(var(--spacing)*2.5)}.py-3{padding-block:calc(var(--spacing)*3)}.py-3\\.5{padding-block:calc(var(--spacing)*3.5)}.py-4{padding-block:calc(var(--spacing)*4)}.py-6{padding-block:calc(var(--spacing)*6)}.py-8{padding-block:calc(var(--spacing)*8)}.py-10{padding-block:calc(var(--spacing)*10)}.py-12{padding-block:calc(var(--spacing)*12)}.py-20{padding-block:calc(var(--spacing)*20)}.pt-0{padding-top:calc(var(--spacing)*0)}.pt-1{padding-top:calc(var(--spacing)*1)}.pt-1\\.5{padding-top:calc(var(--spacing)*1.5)}.pt-2{padding-top:calc(var(--spacing)*2)}.pt-4{padding-top:calc(var(--spacing)*4)}.pt-6{padding-top:calc(var(--spacing)*6)}.pt-8{padding-top:calc(var(--spacing)*8)}.pt-12{padding-top:calc(var(--spacing)*12)}.pt-20{padding-top:calc(var(--spacing)*20)}.pr-1{padding-right:calc(var(--spacing)*1)}.pr-2{padding-right:calc(var(--spacing)*2)}.pr-3{padding-right:calc(var(--spacing)*3)}.pr-4{padding-right:calc(var(--spacing)*4)}.pr-6{padding-right:calc(var(--spacing)*6)}.pr-8{padding-right:calc(var(--spacing)*8)}.pr-10{padding-right:calc(var(--spacing)*10)}.pr-12{padding-right:calc(var(--spacing)*12)}.pb-0\\.5{padding-bottom:calc(var(--spacing)*.5)}.pb-1{padding-bottom:calc(var(--spacing)*1)}.pb-2{padding-bottom:calc(var(--spacing)*2)}.pb-3{padding-bottom:calc(var(--spacing)*3)}.pb-4{padding-bottom:calc(var(--spacing)*4)}.pb-6{padding-bottom:calc(var(--spacing)*6)}.pb-8{padding-bottom:calc(var(--spacing)*8)}.pb-10{padding-bottom:calc(var(--spacing)*10)}.pb-20{padding-bottom:calc(var(--spacing)*20)}.pb-24{padding-bottom:calc(var(--spacing)*24)}.pl-1{padding-left:calc(var(--spacing)*1)}.pl-2{padding-left:calc(var(--spacing)*2)}.pl-3{padding-left:calc(var(--spacing)*3)}.pl-4{padding-left:calc(var(--spacing)*4)}.pl-7{padding-left:calc(var(--spacing)*7)}.pl-8{padding-left:calc(var(--spacing)*8)}.pl-9{padding-left:calc(var(--spacing)*9)}.pl-10{padding-left:calc(var(--spacing)*10)}.pl-12{padding-left:calc(var(--spacing)*12)}.pl-14{padding-left:calc(var(--spacing)*14)}.pl-20{padding-left:calc(var(--spacing)*20)}.text-center{text-align:center}.text-left{text-align:left}.text-right{text-align:right}.align-middle{vertical-align:middle}.font-mono{font-family:var(--font-mono)}.font-sans{font-family:var(--font-sans)}.text-2xl{font-size:var(--text-2xl);line-height:var(--tw-leading,var(--text-2xl--line-height))}.text-3xl{font-size:var(--text-3xl);line-height:var(--tw-leading,var(--text-3xl--line-height))}.text-4xl{font-size:var(--text-4xl);line-height:var(--tw-leading,var(--text-4xl--line-height))}.text-base{font-size:var(--text-base);line-height:var(--tw-leading,var(--text-base--line-height))}.text-lg{font-size:var(--text-lg);line-height:var(--tw-leading,var(--text-lg--line-height))}.text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.text-xl{font-size:var(--text-xl);line-height:var(--tw-leading,var(--text-xl--line-height))}.text-xs{font-size:var(--text-xs);line-height:var(--tw-leading,var(--text-xs--line-height))}.text-\\[8px\\]{font-size:8px}.text-\\[9px\\]{font-size:9px}.text-\\[10px\\]{font-size:10px}.text-\\[11px\\]{font-size:11px}.leading-5{--tw-leading:calc(var(--spacing)*5);line-height:calc(var(--spacing)*5)}.leading-none{--tw-leading:1;line-height:1}.leading-relaxed{--tw-leading:var(--leading-relaxed);line-height:var(--leading-relaxed)}.leading-tight{--tw-leading:var(--leading-tight);line-height:var(--leading-tight)}.font-black{--tw-font-weight:var(--font-weight-black);font-weight:var(--font-weight-black)}.font-bold{--tw-font-weight:var(--font-weight-bold);font-weight:var(--font-weight-bold)}.font-extrabold{--tw-font-weight:var(--font-weight-extrabold);font-weight:var(--font-weight-extrabold)}.font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.font-normal{--tw-font-weight:var(--font-weight-normal);font-weight:var(--font-weight-normal)}.font-semibold{--tw-font-weight:var(--font-weight-semibold);font-weight:var(--font-weight-semibold)}.tracking-\\[0\\.2em\\]{--tw-tracking:.2em;letter-spacing:.2em}.tracking-\\[0\\.3em\\]{--tw-tracking:.3em;letter-spacing:.3em}.tracking-\\[0\\.4em\\]{--tw-tracking:.4em;letter-spacing:.4em}.tracking-\\[0\\.5em\\]{--tw-tracking:.5em;letter-spacing:.5em}.tracking-tight{--tw-tracking:var(--tracking-tight);letter-spacing:var(--tracking-tight)}.tracking-tighter{--tw-tracking:var(--tracking-tighter);letter-spacing:var(--tracking-tighter)}.tracking-wide{--tw-tracking:var(--tracking-wide);letter-spacing:var(--tracking-wide)}.tracking-wider{--tw-tracking:var(--tracking-wider);letter-spacing:var(--tracking-wider)}.tracking-widest{--tw-tracking:var(--tracking-widest);letter-spacing:var(--tracking-widest)}.text-nowrap{text-wrap:nowrap}.whitespace-nowrap{white-space:nowrap}.whitespace-pre-wrap{white-space:pre-wrap}.text-\\[\\#F96302\\]{color:#f96302}.text-\\[var\\(--text-main\\)\\]{color:var(--text-main)}.text-\\[var\\(--text-muted\\)\\]{color:var(--text-muted)}.text-amber-500{color:var(--color-amber-500)}.text-amber-600{color:var(--color-amber-600)}.text-amber-700{color:var(--color-amber-700)}.text-amber-800{color:var(--color-amber-800)}.text-black{color:var(--color-black)}.text-blue-100{color:var(--color-blue-100)}.text-blue-200{color:var(--color-blue-200)}.text-blue-400{color:var(--color-blue-400)}.text-blue-500{color:var(--color-blue-500)}.text-blue-600{color:var(--color-blue-600)}.text-blue-700{color:var(--color-blue-700)}.text-blue-800{color:var(--color-blue-800)}.text-blue-900{color:var(--color-blue-900)}.text-emerald-500{color:var(--color-emerald-500)}.text-emerald-600{color:var(--color-emerald-600)}.text-emerald-800{color:var(--color-emerald-800)}.text-gray-100{color:var(--color-gray-100)}.text-gray-200{color:var(--color-gray-200)}.text-gray-300{color:var(--color-gray-300)}.text-gray-400{color:var(--color-gray-400)}.text-gray-500{color:var(--color-gray-500)}.text-gray-600{color:var(--color-gray-600)}.text-gray-700{color:var(--color-gray-700)}.text-gray-800{color:var(--color-gray-800)}.text-gray-900{color:var(--color-gray-900)}.text-gray-950{color:var(--color-gray-950)}.text-green-100{color:var(--color-green-100)}.text-green-200{color:var(--color-green-200)}.text-green-400{color:var(--color-green-400)}.text-green-500{color:var(--color-green-500)}.text-green-600{color:var(--color-green-600)}.text-green-700{color:var(--color-green-700)}.text-green-800{color:var(--color-green-800)}.text-green-900{color:var(--color-green-900)}.text-hd-black{color:var(--color-hd-black)}.text-hd-orange{color:var(--color-hd-orange)}.text-indigo-500{color:var(--color-indigo-500)}.text-indigo-600{color:var(--color-indigo-600)}.text-indigo-700{color:var(--color-indigo-700)}.text-indigo-800{color:var(--color-indigo-800)}.text-orange-100{color:var(--color-orange-100)}.text-orange-200{color:var(--color-orange-200)}.text-orange-400{color:var(--color-orange-400)}.text-orange-600{color:var(--color-orange-600)}.text-orange-700{color:var(--color-orange-700)}.text-orange-800{color:var(--color-orange-800)}.text-orange-900{color:var(--color-orange-900)}.text-purple-100{color:var(--color-purple-100)}.text-purple-200{color:var(--color-purple-200)}.text-purple-600{color:var(--color-purple-600)}.text-purple-700{color:var(--color-purple-700)}.text-purple-800{color:var(--color-purple-800)}.text-red-400{color:var(--color-red-400)}.text-red-500{color:var(--color-red-500)}.text-red-600{color:var(--color-red-600)}.text-red-700{color:var(--color-red-700)}.text-red-800{color:var(--color-red-800)}.text-red-900{color:var(--color-red-900)}.text-rose-500{color:var(--color-rose-500)}.text-rose-600{color:var(--color-rose-600)}.text-rose-800{color:var(--color-rose-800)}.text-slate-400{color:var(--color-slate-400)}.text-slate-500{color:var(--color-slate-500)}.text-slate-600{color:var(--color-slate-600)}.text-slate-700{color:var(--color-slate-700)}.text-slate-800{color:var(--color-slate-800)}.text-slate-900{color:var(--color-slate-900)}.text-transparent{color:rgba(0,0,0,0)}.text-white{color:var(--color-white)}.text-white\\/80{color:rgba(255,255,255,.8)}@supports (color:color-mix(in lab,red,red)){.text-white\\/80{color:color-mix(in oklab,var(--color-white)80%,transparent)}}.text-yellow-300{color:var(--color-yellow-300)}.text-yellow-600{color:var(--color-yellow-600)}.text-yellow-700{color:var(--color-yellow-700)}.text-yellow-800{color:var(--color-yellow-800)}.text-yellow-900{color:var(--color-yellow-900)}.text-zinc-400{color:var(--color-zinc-400)}.text-zinc-500{color:var(--color-zinc-500)}.text-zinc-600{color:var(--color-zinc-600)}.text-zinc-900{color:var(--color-zinc-900)}.lowercase{text-transform:lowercase}.uppercase{text-transform:uppercase}.italic{font-style:italic}.line-through{text-decoration-line:line-through}.underline{text-decoration-line:underline}.placeholder-\\[var\\(--text-muted\\)\\]::placeholder{color:var(--text-muted)}.accent-hd-orange{accent-color:var(--color-hd-orange)}.opacity-0{opacity:0}.opacity-10{opacity:.1}.opacity-20{opacity:.2}.opacity-30{opacity:.3}.opacity-40{opacity:.4}.opacity-50{opacity:.5}.opacity-60{opacity:.6}.opacity-70{opacity:.7}.opacity-75{opacity:.75}.opacity-80{opacity:.8}.opacity-90{opacity:.9}.opacity-100{opacity:1}.shadow{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-2xl{--tw-shadow:0 25px 50px -12px var(--tw-shadow-color,#00000040);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-\\[0_-10px_20px_rgba\\(0\\,0\\,0\\,0\\.02\\)\\]{--tw-shadow:0 -10px 20px var(--tw-shadow-color,#00000005);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-\\[0_4px_12px_rgba\\(0\\,0\\,0\\,0\\.15\\)\\]{--tw-shadow:0 4px 12px var(--tw-shadow-color,#00000026);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-\\[0_10px_40px_rgba\\(0\\,0\\,0\\,0\\.1\\)\\]{--tw-shadow:0 10px 40px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-inner{--tw-shadow:inset 0 2px 4px 0 var(--tw-shadow-color,#0000000d);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px var(--tw-shadow-color,#0000001a),0 2px 4px -2px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-none{--tw-shadow:0 0 #0000;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px var(--tw-shadow-color,#0000001a),0 8px 10px -6px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-1{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-2{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-gray-400\\/20{--tw-shadow-color:#99a1af33}@supports (color:color-mix(in lab,red,red)){.shadow-gray-400\\/20{--tw-shadow-color:color-mix(in oklab,color-mix(in oklab,var(--color-gray-400)20%,transparent)var(--tw-shadow-alpha),transparent)}}.shadow-hd-orange\\/5{--tw-shadow-color:#f963020d}@supports (color:color-mix(in lab,red,red)){.shadow-hd-orange\\/5{--tw-shadow-color:color-mix(in oklab,color-mix(in oklab,var(--color-hd-orange)5%,transparent)var(--tw-shadow-alpha),transparent)}}.shadow-hd-orange\\/10{--tw-shadow-color:#f963021a}@supports (color:color-mix(in lab,red,red)){.shadow-hd-orange\\/10{--tw-shadow-color:color-mix(in oklab,color-mix(in oklab,var(--color-hd-orange)10%,transparent)var(--tw-shadow-alpha),transparent)}}.shadow-hd-orange\\/20{--tw-shadow-color:#f9630233}@supports (color:color-mix(in lab,red,red)){.shadow-hd-orange\\/20{--tw-shadow-color:color-mix(in oklab,color-mix(in oklab,var(--color-hd-orange)20%,transparent)var(--tw-shadow-alpha),transparent)}}.shadow-orange-500\\/20{--tw-shadow-color:#fe6e0033}@supports (color:color-mix(in lab,red,red)){.shadow-orange-500\\/20{--tw-shadow-color:color-mix(in oklab,color-mix(in oklab,var(--color-orange-500)20%,transparent)var(--tw-shadow-alpha),transparent)}}.ring-black\\/5{--tw-ring-color:#0000000d}@supports (color:color-mix(in lab,red,red)){.ring-black\\/5{--tw-ring-color:color-mix(in oklab,var(--color-black)5%,transparent)}}.ring-green-100{--tw-ring-color:var(--color-green-100)}.ring-hd-orange{--tw-ring-color:var(--color-hd-orange)}.ring-hd-orange\\/20{--tw-ring-color:#f9630233}@supports (color:color-mix(in lab,red,red)){.ring-hd-orange\\/20{--tw-ring-color:color-mix(in oklab,var(--color-hd-orange)20%,transparent)}}.ring-red-400{--tw-ring-color:var(--color-red-400)}.ring-offset-white{--tw-ring-offset-color:var(--color-white)}.outline{outline-style:var(--tw-outline-style);outline-width:1px}.outline-2{outline-style:var(--tw-outline-style);outline-width:2px}.outline-hd-orange\\/20{outline-color:rgba(249,99,2,.2)}@supports (color:color-mix(in lab,red,red)){.outline-hd-orange\\/20{outline-color:color-mix(in oklab,var(--color-hd-orange)20%,transparent)}}.blur{--tw-blur:blur(8px);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.blur-\\[120px\\]{--tw-blur:blur(120px);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.blur-lg{--tw-blur:blur(var(--blur-lg));filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.grayscale{--tw-grayscale:grayscale(100%);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.filter{filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.backdrop-blur{--tw-backdrop-blur:blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.backdrop-blur-md{--tw-backdrop-blur:blur(var(--blur-md));-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.backdrop-blur-sm{--tw-backdrop-blur:blur(var(--blur-sm));-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.backdrop-blur-xl{--tw-backdrop-blur:blur(var(--blur-xl));-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-opacity{transition-property:opacity;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-shadow{transition-property:box-shadow;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-transform{transition-property:transform,translate,scale,rotate;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.duration-150{--tw-duration:.15s;transition-duration:.15s}.duration-200{--tw-duration:.2s;transition-duration:.2s}.duration-300{--tw-duration:.3s;transition-duration:.3s}.duration-500{--tw-duration:.5s;transition-duration:.5s}.ease-in{--tw-ease:var(--ease-in);transition-timing-function:var(--ease-in)}.outline-dashed{--tw-outline-style:dashed;outline-style:dashed}.outline-none{--tw-outline-style:none;outline-style:none}.select-none{-webkit-user-select:none;user-select:none}.group-focus-within\\:text-blue-700:is(:where(.group):focus-within *){color:var(--color-blue-700)}.group-focus-within\\:text-hd-orange:is(:where(.group):focus-within *){color:var(--color-hd-orange)}.group-focus-within\\:opacity-100:is(:where(.group):focus-within *){opacity:1}@media(hover:hover){.group-hover\\:block:is(:where(.group):hover *){display:block}.group-hover\\:translate-x-1:is(:where(.group):hover *){--tw-translate-x:calc(var(--spacing)*1);translate:var(--tw-translate-x)var(--tw-translate-y)}.group-hover\\:scale-110:is(:where(.group):hover *){--tw-scale-x:110%;--tw-scale-y:110%;--tw-scale-z:110%;scale:var(--tw-scale-x)var(--tw-scale-y)}.group-hover\\:rotate-12:is(:where(.group):hover *){rotate:12deg}.group-hover\\:rotate-90:is(:where(.group):hover *){rotate:90deg}.group-hover\\:animate-bounce:is(:where(.group):hover *){animation:var(--animate-bounce)}.group-hover\\:bg-hd-orange:is(:where(.group):hover *){background-color:var(--color-hd-orange)}.group-hover\\:text-gray-500:is(:where(.group):hover *){color:var(--color-gray-500)}.group-hover\\:text-gray-600:is(:where(.group):hover *){color:var(--color-gray-600)}.group-hover\\:text-gray-900:is(:where(.group):hover *){color:var(--color-gray-900)}.group-hover\\:text-hd-orange:is(:where(.group):hover *){color:var(--color-hd-orange)}.group-hover\\:text-indigo-600:is(:where(.group):hover *){color:var(--color-indigo-600)}.group-hover\\:text-white:is(:where(.group):hover *){color:var(--color-white)}.group-hover\\:opacity-100:is(:where(.group):hover *){opacity:1}.group-hover\\/btn\\:-translate-y-0\\.5:is(:where(.group\\/btn):hover *){--tw-translate-y:calc(var(--spacing)*-.5);translate:var(--tw-translate-x)var(--tw-translate-y)}.group-hover\\/head\\:opacity-100:is(:where(.group\\/head):hover *){opacity:1}.group-hover\\/item\\:text-black:is(:where(.group\\/item):hover *){color:var(--color-black)}.group-hover\\/key\\:rotate-12:is(:where(.group\\/key):hover *){rotate:12deg}.group-hover\\/resizer\\:opacity-100:is(:where(.group\\/resizer):hover *){opacity:1}}.placeholder\\:text-gray-400::placeholder{color:var(--color-gray-400)}.placeholder\\:text-gray-500::placeholder{color:var(--color-gray-500)}.placeholder\\:text-zinc-700::placeholder{color:var(--color-zinc-700)}.last\\:border-0:last-child{border-style:var(--tw-border-style);border-width:0}.last\\:border-r-0:last-child{border-right-style:var(--tw-border-style);border-right-width:0}.last\\:pb-0:last-child{padding-bottom:calc(var(--spacing)*0)}.checked\\:right-0:checked{right:calc(var(--spacing)*0)}@media(hover:hover){.hover\\:-translate-y-0\\.5:hover{--tw-translate-y:calc(var(--spacing)*-.5);translate:var(--tw-translate-x)var(--tw-translate-y)}.hover\\:-translate-y-1:hover{--tw-translate-y:calc(var(--spacing)*-1);translate:var(--tw-translate-x)var(--tw-translate-y)}.hover\\:scale-100:hover{--tw-scale-x:100%;--tw-scale-y:100%;--tw-scale-z:100%;scale:var(--tw-scale-x)var(--tw-scale-y)}.hover\\:scale-110:hover{--tw-scale-x:110%;--tw-scale-y:110%;--tw-scale-z:110%;scale:var(--tw-scale-x)var(--tw-scale-y)}.hover\\:scale-\\[1\\.02\\]:hover{scale:1.02}.hover\\:border-\\[var\\(--border-color\\)\\]\\/80:hover{border-color:var(--border-color)}@supports (color:color-mix(in lab,red,red)){.hover\\:border-\\[var\\(--border-color\\)\\]\\/80:hover{border-color:color-mix(in oklab,var(--border-color)80%,transparent)}}.hover\\:border-amber-500:hover{border-color:var(--color-amber-500)}.hover\\:border-blue-200:hover{border-color:var(--color-blue-200)}.hover\\:border-blue-300:hover{border-color:var(--color-blue-300)}.hover\\:border-emerald-500\\/30:hover{border-color:rgba(0,187,127,.3)}@supports (color:color-mix(in lab,red,red)){.hover\\:border-emerald-500\\/30:hover{border-color:color-mix(in oklab,var(--color-emerald-500)30%,transparent)}}.hover\\:border-gray-100:hover{border-color:var(--color-gray-100)}.hover\\:border-gray-200:hover{border-color:var(--color-gray-200)}.hover\\:border-gray-300:hover{border-color:var(--color-gray-300)}.hover\\:border-gray-500:hover{border-color:var(--color-gray-500)}.hover\\:border-green-200:hover{border-color:var(--color-green-200)}.hover\\:border-green-500:hover{border-color:var(--color-green-500)}.hover\\:border-hd-orange:hover{border-color:var(--color-hd-orange)}.hover\\:border-hd-orange\\/30:hover{border-color:rgba(249,99,2,.3)}@supports (color:color-mix(in lab,red,red)){.hover\\:border-hd-orange\\/30:hover{border-color:color-mix(in oklab,var(--color-hd-orange)30%,transparent)}}.hover\\:border-hd-orange\\/50:hover{border-color:rgba(249,99,2,.5)}@supports (color:color-mix(in lab,red,red)){.hover\\:border-hd-orange\\/50:hover{border-color:color-mix(in oklab,var(--color-hd-orange)50%,transparent)}}.hover\\:border-indigo-200:hover{border-color:var(--color-indigo-200)}.hover\\:border-indigo-300:hover{border-color:var(--color-indigo-300)}.hover\\:border-orange-200:hover{border-color:var(--color-orange-200)}.hover\\:border-purple-200:hover{border-color:var(--color-purple-200)}.hover\\:border-red-200:hover{border-color:var(--color-red-200)}.hover\\:border-red-500:hover{border-color:var(--color-red-500)}.hover\\:bg-\\[\\#EDEBE9\\]:hover{background-color:#edebe9}.hover\\:bg-\\[\\#d85502\\]:hover{background-color:#d85502}.hover\\:bg-\\[var\\(--bg-card\\)\\]:hover{background-color:var(--bg-card)}.hover\\:bg-\\[var\\(--bg-main\\)\\]:hover,.hover\\:bg-\\[var\\(--bg-main\\)\\]\\/80:hover{background-color:var(--bg-main)}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-\\[var\\(--bg-main\\)\\]\\/80:hover{background-color:color-mix(in oklab,var(--bg-main)80%,transparent)}}.hover\\:bg-\\[var\\(--text-main\\)\\]:hover{background-color:var(--text-main)}.hover\\:bg-black:hover{background-color:var(--color-black)}.hover\\:bg-black\\/5:hover{background-color:rgba(0,0,0,.05)}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-black\\/5:hover{background-color:color-mix(in oklab,var(--color-black)5%,transparent)}}.hover\\:bg-blue-50:hover{background-color:var(--color-blue-50)}.hover\\:bg-blue-50\\/20:hover{background-color:rgba(239,246,255,.2)}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-blue-50\\/20:hover{background-color:color-mix(in oklab,var(--color-blue-50)20%,transparent)}}.hover\\:bg-blue-50\\/30:hover{background-color:rgba(239,246,255,.3)}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-blue-50\\/30:hover{background-color:color-mix(in oklab,var(--color-blue-50)30%,transparent)}}.hover\\:bg-blue-50\\/50:hover{background-color:rgba(239,246,255,.5)}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-blue-50\\/50:hover{background-color:color-mix(in oklab,var(--color-blue-50)50%,transparent)}}.hover\\:bg-blue-100:hover{background-color:var(--color-blue-100)}.hover\\:bg-blue-100\\/50:hover{background-color:rgba(219,234,254,.5)}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-blue-100\\/50:hover{background-color:color-mix(in oklab,var(--color-blue-100)50%,transparent)}}.hover\\:bg-blue-600:hover{background-color:var(--color-blue-600)}.hover\\:bg-blue-700:hover{background-color:var(--color-blue-700)}.hover\\:bg-gray-50:hover{background-color:var(--color-gray-50)}.hover\\:bg-gray-50\\/50:hover{background-color:rgba(249,250,251,.5)}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-gray-50\\/50:hover{background-color:color-mix(in oklab,var(--color-gray-50)50%,transparent)}}.hover\\:bg-gray-50\\/80:hover{background-color:rgba(249,250,251,.8)}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-gray-50\\/80:hover{background-color:color-mix(in oklab,var(--color-gray-50)80%,transparent)}}.hover\\:bg-gray-100:hover{background-color:var(--color-gray-100)}.hover\\:bg-gray-100\\/50:hover{background-color:rgba(243,244,246,.5)}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-gray-100\\/50:hover{background-color:color-mix(in oklab,var(--color-gray-100)50%,transparent)}}.hover\\:bg-gray-200:hover{background-color:var(--color-gray-200)}.hover\\:bg-gray-200\\/50:hover{background-color:rgba(229,231,235,.5)}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-gray-200\\/50:hover{background-color:color-mix(in oklab,var(--color-gray-200)50%,transparent)}}.hover\\:bg-gray-300:hover{background-color:var(--color-gray-300)}.hover\\:bg-gray-800:hover{background-color:var(--color-gray-800)}.hover\\:bg-gray-900:hover{background-color:var(--color-gray-900)}.hover\\:bg-green-50:hover{background-color:var(--color-green-50)}.hover\\:bg-green-100:hover{background-color:var(--color-green-100)}.hover\\:bg-green-700:hover{background-color:var(--color-green-700)}.hover\\:bg-hd-orange:hover{background-color:var(--color-hd-orange)}.hover\\:bg-hd-orange\\/10:hover{background-color:rgba(249,99,2,.1)}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-hd-orange\\/10:hover{background-color:color-mix(in oklab,var(--color-hd-orange)10%,transparent)}}.hover\\:bg-indigo-50:hover{background-color:var(--color-indigo-50)}.hover\\:bg-indigo-50\\/20:hover{background-color:rgba(238,242,255,.2)}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-indigo-50\\/20:hover{background-color:color-mix(in oklab,var(--color-indigo-50)20%,transparent)}}.hover\\:bg-indigo-100:hover{background-color:var(--color-indigo-100)}.hover\\:bg-indigo-700:hover{background-color:var(--color-indigo-700)}.hover\\:bg-orange-50:hover{background-color:var(--color-orange-50)}.hover\\:bg-orange-50\\/30:hover{background-color:rgba(255,247,237,.3)}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-orange-50\\/30:hover{background-color:color-mix(in oklab,var(--color-orange-50)30%,transparent)}}.hover\\:bg-orange-50\\/50:hover{background-color:rgba(255,247,237,.5)}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-orange-50\\/50:hover{background-color:color-mix(in oklab,var(--color-orange-50)50%,transparent)}}.hover\\:bg-orange-100:hover{background-color:var(--color-orange-100)}.hover\\:bg-orange-600:hover{background-color:var(--color-orange-600)}.hover\\:bg-orange-700:hover{background-color:var(--color-orange-700)}.hover\\:bg-purple-50:hover{background-color:var(--color-purple-50)}.hover\\:bg-purple-700:hover{background-color:var(--color-purple-700)}.hover\\:bg-red-50:hover{background-color:var(--color-red-50)}.hover\\:bg-red-50\\/20:hover{background-color:rgba(254,242,242,.2)}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-red-50\\/20:hover{background-color:color-mix(in oklab,var(--color-red-50)20%,transparent)}}.hover\\:bg-red-50\\/50:hover{background-color:rgba(254,242,242,.5)}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-red-50\\/50:hover{background-color:color-mix(in oklab,var(--color-red-50)50%,transparent)}}.hover\\:bg-red-100:hover{background-color:var(--color-red-100)}.hover\\:bg-red-600\\/20:hover{background-color:rgba(228,0,20,.2)}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-red-600\\/20:hover{background-color:color-mix(in oklab,var(--color-red-600)20%,transparent)}}.hover\\:bg-red-700:hover{background-color:var(--color-red-700)}.hover\\:bg-slate-50:hover{background-color:var(--color-slate-50)}.hover\\:bg-slate-50\\/50:hover{background-color:rgba(248,250,252,.5)}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-slate-50\\/50:hover{background-color:color-mix(in oklab,var(--color-slate-50)50%,transparent)}}.hover\\:bg-slate-200:hover{background-color:var(--color-slate-200)}.hover\\:bg-slate-700:hover{background-color:var(--color-slate-700)}.hover\\:bg-white:hover{background-color:var(--color-white)}.hover\\:bg-white\\/5:hover{background-color:rgba(255,255,255,.05)}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-white\\/5:hover{background-color:color-mix(in oklab,var(--color-white)5%,transparent)}}.hover\\:bg-white\\/10:hover{background-color:rgba(255,255,255,.1)}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-white\\/10:hover{background-color:color-mix(in oklab,var(--color-white)10%,transparent)}}.hover\\:bg-white\\/20:hover{background-color:rgba(255,255,255,.2)}@supports (color:color-mix(in lab,red,red)){.hover\\:bg-white\\/20:hover{background-color:color-mix(in oklab,var(--color-white)20%,transparent)}}.hover\\:from-orange-600:hover{--tw-gradient-from:var(--color-orange-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.hover\\:to-orange-700:hover{--tw-gradient-to:var(--color-orange-700);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.hover\\:text-\\[\\#F96302\\]:hover{color:#f96302}.hover\\:text-\\[var\\(--bg-main\\)\\]:hover{color:var(--bg-main)}.hover\\:text-\\[var\\(--text-main\\)\\]:hover{color:var(--text-main)}.hover\\:text-blue-600:hover{color:var(--color-blue-600)}.hover\\:text-blue-700:hover{color:var(--color-blue-700)}.hover\\:text-blue-800:hover{color:var(--color-blue-800)}.hover\\:text-gray-200:hover{color:var(--color-gray-200)}.hover\\:text-gray-400:hover{color:var(--color-gray-400)}.hover\\:text-gray-600:hover{color:var(--color-gray-600)}.hover\\:text-gray-700:hover{color:var(--color-gray-700)}.hover\\:text-gray-800:hover{color:var(--color-gray-800)}.hover\\:text-gray-900:hover{color:var(--color-gray-900)}.hover\\:text-green-500:hover{color:var(--color-green-500)}.hover\\:text-green-800:hover{color:var(--color-green-800)}.hover\\:text-hd-orange:hover{color:var(--color-hd-orange)}.hover\\:text-indigo-800:hover{color:var(--color-indigo-800)}.hover\\:text-orange-600:hover{color:var(--color-orange-600)}.hover\\:text-orange-700:hover{color:var(--color-orange-700)}.hover\\:text-purple-800:hover{color:var(--color-purple-800)}.hover\\:text-red-500:hover{color:var(--color-red-500)}.hover\\:text-red-600:hover{color:var(--color-red-600)}.hover\\:text-red-700:hover{color:var(--color-red-700)}.hover\\:text-red-800:hover{color:var(--color-red-800)}.hover\\:text-white:hover{color:var(--color-white)}.hover\\:underline:hover{text-decoration-line:underline}.hover\\:opacity-80:hover{opacity:.8}.hover\\:opacity-100:hover{opacity:1}.hover\\:shadow-2xl:hover{--tw-shadow:0 25px 50px -12px var(--tw-shadow-color,#00000040);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.hover\\:shadow-lg:hover{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.hover\\:shadow-md:hover{--tw-shadow:0 4px 6px -1px var(--tw-shadow-color,#0000001a),0 2px 4px -2px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.hover\\:shadow-sm:hover{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.hover\\:shadow-xl:hover{--tw-shadow:0 20px 25px -5px var(--tw-shadow-color,#0000001a),0 8px 10px -6px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.hover\\:shadow-black\\/5:hover{--tw-shadow-color:#0000000d}@supports (color:color-mix(in lab,red,red)){.hover\\:shadow-black\\/5:hover{--tw-shadow-color:color-mix(in oklab,color-mix(in oklab,var(--color-black)5%,transparent)var(--tw-shadow-alpha),transparent)}}}.focus\\:border-\\[\\#F96302\\]:focus{border-color:#f96302}.focus\\:border-blue-500:focus{border-color:var(--color-blue-500)}.focus\\:border-blue-700:focus{border-color:var(--color-blue-700)}.focus\\:border-hd-orange:focus{border-color:var(--color-hd-orange)}.focus\\:border-hd-orange\\/50:focus{border-color:rgba(249,99,2,.5)}@supports (color:color-mix(in lab,red,red)){.focus\\:border-hd-orange\\/50:focus{border-color:color-mix(in oklab,var(--color-hd-orange)50%,transparent)}}.focus\\:border-indigo-500:focus{border-color:var(--color-indigo-500)}.focus\\:border-orange-300:focus{border-color:var(--color-orange-300)}.focus\\:border-purple-500:focus{border-color:var(--color-purple-500)}.focus\\:border-purple-600:focus{border-color:var(--color-purple-600)}.focus\\:border-transparent:focus{border-color:rgba(0,0,0,0)}.focus\\:bg-white:focus{background-color:var(--color-white)}.focus\\:ring:focus{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus\\:ring-0:focus{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(0px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus\\:ring-1:focus{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus\\:ring-2:focus{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus\\:ring-blue-500:focus{--tw-ring-color:var(--color-blue-500)}.focus\\:ring-blue-600:focus{--tw-ring-color:var(--color-blue-600)}.focus\\:ring-gray-400:focus{--tw-ring-color:var(--color-gray-400)}.focus\\:ring-gray-700:focus{--tw-ring-color:var(--color-gray-700)}.focus\\:ring-green-200:focus{--tw-ring-color:var(--color-green-200)}.focus\\:ring-green-500:focus{--tw-ring-color:var(--color-green-500)}.focus\\:ring-hd-orange:focus{--tw-ring-color:var(--color-hd-orange)}.focus\\:ring-hd-orange\\/20:focus{--tw-ring-color:#f9630233}@supports (color:color-mix(in lab,red,red)){.focus\\:ring-hd-orange\\/20:focus{--tw-ring-color:color-mix(in oklab,var(--color-hd-orange)20%,transparent)}}.focus\\:ring-hd-orange\\/50:focus{--tw-ring-color:#f9630280}@supports (color:color-mix(in lab,red,red)){.focus\\:ring-hd-orange\\/50:focus{--tw-ring-color:color-mix(in oklab,var(--color-hd-orange)50%,transparent)}}.focus\\:ring-indigo-500:focus{--tw-ring-color:var(--color-indigo-500)}.focus\\:ring-orange-100:focus{--tw-ring-color:var(--color-orange-100)}.focus\\:ring-orange-200:focus{--tw-ring-color:var(--color-orange-200)}.focus\\:ring-orange-500:focus{--tw-ring-color:var(--color-orange-500)}.focus\\:ring-purple-500:focus{--tw-ring-color:var(--color-purple-500)}.focus\\:ring-purple-600:focus{--tw-ring-color:var(--color-purple-600)}.focus\\:ring-red-500:focus{--tw-ring-color:var(--color-red-500)}.focus\\:ring-yellow-500:focus{--tw-ring-color:var(--color-yellow-500)}.focus\\:ring-offset-2:focus{--tw-ring-offset-width:2px;--tw-ring-offset-shadow:var(--tw-ring-inset,)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color)}.focus\\:outline-none:focus{--tw-outline-style:none;outline-style:none}.focus-visible\\:ring-1:focus-visible{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus-visible\\:ring-2:focus-visible{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus-visible\\:ring-gray-950:focus-visible{--tw-ring-color:var(--color-gray-950)}.focus-visible\\:ring-offset-2:focus-visible{--tw-ring-offset-width:2px;--tw-ring-offset-shadow:var(--tw-ring-inset,)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color)}.focus-visible\\:outline-none:focus-visible{--tw-outline-style:none;outline-style:none}.active\\:scale-95:active{--tw-scale-x:95%;--tw-scale-y:95%;--tw-scale-z:95%;scale:var(--tw-scale-x)var(--tw-scale-y)}.active\\:scale-\\[0\\.98\\]:active{scale:.98}.active\\:cursor-grabbing:active{cursor:grabbing}.disabled\\:pointer-events-none:disabled{pointer-events:none}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:bg-gray-100:disabled{background-color:var(--color-gray-100)}.disabled\\:opacity-20:disabled{opacity:.2}.disabled\\:opacity-30:disabled{opacity:.3}.disabled\\:opacity-50:disabled{opacity:.5}.data-\\[state\\=open\\]\\:bg-gray-100[data-state=open]{background-color:var(--color-gray-100)}.data-\\[state\\=selected\\]\\:bg-purple-100[data-state=selected]{background-color:var(--color-purple-100)}.data-\\[state\\=selected\\]\\:text-purple-900[data-state=selected]{color:var(--color-purple-900)}@media(min-width:40rem){.sm\\:block{display:block}.sm\\:inline{display:inline}.sm\\:w-48{width:calc(var(--spacing)*48)}.sm\\:w-64{width:calc(var(--spacing)*64)}.sm\\:w-auto{width:auto}.sm\\:max-w-3xl{max-width:var(--container-3xl)}.sm\\:max-w-fit{max-width:fit-content}.sm\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.sm\\:flex-row{flex-direction:row}.sm\\:items-center{align-items:center}.sm\\:justify-end{justify-content:flex-end}.sm\\:gap-0{gap:calc(var(--spacing)*0)}:where(.sm\\:space-y-0>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*0)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*0)*calc(1 - var(--tw-space-y-reverse)))}:where(.sm\\:space-x-2>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing)*2)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--spacing)*2)*calc(1 - var(--tw-space-x-reverse)))}:where(.sm\\:space-x-3>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing)*3)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--spacing)*3)*calc(1 - var(--tw-space-x-reverse)))}.sm\\:p-10{padding:calc(var(--spacing)*10)}.sm\\:text-left{text-align:left}.sm\\:text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.sm\\:opacity-100{opacity:1}}@media(min-width:48rem){.md\\:col-span-1{grid-column:span 1/span 1}.md\\:col-span-2{grid-column:span 2/span 2}.md\\:col-span-3{grid-column:span 3/span 3}.md\\:col-span-4{grid-column:span 4/span 4}.md\\:col-span-5{grid-column:span 5/span 5}.md\\:col-span-7{grid-column:span 7/span 7}.md\\:col-span-8{grid-column:span 8/span 8}.md\\:block{display:block}.md\\:flex{display:flex}.md\\:inline{display:inline}.md\\:table-cell{display:table-cell}.md\\:w-1\\/2{width:50%}.md\\:w-80{width:calc(var(--spacing)*80)}.md\\:w-auto{width:auto}.md\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.md\\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.md\\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.md\\:grid-cols-5{grid-template-columns:repeat(5,minmax(0,1fr))}.md\\:grid-cols-12{grid-template-columns:repeat(12,minmax(0,1fr))}.md\\:flex-row{flex-direction:row}.md\\:items-center{align-items:center}.md\\:self-auto{align-self:auto}.md\\:border-r{border-right-style:var(--tw-border-style);border-right-width:1px}.md\\:border-b-0{border-bottom-style:var(--tw-border-style);border-bottom-width:0}.md\\:p-8{padding:calc(var(--spacing)*8)}.md\\:px-8{padding-inline:calc(var(--spacing)*8)}.md\\:text-4xl{font-size:var(--text-4xl);line-height:var(--tw-leading,var(--text-4xl--line-height))}}@media(min-width:64rem){.lg\\:relative{position:relative}.lg\\:right-auto{right:auto}.lg\\:bottom-auto{bottom:auto}.lg\\:left-auto{left:auto}.lg\\:col-span-1{grid-column:span 1/span 1}.lg\\:col-span-2{grid-column:span 2/span 2}.lg\\:col-span-3{grid-column:span 3/span 3}.lg\\:col-span-4{grid-column:span 4/span 4}.lg\\:col-span-8{grid-column:span 8/span 8}.lg\\:col-span-9{grid-column:span 9/span 9}.lg\\:col-start-1{grid-column-start:1}.lg\\:mt-1{margin-top:calc(var(--spacing)*1)}.lg\\:mb-4{margin-bottom:calc(var(--spacing)*4)}.lg\\:block{display:block}.lg\\:hidden{display:none}.lg\\:table-cell{display:table-cell}.lg\\:h-4{height:calc(var(--spacing)*4)}.lg\\:h-20{height:calc(var(--spacing)*20)}.lg\\:h-auto{height:auto}.lg\\:w-4{width:calc(var(--spacing)*4)}.lg\\:w-10{width:calc(var(--spacing)*10)}.lg\\:w-48{width:calc(var(--spacing)*48)}.lg\\:w-\\[450px\\]{width:450px}.lg\\:w-auto{width:auto}.lg\\:min-w-\\[80px\\]{min-width:80px}.lg\\:flex-none{flex:none}.lg\\:translate-x-0{--tw-translate-x:calc(var(--spacing)*0);translate:var(--tw-translate-x)var(--tw-translate-y)}.lg\\:translate-y-0{--tw-translate-y:calc(var(--spacing)*0);translate:var(--tw-translate-x)var(--tw-translate-y)}.lg\\:scale-100{--tw-scale-x:100%;--tw-scale-y:100%;--tw-scale-z:100%;scale:var(--tw-scale-x)var(--tw-scale-y)}.lg\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.lg\\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.lg\\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.lg\\:grid-cols-12{grid-template-columns:repeat(12,minmax(0,1fr))}.lg\\:flex-col{flex-direction:column}.lg\\:flex-row{flex-direction:row}.lg\\:items-center{align-items:center}.lg\\:items-stretch{align-items:stretch}.lg\\:justify-end{justify-content:flex-end}.lg\\:justify-start{justify-content:flex-start}.lg\\:gap-1{gap:calc(var(--spacing)*1)}.lg\\:gap-2{gap:calc(var(--spacing)*2)}.lg\\:gap-4{gap:calc(var(--spacing)*4)}:where(.lg\\:space-y-2>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*2)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*2)*calc(1 - var(--tw-space-y-reverse)))}:where(.lg\\:space-y-4>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*4)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*4)*calc(1 - var(--tw-space-y-reverse)))}:where(.lg\\:space-x-3>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing)*3)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--spacing)*3)*calc(1 - var(--tw-space-x-reverse)))}.lg\\:rounded-2xl{border-radius:var(--radius-2xl)}.lg\\:rounded-none{border-radius:0}.lg\\:p-4{padding:calc(var(--spacing)*4)}.lg\\:p-6{padding:calc(var(--spacing)*6)}.lg\\:p-8{padding:calc(var(--spacing)*8)}.lg\\:p-12{padding:calc(var(--spacing)*12)}.lg\\:px-3{padding-inline:calc(var(--spacing)*3)}.lg\\:px-4{padding-inline:calc(var(--spacing)*4)}.lg\\:py-1\\.5{padding-block:calc(var(--spacing)*1.5)}.lg\\:py-4{padding-block:calc(var(--spacing)*4)}.lg\\:pb-6{padding-bottom:calc(var(--spacing)*6)}.lg\\:text-left{text-align:left}.lg\\:text-2xl{font-size:var(--text-2xl);line-height:var(--tw-leading,var(--text-2xl--line-height))}.lg\\:text-4xl{font-size:var(--text-4xl);line-height:var(--tw-leading,var(--text-4xl--line-height))}.lg\\:text-lg{font-size:var(--text-lg);line-height:var(--tw-leading,var(--text-lg--line-height))}.lg\\:text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.lg\\:text-xl{font-size:var(--text-xl);line-height:var(--tw-leading,var(--text-xl--line-height))}.lg\\:text-xs{font-size:var(--text-xs);line-height:var(--tw-leading,var(--text-xs--line-height))}.lg\\:text-\\[10px\\]{font-size:10px}.lg\\:whitespace-normal{white-space:normal}}@media(min-width:80rem){.xl\\:col-span-2{grid-column:span 2/span 2}.xl\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.xl\\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.xl\\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}}@media(min-width:96rem){.\\32xl\\:grid-cols-5{grid-template-columns:repeat(5,minmax(0,1fr))}}@media(prefers-color-scheme:dark){.dark\\:border-zinc-600{border-color:var(--color-zinc-600)}.dark\\:bg-zinc-700{background-color:var(--color-zinc-700)}.dark\\:text-gray-100{color:var(--color-gray-100)}}@media print{.print\\:mt-24{margin-top:calc(var(--spacing)*24)}.print\\:block{display:block}.print\\:hidden{display:none}.print\\:p-0{padding:calc(var(--spacing)*0)}}.\\[\\&\\:has\\(\\[role\\=checkbox\\]\\)\\]\\:pr-0:has([role=checkbox]){padding-right:calc(var(--spacing)*0)}}html.theme-original{color:#0f172a;background-color:#f8fafc}html.theme-homeDepot{color:#f8fafc;background-color:#020617}html.theme-soft-dark{color:#e2e8f0;background-color:#0f172a}:root{--hd-orange:#f96302}.theme-soft-dark{--bg-main:#0f172a;--bg-card:#1e293b;--text-main:#f1f5f9;--text-muted:#94a3b8;--border-color:#334155}.theme-original{--bg-main:#f8fafc;--bg-card:#fff;--text-main:#0f172a;--text-muted:#64748b;--border-color:#e2e8f0}@property --tw-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-z{syntax:"*";inherits:false;initial-value:0}@property --tw-scale-x{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-y{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-z{syntax:"*";inherits:false;initial-value:1}@property --tw-rotate-x{syntax:"*";inherits:false}@property --tw-rotate-y{syntax:"*";inherits:false}@property --tw-rotate-z{syntax:"*";inherits:false}@property --tw-skew-x{syntax:"*";inherits:false}@property --tw-skew-y{syntax:"*";inherits:false}@property --tw-space-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-space-x-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-divide-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-gradient-position{syntax:"*";inherits:false}@property --tw-gradient-from{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-via{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-to{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-stops{syntax:"*";inherits:false}@property --tw-gradient-via-stops{syntax:"*";inherits:false}@property --tw-gradient-from-position{syntax:"<length-percentage>";inherits:false;initial-value:0%}@property --tw-gradient-via-position{syntax:"<length-percentage>";inherits:false;initial-value:50%}@property --tw-gradient-to-position{syntax:"<length-percentage>";inherits:false;initial-value:100%}@property --tw-leading{syntax:"*";inherits:false}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-tracking{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-outline-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-blur{syntax:"*";inherits:false}@property --tw-brightness{syntax:"*";inherits:false}@property --tw-contrast{syntax:"*";inherits:false}@property --tw-grayscale{syntax:"*";inherits:false}@property --tw-hue-rotate{syntax:"*";inherits:false}@property --tw-invert{syntax:"*";inherits:false}@property --tw-opacity{syntax:"*";inherits:false}@property --tw-saturate{syntax:"*";inherits:false}@property --tw-sepia{syntax:"*";inherits:false}@property --tw-drop-shadow{syntax:"*";inherits:false}@property --tw-drop-shadow-color{syntax:"*";inherits:false}@property --tw-drop-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-drop-shadow-size{syntax:"*";inherits:false}@property --tw-backdrop-blur{syntax:"*";inherits:false}@property --tw-backdrop-brightness{syntax:"*";inherits:false}@property --tw-backdrop-contrast{syntax:"*";inherits:false}@property --tw-backdrop-grayscale{syntax:"*";inherits:false}@property --tw-backdrop-hue-rotate{syntax:"*";inherits:false}@property --tw-backdrop-invert{syntax:"*";inherits:false}@property --tw-backdrop-opacity{syntax:"*";inherits:false}@property --tw-backdrop-saturate{syntax:"*";inherits:false}@property --tw-backdrop-sepia{syntax:"*";inherits:false}@property --tw-duration{syntax:"*";inherits:false}@property --tw-ease{syntax:"*";inherits:false}@keyframes spin{to{transform:rotate(360deg)}}@keyframes ping{75%,to{opacity:0;transform:scale(2)}}@keyframes pulse{50%{opacity:.5}}@keyframes bounce{0%,to{animation-timing-function:cubic-bezier(.8,0,1,1);transform:translateY(-25%)}50%{animation-timing-function:cubic-bezier(0,0,.2,1);transform:none}}\n/*$vite$:1*/',document.head.appendChild(D);var z,R,_,L,$={exports:{}},U={},B={exports:{}},V={};function G(){if(z)return V;z=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),i=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),u=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,m={};function g(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||p}function x(){}function f(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=g.prototype;var b=f.prototype=new x;b.constructor=f,h(b,g.prototype),b.isPureReactComponent=!0;var v=Array.isArray,y=Object.prototype.hasOwnProperty,w={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function N(t,r,a){var n,o={},i=null,s=null;if(null!=r)for(n in void 0!==r.ref&&(s=r.ref),void 0!==r.key&&(i=""+r.key),r)y.call(r,n)&&!j.hasOwnProperty(n)&&(o[n]=r[n]);var l=arguments.length-2;if(1===l)o.children=a;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];o.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps)void 0===o[n]&&(o[n]=l[n]);return{$$typeof:e,type:t,key:i,ref:s,props:o,_owner:w.current}}function k(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}var C=/\/+/g;function S(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(r,a,n,o,i){var s=typeof r;"undefined"!==s&&"boolean"!==s||(r=null);var l=!1;if(null===r)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(r.$$typeof){case e:case t:l=!0}}if(l)return i=i(l=r),r=""===o?"."+S(l,0):o,v(i)?(n="",null!=r&&(n=r.replace(C,"$&/")+"/"),E(i,a,n,"",function(e){return e})):null!=i&&(k(i)&&(i=function(t,r){return{$$typeof:e,type:t.type,key:r,ref:t.ref,props:t.props,_owner:t._owner}}(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+r)),a.push(i)),1;if(l=0,o=""===o?".":o+":",v(r))for(var c=0;c<r.length;c++){var d=o+S(s=r[c],c);l+=E(s,a,n,d,i)}else if(d=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=u&&e[u]||e["@@iterator"])?e:null}(r),"function"==typeof d)for(r=d.call(r),c=0;!(s=r.next()).done;)l+=E(s=s.value,a,n,d=o+S(s,c++),i);else if("object"===s)throw a=String(r),Error("Objects are not valid as a React child (found: "+("[object Object]"===a?"object with keys {"+Object.keys(r).join(", ")+"}":a)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,r){if(null==e)return e;var a=[],n=0;return E(e,a,"","",function(e){return t.call(r,e,n++)}),a}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},A={transition:null},D={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:A,ReactCurrentOwner:w};function M(){throw Error("act(...) is not supported in production builds of React.")}return V.Children={map:P,forEach:function(e,t,r){P(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},V.Component=g,V.Fragment=r,V.Profiler=n,V.PureComponent=f,V.StrictMode=a,V.Suspense=l,V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,V.act=M,V.cloneElement=function(t,r,a){if(null==t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=h({},t.props),o=t.key,i=t.ref,s=t._owner;if(null!=r){if(void 0!==r.ref&&(i=r.ref,s=w.current),void 0!==r.key&&(o=""+r.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in r)y.call(r,c)&&!j.hasOwnProperty(c)&&(n[c]=void 0===r[c]&&void 0!==l?l[c]:r[c])}var c=arguments.length-2;if(1===c)n.children=a;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:e,type:t.type,key:o,ref:i,props:n,_owner:s}},V.createContext=function(e){return(e={$$typeof:i,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},V.createElement=N,V.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},V.createRef=function(){return{current:null}},V.forwardRef=function(e){return{$$typeof:s,render:e}},V.isValidElement=k,V.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:O}},V.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},V.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},V.unstable_act=M,V.useCallback=function(e,t){return I.current.useCallback(e,t)},V.useContext=function(e){return I.current.useContext(e)},V.useDebugValue=function(){},V.useDeferredValue=function(e){return I.current.useDeferredValue(e)},V.useEffect=function(e,t){return I.current.useEffect(e,t)},V.useId=function(){return I.current.useId()},V.useImperativeHandle=function(e,t,r){return I.current.useImperativeHandle(e,t,r)},V.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},V.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},V.useMemo=function(e,t){return I.current.useMemo(e,t)},V.useReducer=function(e,t,r){return I.current.useReducer(e,t,r)},V.useRef=function(e){return I.current.useRef(e)},V.useState=function(e){return I.current.useState(e)},V.useSyncExternalStore=function(e,t,r){return I.current.useSyncExternalStore(e,t,r)},V.useTransition=function(){return I.current.useTransition()},V.version="18.3.1",V}function q(){return R||(R=1,B.exports=G()),B.exports}
/**
			 * @license React
			 * react-jsx-runtime.production.min.js
			 *
			 * Copyright (c) Facebook, Inc. and its affiliates.
			 *
			 * This source code is licensed under the MIT license found in the
			 * LICENSE file in the root directory of this source tree.
			 */var H=(L||(L=1,$.exports=function(){if(_)return U;_=1;var e=q(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,n=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function i(e,r,i){var s,l={},c=null,d=null;for(s in void 0!==i&&(c=""+i),void 0!==r.key&&(c=""+r.key),void 0!==r.ref&&(d=r.ref),r)a.call(r,s)&&!o.hasOwnProperty(s)&&(l[s]=r[s]);if(e&&e.defaultProps)for(s in r=e.defaultProps)void 0===l[s]&&(l[s]=r[s]);return{$$typeof:t,type:e,key:c,ref:d,props:l,_owner:n.current}}return U.Fragment=r,U.jsx=i,U.jsxs=i,U}()),$.exports),W=q();const K=F(W),J=T({__proto__:null,default:K},[W]);var Y,X,Q,Z,ee,te={},re={exports:{}},ae={},ne={exports:{}},oe={};function ie(){return X||(X=1,ne.exports=(Y||(Y=1,function(e){function t(e,t){var r=e.length;e.push(t);e:for(;0<r;){var a=r-1>>>1,o=e[a];if(!(0<n(o,t)))break e;e[a]=t,e[r]=o,r=a}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var a=0,o=e.length,i=o>>>1;a<i;){var s=2*(a+1)-1,l=e[s],c=s+1,d=e[c];if(0>n(l,r))c<o&&0>n(d,l)?(e[a]=d,e[c]=r,a=c):(e[a]=l,e[s]=r,a=s);else{if(!(c<o&&0>n(d,r)))break e;e[a]=d,e[c]=r,a=c}}}return t}function n(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var l=[],c=[],d=1,u=null,p=3,h=!1,m=!1,g=!1,x="function"==typeof setTimeout?setTimeout:null,f="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function v(e){for(var n=r(c);null!==n;){if(null===n.callback)a(c);else{if(!(n.startTime<=e))break;a(c),n.sortIndex=n.expirationTime,t(l,n)}n=r(c)}}function y(e){if(g=!1,v(e),!m)if(null!==r(l))m=!0,D(w);else{var t=r(c);null!==t&&M(y,t.startTime-e)}}function w(t,n){m=!1,g&&(g=!1,f(C),C=-1),h=!0;var o=p;try{for(v(n),u=r(l);null!==u&&(!(u.expirationTime>n)||t&&!P());){var i=u.callback;if("function"==typeof i){u.callback=null,p=u.priorityLevel;var s=i(u.expirationTime<=n);n=e.unstable_now(),"function"==typeof s?u.callback=s:u===r(l)&&a(l),v(n)}else a(l);u=r(l)}if(null!==u)var d=!0;else{var x=r(c);null!==x&&M(y,x.startTime-n),d=!1}return d}finally{u=null,p=o,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,N=!1,k=null,C=-1,S=5,E=-1;function P(){return!(e.unstable_now()-E<S)}function O(){if(null!==k){var t=e.unstable_now();E=t;var r=!0;try{r=k(!0,t)}finally{r?j():(N=!1,k=null)}}else N=!1}if("function"==typeof b)j=function(){b(O)};else if("undefined"!=typeof MessageChannel){var I=new MessageChannel,A=I.port2;I.port1.onmessage=O,j=function(){A.postMessage(null)}}else j=function(){x(O,0)};function D(e){k=e,N||(N=!0,j())}function M(t,r){C=x(function(){t(e.unstable_now())},r)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){m||h||(m=!0,D(w))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var r=p;p=t;try{return e()}finally{p=r}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=p;p=e;try{return t()}finally{p=r}},e.unstable_scheduleCallback=function(a,n,o){var i=e.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?i+o:i,a){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return a={id:d++,callback:n,priorityLevel:a,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>i?(a.sortIndex=o,t(c,a),null===r(l)&&a===r(c)&&(g?(f(C),C=-1):g=!0,M(y,o-i))):(a.sortIndex=s,t(l,a),m||h||(m=!0,D(w))),a},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(e){var t=p;return function(){var r=p;p=t;try{return e.apply(this,arguments)}finally{p=r}}}}(oe)),oe)),ne.exports}
/**
			 * @license React
			 * react-dom.production.min.js
			 *
			 * Copyright (c) Facebook, Inc. and its affiliates.
			 *
			 * This source code is licensed under the MIT license found in the
			 * LICENSE file in the root directory of this source tree.
			 */function se(){if(Q)return ae;Q=1;var e=q(),t=ie();function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,n={};function o(e,t){i(e,t),i(e+"Capture",t)}function i(e,t){for(n[e]=t,e=0;e<t.length;e++)a.add(t[e])}var s=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},u={};function p(e,t,r,a,n,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var h={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){h[e]=new p(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];h[t]=new p(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){h[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){h[e]=new p(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){h[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){h[e]=new p(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){h[e]=new p(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){h[e]=new p(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){h[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)});var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function x(e,t,r,a){var n=h.hasOwnProperty(t)?h[t]:null;(null!==n?0!==n.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,a){if(null==t||function(e,t,r,a){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,a))return!0;if(a)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,n,a)&&(r=null),a||null===n?function(e){return!!l.call(u,e)||!l.call(d,e)&&(c.test(e)?u[e]=!0:(d[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):n.mustUseProperty?e[n.propertyName]=null===r?3!==n.type&&"":r:(t=n.attributeName,a=n.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(n=n.type)||4===n&&!0===r?"":""+r,a?e.setAttributeNS(a,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(m,g);h[t]=new p(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(m,g);h[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(m,g);h[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){h[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)}),h.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){h[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)});var f=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),v=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),k=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),I=Symbol.for("react.offscreen"),A=Symbol.iterator;function D(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=A&&e[A]||e["@@iterator"])?e:null}var M,T=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(fh){var t=fh.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var z=!1;function R(e,t){if(!e||z)return"";z=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Zd){var a=Zd}Reflect.construct(e,[],t)}else{try{t.call()}catch(Zd){a=Zd}e.call(t.prototype)}else{try{throw Error()}catch(Zd){a=Zd}e()}}catch(Zd){if(Zd&&a&&"string"==typeof Zd.stack){for(var n=Zd.stack.split("\n"),o=a.stack.split("\n"),i=n.length-1,s=o.length-1;1<=i&&0<=s&&n[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(n[i]!==o[s]){if(1!==i||1!==s)do{if(i--,0>--s||n[i]!==o[s]){var l="\n"+n[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?F(e):""}function _(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=R(e.type,!1);case 11:return e=R(e.type.render,!1);case 1:return e=R(e.type,!0);default:return""}}function L(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case y:return"Fragment";case v:return"Portal";case j:return"Profiler";case w:return"StrictMode";case S:return"Suspense";case E:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:L(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return L(e(t))}catch(fh){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L(t);case 8:return t===w?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function U(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function B(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=B(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var n=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){a=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=B(e)?e.checked?"true":"false":e.value),(e=a)!==r&&(t.setValue(e),!0)}function H(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function W(e,t){var r=t.checked;return T({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function K(e,t){var r=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;r=U(null!=t.value?t.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function Y(e,t){J(e,t);var r=U(t.value),a=t.type;if(null!=r)"number"===a?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?Z(e,t.type,r):t.hasOwnProperty("defaultValue")&&Z(e,t.type,U(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function Z(e,t,r){"number"===t&&H(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ee=Array.isArray;function te(e,t,r,a){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&a&&(e[r].defaultSelected=!0)}else{for(r=""+U(r),t=null,n=0;n<e.length;n++){if(e[n].value===r)return e[n].selected=!0,void(a&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return T({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ne(e,t){var a=t.value;if(null==a){if(a=t.children,t=t.defaultValue,null!=a){if(null!=t)throw Error(r(92));if(ee(a)){if(1<a.length)throw Error(r(93));a=a[0]}t=a}null==t&&(t=""),a=t}e._wrapperState={initialValue:U(a)}}function oe(e,t){var r=U(t.value),a=U(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=a&&(e.defaultValue=""+a)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var de,ue=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,a,n){MSApp.execUnsafeLocalFunction(function(){return e(t,r)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((de=de||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=de.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function pe(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function ge(e,t,r){return null==t||"boolean"==typeof t||""===t?"":r||"number"!=typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function xe(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var a=0===r.indexOf("--"),n=ge(r,t[r],a);"float"===r&&(r="cssFloat"),a?e.setProperty(r,n):e[r]=n}}Object.keys(he).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var fe=T({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(fe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(r(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Ne=null,ke=null;function Ce(e){if(e=vn(e)){if("function"!=typeof je)throw Error(r(280));var t=e.stateNode;t&&(t=wn(t),je(e.stateNode,e.type,t))}}function Se(e){Ne?ke?ke.push(e):ke=[e]:Ne=e}function Ee(){if(Ne){var e=Ne,t=ke;if(ke=Ne=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Pe(e,t){return e(t)}function Oe(){}var Ie=!1;function Ae(e,t,r){if(Ie)return e(t,r);Ie=!0;try{return Pe(e,t,r)}finally{Ie=!1,(null!==Ne||null!==ke)&&(Oe(),Ee())}}function De(e,t){var a=e.stateNode;if(null===a)return null;var n=wn(a);if(null===n)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(a&&"function"!=typeof a)throw Error(r(231,t,typeof a));return a}var Me=!1;if(s)try{var Te={};Object.defineProperty(Te,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Te,Te),window.removeEventListener("test",Te,Te)}catch(yh){Me=!1}function Fe(e,t,r,a,n,o,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var ze=!1,Re=null,_e=!1,Le=null,$e={onError:function(e){ze=!0,Re=e}};function Ue(e,t,r,a,n,o,i,s,l){ze=!1,Re=null,Fe.apply($e,arguments)}function Be(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(Be(e)!==e)throw Error(r(188))}function qe(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(r(188));return t!==e?null:e}for(var a=e,n=t;;){var o=a.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(n=o.return)){a=n;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===a)return Ge(o),e;if(i===n)return Ge(o),t;i=i.sibling}throw Error(r(188))}if(a.return!==n.return)a=o,n=i;else{for(var s=!1,l=o.child;l;){if(l===a){s=!0,a=o,n=i;break}if(l===n){s=!0,n=o,a=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===a){s=!0,a=i,n=o;break}if(l===n){s=!0,n=i,a=o;break}l=l.sibling}if(!s)throw Error(r(189))}}if(a.alternate!==n)throw Error(r(190))}if(3!==a.tag)throw Error(r(188));return a.stateNode.current===a?e:t}(e),null!==e?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var We=t.unstable_scheduleCallback,Ke=t.unstable_cancelCallback,Je=t.unstable_shouldYield,Ye=t.unstable_requestPaint,Xe=t.unstable_now,Qe=t.unstable_getCurrentPriorityLevel,Ze=t.unstable_ImmediatePriority,et=t.unstable_UserBlockingPriority,tt=t.unstable_NormalPriority,rt=t.unstable_LowPriority,at=t.unstable_IdlePriority,nt=null,ot=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var r=e.pendingLanes;if(0===r)return 0;var a=0,n=e.suspendedLanes,o=e.pingedLanes,i=268435455&r;if(0!==i){var s=i&~n;0!==s?a=ut(s):0!==(o&=i)&&(a=ut(o))}else 0!==(i=r&~n)?a=ut(i):0!==o&&(a=ut(o));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&n)&&((n=a&-a)>=(o=t&-t)||16===n&&4194240&o))return t;if(4&a&&(a|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)n=1<<(r=31-it(t)),a|=e[r],t&=~n;return a}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return!(4194240&(ct<<=1))&&(ct=64),e}function xt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ft(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=r}function bt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-it(r),n=1<<a;n&t|e[a]&t&&(e[a]|=t),r&=~n}}var vt=0;function yt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var wt,jt,Nt,kt,Ct,St=!1,Et=[],Pt=null,Ot=null,It=null,At=new Map,Dt=new Map,Mt=[],Tt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ft(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function zt(e,t,r,a,n,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:o,targetContainers:[n]},null!==t&&(null!==(t=vn(t))&&jt(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==n&&-1===t.indexOf(n)&&t.push(n),e)}function Rt(e){var t=bn(e.target);if(null!==t){var r=Be(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Ve(r)))return e.blockedOn=t,void Ct(e.priority,function(){Nt(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function _t(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=vn(r))&&jt(t),e.blockedOn=r,!1;var a=new(r=e.nativeEvent).constructor(r.type,r);ye=a,r.target.dispatchEvent(a),ye=null,t.shift()}return!0}function Lt(e,t,r){_t(e)&&r.delete(t)}function $t(){St=!1,null!==Pt&&_t(Pt)&&(Pt=null),null!==Ot&&_t(Ot)&&(Ot=null),null!==It&&_t(It)&&(It=null),At.forEach(Lt),Dt.forEach(Lt)}function Ut(e,r){e.blockedOn===r&&(e.blockedOn=null,St||(St=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,$t)))}function Bt(e){function t(t){return Ut(t,e)}if(0<Et.length){Ut(Et[0],e);for(var r=1;r<Et.length;r++){var a=Et[r];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==Pt&&Ut(Pt,e),null!==Ot&&Ut(Ot,e),null!==It&&Ut(It,e),At.forEach(t),Dt.forEach(t),r=0;r<Mt.length;r++)(a=Mt[r]).blockedOn===e&&(a.blockedOn=null);for(;0<Mt.length&&null===(r=Mt[0]).blockedOn;)Rt(r),null===r.blockedOn&&Mt.shift()}var Vt=f.ReactCurrentBatchConfig,Gt=!0;function qt(e,t,r,a){var n=vt,o=Vt.transition;Vt.transition=null;try{vt=1,Wt(e,t,r,a)}finally{vt=n,Vt.transition=o}}function Ht(e,t,r,a){var n=vt,o=Vt.transition;Vt.transition=null;try{vt=4,Wt(e,t,r,a)}finally{vt=n,Vt.transition=o}}function Wt(e,t,r,a){if(Gt){var n=Jt(e,t,r,a);if(null===n)Va(e,t,a,Kt,r),Ft(e,a);else if(function(e,t,r,a,n){switch(t){case"focusin":return Pt=zt(Pt,e,t,r,a,n),!0;case"dragenter":return Ot=zt(Ot,e,t,r,a,n),!0;case"mouseover":return It=zt(It,e,t,r,a,n),!0;case"pointerover":var o=n.pointerId;return At.set(o,zt(At.get(o)||null,e,t,r,a,n)),!0;case"gotpointercapture":return o=n.pointerId,Dt.set(o,zt(Dt.get(o)||null,e,t,r,a,n)),!0}return!1}(n,e,t,r,a))a.stopPropagation();else if(Ft(e,a),4&t&&-1<Tt.indexOf(e)){for(;null!==n;){var o=vn(n);if(null!==o&&wt(o),null===(o=Jt(e,t,r,a))&&Va(e,t,a,Kt,r),o===n)break;n=o}null!==n&&a.stopPropagation()}else Va(e,t,a,null,r)}}var Kt=null;function Jt(e,t,r,a){if(Kt=null,null!==(e=bn(e=we(a))))if(null===(t=Be(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Ze:return 1;case et:return 4;case tt:case rt:return 16;case at:return 536870912;default:return 16}default:return 16}}var Xt=null,Qt=null,Zt=null;function er(){if(Zt)return Zt;var e,t,r=Qt,a=r.length,n="value"in Xt?Xt.value:Xt.textContent,o=n.length;for(e=0;e<a&&r[e]===n[e];e++);var i=a-e;for(t=1;t<=i&&r[a-t]===n[o-t];t++);return Zt=n.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function ar(){return!1}function nr(e){function t(t,r,a,n,o){for(var i in this._reactName=t,this._targetInst=a,this.type=r,this.nativeEvent=n,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(n):n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?rr:ar,this.isPropagationStopped=ar,this}return T(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var or,ir,sr,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=nr(lr),dr=T({},lr,{view:0,detail:0}),ur=nr(dr),pr=T({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sr&&(sr&&"mousemove"===e.type?(or=e.screenX-sr.screenX,ir=e.screenY-sr.screenY):ir=or=0,sr=e),or)},movementY:function(e){return"movementY"in e?e.movementY:ir}}),hr=nr(pr),mr=nr(T({},pr,{dataTransfer:0})),gr=nr(T({},dr,{relatedTarget:0})),xr=nr(T({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),fr=T({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),br=nr(fr),vr=nr(T({},lr,{data:0})),yr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jr[e])&&!!t[e]}function kr(){return Nr}var Cr=T({},dr,{key:function(e){if(e.key){var t=yr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sr=nr(Cr),Er=nr(T({},pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pr=nr(T({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr})),Or=nr(T({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ir=T({},pr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ar=nr(Ir),Dr=[9,13,27,32],Mr=s&&"CompositionEvent"in window,Tr=null;s&&"documentMode"in document&&(Tr=document.documentMode);var Fr=s&&"TextEvent"in window&&!Tr,zr=s&&(!Mr||Tr&&8<Tr&&11>=Tr),Rr=String.fromCharCode(32),_r=!1;function Lr(e,t){switch(e){case"keyup":return-1!==Dr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $r(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Ur=!1;var Br={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Br[e.type]:"textarea"===t}function Gr(e,t,r,a){Se(a),0<(t=qa(t,"onChange")).length&&(r=new cr("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var qr=null,Hr=null;function Wr(e){Ra(e,0)}function Kr(e){if(G(yn(e)))return e}function Jr(e,t){if("change"===e)return t}var Yr=!1;if(s){var Xr;if(s){var Qr="oninput"in document;if(!Qr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Qr="function"==typeof Zr.oninput}Xr=Qr}else Xr=!1;Yr=Xr&&(!document.documentMode||9<document.documentMode)}function ea(){qr&&(qr.detachEvent("onpropertychange",ta),Hr=qr=null)}function ta(e){if("value"===e.propertyName&&Kr(Hr)){var t=[];Gr(t,Hr,e,we(e)),Ae(Wr,t)}}function ra(e,t,r){"focusin"===e?(ea(),Hr=r,(qr=t).attachEvent("onpropertychange",ta)):"focusout"===e&&ea()}function aa(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kr(Hr)}function na(e,t){if("click"===e)return Kr(t)}function oa(e,t){if("input"===e||"change"===e)return Kr(t)}var ia="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function sa(e,t){if(ia(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var n=r[a];if(!l.call(t,n)||!ia(e[n],t[n]))return!1}return!0}function la(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ca(e,t){var r,a=la(e);for(e=0;a;){if(3===a.nodeType){if(r=e+a.textContent.length,e<=t&&r>=t)return{node:a,offset:t-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=la(a)}}function da(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?da(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ua(){for(var e=window,t=H();t instanceof e.HTMLIFrameElement;){try{var r="string"==typeof t.contentWindow.location.href}catch(Kd){r=!1}if(!r)break;t=H((e=t.contentWindow).document)}return t}function pa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ha(e){var t=ua(),r=e.focusedElem,a=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&da(r.ownerDocument.documentElement,r)){if(null!==a&&pa(r))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var n=r.textContent.length,o=Math.min(a.start,n);a=void 0===a.end?o:Math.min(a.end,n),!e.extend&&o>a&&(n=a,a=o,o=n),n=ca(r,o);var i=ca(r,a);n&&i&&(1!==e.rangeCount||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(n.node,n.offset),e.removeAllRanges(),o>a?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ma=s&&"documentMode"in document&&11>=document.documentMode,ga=null,xa=null,fa=null,ba=!1;function va(e,t,r){var a=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;ba||null==ga||ga!==H(a)||("selectionStart"in(a=ga)&&pa(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},fa&&sa(fa,a)||(fa=a,0<(a=qa(xa,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=ga)))}function ya(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var wa={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionend:ya("Transition","TransitionEnd")},ja={},Na={};function ka(e){if(ja[e])return ja[e];if(!wa[e])return e;var t,r=wa[e];for(t in r)if(r.hasOwnProperty(t)&&t in Na)return ja[e]=r[t];return e}s&&(Na=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);var Ca=ka("animationend"),Sa=ka("animationiteration"),Ea=ka("animationstart"),Pa=ka("transitionend"),Oa=new Map,Ia="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Aa(e,t){Oa.set(e,t),o(t,[e])}for(var Da=0;Da<Ia.length;Da++){var Ma=Ia[Da];Aa(Ma.toLowerCase(),"on"+(Ma[0].toUpperCase()+Ma.slice(1)))}Aa(Ca,"onAnimationEnd"),Aa(Sa,"onAnimationIteration"),Aa(Ea,"onAnimationStart"),Aa("dblclick","onDoubleClick"),Aa("focusin","onFocus"),Aa("focusout","onBlur"),Aa(Pa,"onTransitionEnd"),i("onMouseEnter",["mouseout","mouseover"]),i("onMouseLeave",["mouseout","mouseover"]),i("onPointerEnter",["pointerout","pointerover"]),i("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fa=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ta));function za(e,t,a){var n=e.type||"unknown-event";e.currentTarget=a,function(e,t,a,n,o,i,s,l,c){if(Ue.apply(this,arguments),ze){if(!ze)throw Error(r(198));var d=Re;ze=!1,Re=null,_e||(_e=!0,Le=d)}}(n,t,void 0,e),e.currentTarget=null}function Ra(e,t){t=!!(4&t);for(var r=0;r<e.length;r++){var a=e[r],n=a.event;a=a.listeners;e:{var o=void 0;if(t)for(var i=a.length-1;0<=i;i--){var s=a[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&n.isPropagationStopped())break e;za(n,s,c),o=l}else for(i=0;i<a.length;i++){if(l=(s=a[i]).instance,c=s.currentTarget,s=s.listener,l!==o&&n.isPropagationStopped())break e;za(n,s,c),o=l}}}if(_e)throw e=Le,_e=!1,Le=null,e}function _a(e,t){var r=t[gn];void 0===r&&(r=t[gn]=new Set);var a=e+"__bubble";r.has(a)||(Ba(t,e,2,!1),r.add(a))}function La(e,t,r){var a=0;t&&(a|=4),Ba(r,e,a,t)}var $a="_reactListening"+Math.random().toString(36).slice(2);function Ua(e){if(!e[$a]){e[$a]=!0,a.forEach(function(t){"selectionchange"!==t&&(Fa.has(t)||La(t,!1,e),La(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$a]||(t[$a]=!0,La("selectionchange",!1,t))}}function Ba(e,t,r,a){switch(Yt(t)){case 1:var n=qt;break;case 4:n=Ht;break;default:n=Wt}r=n.bind(null,t,r,e),n=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(n=!0),a?void 0!==n?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):void 0!==n?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function Va(e,t,r,a,n){var o=a;if(!(1&t||2&t||null===a))e:for(;;){if(null===a)return;var i=a.tag;if(3===i||4===i){var s=a.stateNode.containerInfo;if(s===n||8===s.nodeType&&s.parentNode===n)break;if(4===i)for(i=a.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===n||8===l.nodeType&&l.parentNode===n))return;i=i.return}for(;null!==s;){if(null===(i=bn(s)))return;if(5===(l=i.tag)||6===l){a=o=i;continue e}s=s.parentNode}}a=a.return}Ae(function(){var a=o,n=we(r),i=[];e:{var s=Oa.get(e);if(void 0!==s){var l=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=Sr;break;case"focusin":c="focus",l=gr;break;case"focusout":c="blur",l=gr;break;case"beforeblur":case"afterblur":l=gr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pr;break;case Ca:case Sa:case Ea:l=xr;break;case Pa:l=Or;break;case"scroll":l=ur;break;case"wheel":l=Ar;break;case"copy":case"cut":case"paste":l=br;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Er}var d=!!(4&t),u=!d&&"scroll"===e,p=d?null!==s?s+"Capture":null:s;d=[];for(var h,m=a;null!==m;){var g=(h=m).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==p&&(null!=(g=De(m,p))&&d.push(Ga(m,g,h)))),u)break;m=m.return}0<d.length&&(s=new l(s,c,null,r,n),i.push({event:s,listeners:d}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||r===ye||!(c=r.relatedTarget||r.fromElement)||!bn(c)&&!c[mn])&&(l||s)&&(s=n.window===n?n:(s=n.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=a,null!==(c=(c=r.relatedTarget||r.toElement)?bn(c):null)&&(c!==(u=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=a),l!==c)){if(d=hr,g="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=Er,g="onPointerLeave",p="onPointerEnter",m="pointer"),u=null==l?s:yn(l),h=null==c?s:yn(c),(s=new d(g,m+"leave",l,r,n)).target=u,s.relatedTarget=h,g=null,bn(n)===a&&((d=new d(p,m+"enter",c,r,n)).target=h,d.relatedTarget=u,g=d),u=g,l&&c)e:{for(p=c,m=0,h=d=l;h;h=Ha(h))m++;for(h=0,g=p;g;g=Ha(g))h++;for(;0<m-h;)d=Ha(d),m--;for(;0<h-m;)p=Ha(p),h--;for(;m--;){if(d===p||null!==p&&d===p.alternate)break e;d=Ha(d),p=Ha(p)}d=null}else d=null;null!==l&&Wa(i,s,l,d,!1),null!==c&&null!==u&&Wa(i,u,c,d,!0)}if("select"===(l=(s=a?yn(a):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var x=Jr;else if(Vr(s))if(Yr)x=oa;else{x=aa;var f=ra}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(x=na);switch(x&&(x=x(e,a))?Gr(i,x,r,n):(f&&f(e,s,a),"focusout"===e&&(f=s._wrapperState)&&f.controlled&&"number"===s.type&&Z(s,"number",s.value)),f=a?yn(a):window,e){case"focusin":(Vr(f)||"true"===f.contentEditable)&&(ga=f,xa=a,fa=null);break;case"focusout":fa=xa=ga=null;break;case"mousedown":ba=!0;break;case"contextmenu":case"mouseup":case"dragend":ba=!1,va(i,r,n);break;case"selectionchange":if(ma)break;case"keydown":case"keyup":va(i,r,n)}var b;if(Mr)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ur?Lr(e,r)&&(v="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(v="onCompositionStart");v&&(zr&&"ko"!==r.locale&&(Ur||"onCompositionStart"!==v?"onCompositionEnd"===v&&Ur&&(b=er()):(Qt="value"in(Xt=n)?Xt.value:Xt.textContent,Ur=!0)),0<(f=qa(a,v)).length&&(v=new vr(v,e,null,r,n),i.push({event:v,listeners:f}),b?v.data=b:null!==(b=$r(r))&&(v.data=b))),(b=Fr?function(e,t){switch(e){case"compositionend":return $r(t);case"keypress":return 32!==t.which?null:(_r=!0,Rr);case"textInput":return(e=t.data)===Rr&&_r?null:e;default:return null}}(e,r):function(e,t){if(Ur)return"compositionend"===e||!Mr&&Lr(e,t)?(e=er(),Zt=Qt=Xt=null,Ur=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(a=qa(a,"onBeforeInput")).length&&(n=new vr("onBeforeInput","beforeinput",null,r,n),i.push({event:n,listeners:a}),n.data=b))}Ra(i,t)})}function Ga(e,t,r){return{instance:e,listener:t,currentTarget:r}}function qa(e,t){for(var r=t+"Capture",a=[];null!==e;){var n=e,o=n.stateNode;5===n.tag&&null!==o&&(n=o,null!=(o=De(e,r))&&a.unshift(Ga(e,o,n)),null!=(o=De(e,t))&&a.push(Ga(e,o,n))),e=e.return}return a}function Ha(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wa(e,t,r,a,n){for(var o=t._reactName,i=[];null!==r&&r!==a;){var s=r,l=s.alternate,c=s.stateNode;if(null!==l&&l===a)break;5===s.tag&&null!==c&&(s=c,n?null!=(l=De(r,o))&&i.unshift(Ga(r,l,s)):n||null!=(l=De(r,o))&&i.push(Ga(r,l,s))),r=r.return}0!==i.length&&e.push({event:t,listeners:i})}var Ka=/\r\n?/g,Ja=/\u0000|\uFFFD/g;function Ya(e){return("string"==typeof e?e:""+e).replace(Ka,"\n").replace(Ja,"")}function Xa(e,t,a){if(t=Ya(t),Ya(e)!==t&&a)throw Error(r(425))}function Qa(){}var Za=null,en=null;function tn(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rn="function"==typeof setTimeout?setTimeout:void 0,an="function"==typeof clearTimeout?clearTimeout:void 0,nn="function"==typeof Promise?Promise:void 0,on="function"==typeof queueMicrotask?queueMicrotask:void 0!==nn?function(e){return nn.resolve(null).then(e).catch(sn)}:rn;function sn(e){setTimeout(function(){throw e})}function ln(e,t){var r=t,a=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&8===n.nodeType)if("/$"===(r=n.data)){if(0===a)return e.removeChild(n),void Bt(t);a--}else"$"!==r&&"$?"!==r&&"$!"!==r||a++;r=n}while(r);Bt(t)}function cn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var un=Math.random().toString(36).slice(2),pn="__reactFiber$"+un,hn="__reactProps$"+un,mn="__reactContainer$"+un,gn="__reactEvents$"+un,xn="__reactListeners$"+un,fn="__reactHandles$"+un;function bn(e){var t=e[pn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[mn]||r[pn]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=dn(e);null!==e;){if(r=e[pn])return r;e=dn(e)}return t}r=(e=r).parentNode}return null}function vn(e){return!(e=e[pn]||e[mn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function wn(e){return e[hn]||null}var jn=[],Nn=-1;function kn(e){return{current:e}}function Cn(e){0>Nn||(e.current=jn[Nn],jn[Nn]=null,Nn--)}function Sn(e,t){Nn++,jn[Nn]=e.current,e.current=t}var En={},Pn=kn(En),On=kn(!1),In=En;function An(e,t){var r=e.type.contextTypes;if(!r)return En;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var n,o={};for(n in r)o[n]=t[n];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Dn(e){return null!=(e=e.childContextTypes)}function Mn(){Cn(On),Cn(Pn)}function Tn(e,t,a){if(Pn.current!==En)throw Error(r(168));Sn(Pn,t),Sn(On,a)}function Fn(e,t,a){var n=e.stateNode;if(t=t.childContextTypes,"function"!=typeof n.getChildContext)return a;for(var o in n=n.getChildContext())if(!(o in t))throw Error(r(108,$(e)||"Unknown",o));return T({},a,n)}function zn(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||En,In=Pn.current,Sn(Pn,e),Sn(On,On.current),!0}function Rn(e,t,a){var n=e.stateNode;if(!n)throw Error(r(169));a?(e=Fn(e,t,In),n.__reactInternalMemoizedMergedChildContext=e,Cn(On),Cn(Pn),Sn(Pn,e)):Cn(On),Sn(On,a)}var _n=null,Ln=!1,$n=!1;function Un(e){null===_n?_n=[e]:_n.push(e)}function Bn(){if(!$n&&null!==_n){$n=!0;var e=0,t=vt;try{var r=_n;for(vt=1;e<r.length;e++){var a=r[e];do{a=a(!0)}while(null!==a)}_n=null,Ln=!1}catch(Xd){throw null!==_n&&(_n=_n.slice(e+1)),We(Ze,Bn),Xd}finally{vt=t,$n=!1}}return null}var Vn=[],Gn=0,qn=null,Hn=0,Wn=[],Kn=0,Jn=null,Yn=1,Xn="";function Qn(e,t){Vn[Gn++]=Hn,Vn[Gn++]=qn,qn=e,Hn=t}function Zn(e,t,r){Wn[Kn++]=Yn,Wn[Kn++]=Xn,Wn[Kn++]=Jn,Jn=e;var a=Yn;e=Xn;var n=32-it(a)-1;a&=~(1<<n),r+=1;var o=32-it(t)+n;if(30<o){var i=n-n%5;o=(a&(1<<i)-1).toString(32),a>>=i,n-=i,Yn=1<<32-it(t)+n|r<<n|a,Xn=o+e}else Yn=1<<o|r<<n|a,Xn=e}function eo(e){null!==e.return&&(Qn(e,1),Zn(e,1,0))}function to(e){for(;e===qn;)qn=Vn[--Gn],Vn[Gn]=null,Hn=Vn[--Gn],Vn[Gn]=null;for(;e===Jn;)Jn=Wn[--Kn],Wn[Kn]=null,Xn=Wn[--Kn],Wn[Kn]=null,Yn=Wn[--Kn],Wn[Kn]=null}var ro=null,ao=null,no=!1,oo=null;function io(e,t){var r=Dc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function so(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ro=e,ao=cn(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ro=e,ao=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Jn?{id:Yn,overflow:Xn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Dc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ro=e,ao=null,!0);default:return!1}}function lo(e){return!(!(1&e.mode)||128&e.flags)}function co(e){if(no){var t=ao;if(t){var a=t;if(!so(e,t)){if(lo(e))throw Error(r(418));t=cn(a.nextSibling);var n=ro;t&&so(e,t)?io(n,a):(e.flags=-4097&e.flags|2,no=!1,ro=e)}}else{if(lo(e))throw Error(r(418));e.flags=-4097&e.flags|2,no=!1,ro=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ro=e}function po(e){if(e!==ro)return!1;if(!no)return uo(e),no=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!tn(e.type,e.memoizedProps)),t&&(t=ao)){if(lo(e))throw ho(),Error(r(418));for(;t;)io(e,t),t=cn(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var a=e.data;if("/$"===a){if(0===t){ao=cn(e.nextSibling);break e}t--}else"$"!==a&&"$!"!==a&&"$?"!==a||t++}e=e.nextSibling}ao=null}}else ao=ro?cn(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ao;e;)e=cn(e.nextSibling)}function mo(){ao=ro=null,no=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var xo=f.ReactCurrentBatchConfig;function fo(e,t,a){if(null!==(e=a.ref)&&"function"!=typeof e&&"object"!=typeof e){if(a._owner){if(a=a._owner){if(1!==a.tag)throw Error(r(309));var n=a.stateNode}if(!n)throw Error(r(147,e));var o=n,i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=o.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(r(284));if(!a._owner)throw Error(r(290,e))}return e}function bo(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vo(e){return(0,e._init)(e._payload)}function yo(e){function t(t,r){if(e){var a=t.deletions;null===a?(t.deletions=[r],t.flags|=16):a.push(r)}}function a(r,a){if(!e)return null;for(;null!==a;)t(r,a),a=a.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Tc(e,t)).index=0,e.sibling=null,e}function i(t,r,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<r?(t.flags|=2,r):a:(t.flags|=2,r):(t.flags|=1048576,r)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,a){return null===t||6!==t.tag?((t=_c(r,e.mode,a)).return=e,t):((t=o(t,r)).return=e,t)}function c(e,t,r,a){var n=r.type;return n===y?u(e,t,r.props.children,a,r.key):null!==t&&(t.elementType===n||"object"==typeof n&&null!==n&&n.$$typeof===O&&vo(n)===t.type)?((a=o(t,r.props)).ref=fo(e,t,r),a.return=e,a):((a=Fc(r.type,r.key,r.props,null,e.mode,a)).ref=fo(e,t,r),a.return=e,a)}function d(e,t,r,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Lc(r,e.mode,a)).return=e,t):((t=o(t,r.children||[])).return=e,t)}function u(e,t,r,a,n){return null===t||7!==t.tag?((t=zc(r,e.mode,a,n)).return=e,t):((t=o(t,r)).return=e,t)}function p(e,t,r){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=_c(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case b:return(r=Fc(t.type,t.key,t.props,null,e.mode,r)).ref=fo(e,null,t),r.return=e,r;case v:return(t=Lc(t,e.mode,r)).return=e,t;case O:return p(e,(0,t._init)(t._payload),r)}if(ee(t)||D(t))return(t=zc(t,e.mode,r,null)).return=e,t;bo(e,t)}return null}function h(e,t,r,a){var n=null!==t?t.key:null;if("string"==typeof r&&""!==r||"number"==typeof r)return null!==n?null:l(e,t,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case b:return r.key===n?c(e,t,r,a):null;case v:return r.key===n?d(e,t,r,a):null;case O:return h(e,t,(n=r._init)(r._payload),a)}if(ee(r)||D(r))return null!==n?null:u(e,t,r,a,null);bo(e,r)}return null}function m(e,t,r,a,n){if("string"==typeof a&&""!==a||"number"==typeof a)return l(t,e=e.get(r)||null,""+a,n);if("object"==typeof a&&null!==a){switch(a.$$typeof){case b:return c(t,e=e.get(null===a.key?r:a.key)||null,a,n);case v:return d(t,e=e.get(null===a.key?r:a.key)||null,a,n);case O:return m(e,t,r,(0,a._init)(a._payload),n)}if(ee(a)||D(a))return u(t,e=e.get(r)||null,a,n,null);bo(t,a)}return null}function g(r,o,s,l){for(var c=null,d=null,u=o,g=o=0,x=null;null!==u&&g<s.length;g++){u.index>g?(x=u,u=null):x=u.sibling;var f=h(r,u,s[g],l);if(null===f){null===u&&(u=x);break}e&&u&&null===f.alternate&&t(r,u),o=i(f,o,g),null===d?c=f:d.sibling=f,d=f,u=x}if(g===s.length)return a(r,u),no&&Qn(r,g),c;if(null===u){for(;g<s.length;g++)null!==(u=p(r,s[g],l))&&(o=i(u,o,g),null===d?c=u:d.sibling=u,d=u);return no&&Qn(r,g),c}for(u=n(r,u);g<s.length;g++)null!==(x=m(u,r,g,s[g],l))&&(e&&null!==x.alternate&&u.delete(null===x.key?g:x.key),o=i(x,o,g),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach(function(e){return t(r,e)}),no&&Qn(r,g),c}function x(o,s,l,c){var d=D(l);if("function"!=typeof d)throw Error(r(150));if(null==(l=d.call(l)))throw Error(r(151));for(var u=d=null,g=s,x=s=0,f=null,b=l.next();null!==g&&!b.done;x++,b=l.next()){g.index>x?(f=g,g=null):f=g.sibling;var v=h(o,g,b.value,c);if(null===v){null===g&&(g=f);break}e&&g&&null===v.alternate&&t(o,g),s=i(v,s,x),null===u?d=v:u.sibling=v,u=v,g=f}if(b.done)return a(o,g),no&&Qn(o,x),d;if(null===g){for(;!b.done;x++,b=l.next())null!==(b=p(o,b.value,c))&&(s=i(b,s,x),null===u?d=b:u.sibling=b,u=b);return no&&Qn(o,x),d}for(g=n(o,g);!b.done;x++,b=l.next())null!==(b=m(g,o,x,b.value,c))&&(e&&null!==b.alternate&&g.delete(null===b.key?x:b.key),s=i(b,s,x),null===u?d=b:u.sibling=b,u=b);return e&&g.forEach(function(e){return t(o,e)}),no&&Qn(o,x),d}return function e(r,n,i,l){if("object"==typeof i&&null!==i&&i.type===y&&null===i.key&&(i=i.props.children),"object"==typeof i&&null!==i){switch(i.$$typeof){case b:e:{for(var c=i.key,d=n;null!==d;){if(d.key===c){if((c=i.type)===y){if(7===d.tag){a(r,d.sibling),(n=o(d,i.props.children)).return=r,r=n;break e}}else if(d.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===O&&vo(c)===d.type){a(r,d.sibling),(n=o(d,i.props)).ref=fo(r,d,i),n.return=r,r=n;break e}a(r,d);break}t(r,d),d=d.sibling}i.type===y?((n=zc(i.props.children,r.mode,l,i.key)).return=r,r=n):((l=Fc(i.type,i.key,i.props,null,r.mode,l)).ref=fo(r,n,i),l.return=r,r=l)}return s(r);case v:e:{for(d=i.key;null!==n;){if(n.key===d){if(4===n.tag&&n.stateNode.containerInfo===i.containerInfo&&n.stateNode.implementation===i.implementation){a(r,n.sibling),(n=o(n,i.children||[])).return=r,r=n;break e}a(r,n);break}t(r,n),n=n.sibling}(n=Lc(i,r.mode,l)).return=r,r=n}return s(r);case O:return e(r,n,(d=i._init)(i._payload),l)}if(ee(i))return g(r,n,i,l);if(D(i))return x(r,n,i,l);bo(r,i)}return"string"==typeof i&&""!==i||"number"==typeof i?(i=""+i,null!==n&&6===n.tag?(a(r,n.sibling),(n=o(n,i)).return=r,r=n):(a(r,n),(n=_c(i,r.mode,l)).return=r,r=n),s(r)):a(r,n)}}var wo=yo(!0),jo=yo(!1),No=kn(null),ko=null,Co=null,So=null;function Eo(){So=Co=ko=null}function Po(e){var t=No.current;Cn(No),e._currentValue=t}function Oo(e,t,r){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function Io(e,t){ko=e,So=Co=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vs=!0),e.firstContext=null)}function Ao(e){var t=e._currentValue;if(So!==e)if(e={context:e,memoizedValue:t,next:null},null===Co){if(null===ko)throw Error(r(308));Co=e,ko.dependencies={lanes:0,firstContext:e}}else Co=Co.next=e;return t}var Do=null;function Mo(e){null===Do?Do=[e]:Do.push(e)}function To(e,t,r,a){var n=t.interleaved;return null===n?(r.next=r,Mo(t)):(r.next=n.next,n.next=r),t.interleaved=r,Fo(e,a)}function Fo(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var zo=!1;function Ro(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _o(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $o(e,t,r){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,2&Ol){var n=a.pending;return null===n?t.next=t:(t.next=n.next,n.next=t),a.pending=t,Fo(e,r)}return null===(n=a.interleaved)?(t.next=t,Mo(a)):(t.next=n.next,n.next=t),a.interleaved=t,Fo(e,r)}function Uo(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&r)){var a=t.lanes;r|=a&=e.pendingLanes,t.lanes=r,bt(e,r)}}function Bo(e,t){var r=e.updateQueue,a=e.alternate;if(null!==a&&r===(a=a.updateQueue)){var n=null,o=null;if(null!==(r=r.firstBaseUpdate)){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===o?n=o=i:o=o.next=i,r=r.next}while(null!==r);null===o?n=o=t:o=o.next=t}else n=o=t;return r={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:o,shared:a.shared,effects:a.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Vo(e,t,r,a){var n=e.updateQueue;zo=!1;var o=n.firstBaseUpdate,i=n.lastBaseUpdate,s=n.shared.pending;if(null!==s){n.shared.pending=null;var l=s,c=l.next;l.next=null,null===i?o=c:i.next=c,i=l;var d=e.alternate;null!==d&&((s=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===s?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(null!==o){var u=n.baseState;for(i=0,d=c=l=null,s=o;;){var p=s.lane,h=s.eventTime;if((a&p)===p){null!==d&&(d=d.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,g=s;switch(p=t,h=r,g.tag){case 1:if("function"==typeof(m=g.payload)){u=m.call(h,u,p);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(p="function"==typeof(m=g.payload)?m.call(h,u,p):m))break e;u=T({},u,p);break e;case 2:zo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=n.effects)?n.effects=[s]:p.push(s))}else h={eventTime:h,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(c=d=h,l=u):d=d.next=h,i|=p;if(null===(s=s.next)){if(null===(s=n.shared.pending))break;s=(p=s).next,p.next=null,n.lastBaseUpdate=p,n.shared.pending=null}}if(null===d&&(l=u),n.baseState=l,n.firstBaseUpdate=c,n.lastBaseUpdate=d,null!==(t=n.shared.interleaved)){n=t;do{i|=n.lane,n=n.next}while(n!==t)}else null===o&&(n.shared.lanes=0);Rl|=i,e.lanes=i,e.memoizedState=u}}function Go(e,t,a){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(null!==o){if(n.callback=null,n=a,"function"!=typeof o)throw Error(r(191,o));o.call(n)}}}var qo={},Ho=kn(qo),Wo=kn(qo),Ko=kn(qo);function Jo(e){if(e===qo)throw Error(r(174));return e}function Yo(e,t){switch(Sn(Ko,t),Sn(Wo,e),Sn(Ho,qo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Cn(Ho),Sn(Ho,t)}function Xo(){Cn(Ho),Cn(Wo),Cn(Ko)}function Qo(e){Jo(Ko.current);var t=Jo(Ho.current),r=ce(t,e.type);t!==r&&(Sn(Wo,e),Sn(Ho,r))}function Zo(e){Wo.current===e&&(Cn(Ho),Cn(Wo))}var ei=kn(0);function ti(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ri=[];function ai(){for(var e=0;e<ri.length;e++)ri[e]._workInProgressVersionPrimary=null;ri.length=0}var ni=f.ReactCurrentDispatcher,oi=f.ReactCurrentBatchConfig,ii=0,si=null,li=null,ci=null,di=!1,ui=!1,pi=0,hi=0;function mi(){throw Error(r(321))}function gi(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ia(e[r],t[r]))return!1;return!0}function xi(e,t,a,n,o,i){if(ii=i,si=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ni.current=null===e||null===e.memoizedState?Zi:es,e=a(n,o),ui){i=0;do{if(ui=!1,pi=0,25<=i)throw Error(r(301));i+=1,ci=li=null,t.updateQueue=null,ni.current=ts,e=a(n,o)}while(ui)}if(ni.current=Qi,t=null!==li&&null!==li.next,ii=0,ci=li=si=null,di=!1,t)throw Error(r(300));return e}function fi(){var e=0!==pi;return pi=0,e}function bi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ci?si.memoizedState=ci=e:ci=ci.next=e,ci}function vi(){if(null===li){var e=si.alternate;e=null!==e?e.memoizedState:null}else e=li.next;var t=null===ci?si.memoizedState:ci.next;if(null!==t)ci=t,li=e;else{if(null===e)throw Error(r(310));e={memoizedState:(li=e).memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},null===ci?si.memoizedState=ci=e:ci=ci.next=e}return ci}function yi(e,t){return"function"==typeof t?t(e):t}function wi(e){var t=vi(),a=t.queue;if(null===a)throw Error(r(311));a.lastRenderedReducer=e;var n=li,o=n.baseQueue,i=a.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}n.baseQueue=o=i,a.pending=null}if(null!==o){i=o.next,n=n.baseState;var l=s=null,c=null,d=i;do{var u=d.lane;if((ii&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=p,s=n):c=c.next=p,si.lanes|=u,Rl|=u}d=d.next}while(null!==d&&d!==i);null===c?s=n:c.next=l,ia(n,t.memoizedState)||(vs=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,a.lastRenderedState=n}if(null!==(e=a.interleaved)){o=e;do{i=o.lane,si.lanes|=i,Rl|=i,o=o.next}while(o!==e)}else null===o&&(a.lanes=0);return[t.memoizedState,a.dispatch]}function ji(e){var t=vi(),a=t.queue;if(null===a)throw Error(r(311));a.lastRenderedReducer=e;var n=a.dispatch,o=a.pending,i=t.memoizedState;if(null!==o){a.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);ia(i,t.memoizedState)||(vs=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),a.lastRenderedState=i}return[i,n]}function Ni(){}function ki(e,t){var a=si,n=vi(),o=t(),i=!ia(n.memoizedState,o);if(i&&(n.memoizedState=o,vs=!0),n=n.queue,zi(Ei.bind(null,a,n,e),[e]),n.getSnapshot!==t||i||null!==ci&&1&ci.memoizedState.tag){if(a.flags|=2048,Ai(9,Si.bind(null,a,n,o,t),void 0,null),null===Il)throw Error(r(349));30&ii||Ci(a,t,o)}return o}function Ci(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=si.updateQueue)?(t={lastEffect:null,stores:null},si.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Si(e,t,r,a){t.value=r,t.getSnapshot=a,Pi(t)&&Oi(e)}function Ei(e,t,r){return r(function(){Pi(t)&&Oi(e)})}function Pi(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ia(e,r)}catch(Kd){return!0}}function Oi(e){var t=Fo(e,1);null!==t&&ac(t,e,1,-1)}function Ii(e){var t=bi();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},t.queue=e,e=e.dispatch=Ki.bind(null,si,e),[t.memoizedState,e]}function Ai(e,t,r,a){return e={tag:e,create:t,destroy:r,deps:a,next:null},null===(t=si.updateQueue)?(t={lastEffect:null,stores:null},si.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e),e}function Di(){return vi().memoizedState}function Mi(e,t,r,a){var n=bi();si.flags|=e,n.memoizedState=Ai(1|t,r,void 0,void 0===a?null:a)}function Ti(e,t,r,a){var n=vi();a=void 0===a?null:a;var o=void 0;if(null!==li){var i=li.memoizedState;if(o=i.destroy,null!==a&&gi(a,i.deps))return void(n.memoizedState=Ai(t,r,o,a))}si.flags|=e,n.memoizedState=Ai(1|t,r,o,a)}function Fi(e,t){return Mi(8390656,8,e,t)}function zi(e,t){return Ti(2048,8,e,t)}function Ri(e,t){return Ti(4,2,e,t)}function _i(e,t){return Ti(4,4,e,t)}function Li(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $i(e,t,r){return r=null!=r?r.concat([e]):null,Ti(4,4,Li.bind(null,t,e),r)}function Ui(){}function Bi(e,t){var r=vi();t=void 0===t?null:t;var a=r.memoizedState;return null!==a&&null!==t&&gi(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function Vi(e,t){var r=vi();t=void 0===t?null:t;var a=r.memoizedState;return null!==a&&null!==t&&gi(t,a[1])?a[0]:(e=e(),r.memoizedState=[e,t],e)}function Gi(e,t,r){return 21&ii?(ia(r,t)||(r=gt(),si.lanes|=r,Rl|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vs=!0),e.memoizedState=r)}function qi(e,t){var r=vt;vt=0!==r&&4>r?r:4,e(!0);var a=oi.transition;oi.transition={};try{e(!1),t()}finally{vt=r,oi.transition=a}}function Hi(){return vi().memoizedState}function Wi(e,t,r){var a=rc(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},Ji(e))Yi(t,r);else if(null!==(r=To(e,t,r,a))){ac(r,e,a,tc()),Xi(r,t,a)}}function Ki(e,t,r){var a=rc(e),n={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ji(e))Yi(t,n);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=o(i,r);if(n.hasEagerState=!0,n.eagerState=s,ia(s,i)){var l=t.interleaved;return null===l?(n.next=n,Mo(t)):(n.next=l.next,l.next=n),void(t.interleaved=n)}}catch(Zd){}null!==(r=To(e,t,n,a))&&(ac(r,e,a,n=tc()),Xi(r,t,a))}}function Ji(e){var t=e.alternate;return e===si||null!==t&&t===si}function Yi(e,t){ui=di=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Xi(e,t,r){if(4194240&r){var a=t.lanes;r|=a&=e.pendingLanes,t.lanes=r,bt(e,r)}}var Qi={readContext:Ao,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useInsertionEffect:mi,useLayoutEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useMutableSource:mi,useSyncExternalStore:mi,useId:mi,unstable_isNewReconciler:!1},Zi={readContext:Ao,useCallback:function(e,t){return bi().memoizedState=[e,void 0===t?null:t],e},useContext:Ao,useEffect:Fi,useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,Mi(4194308,4,Li.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Mi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mi(4,2,e,t)},useMemo:function(e,t){var r=bi();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var a=bi();return t=void 0!==r?r(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Wi.bind(null,si,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},bi().memoizedState=e},useState:Ii,useDebugValue:Ui,useDeferredValue:function(e){return bi().memoizedState=e},useTransition:function(){var e=Ii(!1),t=e[0];return e=qi.bind(null,e[1]),bi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,a){var n=si,o=bi();if(no){if(void 0===a)throw Error(r(407));a=a()}else{if(a=t(),null===Il)throw Error(r(349));30&ii||Ci(n,t,a)}o.memoizedState=a;var i={value:a,getSnapshot:t};return o.queue=i,Fi(Ei.bind(null,n,i,e),[e]),n.flags|=2048,Ai(9,Si.bind(null,n,i,a,t),void 0,null),a},useId:function(){var e=bi(),t=Il.identifierPrefix;if(no){var r=Xn;t=":"+t+"R"+(r=(Yn&~(1<<32-it(Yn)-1)).toString(32)+r),0<(r=pi++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=hi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ao,useCallback:Bi,useContext:Ao,useEffect:zi,useImperativeHandle:$i,useInsertionEffect:Ri,useLayoutEffect:_i,useMemo:Vi,useReducer:wi,useRef:Di,useState:function(){return wi(yi)},useDebugValue:Ui,useDeferredValue:function(e){return Gi(vi(),li.memoizedState,e)},useTransition:function(){return[wi(yi)[0],vi().memoizedState]},useMutableSource:Ni,useSyncExternalStore:ki,useId:Hi,unstable_isNewReconciler:!1},ts={readContext:Ao,useCallback:Bi,useContext:Ao,useEffect:zi,useImperativeHandle:$i,useInsertionEffect:Ri,useLayoutEffect:_i,useMemo:Vi,useReducer:ji,useRef:Di,useState:function(){return ji(yi)},useDebugValue:Ui,useDeferredValue:function(e){var t=vi();return null===li?t.memoizedState=e:Gi(t,li.memoizedState,e)},useTransition:function(){return[ji(yi)[0],vi().memoizedState]},useMutableSource:Ni,useSyncExternalStore:ki,useId:Hi,unstable_isNewReconciler:!1};function rs(e,t){if(e&&e.defaultProps){for(var r in t=T({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function as(e,t,r,a){r=null==(r=r(a,t=e.memoizedState))?t:T({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ns={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var a=tc(),n=rc(e),o=Lo(a,n);o.payload=t,null!=r&&(o.callback=r),null!==(t=$o(e,o,n))&&(ac(t,e,n,a),Uo(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=tc(),n=rc(e),o=Lo(a,n);o.tag=1,o.payload=t,null!=r&&(o.callback=r),null!==(t=$o(e,o,n))&&(ac(t,e,n,a),Uo(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=tc(),a=rc(e),n=Lo(r,a);n.tag=2,null!=t&&(n.callback=t),null!==(t=$o(e,n,a))&&(ac(t,e,a,r),Uo(t,e,a))}};function os(e,t,r,a,n,o,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!sa(r,a)||!sa(n,o))}function is(e,t,r){var a=!1,n=En,o=t.contextType;return"object"==typeof o&&null!==o?o=Ao(o):(n=Dn(t)?In:Pn.current,o=(a=null!=(a=t.contextTypes))?An(e,n):En),t=new t(r,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ns,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,r,a){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,a),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&ns.enqueueReplaceState(t,t.state,null)}function ls(e,t,r,a){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs={},Ro(e);var o=t.contextType;"object"==typeof o&&null!==o?n.context=Ao(o):(o=Dn(t)?In:Pn.current,n.context=An(e,o)),n.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(as(e,t,o,r),n.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof n.getSnapshotBeforeUpdate||"function"!=typeof n.UNSAFE_componentWillMount&&"function"!=typeof n.componentWillMount||(t=n.state,"function"==typeof n.componentWillMount&&n.componentWillMount(),"function"==typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),t!==n.state&&ns.enqueueReplaceState(n,n.state,null),Vo(e,r,n,a),n.state=e.memoizedState),"function"==typeof n.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var r="",a=t;do{r+=_(a),a=a.return}while(a);var n=r}catch(xu){n="\nError generating stack: "+xu.message+"\n"+xu.stack}return{value:e,source:t,stack:n,digest:null}}function ds(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function us(e,t){try{console.error(t.value)}catch(fh){setTimeout(function(){throw fh})}}var ps="function"==typeof WeakMap?WeakMap:Map;function hs(e,t,r){(r=Lo(-1,r)).tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){ql||(ql=!0,Hl=a),us(0,t)},r}function ms(e,t,r){(r=Lo(-1,r)).tag=3;var a=e.type.getDerivedStateFromError;if("function"==typeof a){var n=t.value;r.payload=function(){return a(n)},r.callback=function(){us(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(r.callback=function(){us(0,t),"function"!=typeof a&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function gs(e,t,r){var a=e.pingCache;if(null===a){a=e.pingCache=new ps;var n=new Set;a.set(t,n)}else void 0===(n=a.get(t))&&(n=new Set,a.set(t,n));n.has(r)||(n.add(r),e=Sc.bind(null,e,t,r),t.then(e,e))}function xs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function fs(e,t,r,a,n){return 1&e.mode?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Lo(-1,1)).tag=2,$o(r,t,1))),r.lanes|=1),e)}var bs=f.ReactCurrentOwner,vs=!1;function ws(e,t,r,a){t.child=null===e?jo(t,null,r,a):wo(t,e.child,r,a)}function js(e,t,r,a,n){r=r.render;var o=t.ref;return Io(t,n),a=xi(e,t,r,a,o,n),r=fi(),null===e||vs?(no&&r&&eo(t),t.flags|=1,ws(e,t,a,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,qs(e,t,n))}function Ns(e,t,r,a,n){if(null===e){var o=r.type;return"function"!=typeof o||Mc(o)||void 0!==o.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Fc(r.type,null,a,t,t.mode,n)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ks(e,t,o,a,n))}if(o=e.child,0===(e.lanes&n)){var i=o.memoizedProps;if((r=null!==(r=r.compare)?r:sa)(i,a)&&e.ref===t.ref)return qs(e,t,n)}return t.flags|=1,(e=Tc(o,a)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,r,a,n){if(null!==e){var o=e.memoizedProps;if(sa(o,a)&&e.ref===t.ref){if(vs=!1,t.pendingProps=a=o,0===(e.lanes&n))return t.lanes=e.lanes,qs(e,t,n);131072&e.flags&&(vs=!0)}}return Es(e,t,r,a,n)}function Cs(e,t,r){var a=t.pendingProps,n=a.children,o=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(1&t.mode){if(!(1073741824&r))return e=null!==o?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sn(Tl,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==o?o.baseLanes:r,Sn(Tl,Ml),Ml|=a}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sn(Tl,Ml),Ml|=r;else null!==o?(a=o.baseLanes|r,t.memoizedState=null):a=r,Sn(Tl,Ml),Ml|=a;return ws(e,t,n,r),t.child}function Ss(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,r,a,n){var o=Dn(r)?In:Pn.current;return o=An(t,o),Io(t,n),r=xi(e,t,r,a,o,n),a=fi(),null===e||vs?(no&&a&&eo(t),t.flags|=1,ws(e,t,r,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,qs(e,t,n))}function Ps(e,t,r,a,n){if(Dn(r)){var o=!0;zn(t)}else o=!1;if(Io(t,n),null===t.stateNode)Gs(e,t),is(t,r,a),ls(t,r,a,n),a=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,c=r.contextType;"object"==typeof c&&null!==c?c=Ao(c):c=An(t,c=Dn(r)?In:Pn.current);var d=r.getDerivedStateFromProps,u="function"==typeof d||"function"==typeof i.getSnapshotBeforeUpdate;u||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==a||l!==c)&&ss(t,i,a,c),zo=!1;var p=t.memoizedState;i.state=p,Vo(t,a,i,n),l=t.memoizedState,s!==a||p!==l||On.current||zo?("function"==typeof d&&(as(t,r,d,a),l=t.memoizedState),(s=zo||os(t,r,s,a,p,l,c))?(u||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=l),i.props=a,i.state=l,i.context=c,a=s):("function"==typeof i.componentDidMount&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,_o(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:rs(t.type,s),i.props=c,u=t.pendingProps,p=i.context,"object"==typeof(l=r.contextType)&&null!==l?l=Ao(l):l=An(t,l=Dn(r)?In:Pn.current);var h=r.getDerivedStateFromProps;(d="function"==typeof h||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==u||p!==l)&&ss(t,i,a,l),zo=!1,p=t.memoizedState,i.state=p,Vo(t,a,i,n);var m=t.memoizedState;s!==u||p!==m||On.current||zo?("function"==typeof h&&(as(t,r,h,a),m=t.memoizedState),(c=zo||os(t,r,c,a,p,m,l)||!1)?(d||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(a,m,l),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(a,m,l)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=m),i.props=a,i.state=m,i.context=l,a=c):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),a=!1)}return Os(e,t,r,a,o,n)}function Os(e,t,r,a,n,o){Ss(e,t);var i=!!(128&t.flags);if(!a&&!i)return n&&Rn(t,r,!1),qs(e,t,o);a=t.stateNode,bs.current=t;var s=i&&"function"!=typeof r.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&i?(t.child=wo(t,e.child,null,o),t.child=wo(t,null,s,o)):ws(e,t,s,o),t.memoizedState=a.state,n&&Rn(t,r,!0),t.child}function Is(e){var t=e.stateNode;t.pendingContext?Tn(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Tn(0,t.context,!1),Yo(e,t.containerInfo)}function As(e,t,r,a,n){return mo(),go(n),t.flags|=256,ws(e,t,r,a),t.child}var Ds,Ms,Ts,Fs,zs={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function _s(e,t,a){var n,o=t.pendingProps,i=ei.current,s=!1,l=!!(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&!!(2&i)),n?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Sn(ei,1&i),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=o.children,e=o.fallback,s?(o=t.mode,s=t.child,l={mode:"hidden",children:l},1&o||null===s?s=Rc(l,o,0,null):(s.childLanes=0,s.pendingProps=l),e=zc(e,o,a,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(a),t.memoizedState=zs,e):Ls(t,l));if(null!==(i=e.memoizedState)&&null!==(n=i.dehydrated))return function(e,t,a,n,o,i,s){if(a)return 256&t.flags?(t.flags&=-257,$s(e,t,s,n=ds(Error(r(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=n.fallback,o=t.mode,n=Rc({mode:"visible",children:n.children},o,0,null),(i=zc(i,o,s,null)).flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,1&t.mode&&wo(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=zs,i);if(!(1&t.mode))return $s(e,t,s,null);if("$!"===o.data){if(n=o.nextSibling&&o.nextSibling.dataset)var l=n.dgst;return n=l,$s(e,t,s,n=ds(i=Error(r(419)),n,void 0))}if(l=0!==(s&e.childLanes),vs||l){if(null!==(n=Il)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(n.suspendedLanes|s))?0:o)&&o!==i.retryLane&&(i.retryLane=o,Fo(e,o),ac(n,e,o,-1))}return xc(),$s(e,t,s,n=ds(Error(r(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Pc.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,ao=cn(o.nextSibling),ro=t,no=!0,oo=null,null!==e&&(Wn[Kn++]=Yn,Wn[Kn++]=Xn,Wn[Kn++]=Jn,Yn=e.id,Xn=e.overflow,Jn=t),t=Ls(t,n.children),t.flags|=4096,t)}(e,t,l,o,n,i,a);if(s){s=o.fallback,l=t.mode,n=(i=e.child).sibling;var c={mode:"hidden",children:o.children};return 1&l||t.child===i?(o=Tc(i,c)).subtreeFlags=14680064&i.subtreeFlags:((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null),null!==n?s=Tc(n,s):(s=zc(s,l,a,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,l=null===(l=e.child.memoizedState)?Rs(a):{baseLanes:l.baseLanes|a,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~a,t.memoizedState=zs,o}return e=(s=e.child).sibling,o=Tc(s,{mode:"visible",children:o.children}),!(1&t.mode)&&(o.lanes=a),o.return=t,o.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=o,t.memoizedState=null,o}function Ls(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $s(e,t,r,a){return null!==a&&go(a),wo(t,e.child,null,r),(e=Ls(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,r){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Oo(e.return,t,r)}function Bs(e,t,r,a,n){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:n}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=a,o.tail=r,o.tailMode=n)}function Vs(e,t,r){var a=t.pendingProps,n=a.revealOrder,o=a.tail;if(ws(e,t,a.children,r),2&(a=ei.current))a=1&a|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,r,t);else if(19===e.tag)Us(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Sn(ei,a),1&t.mode)switch(n){case"forwards":for(r=t.child,n=null;null!==r;)null!==(e=r.alternate)&&null===ti(e)&&(n=r),r=r.sibling;null===(r=n)?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),Bs(t,!1,n,r,o);break;case"backwards":for(r=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===ti(e)){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}Bs(t,!0,r,null,o);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Gs(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,a){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(a&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(a=Tc(e=t.child,e.pendingProps),t.child=a,a.return=t;null!==e.sibling;)e=e.sibling,(a=a.sibling=Tc(e,e.pendingProps)).return=t;a.sibling=null}return t.child}function Hs(e,t){if(!no)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;null!==r;)null!==r.alternate&&(a=r),r=r.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,a=0;if(t)for(var n=e.child;null!==n;)r|=n.lanes|n.childLanes,a|=14680064&n.subtreeFlags,a|=14680064&n.flags,n.return=e,n=n.sibling;else for(n=e.child;null!==n;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function Ks(e,t,a){var o=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Dn(t.type)&&Mn(),Ws(t),null;case 3:return o=t.stateNode,Xo(),Cn(On),Cn(Pn),ai(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),null!==e&&null!==e.child||(po(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Ms(e,t),Ws(t),null;case 5:Zo(t);var i=Jo(Ko.current);if(a=t.type,null!==e&&null!=t.stateNode)Ts(e,t,a,o,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(null===t.stateNode)throw Error(r(166));return Ws(t),null}if(e=Jo(Ho.current),po(t)){o=t.stateNode,a=t.type;var s=t.memoizedProps;switch(o[pn]=t,o[hn]=s,e=!!(1&t.mode),a){case"dialog":_a("cancel",o),_a("close",o);break;case"iframe":case"object":case"embed":_a("load",o);break;case"video":case"audio":for(i=0;i<Ta.length;i++)_a(Ta[i],o);break;case"source":_a("error",o);break;case"img":case"image":case"link":_a("error",o),_a("load",o);break;case"details":_a("toggle",o);break;case"input":K(o,s),_a("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!s.multiple},_a("invalid",o);break;case"textarea":ne(o,s),_a("invalid",o)}for(var l in be(a,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"==typeof c?o.textContent!==c&&(!0!==s.suppressHydrationWarning&&Xa(o.textContent,c,e),i=["children",c]):"number"==typeof c&&o.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Xa(o.textContent,c,e),i=["children",""+c]):n.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&_a("scroll",o)}switch(a){case"input":V(o),X(o,s,!0);break;case"textarea":V(o),se(o);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(o.onclick=Qa)}o=i,t.updateQueue=o,null!==o&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(a)),"http://www.w3.org/1999/xhtml"===e?"script"===a?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof o.is?e=l.createElement(a,{is:o.is}):(e=l.createElement(a),"select"===a&&(l=e,o.multiple?l.multiple=!0:o.size&&(l.size=o.size))):e=l.createElementNS(e,a),e[pn]=t,e[hn]=o,Ds(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(a,o),a){case"dialog":_a("cancel",e),_a("close",e),i=o;break;case"iframe":case"object":case"embed":_a("load",e),i=o;break;case"video":case"audio":for(i=0;i<Ta.length;i++)_a(Ta[i],e);i=o;break;case"source":_a("error",e),i=o;break;case"img":case"image":case"link":_a("error",e),_a("load",e),i=o;break;case"details":_a("toggle",e),i=o;break;case"input":K(e,o),i=W(e,o),_a("invalid",e);break;case"option":default:i=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},i=T({},o,{value:void 0}),_a("invalid",e);break;case"textarea":ne(e,o),i=re(e,o),_a("invalid",e)}for(s in be(a,i),c=i)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?xe(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===s?"string"==typeof d?("textarea"!==a||""!==d)&&pe(e,d):"number"==typeof d&&pe(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(n.hasOwnProperty(s)?null!=d&&"onScroll"===s&&_a("scroll",e):null!=d&&x(e,s,d,l))}switch(a){case"input":V(e),X(e,o,!1);break;case"textarea":V(e),se(e);break;case"option":null!=o.value&&e.setAttribute("value",""+U(o.value));break;case"select":e.multiple=!!o.multiple,null!=(s=o.value)?te(e,!!o.multiple,s,!1):null!=o.defaultValue&&te(e,!!o.multiple,o.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Qa)}switch(a){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Fs(e,t,e.memoizedProps,o);else{if("string"!=typeof o&&null===t.stateNode)throw Error(r(166));if(a=Jo(Ko.current),Jo(Ho.current),po(t)){if(o=t.stateNode,a=t.memoizedProps,o[pn]=t,(s=o.nodeValue!==a)&&null!==(e=ro))switch(e.tag){case 3:Xa(o.nodeValue,a,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xa(o.nodeValue,a,!!(1&e.mode))}s&&(t.flags|=4)}else(o=(9===a.nodeType?a:a.ownerDocument).createTextNode(o))[pn]=t,t.stateNode=o}return Ws(t),null;case 13:if(Cn(ei),o=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(no&&null!==ao&&1&t.mode&&!(128&t.flags))ho(),mo(),t.flags|=98560,s=!1;else if(s=po(t),null!==o&&null!==o.dehydrated){if(null===e){if(!s)throw Error(r(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(r(317));s[pn]=t}else mo(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),s=!1}else null!==oo&&(sc(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=a,t):((o=null!==o)!==(null!==e&&null!==e.memoizedState)&&o&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ei.current?0===Fl&&(Fl=3):xc())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return Xo(),Ms(e,t),null===e&&Ua(t.stateNode.containerInfo),Ws(t),null;case 10:return Po(t.type._context),Ws(t),null;case 19:if(Cn(ei),null===(s=t.memoizedState))return Ws(t),null;if(o=!!(128&t.flags),null===(l=s.rendering))if(o)Hs(s,!1);else{if(0!==Fl||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=ti(e))){for(t.flags|=128,Hs(s,!1),null!==(o=l.updateQueue)&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=a,a=t.child;null!==a;)e=o,(s=a).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return Sn(ei,1&ei.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>Vl&&(t.flags|=128,o=!0,Hs(s,!1),t.lanes=4194304)}else{if(!o)if(null!==(e=ti(l))){if(t.flags|=128,o=!0,null!==(a=e.updateQueue)&&(t.updateQueue=a,t.flags|=4),Hs(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!no)return Ws(t),null}else 2*Xe()-s.renderingStartTime>Vl&&1073741824!==a&&(t.flags|=128,o=!0,Hs(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(a=s.last)?a.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,a=ei.current,Sn(ei,o?1&a|2:1&a),t):(Ws(t),null);case 22:case 23:return pc(),o=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==o&&(t.flags|=8192),o&&1&t.mode?!!(1073741824&Ml)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}function Js(e,t){switch(to(t),t.tag){case 1:return Dn(t.type)&&Mn(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xo(),Cn(On),Cn(Pn),ai(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Cn(ei),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));mo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Cn(ei),null;case 4:return Xo(),null;case 10:return Po(t.type._context),null;case 22:case 23:return pc(),null;default:return null}}Ds=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ms=function(){},Ts=function(e,t,r,a){var o=e.memoizedProps;if(o!==a){e=t.stateNode,Jo(Ho.current);var i,s=null;switch(r){case"input":o=W(e,o),a=W(e,a),s=[];break;case"select":o=T({},o,{value:void 0}),a=T({},a,{value:void 0}),s=[];break;case"textarea":o=re(e,o),a=re(e,a),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof a.onClick&&(e.onclick=Qa)}for(d in be(r,a),r=null,o)if(!a.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var l=o[d];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(n.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in a){var c=a[d];if(l=null!=o?o[d]:void 0,a.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(s||(s=[]),s.push(d,r)),r=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(d,c)):"children"===d?"string"!=typeof c&&"number"!=typeof c||(s=s||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(n.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&_a("scroll",e),s||l===c||(s=[])):(s=s||[]).push(d,c))}r&&(s=s||[]).push("style",r);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Fs=function(e,t,r,a){r!==a&&(t.flags|=4)};var Ys=!1,Xs=!1,Qs="function"==typeof WeakSet?WeakSet:Set,Zs=null;function el(e,t){var r=e.ref;if(null!==r)if("function"==typeof r)try{r(null)}catch(Kd){Cc(e,t,Kd)}else r.current=null}function tl(e,t,r){try{r()}catch(Kd){Cc(e,t,Kd)}}var rl=!1;function al(e,t,r){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var n=a=a.next;do{if((n.tag&e)===e){var o=n.destroy;n.destroy=void 0,void 0!==o&&tl(t,r,o)}n=n.next}while(n!==a)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function ol(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"==typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pn],delete t[hn],delete t[gn],delete t[xn],delete t[fn])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,r){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!=(r=r._reactRootContainer)||null!==t.onclick||(t.onclick=Qa));else if(4!==a&&null!==(e=e.child))for(cl(e,t,r),e=e.sibling;null!==e;)cl(e,t,r),e=e.sibling}function dl(e,t,r){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==a&&null!==(e=e.child))for(dl(e,t,r),e=e.sibling;null!==e;)dl(e,t,r),e=e.sibling}var ul=null,pl=!1;function hl(e,t,r){for(r=r.child;null!==r;)ml(e,t,r),r=r.sibling}function ml(e,t,r){if(ot&&"function"==typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(nt,r)}catch(cu){}switch(r.tag){case 5:Xs||el(r,t);case 6:var a=ul,n=pl;ul=null,hl(e,t,r),pl=n,null!==(ul=a)&&(pl?(e=ul,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):ul.removeChild(r.stateNode));break;case 18:null!==ul&&(pl?(e=ul,r=r.stateNode,8===e.nodeType?ln(e.parentNode,r):1===e.nodeType&&ln(e,r),Bt(e)):ln(ul,r.stateNode));break;case 4:a=ul,n=pl,ul=r.stateNode.containerInfo,pl=!0,hl(e,t,r),ul=a,pl=n;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(a=r.updateQueue)&&null!==(a=a.lastEffect))){n=a=a.next;do{var o=n,i=o.destroy;o=o.tag,void 0!==i&&(2&o||4&o)&&tl(r,t,i),n=n.next}while(n!==a)}hl(e,t,r);break;case 1:if(!Xs&&(el(r,t),"function"==typeof(a=r.stateNode).componentWillUnmount))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(cu){Cc(r,t,cu)}hl(e,t,r);break;case 21:hl(e,t,r);break;case 22:1&r.mode?(Xs=(a=Xs)||null!==r.memoizedState,hl(e,t,r),Xs=a):hl(e,t,r);break;default:hl(e,t,r)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Qs),t.forEach(function(t){var a=Oc.bind(null,e,t);r.has(t)||(r.add(t),t.then(a,a))})}}function xl(e,t){var a=t.deletions;if(null!==a)for(var n=0;n<a.length;n++){var o=a[n];try{var i=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,pl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,pl=!0;break e}l=l.return}if(null===ul)throw Error(r(160));ml(i,s,o),ul=null,pl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(Zd){Cc(o,t,Zd)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fl(t,e),t=t.sibling}function fl(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xl(t,e),bl(e),4&n){try{al(3,e,e.return),nl(3,e)}catch(Qd){Cc(e,e.return,Qd)}try{al(5,e,e.return)}catch(Qd){Cc(e,e.return,Qd)}}break;case 1:xl(t,e),bl(e),512&n&&null!==a&&el(a,a.return);break;case 5:if(xl(t,e),bl(e),512&n&&null!==a&&el(a,a.return),32&e.flags){var o=e.stateNode;try{pe(o,"")}catch(Qd){Cc(e,e.return,Qd)}}if(4&n&&null!=(o=e.stateNode)){var i=e.memoizedProps,s=null!==a?a.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&J(o,i),ve(l,s);var d=ve(l,i);for(s=0;s<c.length;s+=2){var u=c[s],p=c[s+1];"style"===u?xe(o,p):"dangerouslySetInnerHTML"===u?ue(o,p):"children"===u?pe(o,p):x(o,u,p,d)}switch(l){case"input":Y(o,i);break;case"textarea":oe(o,i);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var m=i.value;null!=m?te(o,!!i.multiple,m,!1):h!==!!i.multiple&&(null!=i.defaultValue?te(o,!!i.multiple,i.defaultValue,!0):te(o,!!i.multiple,i.multiple?[]:"",!1))}o[hn]=i}catch(Qd){Cc(e,e.return,Qd)}}break;case 6:if(xl(t,e),bl(e),4&n){if(null===e.stateNode)throw Error(r(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(Qd){Cc(e,e.return,Qd)}}break;case 3:if(xl(t,e),bl(e),4&n&&null!==a&&a.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(Qd){Cc(e,e.return,Qd)}break;case 4:default:xl(t,e),bl(e);break;case 13:xl(t,e),bl(e),8192&(o=e.child).flags&&(i=null!==o.memoizedState,o.stateNode.isHidden=i,!i||null!==o.alternate&&null!==o.alternate.memoizedState||(Bl=Xe())),4&n&&gl(e);break;case 22:if(u=null!==a&&null!==a.memoizedState,1&e.mode?(Xs=(d=Xs)||u,xl(t,e),Xs=d):xl(t,e),bl(e),8192&n){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&1&e.mode)for(Zs=e,u=e.child;null!==u;){for(p=Zs=u;null!==Zs;){switch(m=(h=Zs).child,h.tag){case 0:case 11:case 14:case 15:al(4,h,h.return);break;case 1:el(h,h.return);var g=h.stateNode;if("function"==typeof g.componentWillUnmount){n=h,a=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(Qd){Cc(n,a,Qd)}}break;case 5:el(h,h.return);break;case 22:if(null!==h.memoizedState){jl(p);continue}}null!==m?(m.return=h,Zs=m):jl(p)}u=u.sibling}e:for(u=null,p=e;;){if(5===p.tag){if(null===u){u=p;try{o=p.stateNode,d?"function"==typeof(i=o.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=p.stateNode,s=null!=(c=p.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",s))}catch(Qd){Cc(e,e.return,Qd)}}}else if(6===p.tag){if(null===u)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(Qd){Cc(e,e.return,Qd)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:xl(t,e),bl(e),4&n&&gl(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var a=e.return;null!==a;){if(sl(a)){var n=a;break e}a=a.return}throw Error(r(160))}switch(n.tag){case 5:var o=n.stateNode;32&n.flags&&(pe(o,""),n.flags&=-33),dl(e,ll(e),o);break;case 3:case 4:var i=n.stateNode.containerInfo;cl(e,ll(e),i);break;default:throw Error(r(161))}}catch(vh){Cc(e,e.return,vh)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,r){Zs=e,yl(e)}function yl(e,t,r){for(var a=!!(1&e.mode);null!==Zs;){var n=Zs,o=n.child;if(22===n.tag&&a){var i=null!==n.memoizedState||Ys;if(!i){var s=n.alternate,l=null!==s&&null!==s.memoizedState||Xs;s=Ys;var c=Xs;if(Ys=i,(Xs=l)&&!c)for(Zs=n;null!==Zs;)l=(i=Zs).child,22===i.tag&&null!==i.memoizedState?Nl(n):null!==l?(l.return=i,Zs=l):Nl(n);for(;null!==o;)Zs=o,yl(o),o=o.sibling;Zs=n,Ys=s,Xs=c}wl(e)}else 8772&n.subtreeFlags&&null!==o?(o.return=n,Zs=o):wl(e)}}function wl(e){for(;null!==Zs;){var t=Zs;if(8772&t.flags){var a=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Xs||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Xs)if(null===a)n.componentDidMount();else{var o=t.elementType===t.type?a.memoizedProps:rs(t.type,a.memoizedProps);n.componentDidUpdate(o,a.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Go(t,i,n);break;case 3:var s=t.updateQueue;if(null!==s){if(a=null,null!==t.child)switch(t.child.tag){case 5:case 1:a=t.child.stateNode}Go(t,s,a)}break;case 5:var l=t.stateNode;if(null===a&&4&t.flags){a=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&a.focus();break;case"img":c.src&&(a.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&Bt(p)}}}break;default:throw Error(r(163))}Xs||512&t.flags&&ol(t)}catch(ys){Cc(t,t.return,ys)}}if(t===e){Zs=null;break}if(null!==(a=t.sibling)){a.return=t.return,Zs=a;break}Zs=t.return}}function jl(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Zs=r;break}Zs=t.return}}function Nl(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nl(4,t)}catch(vh){Cc(t,r,vh)}break;case 1:var a=t.stateNode;if("function"==typeof a.componentDidMount){var n=t.return;try{a.componentDidMount()}catch(vh){Cc(t,n,vh)}}var o=t.return;try{ol(t)}catch(vh){Cc(t,o,vh)}break;case 5:var i=t.return;try{ol(t)}catch(vh){Cc(t,i,vh)}}}catch(vh){Cc(t,t.return,vh)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var kl,Cl=Math.ceil,Sl=f.ReactCurrentDispatcher,El=f.ReactCurrentOwner,Pl=f.ReactCurrentBatchConfig,Ol=0,Il=null,Al=null,Dl=0,Ml=0,Tl=kn(0),Fl=0,zl=null,Rl=0,_l=0,Ll=0,$l=null,Ul=null,Bl=0,Vl=1/0,Gl=null,ql=!1,Hl=null,Wl=null,Kl=!1,Jl=null,Yl=0,Xl=0,Ql=null,Zl=-1,ec=0;function tc(){return 6&Ol?Xe():-1!==Zl?Zl:Zl=Xe()}function rc(e){return 1&e.mode?2&Ol&&0!==Dl?Dl&-Dl:null!==xo.transition?(0===ec&&(ec=gt()),ec):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Yt(e.type):1}function ac(e,t,a,n){if(50<Xl)throw Xl=0,Ql=null,Error(r(185));ft(e,a,n),2&Ol&&e===Il||(e===Il&&(!(2&Ol)&&(_l|=a),4===Fl&&lc(e,Dl)),nc(e,n),1===a&&0===Ol&&!(1&t.mode)&&(Vl=Xe()+500,Ln&&Bn()))}function nc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-it(o),s=1<<i,l=n[i];-1===l?0!==(s&r)&&0===(s&a)||(n[i]=ht(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var a=pt(e,e===Il?Dl:0);if(0===a)null!==r&&Ke(r),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=r&&Ke(r),1===t)0===e.tag?function(e){Ln=!0,Un(e)}(cc.bind(null,e)):Un(cc.bind(null,e)),on(function(){!(6&Ol)&&Bn()}),r=null;else{switch(yt(a)){case 1:r=Ze;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=at}r=Ic(r,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function oc(e,t){if(Zl=-1,ec=0,6&Ol)throw Error(r(327));var a=e.callbackNode;if(Nc()&&e.callbackNode!==a)return null;var n=pt(e,e===Il?Dl:0);if(0===n)return null;if(30&n||0!==(n&e.expiredLanes)||t)t=fc(e,n);else{t=n;var o=Ol;Ol|=2;var i=gc();for(Il===e&&Dl===t||(Gl=null,Vl=Xe()+500,hc(e,t));;)try{vc();break}catch(cu){mc(e,cu)}Eo(),Sl.current=i,Ol=o,null!==Al?t=0:(Il=null,Dl=0,t=Fl)}if(0!==t){if(2===t&&(0!==(o=mt(e))&&(n=o,t=ic(e,o))),1===t)throw a=zl,hc(e,0),lc(e,n),nc(e,Xe()),a;if(6===t)lc(e,n);else{if(o=e.current.alternate,!(30&n||function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var a=0;a<r.length;a++){var n=r[a],o=n.getSnapshot;n=n.value;try{if(!ia(o(),n))return!1}catch(s){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)||(t=fc(e,n),2===t&&(i=mt(e),0!==i&&(n=i,t=ic(e,i))),1!==t)))throw a=zl,hc(e,0),lc(e,n),nc(e,Xe()),a;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(r(345));case 2:case 5:jc(e,Ul,Gl);break;case 3:if(lc(e,n),(130023424&n)===n&&10<(t=Bl+500-Xe())){if(0!==pt(e,0))break;if(((o=e.suspendedLanes)&n)!==n){tc(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=rn(jc.bind(null,e,Ul,Gl),t);break}jc(e,Ul,Gl);break;case 4:if(lc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,o=-1;0<n;){var s=31-it(n);i=1<<s,(s=t[s])>o&&(o=s),n&=~i}if(n=o,10<(n=(120>(n=Xe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cl(n/1960))-n)){e.timeoutHandle=rn(jc.bind(null,e,Ul,Gl),n);break}jc(e,Ul,Gl);break;default:throw Error(r(329))}}}return nc(e,Xe()),e.callbackNode===a?oc.bind(null,e):null}function ic(e,t){var r=$l;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=fc(e,t))&&(t=Ul,Ul=r,null!==t&&sc(t)),e}function sc(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function lc(e,t){for(t&=~Ll,t&=~_l,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-it(t),a=1<<r;e[r]=-1,t&=~a}}function cc(e){if(6&Ol)throw Error(r(327));Nc();var t=pt(e,0);if(!(1&t))return nc(e,Xe()),null;var a=fc(e,t);if(0!==e.tag&&2===a){var n=mt(e);0!==n&&(t=n,a=ic(e,n))}if(1===a)throw a=zl,hc(e,0),lc(e,t),nc(e,Xe()),a;if(6===a)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Ul,Gl),nc(e,Xe()),null}function dc(e,t){var r=Ol;Ol|=1;try{return e(t)}finally{0===(Ol=r)&&(Vl=Xe()+500,Ln&&Bn())}}function uc(e){null!==Jl&&0===Jl.tag&&!(6&Ol)&&Nc();var t=Ol;Ol|=1;var r=Pl.transition,a=vt;try{if(Pl.transition=null,vt=1,e)return e()}finally{vt=a,Pl.transition=r,!(6&(Ol=t))&&Bn()}}function pc(){Ml=Tl.current,Cn(Tl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,an(r)),null!==Al)for(r=Al.return;null!==r;){var a=r;switch(to(a),a.tag){case 1:null!=(a=a.type.childContextTypes)&&Mn();break;case 3:Xo(),Cn(On),Cn(Pn),ai();break;case 5:Zo(a);break;case 4:Xo();break;case 13:case 19:Cn(ei);break;case 10:Po(a.type._context);break;case 22:case 23:pc()}r=r.return}if(Il=e,Al=e=Tc(e.current,null),Dl=Ml=t,Fl=0,zl=null,Ll=_l=Rl=0,Ul=$l=null,null!==Do){for(t=0;t<Do.length;t++)if(null!==(a=(r=Do[t]).interleaved)){r.interleaved=null;var n=a.next,o=r.pending;if(null!==o){var i=o.next;o.next=n,a.next=i}r.pending=a}Do=null}return e}function mc(e,t){for(;;){var a=Al;try{if(Eo(),ni.current=Qi,di){for(var n=si.memoizedState;null!==n;){var o=n.queue;null!==o&&(o.pending=null),n=n.next}di=!1}if(ii=0,ci=li=si=null,ui=!1,pi=0,El.current=null,null===a||null===a.return){Fl=1,zl=t,Al=null;break}e:{var i=e,s=a.return,l=a,c=t;if(t=Dl,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var d=c,u=l,p=u.tag;if(!(1&u.mode||0!==p&&11!==p&&15!==p)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=xs(s);if(null!==m){m.flags&=-257,fs(m,s,l,0,t),1&m.mode&&gs(i,d,t),c=d;var g=(t=m).updateQueue;if(null===g){var x=new Set;x.add(c),t.updateQueue=x}else g.add(c);break e}if(!(1&t)){gs(i,d,t),xc();break e}c=Error(r(426))}else if(no&&1&l.mode){var f=xs(s);if(null!==f){!(65536&f.flags)&&(f.flags|=256),fs(f,s,l,0,t),go(cs(c,l));break e}}i=c=cs(c,l),4!==Fl&&(Fl=2),null===$l?$l=[i]:$l.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Bo(i,hs(0,c,t));break e;case 1:l=c;var b=i.type,v=i.stateNode;if(!(128&i.flags||"function"!=typeof b.getDerivedStateFromError&&(null===v||"function"!=typeof v.componentDidCatch||null!==Wl&&Wl.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t,Bo(i,ms(i,l,t));break e}}i=i.return}while(null!==i)}wc(a)}catch(y){t=y,Al===a&&null!==a&&(Al=a=a.return);continue}break}}function gc(){var e=Sl.current;return Sl.current=Qi,null===e?Qi:e}function xc(){0!==Fl&&3!==Fl&&2!==Fl||(Fl=4),null===Il||!(268435455&Rl)&&!(268435455&_l)||lc(Il,Dl)}function fc(e,t){var a=Ol;Ol|=2;var n=gc();for(Il===e&&Dl===t||(Gl=null,hc(e,t));;)try{bc();break}catch(Xd){mc(e,Xd)}if(Eo(),Ol=a,Sl.current=n,null!==Al)throw Error(r(261));return Il=null,Dl=0,Fl}function bc(){for(;null!==Al;)yc(Al)}function vc(){for(;null!==Al&&!Je();)yc(Al)}function yc(e){var t=kl(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?wc(e):Al=t,El.current=null}function wc(e){var t=e;do{var r=t.alternate;if(e=t.return,32768&t.flags){if(null!==(r=Js(r,t)))return r.flags&=32767,void(Al=r);if(null===e)return Fl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(r=Ks(r,t,Ml)))return void(Al=r);if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Fl&&(Fl=5)}function jc(e,t,a){var n=vt,o=Pl.transition;try{Pl.transition=null,vt=1,function(e,t,a,n){do{Nc()}while(null!==Jl);if(6&Ol)throw Error(r(327));a=e.finishedWork;var o=e.finishedLanes;if(null===a)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var i=a.lanes|a.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-it(r),o=1<<n;t[n]=0,a[n]=-1,e[n]=-1,r&=~o}}(e,i),e===Il&&(Al=Il=null,Dl=0),!(2064&a.subtreeFlags)&&!(2064&a.flags)||Kl||(Kl=!0,Ic(tt,function(){return Nc(),null})),i=!!(15990&a.flags),!!(15990&a.subtreeFlags)||i){i=Pl.transition,Pl.transition=null;var s=vt;vt=1;var l=Ol;Ol|=4,El.current=null,function(e,t){if(Za=Gt,pa(e=ua())){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(a=(a=e.ownerDocument)&&a.defaultView||window).getSelection&&a.getSelection();if(n&&0!==n.rangeCount){a=n.anchorNode;var o=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{a.nodeType,i.nodeType}catch(Eu){a=null;break e}var s=0,l=-1,c=-1,d=0,u=0,p=e,h=null;t:for(;;){for(var m;p!==a||0!==o&&3!==p.nodeType||(l=s+o),p!==i||0!==n&&3!==p.nodeType||(c=s+n),3===p.nodeType&&(s+=p.nodeValue.length),null!==(m=p.firstChild);)h=p,p=m;for(;;){if(p===e)break t;if(h===a&&++d===o&&(l=s),h===i&&++u===n&&(c=s),null!==(m=p.nextSibling))break;h=(p=h).parentNode}p=m}a=-1===l||-1===c?null:{start:l,end:c}}else a=null}a=a||{start:0,end:0}}else a=null;for(en={focusedElem:e,selectionRange:a},Gt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,1028&t.subtreeFlags&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var g=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var x=g.memoizedProps,f=g.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?x:rs(t.type,x),f);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(r(163))}}catch(Eu){Cc(t,t.return,Eu)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}g=rl,rl=!1}(e,a),fl(a,e),ha(en),Gt=!!Za,en=Za=null,e.current=a,vl(a),Ye(),Ol=l,vt=s,Pl.transition=i}else e.current=a;if(Kl&&(Kl=!1,Jl=e,Yl=o),i=e.pendingLanes,0===i&&(Wl=null),function(e){if(ot&&"function"==typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(nt,e,void 0,!(128&~e.current.flags))}catch(t){}}(a.stateNode),nc(e,Xe()),null!==t)for(n=e.onRecoverableError,a=0;a<t.length;a++)o=t[a],n(o.value,{componentStack:o.stack,digest:o.digest});if(ql)throw ql=!1,e=Hl,Hl=null,e;!!(1&Yl)&&0!==e.tag&&Nc(),i=e.pendingLanes,1&i?e===Ql?Xl++:(Xl=0,Ql=e):Xl=0,Bn()}(e,t,a,n)}finally{Pl.transition=o,vt=n}return null}function Nc(){if(null!==Jl){var e=yt(Yl),t=Pl.transition,a=vt;try{if(Pl.transition=null,vt=16>e?16:e,null===Jl)var n=!1;else{if(e=Jl,Jl=null,Yl=0,6&Ol)throw Error(r(331));var o=Ol;for(Ol|=4,Zs=e.current;null!==Zs;){var i=Zs,s=i.child;if(16&Zs.flags){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Zs=d;null!==Zs;){var u=Zs;switch(u.tag){case 0:case 11:case 15:al(8,u,i)}var p=u.child;if(null!==p)p.return=u,Zs=p;else for(;null!==Zs;){var h=(u=Zs).sibling,m=u.return;if(il(u),u===d){Zs=null;break}if(null!==h){h.return=m,Zs=h;break}Zs=m}}}var g=i.alternate;if(null!==g){var x=g.child;if(null!==x){g.child=null;do{var f=x.sibling;x.sibling=null,x=f}while(null!==x)}}Zs=i}}if(2064&i.subtreeFlags&&null!==s)s.return=i,Zs=s;else e:for(;null!==Zs;){if(2048&(i=Zs).flags)switch(i.tag){case 0:case 11:case 15:al(9,i,i.return)}var b=i.sibling;if(null!==b){b.return=i.return,Zs=b;break e}Zs=i.return}}var v=e.current;for(Zs=v;null!==Zs;){var y=(s=Zs).child;if(2064&s.subtreeFlags&&null!==y)y.return=s,Zs=y;else e:for(s=v;null!==Zs;){if(2048&(l=Zs).flags)try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(j){Cc(l,l.return,j)}if(l===s){Zs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Zs=w;break e}Zs=l.return}}if(Ol=o,Bn(),ot&&"function"==typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(nt,e)}catch(j){}n=!0}return n}finally{vt=a,Pl.transition=t}}return!1}function kc(e,t,r){e=$o(e,t=hs(0,t=cs(r,t),1),1),t=tc(),null!==e&&(ft(e,1,t),nc(e,t))}function Cc(e,t,r){if(3===e.tag)kc(e,e,r);else for(;null!==t;){if(3===t.tag){kc(t,e,r);break}if(1===t.tag){var a=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof a.componentDidCatch&&(null===Wl||!Wl.has(a))){t=$o(t,e=ms(t,e=cs(r,e),1),1),e=tc(),null!==t&&(ft(t,1,e),nc(t,e));break}}t=t.return}}function Sc(e,t,r){var a=e.pingCache;null!==a&&a.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&r,Il===e&&(Dl&r)===r&&(4===Fl||3===Fl&&(130023424&Dl)===Dl&&500>Xe()-Bl?hc(e,0):Ll|=r),nc(e,t)}function Ec(e,t){0===t&&(1&e.mode?(t=dt,!(130023424&(dt<<=1))&&(dt=4194304)):t=1);var r=tc();null!==(e=Fo(e,t))&&(ft(e,t,r),nc(e,r))}function Pc(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Ec(e,r)}function Oc(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;null!==o&&(a=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(r(314))}null!==n&&n.delete(t),Ec(e,a)}function Ic(e,t){return We(e,t)}function Ac(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,r,a){return new Ac(e,t,r,a)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Tc(e,t){var r=e.alternate;return null===r?((r=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Fc(e,t,a,n,o,i){var s=2;if(n=e,"function"==typeof e)Mc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case y:return zc(a.children,o,i,t);case w:s=8,o|=8;break;case j:return(e=Dc(12,a,t,2|o)).elementType=j,e.lanes=i,e;case S:return(e=Dc(13,a,t,o)).elementType=S,e.lanes=i,e;case E:return(e=Dc(19,a,t,o)).elementType=E,e.lanes=i,e;case I:return Rc(a,o,i,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case N:s=10;break e;case k:s=9;break e;case C:s=11;break e;case P:s=14;break e;case O:s=16,n=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=Dc(s,a,t,o)).elementType=e,t.type=n,t.lanes=i,t}function zc(e,t,r,a){return(e=Dc(7,e,a,t)).lanes=r,e}function Rc(e,t,r,a){return(e=Dc(22,e,a,t)).elementType=I,e.lanes=r,e.stateNode={isHidden:!1},e}function _c(e,t,r){return(e=Dc(6,e,null,t)).lanes=r,e}function Lc(e,t,r){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $c(e,t,r,a,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xt(0),this.expirationTimes=xt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xt(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Uc(e,t,r,a,n,o,i,s,l){return e=new $c(e,t,r,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Dc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ro(o),e}function Bc(e){if(!e)return En;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var a=e.type;if(Dn(a))return Fn(e,a,t)}return t}function Vc(e,t,r,a,n,o,i,s,l){return(e=Uc(r,a,!0,e,0,o,0,s,l)).context=Bc(null),r=e.current,(o=Lo(a=tc(),n=rc(r))).callback=null!=t?t:null,$o(r,o,n),e.current.lanes=n,ft(e,n,a),nc(e,a),e}function Gc(e,t,r,a){var n=t.current,o=tc(),i=rc(n);return r=Bc(r),null===t.context?t.context=r:t.pendingContext=r,(t=Lo(o,i)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=$o(n,t,i))&&(ac(e,n,i,o),Uo(e,n,i)),i}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Wc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}kl=function(e,t,a){if(null!==e)if(e.memoizedProps!==t.pendingProps||On.current)vs=!0;else{if(0===(e.lanes&a)&&!(128&t.flags))return vs=!1,function(e,t,r){switch(t.tag){case 3:Is(t),mo();break;case 5:Qo(t);break;case 1:Dn(t.type)&&zn(t);break;case 4:Yo(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,n=t.memoizedProps.value;Sn(No,a._currentValue),a._currentValue=n;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(Sn(ei,1&ei.current),t.flags|=128,null):0!==(r&t.child.childLanes)?_s(e,t,r):(Sn(ei,1&ei.current),null!==(e=qs(e,t,r))?e.sibling:null);Sn(ei,1&ei.current);break;case 19:if(a=0!==(r&t.childLanes),128&e.flags){if(a)return Vs(e,t,r);t.flags|=128}if(null!==(n=t.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),Sn(ei,ei.current),a)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,r)}return qs(e,t,r)}(e,t,a);vs=!!(131072&e.flags)}else vs=!1,no&&1048576&t.flags&&Zn(t,Hn,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Gs(e,t),e=t.pendingProps;var o=An(t,Pn.current);Io(t,a),o=xi(null,t,n,e,o,a);var i=fi();return t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dn(n)?(i=!0,zn(t)):i=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Ro(t),o.updater=ns,t.stateNode=o,o._reactInternals=t,ls(t,n,e,a),t=Os(null,t,n,!0,i,a)):(t.tag=0,no&&i&&eo(t),ws(null,t,o,a),t=t.child),t;case 16:n=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,n=(o=n._init)(n._payload),t.type=n,o=t.tag=function(e){if("function"==typeof e)return Mc(e)?1:0;if(null!=e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(n),e=rs(n,e),o){case 0:t=Es(null,t,n,e,a);break e;case 1:t=Ps(null,t,n,e,a);break e;case 11:t=js(null,t,n,e,a);break e;case 14:t=Ns(null,t,n,rs(n.type,e),a);break e}throw Error(r(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,Es(e,t,n,o=t.elementType===n?o:rs(n,o),a);case 1:return n=t.type,o=t.pendingProps,Ps(e,t,n,o=t.elementType===n?o:rs(n,o),a);case 3:e:{if(Is(t),null===e)throw Error(r(387));n=t.pendingProps,o=(i=t.memoizedState).element,_o(e,t),Vo(t,n,null,a);var s=t.memoizedState;if(n=s.element,i.isDehydrated){if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=As(e,t,n,a,o=cs(Error(r(423)),t));break e}if(n!==o){t=As(e,t,n,a,o=cs(Error(r(424)),t));break e}for(ao=cn(t.stateNode.containerInfo.firstChild),ro=t,no=!0,oo=null,a=jo(t,null,n,a),t.child=a;a;)a.flags=-3&a.flags|4096,a=a.sibling}else{if(mo(),n===o){t=qs(e,t,a);break e}ws(e,t,n,a)}t=t.child}return t;case 5:return Qo(t),null===e&&co(t),n=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,tn(n,o)?s=null:null!==i&&tn(n,i)&&(t.flags|=32),Ss(e,t),ws(e,t,s,a),t.child;case 6:return null===e&&co(t),null;case 13:return _s(e,t,a);case 4:return Yo(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=wo(t,null,n,a):ws(e,t,n,a),t.child;case 11:return n=t.type,o=t.pendingProps,js(e,t,n,o=t.elementType===n?o:rs(n,o),a);case 7:return ws(e,t,t.pendingProps,a),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,a),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,Sn(No,n._currentValue),n._currentValue=s,null!==i)if(ia(i.value,s)){if(i.children===o.children&&!On.current){t=qs(e,t,a);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){s=i.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===i.tag){(c=Lo(-1,a&-a)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=a,null!==(c=i.alternate)&&(c.lanes|=a),Oo(i.return,a,t),l.lanes|=a;break}c=c.next}}else if(10===i.tag)s=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(r(341));s.lanes|=a,null!==(l=s.alternate)&&(l.lanes|=a),Oo(s,a,t),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===t){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}ws(e,t,o.children,a),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,Io(t,a),n=n(o=Ao(o)),t.flags|=1,ws(e,t,n,a),t.child;case 14:return o=rs(n=t.type,t.pendingProps),Ns(e,t,n,o=rs(n.type,o),a);case 15:return ks(e,t,t.type,t.pendingProps,a);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:rs(n,o),Gs(e,t),t.tag=1,Dn(n)?(e=!0,zn(t)):e=!1,Io(t,a),is(t,n,o),ls(t,n,o,a),Os(null,t,n,!0,e,a);case 19:return Vs(e,t,a);case 22:return Cs(e,t,a)}throw Error(r(156,t.tag))};var Kc="function"==typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function ed(e,t,r,a,n){var o=r._reactRootContainer;if(o){var i=o;if("function"==typeof n){var s=n;n=function(){var e=qc(i);s.call(e)}}Gc(t,i,e,n)}else i=function(e,t,r,a,n){if(n){if("function"==typeof a){var o=a;a=function(){var e=qc(i);o.call(e)}}var i=Vc(t,a,e,0,null,!1,0,"",Zc);return e._reactRootContainer=i,e[mn]=i.current,Ua(8===e.nodeType?e.parentNode:e),uc(),i}for(;n=e.lastChild;)e.removeChild(n);if("function"==typeof a){var s=a;a=function(){var e=qc(l);s.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[mn]=l.current,Ua(8===e.nodeType?e.parentNode:e),uc(function(){Gc(t,l,r,a)}),l}(r,t,e,n,a);return qc(i)}Yc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));Gc(e,t,null,null)},Yc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Gc(null,e,null,null)}),t[mn]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mt.length&&0!==t&&t<Mt[r].priority;r++);Mt.splice(r,0,e),0===r&&Rt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ut(t.pendingLanes);0!==r&&(bt(t,1|r),nc(t,Xe()),!(6&Ol)&&(Vl=Xe()+500,Bn()))}break;case 13:uc(function(){var t=Fo(e,1);if(null!==t){var r=tc();ac(t,e,1,r)}}),Wc(e,1)}},jt=function(e){if(13===e.tag){var t=Fo(e,134217728);if(null!==t)ac(t,e,134217728,tc());Wc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=rc(e),r=Fo(e,t);if(null!==r)ac(r,e,t,tc());Wc(e,t)}},kt=function(){return vt},Ct=function(e,t){var r=vt;try{return vt=e,t()}finally{vt=r}},je=function(e,t,a){switch(t){case"input":if(Y(e,a),t=a.name,"radio"===a.type&&null!=t){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var o=wn(n);if(!o)throw Error(r(90));G(n),Y(n,o)}}}break;case"textarea":oe(e,a);break;case"select":null!=(t=a.value)&&te(e,!!a.multiple,t,!1)}},Pe=dc,Oe=uc;var td={usingClientEntryPoint:!1,Events:[vn,yn,wn,Se,Ee,dc]},rd={findFiberByHostInstance:bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ad={bundleType:rd.bundleType,version:rd.version,rendererPackageName:rd.rendererPackageName,rendererConfig:rd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:f.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:rd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{nt=nd.inject(ad),ot=nd}catch(yh){}}return ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=td,ae.createPortal=function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(r(200));return function(e,t,r){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:v,key:null==a?null:""+a,children:e,containerInfo:t,implementation:r}}(e,t,null,a)},ae.createRoot=function(e,t){if(!Xc(e))throw Error(r(299));var a=!1,n="",o=Kc;return null!=t&&(!0===t.unstable_strictMode&&(a=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Uc(e,1,!1,null,0,a,0,n,o),e[mn]=t.current,Ua(8===e.nodeType?e.parentNode:e),new Jc(t)},ae.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=null===(e=qe(t))?null:e.stateNode},ae.flushSync=function(e){return uc(e)},ae.hydrate=function(e,t,a){if(!Qc(t))throw Error(r(200));return ed(null,e,t,!0,a)},ae.hydrateRoot=function(e,t,a){if(!Xc(e))throw Error(r(405));var n=null!=a&&a.hydratedSources||null,o=!1,i="",s=Kc;if(null!=a&&(!0===a.unstable_strictMode&&(o=!0),void 0!==a.identifierPrefix&&(i=a.identifierPrefix),void 0!==a.onRecoverableError&&(s=a.onRecoverableError)),t=Vc(t,null,e,1,null!=a?a:null,o,0,i,s),e[mn]=t.current,Ua(e),n)for(e=0;e<n.length;e++)o=(o=(a=n[e])._getVersion)(a._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[a,o]:t.mutableSourceEagerHydrationData.push(a,o);return new Yc(t)},ae.render=function(e,t,a){if(!Qc(t))throw Error(r(200));return ed(null,e,t,!1,a)},ae.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(r(40));return!!e._reactRootContainer&&(uc(function(){ed(null,null,e,!1,function(){e._reactRootContainer=null,e[mn]=null})}),!0)},ae.unstable_batchedUpdates=dc,ae.unstable_renderSubtreeIntoContainer=function(e,t,a,n){if(!Qc(a))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return ed(e,t,a,!1,n)},ae.version="18.3.1-next-f1338f8080-20240426",ae}function le(){if(Z)return re.exports;return Z=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),re.exports=se(),re.exports}var ce=function(){if(ee)return te;ee=1;var e=le();return te.createRoot=e.createRoot,te.hydrateRoot=e.hydrateRoot,te}(),de=le();const ue=F(de);
/**
			 * @remix-run/router v1.23.1
			 *
			 * Copyright (c) Remix Software Inc.
			 *
			 * This source code is licensed under the MIT license found in the
			 * LICENSE.md file in the root directory of this source tree.
			 *
			 * @license MIT
			 */function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},pe.apply(this,arguments)}var he;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(he||(he={}));const me="popstate";function ge(e){return void 0===e&&(e={}),function(e,t,r,a){void 0===a&&(a={});let{window:n=document.defaultView,v5Compat:o=!1}=a,i=n.history,s=he.Pop,l=null,c=d();null==c&&(c=0,i.replaceState(pe({},i.state,{idx:c}),""));function d(){return(i.state||{idx:null}).idx}function u(){s=he.Pop;let e=d(),t=null==e?null:e-c;c=e,l&&l({action:s,location:g.location,delta:t})}function p(e,t){s=he.Push;let r=ve(g.location,e,t);c=d()+1;let a=be(r,c),u=g.createHref(r);try{i.pushState(a,"",u)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;n.location.assign(u)}o&&l&&l({action:s,location:g.location,delta:1})}function h(e,t){s=he.Replace;let r=ve(g.location,e,t);c=d();let a=be(r,c),n=g.createHref(r);i.replaceState(a,"",n),o&&l&&l({action:s,location:g.location,delta:0})}function m(e){let t="null"!==n.location.origin?n.location.origin:n.location.href,r="string"==typeof e?e:ye(e);return r=r.replace(/ $/,"%20"),xe(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}let g={get action(){return s},get location(){return e(n,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return n.addEventListener(me,u),l=e,()=>{n.removeEventListener(me,u),l=null}},createHref:e=>t(n,e),createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:p,replace:h,go:e=>i.go(e)};return g}(function(e,t){let{pathname:r,search:a,hash:n}=e.location;return ve("",{pathname:r,search:a,hash:n},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"==typeof t?t:ye(t)},0,e)}function xe(e,t){if(!1===e||null==e)throw new Error(t)}function fe(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(Xd){}}}function be(e,t){return{usr:e.state,key:e.key,idx:t}}function ve(e,t,r,a){return void 0===r&&(r=null),pe({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?we(t):t,{state:r,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function ye(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function we(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}var je;function Ne(e,t,r){return void 0===r&&(r="/"),function(e,t,r){let a="string"==typeof t?we(t):t,n=Re(a.pathname||"/",r);if(null==n)return null;let o=ke(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let i=null;for(let s=0;null==i&&s<o.length;++s){let e=ze(n);i=Te(o[s],e)}return i}(e,t,r)}function ke(e,t,r,a){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===a&&(a="");let n=(e,n,o)=>{let i={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:n,route:e};i.relativePath.startsWith("/")&&(xe(i.relativePath.startsWith(a),'Absolute route path "'+i.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(a.length));let s=Ge([a,i.relativePath]),l=r.concat(i);e.children&&e.children.length>0&&(xe(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),ke(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:Me(s,e.index),routesMeta:l})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let a of Ce(e.path))n(e,t,a);else n(e,t)}),t}function Ce(e){let t=e.split("/");if(0===t.length)return[];let[r,...a]=t,n=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===a.length)return n?[o,""]:[o];let i=Ce(a.join("/")),s=[];return s.push(...i.map(e=>""===e?o:[o,e].join("/"))),n&&s.push(...i),s.map(t=>e.startsWith("/")&&""===t?"/":t)}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(je||(je={}));const Se=/^:[\w-]+$/,Ee=3,Pe=2,Oe=1,Ie=10,Ae=-2,De=e=>"*"===e;function Me(e,t){let r=e.split("/"),a=r.length;return r.some(De)&&(a+=Ae),t&&(a+=Pe),r.filter(e=>!De(e)).reduce((e,t)=>e+(Se.test(t)?Ee:""===t?Oe:Ie),a)}function Te(e,t,r){let{routesMeta:a}=e,n={},o="/",i=[];for(let s=0;s<a.length;++s){let e=a[s],r=s===a.length-1,l="/"===o?t:t.slice(o.length)||"/",c=Fe({path:e.relativePath,caseSensitive:e.caseSensitive,end:r},l),d=e.route;if(!c)return null;Object.assign(n,c.params),i.push({params:n,pathname:Ge([o,c.pathname]),pathnameBase:qe(Ge([o,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(o=Ge([o,c.pathnameBase]))}return i}function Fe(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);fe("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(a.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(a.push({paramName:"*"}),n+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":""!==e&&"/"!==e&&(n+="(?:(?=\\/|$))");let o=new RegExp(n,t?void 0:"i");return[o,a]}(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let o=n[0],i=o.replace(/(.)\/+$/,"$1"),s=n.slice(1),l=a.reduce((e,t,r)=>{let{paramName:a,isOptional:n}=t;if("*"===a){let e=s[r]||"";i=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[r];return e[a]=n&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:o,pathnameBase:i,pattern:e}}function ze(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return fe(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Re(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&"/"!==a?null:e.slice(r)||"/"}const _e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Le(e,t){void 0===t&&(t="/");let r,{pathname:a,search:n="",hash:o=""}="string"==typeof e?we(e):e;if(a)if(i=a,_e.test(i))r=a;else{if(a.includes("//")){let e=a;a=a.replace(/\/\/+/g,"/"),fe(!1,"Pathnames cannot have embedded double slashes - normalizing "+e+" -> "+a)}r=a.startsWith("/")?$e(a.substring(1),"/"):$e(a,t)}else r=t;var i;return{pathname:r,search:He(n),hash:We(o)}}function $e(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}function Ue(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Be(e,t){let r=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t?r.map((e,t)=>t===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function Ve(e,t,r,a){let n;void 0===a&&(a=!1),"string"==typeof e?n=we(e):(n=pe({},e),xe(!n.pathname||!n.pathname.includes("?"),Ue("?","pathname","search",n)),xe(!n.pathname||!n.pathname.includes("#"),Ue("#","pathname","hash",n)),xe(!n.search||!n.search.includes("#"),Ue("#","search","hash",n)));let o,i=""===e||""===n.pathname,s=i?"/":n.pathname;if(null==s)o=r;else{let e=t.length-1;if(!a&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=Le(n,o),c=s&&"/"!==s&&s.endsWith("/"),d=(i||"."===s)&&r.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}const Ge=e=>e.join("/").replace(/\/\/+/g,"/"),qe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),He=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",We=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";const Ke=["post","put","patch","delete"];new Set(Ke);const Je=["get",...Ke];
/**
			 * React Router v6.30.2
			 *
			 * Copyright (c) Remix Software Inc.
			 *
			 * This source code is licensed under the MIT license found in the
			 * LICENSE.md file in the root directory of this source tree.
			 *
			 * @license MIT
			 */
function Ye(){return Ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ye.apply(this,arguments)}new Set(Je);const Xe=W.createContext(null),Qe=W.createContext(null),Ze=W.createContext(null),et=W.createContext(null),tt=W.createContext({outlet:null,matches:[],isDataRoute:!1}),rt=W.createContext(null);function at(){return null!=W.useContext(et)}function nt(){return at()||xe(!1),W.useContext(et).location}function ot(e){W.useContext(Ze).static||W.useLayoutEffect(e)}function it(){let{isDataRoute:e}=W.useContext(tt);return e?function(){let{router:e}=function(){let e=W.useContext(Xe);return e||xe(!1),e}(gt.UseNavigateStable),t=ft(xt.UseNavigateStable),r=W.useRef(!1);ot(()=>{r.current=!0});let a=W.useCallback(function(a,n){void 0===n&&(n={}),r.current&&("number"==typeof a?e.navigate(a):e.navigate(a,Ye({fromRouteId:t},n)))},[e,t]);return a}():function(){at()||xe(!1);let e=W.useContext(Xe),{basename:t,future:r,navigator:a}=W.useContext(Ze),{matches:n}=W.useContext(tt),{pathname:o}=nt(),i=JSON.stringify(Be(n,r.v7_relativeSplatPath)),s=W.useRef(!1);ot(()=>{s.current=!0});let l=W.useCallback(function(r,n){if(void 0===n&&(n={}),!s.current)return;if("number"==typeof r)return void a.go(r);let l=Ve(r,JSON.parse(i),o,"path"===n.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Ge([t,l.pathname])),(n.replace?a.replace:a.push)(l,n.state,n)},[t,a,i,o,e]);return l}()}const st=W.createContext(null);function lt(){let{matches:e}=W.useContext(tt),t=e[e.length-1];return t?t.params:{}}function ct(e,t){let{relative:r}=void 0===t?{}:t,{future:a}=W.useContext(Ze),{matches:n}=W.useContext(tt),{pathname:o}=nt(),i=JSON.stringify(Be(n,a.v7_relativeSplatPath));return W.useMemo(()=>Ve(e,JSON.parse(i),o,"path"===r),[e,i,o,r])}function dt(e,t){return function(e,t,r,a){at()||xe(!1);let{navigator:n}=W.useContext(Ze),{matches:o}=W.useContext(tt),i=o[o.length-1],s=i?i.params:{};!i||i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c,d=nt();if(t){var u;let e="string"==typeof t?we(t):t;"/"===l||(null==(u=e.pathname)?void 0:u.startsWith(l))||xe(!1),c=e}else c=d;let p=c.pathname||"/",h=p;if("/"!==l){let e=l.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=Ne(e,{pathname:h}),g=function(e,t,r,a){var n;void 0===t&&(t=[]);void 0===r&&(r=null);void 0===a&&(a=null);if(null==e){var o;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(o=a)&&o.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let i=e,s=null==(n=r)?void 0:n.errors;if(null!=s){let e=i.findIndex(e=>e.route.id&&void 0!==(null==s?void 0:s[e.route.id]));e>=0||xe(!1),i=i.slice(0,Math.min(i.length,e+1))}let l=!1,c=-1;if(r&&a&&a.v7_partialHydration)for(let d=0;d<i.length;d++){let e=i[d];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=d),e.route.id){let{loaderData:t,errors:a}=r,n=e.route.loader&&void 0===t[e.route.id]&&(!a||void 0===a[e.route.id]);if(e.route.lazy||n){l=!0,i=c>=0?i.slice(0,c+1):[i[0]];break}}}return i.reduceRight((e,a,n)=>{let o,d=!1,u=null,p=null;var h;r&&(o=s&&a.route.id?s[a.route.id]:void 0,u=a.route.errorElement||pt,l&&(c<0&&0===n?(bt[h="route-fallback"]||(bt[h]=!0),d=!0,p=null):c===n&&(d=!0,p=a.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,n+1)),g=()=>{let t;return t=o?u:d?p:a.route.Component?W.createElement(a.route.Component,null):a.route.element?a.route.element:e,W.createElement(mt,{match:a,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:t})};return r&&(a.route.ErrorBoundary||a.route.errorElement||0===n)?W.createElement(ht,{location:r.location,revalidation:r.revalidation,component:u,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}(m&&m.map(e=>Object.assign({},e,{params:Object.assign({},s,e.params),pathname:Ge([l,n.encodeLocation?n.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:Ge([l,n.encodeLocation?n.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,r,a);if(t&&g)return W.createElement(et.Provider,{value:{location:Ye({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:he.Pop}},g);return g}(e,t)}function ut(){let e=function(){var e;let t=W.useContext(rt),r=function(){let e=W.useContext(Qe);return e||xe(!1),e}(),a=ft();if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[a]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},t),r?W.createElement("pre",{style:a},r):null,null)}const pt=W.createElement(ut,null);class ht extends W.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?W.createElement(tt.Provider,{value:this.props.routeContext},W.createElement(rt.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mt(e){let{routeContext:t,match:r,children:a}=e,n=W.useContext(Xe);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),W.createElement(tt.Provider,{value:t},a)}var gt=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(gt||{}),xt=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(xt||{});function ft(e){let t=function(){let e=W.useContext(tt);return e||xe(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||xe(!1),r.route.id}const bt={};function vt(e){let{to:t,replace:r,state:a,relative:n}=e;at()||xe(!1);let{future:o,static:i}=W.useContext(Ze),{matches:s}=W.useContext(tt),{pathname:l}=nt(),c=it(),d=Ve(t,Be(s,o.v7_relativeSplatPath),l,"path"===n),u=JSON.stringify(d);return W.useEffect(()=>c(JSON.parse(u),{replace:r,state:a,relative:n}),[c,u,n,r,a]),null}function yt(e){return function(e){let t=W.useContext(tt).outlet;return t?W.createElement(st.Provider,{value:e},t):t}(e.context)}function wt(e){xe(!1)}function jt(e){let{basename:t="/",children:r=null,location:a,navigationType:n=he.Pop,navigator:o,static:i=!1,future:s}=e;at()&&xe(!1);let l=t.replace(/^\/*/,"/"),c=W.useMemo(()=>({basename:l,navigator:o,static:i,future:Ye({v7_relativeSplatPath:!1},s)}),[l,s,o,i]);"string"==typeof a&&(a=we(a));let{pathname:d="/",search:u="",hash:p="",state:h=null,key:m="default"}=a,g=W.useMemo(()=>{let e=Re(d,l);return null==e?null:{location:{pathname:e,search:u,hash:p,state:h,key:m},navigationType:n}},[l,d,u,p,h,m,n]);return null==g?null:W.createElement(Ze.Provider,{value:c},W.createElement(et.Provider,{children:r,value:g}))}function Nt(e){let{children:t,location:r}=e;return dt(kt(t),r)}function kt(e,t){void 0===t&&(t=[]);let r=[];return W.Children.forEach(e,(e,a)=>{if(!W.isValidElement(e))return;let n=[...t,a];if(e.type===W.Fragment)return void r.push.apply(r,kt(e.props.children,n));e.type!==wt&&xe(!1),e.props.index&&e.props.children&&xe(!1);let o={id:e.props.id||n.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=kt(e.props.children,n)),r.push(o)}),r}
/**
			 * React Router DOM v6.30.2
			 *
			 * Copyright (c) Remix Software Inc.
			 *
			 * This source code is licensed under the MIT license found in the
			 * LICENSE.md file in the root directory of this source tree.
			 *
			 * @license MIT
			 */function Ct(){return Ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ct.apply(this,arguments)}function St(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}function Et(e){return void 0===e&&(e=""),new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let a=e[r];return t.concat(Array.isArray(a)?a.map(e=>[r,e]):[[r,a]])},[]))}new Promise(()=>{});const Pt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ot=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(Xd){}const It=W.createContext({isTransitioning:!1}),At=J.startTransition;function Dt(e){let{basename:t,children:r,future:a,window:n}=e,o=W.useRef();null==o.current&&(o.current=ge({window:n,v5Compat:!0}));let i=o.current,[s,l]=W.useState({action:i.action,location:i.location}),{v7_startTransition:c}=a||{},d=W.useCallback(e=>{c&&At?At(()=>l(e)):l(e)},[l,c]);return W.useLayoutEffect(()=>i.listen(d),[i,d]),W.useEffect(()=>{return null==(e=a)||e.v7_startTransition,void(null==e||e.v7_relativeSplatPath);var e},[a]),W.createElement(jt,{basename:t,children:r,location:s.location,navigationType:s.action,navigator:i,future:a})}const Mt="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Tt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ft=W.forwardRef(function(e,t){let r,{onClick:a,relative:n,reloadDocument:o,replace:i,state:s,target:l,to:c,preventScrollReset:d,viewTransition:u}=e,p=St(e,Pt),{basename:h}=W.useContext(Ze),m=!1;if("string"==typeof c&&Tt.test(c)&&(r=c,Mt))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),r=Re(t.pathname,h);t.origin===e.origin&&null!=r?c=r+t.search+t.hash:m=!0}catch(Xd){}let g=function(e,t){let{relative:r}=void 0===t?{}:t;at()||xe(!1);let{basename:a,navigator:n}=W.useContext(Ze),{hash:o,pathname:i,search:s}=ct(e,{relative:r}),l=i;return"/"!==a&&(l="/"===i?a:Ge([a,i])),n.createHref({pathname:l,search:s,hash:o})}(c,{relative:n}),x=function(e,t){let{target:r,replace:a,state:n,preventScrollReset:o,relative:i,viewTransition:s}=void 0===t?{}:t,l=it(),c=nt(),d=ct(e,{relative:i});return W.useCallback(t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,r)){t.preventDefault();let r=void 0!==a?a:ye(c)===ye(d);l(e,{replace:r,state:n,preventScrollReset:o,relative:i,viewTransition:s})}},[c,l,d,a,n,r,e,o,i,s])}(c,{replace:i,state:s,target:l,preventScrollReset:d,relative:n,viewTransition:u});return W.createElement("a",Ct({},p,{href:r||g,onClick:m||o?a:function(e){a&&a(e),e.defaultPrevented||x(e)},ref:t,target:l}))}),zt=W.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:a=!1,className:n="",end:o=!1,style:i,to:s,viewTransition:l,children:c}=e,d=St(e,Ot),u=ct(s,{relative:d.relative}),p=nt(),h=W.useContext(Qe),{navigator:m,basename:g}=W.useContext(Ze),x=null!=h&&function(e,t){void 0===t&&(t={});let r=W.useContext(It);null==r&&xe(!1);let{basename:a}=function(){let e=W.useContext(Xe);return e||xe(!1),e}(Rt.useViewTransitionState),n=ct(e,{relative:t.relative});if(!r.isTransitioning)return!1;let o=Re(r.currentLocation.pathname,a)||r.currentLocation.pathname,i=Re(r.nextLocation.pathname,a)||r.nextLocation.pathname;return null!=Fe(n.pathname,i)||null!=Fe(n.pathname,o)}(u)&&!0===l,f=m.encodeLocation?m.encodeLocation(u).pathname:u.pathname,b=p.pathname,v=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;a||(b=b.toLowerCase(),v=v?v.toLowerCase():null,f=f.toLowerCase()),v&&g&&(v=Re(v,g)||v);const y="/"!==f&&f.endsWith("/")?f.length-1:f.length;let w,j=b===f||!o&&b.startsWith(f)&&"/"===b.charAt(y),N=null!=v&&(v===f||!o&&v.startsWith(f)&&"/"===v.charAt(f.length)),k={isActive:j,isPending:N,isTransitioning:x},C=j?r:void 0;w="function"==typeof n?n(k):[n,j?"active":null,N?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let S="function"==typeof i?i(k):i;return W.createElement(Ft,Ct({},d,{"aria-current":C,className:w,ref:t,style:S,to:s,viewTransition:l}),"function"==typeof c?c(k):c)});var Rt,_t,Lt,$t;function Ut(e){let t=W.useRef(Et(e)),r=W.useRef(!1),a=nt(),n=W.useMemo(()=>function(e,t){let r=Et(e);return t&&t.forEach((e,a)=>{r.has(a)||t.getAll(a).forEach(e=>{r.append(a,e)})}),r}(a.search,r.current?null:t.current),[a.search]),o=it(),i=W.useCallback((e,t)=>{const a=Et("function"==typeof e?e(n):e);r.current=!0,o("?"+a,t)},[o,n]);return[n,i]}(_t=Rt||(Rt={})).UseScrollRestoration="useScrollRestoration",_t.UseSubmit="useSubmit",_t.UseSubmitFetcher="useSubmitFetcher",_t.UseFetcher="useFetcher",_t.useViewTransitionState="useViewTransitionState",($t=Lt||(Lt={})).UseFetcher="useFetcher",$t.UseFetchers="useFetchers",$t.UseScrollRestoration="useScrollRestoration";const Bt=W.createContext(),Vt=({children:e})=>{const[t,r]=W.useState(null),[a,n]=W.useState(!0),o=it();W.useEffect(()=>{const e=localStorage.getItem("auth_user");if(e)try{r(JSON.parse(e))}catch(Xd){localStorage.removeItem("auth_user")}n(!1)},[]);return H.jsx(Bt.Provider,{value:{user:t,loading:a,login:async e=>{localStorage.setItem("auth_user",JSON.stringify(e)),r(e),o("/")},logout:()=>{localStorage.removeItem("auth_user"),r(null),o("/login")},hasPermission:e=>!(!t||!t.permissions)&&("ADMINISTRADORES"===t.role||t.permissions.includes(e))},children:e})},Gt=()=>W.useContext(Bt),qt=({permission:e})=>{const{user:t,loading:r,hasPermission:a}=Gt();return r?H.jsx("div",{className:"min-h-screen bg-hd-black flex items-center justify-center",children:H.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-hd-orange"})}):t?e&&!a(e)?H.jsx(vt,{to:"/",replace:!0}):H.jsx(yt,{}):H.jsx(vt,{to:"/login",replace:!0})};
/**
			 * @license lucide-react v0.300.0 - ISC
			 *
			 * This source code is licensed under the ISC license.
			 * See the LICENSE file in the root directory of this source tree.
			 */
var Ht={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
			 * @license lucide-react v0.300.0 - ISC
			 *
			 * This source code is licensed under the ISC license.
			 * See the LICENSE file in the root directory of this source tree.
			 */const Wt=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Kt=(e,t)=>{const r=W.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:i="",children:s,...l},c)=>W.createElement("svg",{ref:c,...Ht,width:a,height:a,stroke:r,strokeWidth:o?24*Number(n)/Number(a):n,className:["lucide",`lucide-${Wt(e)}`,i].join(" "),...l},[...t.map(([e,t])=>W.createElement(e,t)),...Array.isArray(s)?s:[s]]));return r.displayName=`${e}`,r},Jt=Kt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Yt=Kt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Xt=Kt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Qt=Kt("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]),Zt=Kt("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]),er=Kt("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]),tr=Kt("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),rr=Kt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),ar=Kt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),nr=Kt("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]),or=Kt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),ir=Kt("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),sr=Kt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),lr=Kt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),cr=Kt("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),dr=Kt("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),ur=Kt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),pr=Kt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),hr=Kt("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]),mr=Kt("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),gr=Kt("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]),xr=Kt("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),fr=Kt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),br=Kt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),vr=Kt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),yr=Kt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),wr=Kt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),jr=Kt("ChevronFirst",[["path",{d:"m17 18-6-6 6-6",key:"1yerx2"}],["path",{d:"M7 6v12",key:"1p53r6"}]]),Nr=Kt("ChevronLast",[["path",{d:"m7 18 6-6-6-6",key:"lwmzdw"}],["path",{d:"M17 6v12",key:"1o0aio"}]]),kr=Kt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Cr=Kt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Sr=Kt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Er=Kt("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]),Pr=Kt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),Or=Kt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Ir=Kt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Ar=Kt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Dr=Kt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Mr=Kt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Tr=Kt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Fr=Kt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),zr=Kt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Rr=Kt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),_r=Kt("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),Lr=Kt("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),$r=Kt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Ur=Kt("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),Br=Kt("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),Vr=Kt("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),Gr=Kt("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08v0c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"12sd6o"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]),qr=Kt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),Hr=Kt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Wr=Kt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Kr=Kt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Jr=Kt("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),Yr=Kt("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),Xr=Kt("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),Qr=Kt("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Zr=Kt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),ea=Kt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),ta=Kt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),ra=Kt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),aa=Kt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),na=Kt("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]),oa=Kt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),ia=Kt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),sa=Kt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),la=Kt("MoveHorizontal",[["polyline",{points:"18 8 22 12 18 16",key:"1hqrds"}],["polyline",{points:"6 8 2 12 6 16",key:"f0ernq"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}]]),ca=Kt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),da=Kt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),ua=Kt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),pa=Kt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),ha=Kt("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),ma=Kt("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),ga=Kt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),xa=Kt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),fa=Kt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),ba=Kt("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),va=Kt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),ya=Kt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),wa=Kt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),ja=Kt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Na=Kt("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),ka=Kt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ca=Kt("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Sa=Kt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Ea=Kt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),Pa=Kt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Oa=Kt("Slash",[["path",{d:"M22 2 2 22",key:"y4kqgn"}]]),Ia=Kt("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),Aa=Kt("Tags",[["path",{d:"M9 5H2v7l6.29 6.29c.94.94 2.48.94 3.42 0l3.58-3.58c.94-.94.94-2.48 0-3.42L9 5Z",key:"gt587u"}],["path",{d:"M6 9.01V9",key:"1flxpt"}],["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}]]),Da=Kt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Ma=Kt("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]),Ta=Kt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Fa=Kt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),za=Kt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Ra=Kt("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),_a=Kt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),La=Kt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),$a=Kt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Ua=Kt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ba=Kt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Va=Kt("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),Ga=Kt("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]),qa=Kt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Ha=Kt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Wa=Kt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Ka=[{id:"inicio",label:"Inicio",path:"/",icon:Hr,isLink:!0},{id:"acceso-rapido",label:"Acceso Rpido",icon:Wa,subItems:[{label:"POS (Caja)",path:"/ventas/pos",icon:Ea,highlight:!0},{label:"Maestro Stock",path:"/productos",icon:gr,highlight:!0},{label:"Nuevo Cliente",path:"/clientes/nuevo",icon:Ba},{label:"Nueva Compra",path:"/compras/nuevo",icon:Pr}]},{id:"crm",label:"CRM",icon:Gr,subItems:[{label:"Dashboard",path:"/crm/dashboard",icon:ur},{label:"Prospectos",path:"/crm/prospectos",icon:Ba},{label:"Oportunidades",path:"/crm/oportunidades",icon:Da},{label:"Actividades",path:"/crm/actividades",icon:fr},{label:"Interacciones",path:"/crm/interacciones",icon:oa}]},{id:"ventas",label:"Ventas",icon:Pa,subItems:[{label:"Clientes",path:"/clientes",icon:Ba},{label:"Vendedores",path:"/vendedores",icon:La},{label:"POS (Caja)",path:"/ventas/pos",icon:Ea},{label:"Ventas Distribucin",path:"/ventas/distribucion",icon:Ra},{label:"Historial de Ventas",path:"/ventas/historial",icon:zr},{label:"Control de Devoluciones",path:"/ventas/historial-devoluciones",icon:ba},{label:"Corte de Caja",path:"/ventas/corte",icon:Dr}]},{id:"compras",label:"Compras",icon:Pr,subItems:[{label:"rdenes y Facturas",path:"/compras",icon:Pr},{label:"Proveedores",path:"/proveedores",icon:Ra},{label:"Cuentas por Pagar",path:"/cuentas-por-pagar/pagos",icon:nr}]},{id:"inventario",label:"Inventario",icon:ca,subItems:[{label:"Maestro de Artculos",path:"/productos",icon:gr},{label:"Ajustes",path:"/ajustes",icon:ba},{label:"Transferencias",path:"/transferencias",icon:nr},{label:"Control (Kardex)",path:"/kardex",icon:zr},{label:"Lista de Precios",path:"/inventario/lista-precios",icon:Dr},{label:"Niveles de Precio",path:"/inventario/niveles-precios",icon:Yr},{label:"Atributos de Artculos",path:"/inventario/categorias-articulos",icon:Aa},{label:"Unidades de Medida",path:"/inventario/unidades-medida",icon:Vr},{label:"Almacenes",path:"/inventario/almacenes",icon:gr},{label:"Grupos de Impuestos",path:"/inventario/grupos-impuestos",icon:ba},{label:"Grupos de Producto",path:"/inventario/grupos-producto",icon:ca}]},{id:"marketing",label:"Marketing",icon:na,subItems:[{label:"Promociones",path:"/marketing/promociones",icon:Aa},{label:"Cupones",path:"/marketing/cupones",icon:Ma}]},{id:"configuracion",label:"Configuracin",icon:ka,subItems:[{label:"Compaa",path:"/configuracion/compania",icon:ka},{label:"Cuentas por Pagar",path:"/configuracion/cxp",icon:zr},{label:"Comprobantes (NCF)",path:"/configuracion/ncf",icon:Vr},{label:"Configuracin Clientes",path:"/configuracion/clientes",icon:Ba},{label:"Configuracin Artculos",path:"/configuracion/articulos",icon:ca},{label:"Monedas y Tasas",path:"/configuracion/monedas",icon:Dr},{label:"Configuracin Proveedores",path:"/configuracion/proveedores",icon:Ba},{label:"Configuracin POS",path:"/configuracion/pos",icon:sa},{label:"Configuracin Compras",path:"/configuracion/compras",icon:Pr},{label:"Configuracin Transferencias",path:"/configuracion/transferencias",icon:nr},{label:"Configuracin Ajustes",path:"/configuracion/ajustes",icon:ba},{label:"Gestin de Usuarios",path:"/configuracion/usuarios",icon:Ba},{label:"Editor de Seguridad",path:"/configuracion/security-editor",icon:Sa}]},{id:"manager",label:"Manager Report",icon:ur,subItems:[{label:"Ver Reporte",path:"/reportes/manager",icon:ur},{label:"Diseador de Recibos",path:"/configuracion/receipt-designer",icon:zr}]},{id:"reportes",label:"Reportes",icon:ur,subItems:[{label:"General de Ventas",path:"/reportes/ventas",icon:Pa},{label:"Cobros y Mtodos",path:"/reportes/ventas-cobros",icon:Dr},{label:"Por Vendedor",path:"/reportes/ventas-vendedor",icon:Ba},{label:"Por Cliente",path:"/reportes/ventas-cliente",icon:Ba},{label:"Reportes de Compras",path:"/compras/reportes",icon:Pr},{label:"Multi-Moneda (Excel)",path:"/reportes/compras-multi-moneda",icon:Dr},{label:"S.L. Facturas",path:"/reportes/smartlist/facturas",icon:Qr,highlight:!0},{label:"S.L. Artculos",path:"/reportes/smartlist/articulos",icon:Qr,highlight:!0},{label:"S.L. Proveedores",path:"/reportes/smartlist/proveedores",icon:Qr,highlight:!0},{label:"S.L. Pagos",path:"/reportes/smartlist/pagos",icon:Qr,highlight:!0},{label:"S.L. Existencias",path:"/reportes/smartlist/inventario",icon:Qr,highlight:!0},{label:"Existencias Actuales",path:"/reportes/inventario",icon:ca},{label:"Valoracin de Inventario",path:"/reportes/valoracion-inventario",icon:Dr},{label:"Movimientos de Artculos",path:"/reportes/kardex",icon:zr},{label:"Listado de Clientes",path:"/reportes/clientes",icon:Ba},{label:"Listado de Proveedores",path:"/reportes/proveedores",icon:Ra}]},{id:"utilidades",label:"Utilidades",icon:Xr,subItems:[{label:"Calculadora",path:"/utilidades/calculadora",icon:Jt},{label:"Bloc de Notas",path:"/utilidades/notas",icon:zr},{label:"Calendario",path:"/utilidades/calendario",icon:fr}]}],Ja=({permission:e,behavior:t="disable",children:r,fallback:a=null})=>{const{hasPermission:n}=Gt();return n(e)?H.jsx(H.Fragment,{children:r}):"hide"===t?a||null:"disable"===t?K.isValidElement(r)?K.cloneElement(r,{disabled:!0,title:"No tiene permiso para realizar esta accin",className:`${r.props.className||""} opacity-50 cursor-not-allowed grayscale pointer-events-none`,onClick:e=>{e.preventDefault(),e.stopPropagation()}}):H.jsx("div",{className:"opacity-50 cursor-not-allowed grayscale pointer-events-none",title:"Acceso Denegado",children:r}):null},Ya=()=>{const[e,t]=W.useState([]),[r,a]=W.useState({crm:!1,operaciones:!0,inventario:!1,ventas:!1,configuracion:!1,reportes:!0,repVentas:!1,repCompras:!1,repInventario:!1,repEntidades:!1,repSmartList:!0,compras:!0,marketing:!0,manager:!1}),[n,o]=W.useState(!1),i=e=>{a(t=>({...t,[e]:!t[e]}))};K.useEffect(()=>{var e;const r=localStorage.getItem("launchpad_structure"),a=(null===(e=Ka.find(e=>"acceso-rapido"===e.id))||void 0===e?void 0:e.subItems)||[];if(r)try{const e=JSON.parse(r).find(e=>"acceso-rapido"===e.id);e&&e.subItems?t(e.subItems):t(a)}catch(Xd){t(a)}else t(a)},[]);const s=({isActive:e})=>"flex items-center space-x-3 px-4 py-3 rounded-md transition-colors "+(e?"bg-hd-orange text-white":"text-zinc-400 hover:bg-white/5 hover:text-white"),l=({isActive:e})=>"block flex items-center space-x-3 px-8 py-2 text-sm transition-colors "+(e?"text-hd-orange font-black":"text-zinc-500 hover:text-white");return H.jsxs(H.Fragment,{children:[H.jsx("div",{className:"lg:hidden fixed top-4 left-4 z-[60]",children:H.jsx("button",{onClick:()=>o(!n),className:"p-2 bg-hd-black text-white rounded-md shadow-lg border border-gray-700",children:H.jsx(Xr,{size:24})})}),n&&H.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden backdrop-blur-sm",onClick:()=>o(!1)}),H.jsxs("div",{className:`\n                w-64 bg-hd-black border-r border-white/5 min-h-screen text-gray-100 flex flex-col font-sans transition-all duration-300\n                fixed inset-y-0 left-0 z-50 \n                lg:relative lg:translate-x-0\n                ${n?"translate-x-0":"-translate-x-full"}\n            `,children:[H.jsxs("div",{className:"p-6 border-b border-white/5 flex items-center space-x-2 bg-black/10",children:[H.jsx("div",{className:"w-8 h-8 bg-hd-orange rounded flex items-center justify-center font-bold text-xl text-white shadow-lg shadow-hd-orange/20",children:"C"}),H.jsx("span",{className:"text-xl font-black italic tracking-tighter uppercase",children:"CRONO POS"}),H.jsx("button",{className:"ml-auto lg:hidden text-gray-400",onClick:()=>o(!1),children:H.jsx(wr,{className:"rotate-90",size:20})})]}),H.jsxs("nav",{className:"flex-1 py-4 space-y-1 overflow-y-auto",children:[H.jsxs(zt,{to:"/",className:s,end:!0,children:[H.jsx(Hr,{size:20}),H.jsx("span",{children:"Inicio"})]}),H.jsxs(zt,{to:"/launchpad",className:s,children:[H.jsx(Xr,{size:20}),H.jsx("span",{children:"Launchpad"})]}),H.jsxs("div",{className:"px-4 py-2 border-y border-white/5 my-2 bg-black/5",children:[H.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[H.jsx(Wa,{size:12,className:"text-hd-orange animate-pulse"}),H.jsx("p",{className:"text-[10px] font-black text-zinc-500 uppercase tracking-widest italic opacity-50",children:"Acceso Rpido"})]}),H.jsx("div",{className:"grid grid-cols-2 gap-2",children:e.slice(0,6).map((e,t)=>{let r=null;Ka.forEach(t=>{var a;const n=null===(a=t.subItems)||void 0===a?void 0:a.find(t=>t.path===e.path);n&&(r=n)});const a=r||e,n=a.icon||Wa;return H.jsxs(zt,{to:a.path,className:"flex flex-col items-center justify-center p-2 rounded bg-gray-800/40 hover:bg-hd-orange transition-all group border border-white/5",children:[H.jsx(n,{size:16,className:"text-hd-orange group-hover:text-white mb-1"}),H.jsx("span",{className:"text-[9px] font-black text-gray-400 group-hover:text-white uppercase tracking-tighter text-center leading-none",children:a.label.split(" ")[0]})]},t)})})]}),H.jsxs("div",{children:[H.jsxs("button",{onClick:()=>i("crm"),className:"w-full flex items-center justify-between px-4 py-3 text-gray-300 hover:bg-gray-800 hover:text-white rounded-md transition-colors",children:[H.jsxs("div",{className:"flex items-center space-x-3",children:[H.jsx(Gr,{size:20}),H.jsx("span",{children:"CRM"})]}),r.crm?H.jsx(wr,{size:16}):H.jsx(Cr,{size:16})]}),r.crm&&H.jsxs("div",{className:"bg-black/20 pb-2",children:[H.jsxs(zt,{to:"/crm/dashboard",className:l,children:[H.jsx(ur,{size:18}),H.jsx("span",{children:"Dashboard"})]}),H.jsxs(zt,{to:"/crm/prospectos",className:l,children:[H.jsx(Ba,{size:18}),H.jsx("span",{children:"Prospectos"})]}),H.jsxs(zt,{to:"/crm/oportunidades",className:l,children:[H.jsx(Da,{size:18}),H.jsx("span",{children:"Oportunidades"})]}),H.jsxs(zt,{to:"/crm/actividades",className:l,children:[H.jsx(fr,{size:18}),H.jsx("span",{children:"Actividades"})]}),H.jsxs(zt,{to:"/crm/interacciones",className:l,children:[H.jsx(oa,{size:18}),H.jsx("span",{children:"Interacciones"})]})]})]}),H.jsxs(zt,{to:"/clientes",className:s,children:[H.jsx(Ba,{size:20}),H.jsx("span",{children:"Clientes"})]}),H.jsxs(zt,{to:"/vendedores",className:l,children:[H.jsx(La,{size:18}),H.jsx("span",{children:"Vendedores"})]}),H.jsxs("div",{children:[H.jsxs("button",{onClick:()=>i("marketing"),className:"w-full flex items-center justify-between px-4 py-3 text-gray-300 hover:bg-gray-800 hover:text-white rounded-md transition-colors",children:[H.jsxs("div",{className:"flex items-center space-x-3",children:[H.jsx(na,{size:20,className:"text-hd-orange"}),H.jsx("span",{children:"Marketing"})]}),r.marketing?H.jsx(wr,{size:16}):H.jsx(Cr,{size:16})]}),r.marketing&&H.jsxs("div",{className:"bg-black/20 pb-2",children:[H.jsxs(zt,{to:"/marketing/promociones",className:l,children:[H.jsx(Aa,{size:18}),H.jsx("span",{children:"Promociones"})]}),H.jsxs(zt,{to:"/marketing/cupones",className:l,children:[H.jsx(Ma,{size:18}),H.jsx("span",{children:"Cupones"})]})]})]}),H.jsxs("div",{children:[H.jsxs("button",{onClick:()=>i("ventas"),className:"w-full flex items-center justify-between px-4 py-3 text-gray-300 hover:bg-gray-800 hover:text-white rounded-md transition-colors",children:[H.jsxs("div",{className:"flex items-center space-x-3",children:[H.jsx(Pa,{size:20}),H.jsx("span",{children:"Ventas"})]}),r.ventas?H.jsx(wr,{size:16}):H.jsx(Cr,{size:16})]}),r.ventas&&H.jsxs("div",{className:"bg-black/20 pb-2",children:[H.jsxs(zt,{to:"/ventas/pos",className:l,children:[H.jsx(Ea,{size:18}),H.jsx("span",{children:"POS (Caja)"})]}),H.jsxs(zt,{to:"/ventas/distribucion",className:l,children:[H.jsx(Ra,{size:18}),H.jsx("span",{children:"Ventas Distribucin"})]}),H.jsxs(zt,{to:"/ventas/devoluciones",className:l,children:[H.jsx(ba,{size:18}),H.jsx("span",{children:"Devoluciones y NC"})]}),H.jsxs(zt,{to:"/ventas/historial",className:l,children:[H.jsx(zr,{size:18}),H.jsx("span",{children:"Historial de Ventas"})]}),H.jsxs(zt,{to:"/ventas/corte",className:l,children:[H.jsx(Dr,{size:18}),H.jsx("span",{children:"Corte de Caja"})]}),H.jsxs(zt,{to:"/cuentas-por-cobrar/cobros",className:l,children:[H.jsx(Dr,{size:18}),H.jsx("span",{children:"Cuentas por Cobrar"})]})]})]}),H.jsxs("div",{children:[H.jsxs("button",{onClick:()=>i("compras"),className:"w-full flex items-center justify-between px-4 py-3 text-gray-300 hover:bg-gray-800 hover:text-white rounded-md transition-colors",children:[H.jsxs("div",{className:"flex items-center space-x-3",children:[H.jsx(Pr,{size:20}),H.jsx("span",{children:"Compras"})]}),r.compras?H.jsx(wr,{size:16}):H.jsx(Cr,{size:16})]}),r.compras&&H.jsxs("div",{className:"bg-black/20 pb-2",children:[H.jsxs(zt,{to:"/compras",className:l,end:!0,children:[H.jsx(Pr,{size:18}),H.jsx("span",{children:"rdenes y Facturas"})]}),H.jsxs(zt,{to:"/proveedores",className:l,children:[H.jsx(Ra,{size:18}),H.jsx("span",{children:"Proveedores"})]}),H.jsxs(zt,{to:"/cuentas-por-pagar/pagos",className:l,children:[H.jsx(nr,{size:18}),H.jsx("span",{children:"Cuentas por Pagar"})]})]})]}),H.jsxs("div",{children:[H.jsxs("button",{onClick:()=>i("inventario"),className:"w-full flex items-center justify-between px-4 py-3 text-gray-300 hover:bg-gray-800 hover:text-white rounded-md transition-colors",children:[H.jsxs("div",{className:"flex items-center space-x-3",children:[H.jsx(ca,{size:20}),H.jsx("span",{children:"Inventario"})]}),r.inventario?H.jsx(wr,{size:16}):H.jsx(Cr,{size:16})]}),r.inventario&&H.jsxs("div",{className:"bg-black/20 pb-2",children:[H.jsxs(zt,{to:"/productos",className:l,children:[H.jsx(gr,{size:18}),H.jsx("span",{children:"Maestro de Artculos"})]}),H.jsxs("div",{className:"ml-4 border-l-2 border-gray-700 pl-4 mt-1 mb-2 space-y-1",children:[H.jsxs(zt,{to:"/inventario/lista-precios",className:"flex items-center gap-2 px-4 py-1.5 text-xs text-gray-400 hover:text-white transition-colors",children:[H.jsx(Dr,{size:14}),H.jsx("span",{children:"Lista de Precios"})]}),H.jsxs(zt,{to:"/inventario/niveles-precios",className:"flex items-center gap-2 px-4 py-1.5 text-xs text-gray-400 hover:text-white transition-colors",children:[H.jsx(Yr,{size:14}),H.jsx("span",{children:"Niveles de Precio"})]}),H.jsxs(zt,{to:"/inventario/categorias-articulos",className:"flex items-center gap-2 px-4 py-1.5 text-xs text-gray-400 hover:text-white transition-colors",children:[H.jsx(Aa,{size:14}),H.jsx("span",{children:"Atributos de Artculos"})]}),H.jsxs(zt,{to:"/inventario/unidades-medida",className:"flex items-center gap-2 px-4 py-1.5 text-xs text-gray-400 hover:text-white transition-colors",children:[H.jsx(Vr,{size:14}),H.jsx("span",{children:"Unidades de Medida"})]}),H.jsxs(zt,{to:"/inventario/almacenes",className:"flex items-center gap-2 px-4 py-1.5 text-xs text-gray-400 hover:text-white transition-colors",children:[H.jsx(gr,{size:14}),H.jsx("span",{children:"Almacenes"})]}),H.jsxs(zt,{to:"/inventario/grupos-impuestos",className:"flex items-center gap-2 px-4 py-1.5 text-xs text-gray-400 hover:text-white transition-colors",children:[H.jsx(ba,{size:14}),H.jsx("span",{children:"Grupos de Impuestos"})]}),H.jsxs(zt,{to:"/inventario/grupos-producto",className:"flex items-center gap-2 px-4 py-1.5 text-xs text-gray-400 hover:text-white transition-colors",children:[H.jsx(ca,{size:14}),H.jsx("span",{children:"Grupos de Producto"})]})]}),H.jsxs(zt,{to:"/ajustes",className:l,children:[H.jsx(ba,{size:18}),H.jsx("span",{children:"Ajustes"})]}),H.jsxs(zt,{to:"/transferencias",className:l,children:[H.jsx(nr,{size:18}),H.jsx("span",{children:"Transferencias"})]}),H.jsxs(zt,{to:"/inventario/historial",className:l,children:[H.jsx(zr,{size:18}),H.jsx("span",{children:"Historial (Kardex)"})]}),H.jsxs(zt,{to:"/kardex",className:l,children:[H.jsx(gr,{size:18}),H.jsx("span",{children:"Control (Kardex)"})]})]})]}),H.jsxs("div",{children:[H.jsxs("button",{onClick:()=>i("configuracion"),className:"w-full flex items-center justify-between px-4 py-3 text-gray-300 hover:bg-gray-800 hover:text-white rounded-md transition-colors",children:[H.jsxs("div",{className:"flex items-center space-x-3",children:[H.jsx(ka,{size:20}),H.jsx("span",{children:"Configuracin"})]}),r.configuracion?H.jsx(wr,{size:16}):H.jsx(Cr,{size:16})]}),r.configuracion&&H.jsxs("div",{className:"bg-black/20 pb-2",children:[H.jsxs(zt,{to:"/configuracion/compania",className:l,children:[H.jsx(ka,{size:18}),H.jsx("span",{children:"Compaa"})]}),H.jsxs(zt,{to:"/configuracion/cxp",className:l,children:[H.jsx(zr,{size:18}),H.jsx("span",{children:"Cuentas por Pagar"})]}),H.jsxs(zt,{to:"/configuracion/ncf",className:l,children:[H.jsx(Vr,{size:18}),H.jsx("span",{children:"Comprobantes (NCF)"})]}),H.jsxs(zt,{to:"/configuracion/clientes",className:l,children:[H.jsx(Ba,{size:18}),H.jsx("span",{children:"Configuracin Clientes"})]}),H.jsxs(zt,{to:"/configuracion/articulos",className:l,children:[H.jsx(ca,{size:18}),H.jsx("span",{className:r.configuracion?"":"hidden",children:"Configuracin Artculos"})]}),H.jsxs(zt,{to:"/configuracion/monedas",className:l,children:[H.jsx(Dr,{size:18}),H.jsx("span",{className:r.configuracion?"":"hidden",children:"Monedas y Tasas"})]}),H.jsxs(zt,{to:"/configuracion/proveedores",className:l,children:[H.jsx(Ba,{size:18}),H.jsx("span",{children:"Configuracin Proveedores"})]}),H.jsxs(zt,{to:"/configuracion/pos",className:l,children:[H.jsx(sa,{size:18}),H.jsx("span",{children:"Configuracin POS"})]}),H.jsxs(zt,{to:"/configuracion/compras",className:l,children:[H.jsx(Pr,{size:18}),H.jsx("span",{children:"Configuracin Compras"})]}),H.jsxs(zt,{to:"/configuracion/transferencias",className:l,children:[H.jsx(nr,{size:18}),H.jsx("span",{children:"Configuracin Transferencias"})]}),H.jsxs(zt,{to:"/configuracion/usuarios",className:l,children:[H.jsx(Ba,{size:18}),H.jsx("span",{children:"Gestin de Usuarios"})]}),H.jsxs(zt,{to:"/configuracion/security-editor",className:l,children:[H.jsx(Sa,{size:18}),H.jsx("span",{children:"Editor de Seguridad"})]})]})]}),H.jsxs("div",{children:[H.jsxs("button",{onClick:()=>i("manager"),className:"w-full flex items-center justify-between px-4 py-3 text-gray-300 hover:bg-gray-800 hover:text-white rounded-md transition-colors",children:[H.jsxs("div",{className:"flex items-center space-x-3",children:[H.jsx(ur,{size:20}),H.jsx("span",{children:"Manager Report"})]}),r.manager?H.jsx(wr,{size:16}):H.jsx(Cr,{size:16})]}),r.manager&&H.jsxs("div",{className:"bg-black/20 pb-2",children:[H.jsxs(zt,{to:"/reportes/manager",className:l,end:!0,children:[H.jsx(ur,{size:18}),H.jsx("span",{children:"Ver Reporte"})]}),H.jsxs(zt,{to:"/configuracion/receipt-designer",className:l,children:[H.jsx(zr,{size:18}),H.jsx("span",{children:"Diseador de Recibos"})]})]})]}),H.jsxs("div",{children:[H.jsxs("button",{onClick:()=>i("reportes"),className:"w-full flex items-center justify-between px-4 py-3 text-gray-300 hover:bg-gray-800 hover:text-white rounded-md transition-colors",children:[H.jsxs("div",{className:"flex items-center space-x-3",children:[H.jsx(ur,{size:20}),H.jsx("span",{children:"Reportes"})]}),r.reportes?H.jsx(wr,{size:16}):H.jsx(Cr,{size:16})]}),r.reportes&&H.jsxs("div",{className:"bg-black/20 pb-2 ml-4 border-l border-gray-800",children:[H.jsxs("div",{children:[H.jsxs("button",{onClick:()=>i("repVentas"),className:"w-full flex items-center justify-between px-4 py-2 text-sm text-gray-400 hover:text-white transition-colors",children:[H.jsxs("div",{className:"flex items-center space-x-3",children:[H.jsx(Pa,{size:16}),H.jsx("span",{children:"Ventas"})]}),r.repVentas?H.jsx(wr,{size:14}):H.jsx(Cr,{size:14})]}),r.repVentas&&H.jsxs("div",{className:"ml-4 space-y-1",children:[H.jsx(zt,{to:"/reportes/ventas",className:l,children:H.jsx("span",{children:"General de Ventas"})}),H.jsx(zt,{to:"/reportes/ventas-cobros",className:l,children:H.jsx("span",{children:"Cobros y Mtodos de Pago"})}),H.jsx(zt,{to:"/reportes/ventas-vendedor",className:l,children:H.jsx("span",{children:"Por Vendedor"})}),H.jsx(zt,{to:"/reportes/ventas-cliente",className:l,children:H.jsx("span",{children:"Por Cliente"})}),H.jsx(zt,{to:"/ventas/corte",className:l,children:H.jsx("span",{children:"Corte de Caja"})})]})]}),H.jsxs("div",{children:[H.jsxs("button",{onClick:()=>i("repCompras"),className:"w-full flex items-center justify-between px-4 py-2 text-sm text-gray-400 hover:text-white transition-colors",children:[H.jsxs("div",{className:"flex items-center space-x-3",children:[H.jsx(Pr,{size:16}),H.jsx("span",{children:"Compras"})]}),r.repCompras?H.jsx(wr,{size:14}):H.jsx(Cr,{size:14})]}),r.repCompras&&H.jsxs("div",{className:"ml-4 space-y-1",children:[H.jsx(zt,{to:"/compras/reportes",className:l,children:H.jsx("span",{children:"Reportes de Compras"})}),H.jsx(zt,{to:"/reportes/compras-multi-moneda",className:l,children:H.jsx("span",{children:"Multi-Moneda (Excel)"})}),H.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-800",children:[H.jsx("div",{className:"px-8 py-1 text-[10px] font-bold text-hd-orange uppercase tracking-widest opacity-70",children:"SmartLists Dinmicos"}),H.jsxs(zt,{to:"/reportes/smartlist/facturas",className:l,children:[H.jsx(Qr,{size:14,className:"text-hd-orange"}),H.jsx("span",{children:"S.L. Facturas"})]}),H.jsxs(zt,{to:"/reportes/smartlist/articulos",className:l,children:[H.jsx(Qr,{size:14,className:"text-hd-orange"}),H.jsx("span",{children:"S.L. Artculos"})]}),H.jsxs(zt,{to:"/reportes/smartlist/proveedores",className:l,children:[H.jsx(Qr,{size:14,className:"text-hd-orange"}),H.jsx("span",{children:"S.L. Proveedores"})]}),H.jsxs(zt,{to:"/reportes/smartlist/pagos",className:l,children:[H.jsx(Qr,{size:14,className:"text-hd-orange"}),H.jsx("span",{children:"S.L. Pagos"})]}),H.jsxs(zt,{to:"/reportes/smartlist/inventario",className:l,children:[H.jsx(Qr,{size:14,className:"text-hd-orange"}),H.jsx("span",{children:"S.L. Existencias"})]})]})]})]}),H.jsxs("div",{children:[H.jsxs("button",{onClick:()=>i("repInventario"),className:"w-full flex items-center justify-between px-4 py-2 text-sm text-gray-400 hover:text-white transition-colors",children:[H.jsxs("div",{className:"flex items-center space-x-3",children:[H.jsx(ca,{size:16}),H.jsx("span",{children:"Inventario"})]}),r.repInventario?H.jsx(wr,{size:14}):H.jsx(Cr,{size:14})]}),r.repInventario&&H.jsxs("div",{className:"ml-4 space-y-1",children:[H.jsx(zt,{to:"/reportes/inventario",className:l,children:H.jsx("span",{children:"Existencias Actuales"})}),H.jsx(zt,{to:"/reportes/valoracion-inventario",className:l,children:H.jsx("span",{children:"Valoracin de Inventario"})}),H.jsx(zt,{to:"/reportes/kardex",className:l,children:H.jsx("span",{children:"Movimientos de Artculos"})})]})]}),H.jsxs("div",{children:[H.jsxs("button",{onClick:()=>i("repEntidades"),className:"w-full flex items-center justify-between px-4 py-2 text-sm text-gray-400 hover:text-white transition-colors",children:[H.jsxs("div",{className:"flex items-center space-x-3",children:[H.jsx(Ba,{size:16}),H.jsx("span",{children:"Entidades"})]}),r.repEntidades?H.jsx(wr,{size:14}):H.jsx(Cr,{size:14})]}),r.repEntidades&&H.jsxs("div",{className:"ml-4 space-y-1",children:[H.jsx(zt,{to:"/reportes/clientes",className:l,children:H.jsx("span",{children:"Listado de Clientes"})}),H.jsx(zt,{to:"/reportes/proveedores",className:l,children:H.jsx("span",{children:"Listado de Proveedores"})})]})]})]})]})]}),H.jsx("div",{className:"p-4 border-t border-gray-800 text-xs text-gray-500 text-center",children:"Versin 1.0.0"})]})]})},Xa=()=>{var e;const t=nt(),r=it(),{user:a,logout:n}=Gt();return H.jsxs("div",{className:"flex h-screen bg-gray-100 overflow-hidden font-sans",children:[H.jsx(Ya,{}),H.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[H.jsxs("header",{className:"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-6 z-10",children:[H.jsx("div",{className:"text-xl font-bold text-gray-800",children:(()=>{const e=t.pathname;return"/"===e?"Dashboard":e.startsWith("/clientes")?"Gestin de Clientes":e.startsWith("/proveedores")?"Gestin de Proveedores":e.startsWith("/ventas/devoluciones")?"Devoluciones y Notas de Crdito":e.startsWith("/ventas")?"Punto de Venta":e.startsWith("/compras")?"Compras e Ingresos":e.includes("/productos/nuevo")?H.jsxs("div",{children:[H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx("span",{children:"Catlogo de Productos"}),H.jsx("span",{className:"text-gray-400",children:"|"}),H.jsx("span",{children:"Nuevo Artculo"})]}),H.jsx("div",{className:"text-sm text-gray-500 font-normal",children:"Ficha de Artculo"})]}):e.includes("/productos/editar")?H.jsxs("div",{children:[H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx("span",{children:"Catlogo de Productos"}),H.jsx("span",{className:"text-gray-400",children:"|"}),H.jsx("span",{children:"Editar Artculo"})]}),H.jsx("div",{className:"text-sm text-gray-500 font-normal",children:"Ficha de Artculo"})]}):e.startsWith("/productos")?"Catlogo de Productos":e.startsWith("/inventario/lista-precios")?"Mantenimiento Lista de Precios":e.startsWith("/inventario/categorias-articulos")?"Segmentacin de Artculos":e.startsWith("/inventario/unidades-medida")?"Unidades de Medida":e.startsWith("/inventario/almacenes")?"Almacenes":e.startsWith("/inventario/grupos-impuestos")?"Grupos de Impuestos":e.startsWith("/kardex")?"Control de Inventario":e.startsWith("/configuracion/articulos")?H.jsxs("div",{className:"flex flex-col gap-1",children:[H.jsxs("div",{className:"flex items-center gap-4",children:[H.jsx("button",{onClick:()=>r("/configuracion"),className:"flex items-center justify-center p-2 rounded-full hover:bg-gray-100 transition-colors",children:H.jsx(ar,{size:20,className:"text-gray-600"})}),H.jsxs("div",{children:[H.jsx("div",{className:"text-xl font-bold text-gray-800",children:"Configuracin de Artculos"}),H.jsx("div",{className:"text-xs text-gray-500 font-normal",children:"Configuracin de secuencia numrica para artculos"})]})]}),H.jsx("div",{id:"header-message",className:"ml-14"})]}):e.startsWith("/reportes/valoracion-inventario")?"Valoracin de Inventario":e.startsWith("/reportes")?"Reportes":"Sistema POS"})()}),H.jsxs("div",{className:"flex items-center space-x-4",children:[H.jsx("div",{id:"header-actions"}),H.jsxs("button",{className:"p-2 text-gray-400 hover:text-hd-orange transition-colors relative",children:[H.jsx(pr,{size:20}),H.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-red-500 rounded-full"})]}),H.jsxs("div",{className:"flex items-center space-x-2 border-l border-gray-200 pl-4 ml-2",children:[H.jsxs("div",{className:"text-right hidden md:block mr-2",children:[H.jsx("div",{className:"text-sm font-semibold text-gray-700",children:(null==a?void 0:a.fullName)||"Usuario"}),H.jsx("div",{className:"text-[10px] font-black uppercase text-hd-orange tracking-tighter italic leading-none",children:(null==a?void 0:a.role)||"Vendedor"})]}),H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx("div",{className:"w-10 h-10 bg-hd-orange rounded-full flex items-center justify-center text-white shadow-lg shadow-hd-orange/10 font-black italic",children:(null==a||null===(e=a.userName)||void 0===e?void 0:e.substring(0,2).toUpperCase())||"U"}),H.jsx("button",{onClick:n,className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50/50 rounded-xl transition-all",title:"Cerrar Sesin",children:H.jsx(ta,{size:20})})]})]})]})]}),H.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-50 p-6",children:H.jsx(yt,{})})]})]})},Qa=({title:e})=>H.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[H.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center mb-6",children:H.jsx("span",{className:"text-4xl",children:""})}),H.jsx("h2",{className:"text-3xl font-bold text-gray-700 mb-2",children:e}),H.jsx("p",{className:"max-w-md text-center",children:"Estamos trabajando en el diseo de este mdulo. Pronto ver aqu los formularios y tablas correspondientes."})]}),Za=({children:e,variant:t="primary",size:r="md",isLoading:a=!1,className:n="",...o})=>H.jsxs("button",{className:`inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ${{primary:"bg-hd-orange text-white hover:bg-orange-600 focus:ring-orange-500",secondary:"bg-gray-800 text-white hover:bg-gray-900 focus:ring-gray-700",outline:"border border-gray-300 bg-transparent hover:bg-gray-50 text-gray-700",ghost:"bg-transparent hover:bg-gray-100 text-gray-700",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"}[t]} ${{xs:"h-6 px-2 text-[10px]",sm:"h-8 px-3 text-xs",md:"h-10 px-4 py-2 text-sm",lg:"h-12 px-8 text-base"}[r]} ${n}`,disabled:a||o.disabled,...o,children:[a&&H.jsx(Zr,{className:"mr-2 h-4 w-4 animate-spin"}),e]}),en=K.forwardRef(({label:e,error:t,className:r="",id:a,...n},o)=>H.jsxs("div",{className:`flex flex-col space-y-1.5 ${r}`,children:[e&&H.jsx("label",{htmlFor:a,className:"text-sm font-medium text-gray-700",children:e}),H.jsx("input",{ref:o,id:a,className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-hd-orange focus:border-transparent disabled:cursor-not-allowed disabled:opacity-50 "+(t?"border-red-500 focus:ring-red-500":""),...n,value:void 0!==n.value?n.value:""}),t&&H.jsx("span",{className:"text-xs text-red-500",children:t})]}));en.displayName="Input";const tn=({children:e,className:t="",style:r={}})=>H.jsx("div",{className:"w-full overflow-auto border border-gray-300 rounded-sm",children:H.jsx("table",{className:`w-full caption-bottom text-sm ${t}`,style:r,children:e})}),rn=({children:e,className:t=""})=>H.jsx("thead",{className:`bg-gray-100 ${t}`,children:e}),an=({children:e,className:t=""})=>H.jsx("tbody",{className:`bg-white ${t}`,children:e}),nn=({children:e,className:t="",...r})=>H.jsx("tr",{className:`transition-colors hover:bg-blue-50/50 data-[state=selected]:bg-purple-100 data-[state=selected]:text-purple-900 ${t}`,...r,children:e}),on=({children:e,className:t="",...r})=>H.jsx("th",{className:`h-10 px-4 text-left align-middle font-medium text-gray-600 border-b border-r border-gray-300 last:border-r-0 bg-gray-50 whitespace-nowrap ${t}`,...r,children:e}),sn=({children:e,className:t="",...r})=>H.jsx("td",{className:`p-1.5 align-middle border-b border-r border-gray-200 last:border-r-0 text-gray-700 [&:has([role=checkbox])]:pr-0 ${t}`,...r,children:e}),ln=K.forwardRef(({children:e,className:t="",...r},a)=>H.jsx("div",{ref:a,className:`bg-white rounded-lg shadow-sm border border-gray-200 ${t}`,...r,children:e})),cn=K.forwardRef(({children:e,className:t="",...r},a)=>H.jsx("div",{ref:a,className:`px-6 py-4 border-b border-gray-100 ${t}`,...r,children:e})),dn=K.forwardRef(({children:e,className:t="",...r},a)=>H.jsx("h3",{ref:a,className:`text-lg font-semibold text-gray-800 ${t}`,...r,children:e})),un=K.forwardRef(({children:e,className:t="",...r},a)=>H.jsx("div",{ref:a,className:`px-6 py-4 ${t}`,...r,children:e}));ln.displayName="Card",cn.displayName="CardHeader",dn.displayName="CardTitle",un.displayName="CardContent";const pn=()=>{const e=it(),[t,r]=W.useState(""),[a,n]=W.useState([]),[o,i]=W.useState(!0);W.useEffect(()=>{s()},[]);const s=async()=>{try{const e=await fetch("http://localhost:5006/api/Clients");if(e.ok){const t=await e.json(),r=Array.isArray(t)?t:t.value||[];n(r)}else{const t=await e.text();console.error("Failed to fetch clients:",e.status,t),alert("Error al cargar clientes: "+t)}}catch(e){console.error("Error fetching clients:",e)}finally{i(!1)}},[l,c]=W.useState({key:null,direction:"asc"}),d=e=>{let t="asc";l.key===e&&"asc"===l.direction&&(t="desc"),c({key:e,direction:t})},u=K.useMemo(()=>{let e=[...a];return t&&(e=e.filter(e=>{const r=e.name||e.Name||"",a=e.company||e.Company||"",n=e.code||e.Code||"";return r.toLowerCase().includes(t.toLowerCase())||a.toLowerCase().includes(t.toLowerCase())||n.toLowerCase().includes(t.toLowerCase())})),l.key&&e.sort((e,t)=>{const r=e[l.key]?e[l.key].toString().toLowerCase():"",a=t[l.key]?t[l.key].toString().toLowerCase():"";return r<a?"asc"===l.direction?-1:1:r>a?"asc"===l.direction?1:-1:0}),e},[a,t,l]),p=e=>l.key!==e?H.jsx(Qr,{size:14,className:"opacity-30"}):"asc"===l.direction?H.jsx(lr,{size:14,className:"text-hd-orange"}):H.jsx(rr,{size:14,className:"text-hd-orange"});return H.jsxs("div",{className:"space-y-6",children:[H.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[H.jsxs("div",{children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:"Clientes"}),H.jsx("p",{className:"text-sm text-gray-500",children:"Gestin de cartera de clientes"})]}),H.jsxs("div",{className:"flex gap-2",children:[H.jsxs(Za,{variant:"outline",className:"text-gray-600 border-gray-300 hover:bg-gray-50",children:[H.jsx(Rr,{className:"mr-2 h-4 w-4"})," Filtros"]}),H.jsxs(Za,{onClick:()=>e("/clientes/nuevo"),className:"bg-hd-orange hover:bg-orange-600 text-white shadow-md",children:[H.jsx(xa,{className:"mr-2 h-4 w-4"})," Nuevo Cliente"]})]})]}),H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[H.jsx(ln,{className:"border-l-4 border-l-blue-500",children:H.jsxs(un,{className:"p-4",children:[H.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Total Clientes"}),H.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:a.length})]})}),H.jsx(ln,{className:"border-l-4 border-l-green-500",children:H.jsxs(un,{className:"p-4",children:[H.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Activos"}),H.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:a.filter(e=>"Active"===e.status).length})]})}),H.jsx(ln,{className:"border-l-4 border-l-orange-500",children:H.jsxs(un,{className:"p-4",children:[H.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Crdito Disponible"}),H.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"$1.2M"})]})}),H.jsx(ln,{className:"border-l-4 border-l-red-500",children:H.jsxs(un,{className:"p-4",children:[H.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Saldo Vencido"}),H.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"$45.2k"})]})})]}),H.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[H.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50 flex gap-4",children:H.jsxs("div",{className:"relative flex-1 max-w-md",children:[H.jsx(ja,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),H.jsx(en,{placeholder:"Buscar por nombre, empresa o cdigo...",className:"pl-9 bg-white",value:t,onChange:e=>r(e.target.value)})]})}),H.jsx("div",{className:"overflow-x-auto",children:H.jsxs(tn,{children:[H.jsx(rn,{className:"bg-gray-100/90 border-b-2 border-gray-200",children:H.jsxs(nn,{children:[H.jsx(on,{onClick:()=>d("code"),className:"w-[100px] font-bold text-gray-700 cursor-pointer hover:bg-gray-200 transition-colors select-none",children:H.jsxs("div",{className:"flex items-center space-x-2",children:[H.jsx("span",{children:"Cdigo"}),p("code")]})}),H.jsx(on,{onClick:()=>d("name"),className:"font-bold text-gray-700 cursor-pointer hover:bg-gray-200 transition-colors select-none",children:H.jsxs("div",{className:"flex items-center space-x-2",children:[H.jsx("span",{children:"Nombre"}),p("name")]})}),H.jsx(on,{onClick:()=>d("company"),className:"font-bold text-gray-700 cursor-pointer hover:bg-gray-200 transition-colors select-none",children:H.jsxs("div",{className:"flex items-center space-x-2",children:[H.jsx("span",{children:"Empresa"}),p("company")]})}),H.jsx(on,{onClick:()=>d("phone"),className:"font-bold text-gray-700 cursor-pointer hover:bg-gray-200 transition-colors select-none",children:H.jsxs("div",{className:"flex items-center space-x-2",children:[H.jsx("span",{children:"Telfono"}),p("phone")]})}),H.jsx(on,{onClick:()=>d("email"),className:"font-bold text-gray-700 cursor-pointer hover:bg-gray-200 transition-colors select-none",children:H.jsxs("div",{className:"flex items-center space-x-2",children:[H.jsx("span",{children:"Email"}),p("email")]})}),H.jsx(on,{onClick:()=>d("status"),className:"font-bold text-gray-700 cursor-pointer hover:bg-gray-200 transition-colors select-none",children:H.jsxs("div",{className:"flex items-center space-x-2",children:[H.jsx("span",{children:"Estado"}),p("status")]})}),H.jsx(on,{className:"text-right font-bold text-gray-700",children:"Acciones"})]})}),H.jsx(an,{children:o?H.jsx(nn,{children:H.jsx(sn,{colSpan:7,className:"text-center py-8 text-gray-500",children:"Cargando clientes..."})}):0===u.length?H.jsx(nn,{children:H.jsx(sn,{colSpan:7,className:"text-center py-8 text-gray-500",children:"No se encontraron clientes"})}):u.map(t=>H.jsxs(nn,{className:"hover:bg-gray-50 transition-colors",children:[H.jsx(sn,{className:"font-medium text-gray-900",children:t.code||t.Code}),H.jsx(sn,{className:"font-medium text-gray-800",children:t.name||t.Name}),H.jsx(sn,{className:"text-gray-600",children:t.company||t.Company||"-"}),H.jsx(sn,{className:"text-gray-600 text-sm",children:t.phone||t.Phone}),H.jsx(sn,{className:"text-gray-600 text-sm",children:t.email||t.Email}),H.jsx(sn,{children:H.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+("Active"===(t.status||t.Status)?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:"Active"===(t.status||t.Status)?"Activo":"Inactivo"})}),H.jsx(sn,{className:"text-right",children:H.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[H.jsx(Za,{variant:"ghost",size:"icon",onClick:()=>e(`/clientes/editar/${t.id}`),className:"h-10 w-10 p-2 rounded-full text-blue-600 hover:text-blue-800 hover:bg-blue-100 transition-all border border-transparent hover:border-blue-200 shadow-sm",title:"Editar",children:H.jsx(ua,{className:"h-6 w-6 stroke-[1.5]"})}),H.jsx(Za,{variant:"ghost",size:"icon",onClick:()=>(async e=>{if(window.confirm("Est seguro de eliminar este cliente?"))try{(await fetch(`http://localhost:5006/api/Clients/${e}`,{method:"DELETE"})).ok?s():alert("Error al eliminar")}catch(t){console.error("Error deleting client:",t)}})(t.id),className:"h-10 w-10 p-2 rounded-full text-red-600 hover:text-red-800 hover:bg-red-100 transition-all border border-transparent hover:border-red-200 shadow-sm",title:"Eliminar",children:H.jsx(Ta,{className:"h-6 w-6 stroke-[1.5]"})})]})})]},t.id||t.Id))})]})})]})]})},hn="http://localhost:5006/api",mn=async()=>{const e=await fetch(`${hn}/NivelesPrecio`);if(!e.ok)throw new Error("Error getting price levels");return e.json()},gn=async e=>{const t=await fetch(`${hn}/NivelesPrecio`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Error saving price level");return t.json()},xn=({clientId:e})=>{const[t,r]=W.useState([]),[a,n]=W.useState(!1);if(W.useEffect(()=>{e&&(n(!0),fetch(`http://localhost:5006/api/Clients/${e}/Statement`).then(e=>e.json()).then(e=>r(Array.isArray(e)?e:[])).catch(e=>console.error("Error loading ledger:",e)).finally(()=>n(!1)))},[e]),!e)return H.jsx("div",{className:"text-gray-400 p-4",children:"Guarde el cliente para ver su estado de cuenta."});const o=e=>e?`RD$ ${e.toLocaleString("en-US",{minimumFractionDigits:2})}`:"-";return H.jsx("div",{className:"overflow-x-auto border rounded-lg",children:H.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[H.jsx("thead",{className:"bg-gray-50",children:H.jsxs("tr",{children:[H.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),H.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Documento"}),H.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),H.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dbito"}),H.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Crdito"}),H.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Saldo"})]})}),H.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a?H.jsx("tr",{children:H.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500",children:"Cargando movimientos..."})}):0===t.length?H.jsx("tr",{children:H.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500",children:"No hay movimientos registrados."})}):t.map((e,t)=>H.jsxs("tr",{className:"hover:bg-gray-50",children:[H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.fecha).toLocaleDateString()}),H.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[e.documento,e.referencia&&H.jsx("div",{className:"text-xs text-gray-400 font-normal",children:e.referencia})]}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:H.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+("Factura"===e.tipo?"bg-blue-100 text-blue-800":"Cobro"===e.tipo?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.tipo})}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-500",children:o(e.debito)}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-500",children:o(e.credito)}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-bold text-gray-900",children:o(e.balance)})]},`${e.refId}-${t}`))})]})})},fn=({title:e,children:t,defaultExpanded:r=!0})=>{const[a,n]=W.useState(r);return H.jsxs("div",{className:"border border-gray-200 bg-white rounded-sm mb-4 shadow-sm overflow-hidden",children:[H.jsxs("button",{onClick:()=>n(!a),className:"w-full flex items-center px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors border-b border-gray-100",children:[a?H.jsx(wr,{size:16,className:"text-gray-500 mr-2"}):H.jsx(Cr,{size:16,className:"text-gray-500 mr-2"}),H.jsx("span",{className:"font-semibold text-sm text-gray-700 uppercase tracking-wide",children:e})]}),a&&H.jsx("div",{className:"p-6 bg-white",children:H.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-4",children:t})})]})},bn=({label:e,children:t,required:r=!1})=>H.jsxs("div",{className:"flex flex-col space-y-1",children:[H.jsxs("label",{className:"text-xs font-semibold text-gray-500 truncate flex items-center",children:[e,r&&H.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),t]}),vn=()=>{const e=it(),{id:t}=lt(),[r,a]=W.useState(""),[n,o]=W.useState({code:"",name:"",company:"",taxId:"",phone:"",email:"",address:"",status:"Active",balance:0,tipoNCF:"",nivelPrecio:"",moneda:""}),[i,s]=W.useState(null),[l,c]=W.useState([]),[d,u]=W.useState([]),[p,h]=W.useState([]);W.useEffect(()=>{(async()=>{try{const e=await fetch("http://localhost:5006/api/ClientConfiguration");if(e.ok){const r=await e.json();if(s(r),!t&&r.useAutoSequence){const e=String(r.currentValue).padStart(r.sequenceLength,"0"),t=r.useInitials?`${r.initials}${r.separator}${e}`:e;o(e=>({...e,code:t}))}}const r=await fetch("http://localhost:5006/api/Sellers");if(r.ok){const e=await r.json();c(e)}const a=await fetch("http://localhost:5006/api/Ventas/NCF/Sequences");if(a.ok){const e=await a.json();u(e)}try{const e=await mn();h(e)}catch(Xd){console.error("Error fetching price levels",Xd)}}catch(e){console.error("Error loading initial data:",e)}})()},[t]),W.useEffect(()=>{t&&m(t)},[t]);const m=async e=>{try{const t=await fetch(`http://localhost:5006/api/Clients/${e}`);if(t.ok){const e=await t.json();o(e)}else console.error("Failed to fetch client"),alert("No se pudo cargar el cliente")}catch(t){console.error("Error:",t)}},g=e=>{const{name:t,value:r}=e.target;let a=r;"name"===t&&(a=(e=>{if(!i||!i.nameCase)return e;switch(i.nameCase){case"words":return e.split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ");case"first":return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase();default:return e}})(r)),o(e=>({...e,[t]:a}))};return H.jsxs("div",{className:"flex flex-col h-full bg-gray-100 min-h-screen",children:[H.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-3 flex items-center justify-between sticky top-0 z-10 shadow-sm",children:[H.jsxs("div",{className:"flex items-center space-x-4",children:[H.jsx(Za,{variant:"ghost",size:"icon",onClick:()=>e("/clientes"),className:"text-gray-500 hover:text-gray-800",children:H.jsx(ar,{className:"h-5 w-5"})}),H.jsxs("div",{className:"flex flex-col",children:[H.jsxs("div",{className:"flex items-center space-x-2",children:[H.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"Clientes"}),H.jsx("span",{className:"text-gray-400 text-xs",children:"/"}),H.jsx("span",{className:"text-sm text-gray-800 font-bold",children:"Nuevo Cliente"})]}),H.jsx("h1",{className:"text-xl font-bold text-gray-900 leading-tight",children:"Tarjeta de Cliente"})]})]}),H.jsxs("div",{className:"flex items-center space-x-4",children:[r&&H.jsx("span",{className:"text-lg font-bold text-blue-400 animate-pulse",children:r}),H.jsxs("div",{className:"flex items-center space-x-2",children:[H.jsx(Za,{variant:"ghost",className:"text-gray-600 hover:bg-gray-100",children:H.jsx("span",{className:"text-xs font-medium",children:"Reportes"})}),H.jsx(Za,{variant:"ghost",className:"text-gray-600 hover:bg-gray-100",children:H.jsx("span",{className:"text-xs font-medium",children:"Movimientos"})}),H.jsx("div",{className:"h-4 w-px bg-gray-300 mx-2"}),H.jsxs(Za,{variant:"outline",size:"sm",onClick:()=>e("/clientes"),className:"border-gray-300 text-gray-700",children:[H.jsx(Ha,{className:"mr-2 h-4 w-4"})," Cancelar"]}),H.jsxs(Za,{size:"sm",onClick:async()=>{try{if(!n.name)return void alert("El nombre es obligatorio");const e=t?"PUT":"POST",r=t?`http://localhost:5006/api/Clients/${t}`:"http://localhost:5006/api/Clients",i={...n,code:n.code||`C${Math.floor(1e4*Math.random())}`};if((await fetch(r,{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).ok){if(a(t?"Cliente actualizado correctamente.":"El cliente se ha registrado correctamente."),!t){const e=await fetch("http://localhost:5006/api/ClientConfiguration");if(e.ok){const t=await e.json(),r=String(t.currentValue).padStart(t.sequenceLength,"0"),a=t.useInitials?`${t.initials}${t.separator}${r}`:r;o({code:a,name:"",company:"",taxId:"",phone:"",email:"",address:"",status:"Active",balance:0,tipoNCF:"",nivelPrecio:""})}}}else console.error("Error saving client"),alert("Error al guardar")}catch(e){console.error("Error:",e),alert("Error de conexin")}},className:"bg-hd-orange hover:bg-orange-600 text-white shadow-sm border border-transparent",children:[H.jsx(wa,{className:"mr-2 h-4 w-4"})," Guardar"]})]})]})]}),H.jsxs("div",{className:"flex-1 overflow-auto p-6 max-w-7xl mx-auto w-full",children:[H.jsxs(fn,{title:"Informacin General",children:[H.jsx(bn,{label:"No.",children:H.jsx(en,{name:"code",value:n.code,onChange:g,placeholder:"(Auto)",className:"bg-gray-50 border-gray-300 text-gray-900 font-bold",readOnly:(null==i?void 0:i.useAutoSequence)||!!t})}),H.jsx(bn,{label:"Nombre",required:!0,children:H.jsx(en,{name:"name",value:n.name,onChange:g,placeholder:"Nombre del cliente",className:"font-medium"})}),H.jsx(bn,{label:"Saldo Consolidado (RD$)",children:H.jsx(en,{value:n.balance,onChange:()=>{},placeholder:"0.00",className:"text-right text-hd-orange font-black border-gray-300 text-lg",readOnly:!0})}),H.jsx(bn,{label:"Lmite Crdito (RD$)",children:H.jsx(en,{type:"number",placeholder:"0.00",className:"text-right",readOnly:!0})}),H.jsx(bn,{label:"Vendedor",children:H.jsxs("select",{name:"sellerName",value:n.sellerName||"",onChange:g,className:"flex h-9 w-full rounded-md border border-gray-300 bg-white px-3 py-1 text-sm shadow-sm focus:outline-none focus:ring-1 focus:ring-hd-orange focus:border-hd-orange",children:[H.jsx("option",{value:"",children:"Seleccionar..."}),l.map(e=>H.jsxs("option",{value:e.name,className:"text-gray-900",children:[e.code," - ",e.name]},e.id))]})}),H.jsx(bn,{label:"Bloqueado",children:H.jsxs("select",{name:"status",value:n.status,onChange:g,className:"flex h-9 w-full rounded-md border border-gray-300 bg-white px-3 py-1 text-sm shadow-sm focus:outline-none focus:ring-1 focus:ring-hd-orange focus:border-hd-orange",children:[H.jsx("option",{value:"Active",children:"No"}),H.jsx("option",{value:"Blocked",children:"Todo"})]})})]}),H.jsxs(fn,{title:"Direccin y Contacto",defaultExpanded:!0,children:[H.jsx(bn,{label:"Direccin",required:!0,children:H.jsx(en,{name:"address",value:n.address,onChange:g,placeholder:"Calle, nmero..."})}),H.jsx(bn,{label:"Direccin 2",children:H.jsx(en,{placeholder:"Apartamento, local...",readOnly:!0})}),H.jsx(bn,{label:"Ciudad",children:H.jsx(en,{placeholder:"Santo Domingo",readOnly:!0})}),H.jsx(bn,{label:"Cdigo Postal",children:H.jsx(en,{placeholder:"10101",readOnly:!0})}),H.jsx(bn,{label:"Telfono",children:H.jsx(en,{name:"phone",value:n.phone,onChange:g,placeholder:"(809) 000-0000"})}),H.jsx(bn,{label:"Correo Electrnico",children:H.jsx(en,{name:"email",type:"email",value:n.email,onChange:g,placeholder:"cliente@ejemplo.com",className:"text-blue-600 underline"})}),H.jsx(bn,{label:"Pgina Web",children:H.jsx(en,{placeholder:"www.ejemplo.com",readOnly:!0})}),H.jsx(bn,{label:"Contacto Principal",children:H.jsx(en,{placeholder:"Nombre del contacto",readOnly:!0})})]}),H.jsxs(fn,{title:"Facturacin",defaultExpanded:!1,children:[H.jsx(bn,{label:"RNC / Cdula",required:!0,children:H.jsx(en,{name:"taxId",value:n.taxId,onChange:g,placeholder:"001-0000000-0"})}),H.jsx(bn,{label:"Condicin Pago",children:H.jsxs("select",{className:"flex h-9 w-full rounded-md border border-gray-300 bg-white px-3 py-1 text-sm shadow-sm focus:outline-none focus:ring-1 focus:ring-hd-orange focus:border-hd-orange",children:[H.jsx("option",{children:"Contado"}),H.jsx("option",{children:"15 Das"}),H.jsx("option",{children:"30 Das"}),H.jsx("option",{children:"60 Das"})]})}),H.jsx(bn,{label:"Nivel de Precio",children:H.jsxs("select",{name:"nivelPrecio",value:n.nivelPrecio||"",onChange:g,className:"flex h-9 w-full rounded-md border border-gray-300 bg-white px-3 py-1 text-sm shadow-sm focus:outline-none focus:ring-1 focus:ring-hd-orange focus:border-hd-orange",children:[H.jsx("option",{value:"",children:"-- Predeterminado --"}),p.map(e=>H.jsx("option",{value:e.nombre,children:e.nombre},e.id))]})}),H.jsx(bn,{label:"Tipo NCF",children:H.jsxs("select",{name:"tipoNCF",value:n.tipoNCF||"",onChange:g,className:"flex h-9 w-full rounded-md border border-gray-300 bg-white px-3 py-1 text-sm shadow-sm focus:outline-none focus:ring-1 focus:ring-hd-orange focus:border-hd-orange",children:[H.jsx("option",{value:"",children:"Seleccionar..."}),d.map(e=>H.jsxs("option",{value:e.tipoNCF,children:[e.nombre," (",e.tipoNCF,")"]},e.id))]})}),H.jsx(bn,{label:"Moneda",children:H.jsxs("select",{name:"moneda",value:n.moneda||"",onChange:g,className:"flex h-9 w-full rounded-md border border-gray-300 bg-white px-3 py-1 text-sm shadow-sm focus:outline-none focus:ring-1 focus:ring-hd-orange focus:border-hd-orange",children:[H.jsx("option",{value:"",children:"Seleccionar..."}),H.jsx("option",{value:"DOP",children:"DOP"}),H.jsx("option",{value:"USD",children:"USD"})]})}),H.jsx(bn,{label:"Grupo Impuesto",children:H.jsxs("select",{className:"flex h-9 w-full rounded-md border border-gray-300 bg-white px-3 py-1 text-sm shadow-sm focus:outline-none focus:ring-1 focus:ring-hd-orange focus:border-hd-orange",disabled:!0,children:[H.jsx("option",{children:"ITBIS 18%"}),H.jsx("option",{children:"Exento"})]})}),H.jsx(bn,{label:"Compaa",children:H.jsx(en,{name:"company",value:n.company,onChange:g,placeholder:"Nombre de empresa..."})})]}),H.jsx(fn,{title:"Estado de Cuenta",defaultExpanded:!0,children:H.jsx("div",{className:"col-span-full",children:H.jsx(xn,{clientId:t})})})]})]})},yn="http://localhost:5006/api",wn=async()=>{const e=await fetch(`${yn}/Proveedores`);if(!e.ok)throw new Error(`Failed to get providers: ${e.status}`);return e.json()},jn=()=>{const e=it(),[t,r]=W.useState(""),[a,n]=W.useState([]),[o,i]=W.useState(!0);W.useEffect(()=>{s()},[]);const s=async()=>{try{i(!0);const e=await wn();n(e)}catch(e){console.error("Error loading suppliers:",e)}finally{i(!1)}},l=async e=>{if(window.confirm("Est seguro de eliminar este proveedor?"))try{await(async e=>{const t=await fetch(`${yn}/Proveedores/${e}`,{method:"DELETE"});if(!t.ok){const e=await t.text();throw new Error(`Failed to delete provider: ${t.status} ${e}`)}return!0})(e),s()}catch(t){console.error("Error deleting supplier:",t),alert("Error al eliminar proveedor")}},c=a.filter(e=>e.razonSocial.toLowerCase().includes(t.toLowerCase())||e.contacto&&e.contacto.toLowerCase().includes(t.toLowerCase()));return H.jsxs("div",{className:"space-y-6",children:[H.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[H.jsxs("div",{children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:"Proveedores"}),H.jsx("p",{className:"text-sm text-gray-500",children:"Gestione la informacin de sus proveedores y rdenes de compra."})]}),H.jsxs(Za,{onClick:()=>e("/proveedores/nuevo"),className:"bg-gray-800 hover:bg-gray-900 shadow-lg",children:[H.jsx(xa,{className:"mr-2 h-4 w-4"})," Nuevo Proveedor"]})]}),H.jsxs(ln,{children:[H.jsxs(cn,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[H.jsx(dn,{children:"Listado General"}),H.jsxs("div",{className:"relative w-64",children:[H.jsx(ja,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),H.jsx(en,{placeholder:"Buscar proveedor...",className:"pl-9",value:t,onChange:e=>r(e.target.value)})]})]}),H.jsx("div",{className:"p-0",children:H.jsxs(tn,{children:[H.jsx(rn,{children:H.jsxs(nn,{children:[H.jsx(on,{className:"w-[100px]",children:H.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:text-gray-900 group",children:["Cdigo ",H.jsx(Qr,{size:14,className:"text-gray-400 group-hover:text-gray-600"})]})}),H.jsx(on,{children:H.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:text-gray-900 group",children:["Empresa ",H.jsx(Qr,{size:14,className:"text-gray-400 group-hover:text-gray-600"})]})}),H.jsx(on,{className:"hidden md:table-cell",children:H.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:text-gray-900 group",children:["Contacto ",H.jsx(Qr,{size:14,className:"text-gray-400 group-hover:text-gray-600"})]})}),H.jsx(on,{className:"hidden md:table-cell",children:H.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:text-gray-900 group",children:["Telfono ",H.jsx(Qr,{size:14,className:"text-gray-400 group-hover:text-gray-600"})]})}),H.jsx(on,{className:"hidden lg:table-cell",children:H.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:text-gray-900 group",children:["Email ",H.jsx(Qr,{size:14,className:"text-gray-400 group-hover:text-gray-600"})]})}),H.jsx(on,{children:H.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:text-gray-900 group",children:["Estado ",H.jsx(Qr,{size:14,className:"text-gray-400 group-hover:text-gray-600"})]})}),H.jsx(on,{className:"text-right",children:H.jsxs("div",{className:"flex items-center justify-end gap-2 cursor-pointer hover:text-gray-900 group",children:["Deuda Total ",H.jsx(Qr,{size:14,className:"text-gray-400 group-hover:text-gray-600"})]})}),H.jsx(on,{className:"text-right",children:"Acciones"})]})}),H.jsx(an,{children:c.map(t=>H.jsxs(nn,{className:"cursor-pointer",children:[H.jsx(sn,{className:"font-medium",children:t.codigoProveedor}),H.jsxs(sn,{children:[H.jsx("div",{className:"font-medium text-gray-900",children:t.razonSocial}),H.jsx("div",{className:"text-xs text-gray-500",children:t.numeroDocumento})]}),H.jsx(sn,{className:"hidden md:table-cell text-gray-600",children:t.contacto}),H.jsx(sn,{className:"hidden md:table-cell text-gray-600",children:t.telefono}),H.jsx(sn,{className:"hidden lg:table-cell text-gray-600",children:t.correo}),H.jsx(sn,{children:H.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+(t.activo?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:t.activo?"Activo":"Inactivo"})}),H.jsx(sn,{className:"text-right",children:H.jsxs("div",{className:"flex flex-col items-end",children:[H.jsxs("span",{className:"font-bold "+(t.deudaTotal>0?"text-red-600":"text-green-600"),children:["RD$ ",t.deudaTotal.toLocaleString(void 0,{minimumFractionDigits:2})]}),t.deudaTotal>0&&H.jsx("span",{className:"text-[10px] text-gray-400 italic",children:"Balance Consolidado"})]})}),H.jsx(sn,{className:"text-right",children:H.jsxs("div",{className:"flex justify-end space-x-2",children:[H.jsx(Za,{variant:"ghost",size:"icon",onClick:()=>e("/cuentas-por-pagar/pagos"),className:"h-10 w-10 p-2 rounded-full text-green-600 hover:text-green-800 hover:bg-green-100 transition-all border border-transparent hover:border-green-200 shadow-sm",title:"Registrar Pago",children:H.jsx(Dr,{className:"h-6 w-6 stroke-[1.5]"})}),H.jsx(Za,{variant:"ghost",size:"icon",onClick:()=>e(`/proveedores/editar/${t.id}`),className:"h-10 w-10 p-2 rounded-full text-blue-600 hover:text-blue-800 hover:bg-blue-100 transition-all border border-transparent hover:border-blue-200 shadow-sm",title:"Editar",children:H.jsx(ua,{className:"h-6 w-6 stroke-[1.5]"})}),H.jsx(Za,{variant:"ghost",size:"icon",onClick:()=>l(t.id),className:"h-10 w-10 p-2 rounded-full text-red-600 hover:text-red-800 hover:bg-red-100 transition-all border border-transparent hover:border-red-200 shadow-sm",title:"Eliminar",children:H.jsx(Ta,{className:"h-6 w-6 stroke-[1.5]"})})]})})]},t.id))})]})})]})]})},Nn=({title:e,children:t,defaultExpanded:r=!0})=>{const[a,n]=W.useState(r);return H.jsxs("div",{className:"border border-gray-200 bg-white rounded-sm mb-4 shadow-sm overflow-hidden",children:[H.jsxs("button",{onClick:()=>n(!a),className:"w-full flex items-center px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors border-b border-gray-100",children:[a?H.jsx(wr,{size:16,className:"text-gray-500 mr-2"}):H.jsx(Cr,{size:16,className:"text-gray-500 mr-2"}),H.jsx("span",{className:"font-semibold text-sm text-gray-700 uppercase tracking-wide",children:e})]}),a&&H.jsx("div",{className:"p-6 bg-white",children:H.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-4",children:t})})]})},kn=({label:e,children:t,required:r=!1})=>H.jsxs("div",{className:"flex flex-col space-y-1",children:[H.jsxs("label",{className:"text-xs font-semibold text-gray-500 truncate flex items-center",children:[e,r&&H.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),t]}),Cn=()=>{const e=it(),{id:t}=lt(),r=Boolean(t),[a,n]=W.useState(null),[o,i]=W.useState("N/A"),[s,l]=W.useState(""),[c,d]=W.useState(""),[u,p]=W.useState(""),[h,m]=W.useState(""),[g,x]=W.useState(""),[f,b]=W.useState(""),[v,y]=W.useState(""),[w,j]=W.useState(""),[N,k]=W.useState(""),[C,S]=W.useState(!0);W.useEffect(()=>{O(),P(),r?I():E()},[r,t]);const E=async()=>{try{const e="http://localhost:5006/api",t=await fetch(`${e}/ProveedorConfiguration/NextCode`);if(t.ok){const e=await t.text();d(e||`PROV-${Math.floor(1e3+9e3*Math.random())}`)}}catch(Xd){console.error("Error fetching next code:",Xd)}},P=async()=>{try{const e="http://localhost:5006/api",t=await fetch(`${e}/ProveedorConfiguration`);if(t.ok){const e=await t.json();n(e)}}catch(Xd){console.error(Xd)}},O=async()=>{},I=async()=>{try{const e=await(async e=>{const t=await fetch(`${yn}/Proveedores/${e}`);if(!t.ok)throw new Error(`Failed to get provider: ${t.status}`);return t.json()})(t);d(e.codigoProveedor),p(e.razonSocial),m(e.numeroDocumento||""),x(e.tipoComprobante||""),b(e.direccion||""),y(e.telefono||""),j(e.correo||""),k(e.contacto||""),S(e.activo)}catch(e){console.error("Error loading provider:",e),alert("Error al cargar proveedor")}};return H.jsxs("div",{className:"flex flex-col h-full bg-gray-100 min-h-screen",children:[H.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-3 flex items-center justify-between sticky top-0 z-10 shadow-sm",children:[H.jsxs("div",{className:"flex items-center space-x-4",children:[H.jsx(Za,{variant:"ghost",size:"icon",onClick:()=>e("/proveedores"),className:"text-gray-500 hover:text-gray-800",children:H.jsx(ar,{className:"h-5 w-5"})}),H.jsxs("div",{className:"flex flex-col",children:[H.jsxs("div",{className:"flex items-center space-x-2",children:[H.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"Proveedores"}),H.jsx("span",{className:"text-gray-400 text-xs",children:"/"}),H.jsx("span",{className:"text-sm text-gray-800 font-bold",children:r?"Editar Proveedor":"Nuevo Proveedor"})]}),H.jsx("h1",{className:"text-xl font-bold text-gray-900 leading-tight",children:"Tarjeta de Proveedor"})]})]}),H.jsxs("div",{className:"flex items-center space-x-2",children:[H.jsx(Za,{variant:"ghost",className:"text-gray-600 hover:bg-gray-100",children:H.jsx("span",{className:"text-xs font-medium",children:"Historial"})}),H.jsx("div",{className:"h-4 w-px bg-gray-300 mx-2"}),H.jsxs(Za,{variant:"outline",size:"sm",onClick:()=>e("/proveedores"),className:"border-gray-300 text-gray-700",children:[H.jsx(Ha,{className:"mr-2 h-4 w-4"})," Cancelar"]}),H.jsxs(Za,{size:"sm",onClick:async()=>{if(!u||!c)return void alert("Por favor complete los campos obligatorios (*).");const a={CodigoProveedor:c,RazonSocial:u,NumeroDocumento:h,TipoComprobante:g,Direccion:f,Telefono:v,Correo:w,Contacto:N,Activo:C};try{const n="http://localhost:5006/api";r?(await(async(e,t)=>{const r=await fetch(`${yn}/Proveedores/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const e=await r.text();throw new Error(`Failed to update provider: ${r.status} ${e}`)}return 204===r.status?null:r.json()})(parseInt(t),{...a,Id:parseInt(t)}),e("/proveedores")):(await(async e=>{const t=await fetch(`${yn}/Proveedores`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.text();throw new Error(`Failed to save provider: ${t.status} ${e}`)}return t.json()})(a),await fetch(`${n}/ProveedorConfiguration/Increment`,{method:"POST"}),e("/proveedores"))}catch(n){console.error("Error saving provider:",n),alert("Error al guardar proveedor: "+n.message)}},className:"bg-hd-orange hover:bg-orange-600 text-white shadow-sm border border-transparent",children:[H.jsx(wa,{className:"mr-2 h-4 w-4"})," Guardar"]})]})]}),H.jsxs("div",{className:"flex-1 overflow-auto p-6 max-w-7xl mx-auto w-full",children:[H.jsxs(Nn,{title:"General",children:[H.jsx(kn,{label:"No. Proveedor",required:!0,children:H.jsx(en,{value:c,onChange:e=>d(e.target.value),placeholder:"(Auto)",className:"bg-gray-50 border-gray-200"})}),H.jsx(kn,{label:"Nombre / Razn Social",required:!0,children:H.jsx(en,{value:u,onChange:e=>p(e.target.value),placeholder:"Nombre o Razn Social",className:"font-medium"})}),H.jsx(kn,{label:"RNC / Tax ID",children:H.jsx(en,{value:h,onChange:e=>m(e.target.value),placeholder:"001-0000000-0"})}),H.jsx(kn,{label:"Tipo de Comprobante",children:H.jsxs("select",{className:"flex h-9 w-full rounded-md border border-gray-300 bg-white px-3 py-1 text-sm shadow-sm focus:outline-none focus:ring-1 focus:ring-hd-orange focus:border-hd-orange",value:g,onChange:e=>x(e.target.value),children:[H.jsx("option",{value:"",children:"-- Seleccione --"}),H.jsx("option",{value:"B01",children:"Crdito Fiscal (B01)"}),H.jsx("option",{value:"B02",children:"Consumidor Final (B02)"}),H.jsx("option",{value:"B11",children:"Proveedor Informal (B11)"}),H.jsx("option",{value:"B13",children:"Gastos Menores (B13)"}),H.jsx("option",{value:"B14",children:"Rgimen Especial (B14)"}),H.jsx("option",{value:"B15",children:"Gubernamental (B15)"})]})}),H.jsx(kn,{label:"Balance Consolidado (RD$)",children:H.jsx(en,{placeholder:"0.00",className:"text-right text-red-600 font-bold border-gray-200",readOnly:!0})}),H.jsx(kn,{label:"Activo",children:H.jsx("div",{className:"flex items-center pt-2",children:H.jsx("input",{type:"checkbox",checked:C,onChange:e=>S(e.target.checked),className:"h-4 w-4 text-hd-orange focus:ring-hd-orange border-gray-300 rounded"})})})]}),H.jsxs(Nn,{title:"Direccin y Contacto",defaultExpanded:!0,children:[H.jsx(kn,{label:"Direccin",children:H.jsx(en,{value:f,onChange:e=>b(e.target.value),placeholder:"Calle, Nave, Local..."})}),H.jsx(kn,{label:"Ciudad",children:H.jsx(en,{placeholder:"Santo Domingo"})}),H.jsx(kn,{label:"Pas/Regin",children:H.jsx("select",{className:"flex h-9 w-full rounded-md border border-gray-300 bg-white px-3 py-1 text-sm shadow-sm focus:outline-none focus:ring-1 focus:ring-hd-orange focus:border-hd-orange",children:H.jsx("option",{children:"Repblica Dominicana"})})}),H.jsx("div",{className:"col-span-1 md:col-span-2 lg:col-span-3 h-px bg-gray-100 my-2"}),H.jsx(kn,{label:"Telfono",children:H.jsxs("div",{className:"flex",children:[H.jsx("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 sm:text-sm",children:H.jsx(ga,{size:14})}),H.jsx(en,{value:v,onChange:e=>y(e.target.value),placeholder:"(809) 000-0000",className:"rounded-l-none"})]})}),H.jsx(kn,{label:"Correo Electrnico",children:H.jsxs("div",{className:"flex",children:[H.jsx("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 sm:text-sm",children:H.jsx(ra,{size:14})}),H.jsx(en,{type:"email",value:w,onChange:e=>j(e.target.value),placeholder:"proveedor@empresa.com",className:"rounded-l-none text-blue-600 underline"})]})}),H.jsx(kn,{label:"Sitio Web",children:H.jsxs("div",{className:"flex",children:[H.jsx("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 sm:text-sm",children:H.jsx($r,{size:14})}),H.jsx(en,{placeholder:"www.proveedor.com",className:"rounded-l-none text-blue-600"})]})}),H.jsx(kn,{label:"Contacto Principal",children:H.jsx(en,{value:N,onChange:e=>k(e.target.value),placeholder:"Nombre del contacto"})})]}),a&&a.habilitarPagoRecurrente&&H.jsxs(Nn,{title:"Pagos y Facturacin",children:[H.jsx("div",{className:"col-span-1 md:col-span-3 mb-2",children:H.jsx("div",{className:"bg-orange-50 border-l-4 border-hd-orange p-3",children:H.jsxs("p",{className:"text-sm text-orange-700",children:[H.jsx("strong",{children:"Nota:"})," Este proveedor est habilitado para pagos configurables."]})})}),H.jsx(kn,{label:"Frecuencia de Pago",children:H.jsxs("select",{className:"flex h-9 w-full rounded-md border border-gray-300 bg-white px-3 py-1 text-sm shadow-sm focus:outline-none focus:ring-1 focus:ring-hd-orange",value:o,onChange:e=>i(e.target.value),children:[H.jsx("option",{value:"N/A",children:"Sin Automatizacin"}),a.habilitarFrecuenciaSemanal&&H.jsx("option",{value:"Semanal",children:"Semanal"}),a.habilitarFrecuenciaQuincenal&&H.jsx("option",{value:"Quincenal",children:"Quincenal"}),a.habilitarFrecuenciaMensual&&H.jsx("option",{value:"Mensual",children:"Mensual"}),a.habilitarFechasEspecificas&&H.jsx("option",{value:"FechasEspecificas",children:"Fechas Especficas"})]})}),"N/A"!==o&&H.jsx(kn,{label:"FechasEspecificas"===o?"Das de Pago (ej: 5, 20)":"Da Preferido",children:H.jsx(en,{value:s,onChange:e=>l(e.target.value),placeholder:"Semanal"===o?"Ej: Viernes":"Ej: 15 y 30"})})]})]})]})},Sn="http://localhost:5006/api",En=async e=>{const t=await fetch(`${Sn}/Articulos/${e}`);if(!t.ok)throw new Error(`Failed to get article: ${t.status}`);return t.json()},Pn=async()=>{const e=await fetch(`${Sn}/Articulos`);if(!e.ok)throw new Error(`Failed to get articles: ${e.status}`);return e.json()},On=async e=>{const t=await fetch(`${Sn}/Articulos/${e}/Precios`);if(!t.ok)throw new Error("Failed to load prices");return t.json()},In="http://localhost:5006/api",An=async()=>{const e=await fetch(`${In}/Almacenes`);if(!e.ok)throw new Error("Error al cargar almacenes");return e.json()},Dn=async e=>{const t=!!e.id,r=t?`${In}/Almacenes/${e.id}`:`${In}/Almacenes`,a=t?"PUT":"POST",n=await fetch(r,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok)throw new Error("Error al guardar almacn");return n.json()},Mn="http://localhost:5006/api",Tn=async()=>{const e=await fetch(`${Mn}/ArticuloConfiguration`);if(!e.ok)throw new Error("Failed to load configuration");return e.json()},Fn=async()=>{const e=await fetch(`${Mn}/ArticuloConfiguration/SecuenciasPorGrupo`);if(!e.ok)throw new Error("Failed to load sequences");return e.json()},zn=async e=>{const t=await fetch(`${Mn}/ArticuloConfiguration/GenerarNumeroArticulo`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({grupoProducto:e})});if(!t.ok){const e=await t.text();throw console.error("Failed to generate article number:",e),new Error(`Failed to generate article number: ${t.status} ${e}`)}return t.json()},Rn=({open:e,onOpenChange:t,children:r,className:a="max-w-3xl"})=>e?H.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[H.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:()=>t(!1)}),H.jsx("div",{className:`relative z-[101] w-full bg-white rounded-lg shadow-2xl animate-in fade-in zoom-in duration-200 overflow-hidden ${a}`,children:r})]}):null,_n=({children:e,className:t=""})=>H.jsx("div",{className:`p-6 ${t}`,children:e}),Ln=({children:e,className:t=""})=>H.jsx("div",{className:`flex flex-col space-y-1.5 text-center sm:text-left ${t}`,children:e}),$n=({children:e,className:t=""})=>H.jsx("h2",{className:`text-lg font-semibold leading-none tracking-tight text-gray-900 ${t}`,children:e}),Un=({children:e,className:t=""})=>H.jsx("div",{className:`flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 mt-6 ${t}`,children:e}),Bn=()=>{const e=it(),[t,r]=W.useState(""),[a,n]=W.useState({key:null,direction:"asc"}),[o,i]=W.useState([]),[s,l]=W.useState([]),[c,d]=W.useState(""),[u,p]=W.useState(!0),[h,m]=W.useState([]),[g,x]=W.useState(null),[f,b]=W.useState(0),[v,y]=W.useState(1),[w,j]=W.useState(!1),[N,k]=W.useState(!1);W.useEffect(()=>{(async()=>{try{p(!0);const e=(await Fn()).filter(e=>e.activo),t=e.map(e=>e.grupo);l(t);const r=e.find(e=>e.esDefecto);r&&d(r.grupo);const a=(await Pn()).map(e=>({id:e.id,codigo:e.numeroArticulo,descripcion:e.descripcion,categoria:e.categoria||e.grupoProducto||"Sin Categora",grupo:e.grupoProducto,precio:e.precioUnitario,stock:e.stockActual||0,estado:e.bloqueado?"Inactivo":"Activo"}));i(a);const n=await An();m(n),n.length>0&&y(n[0].id)}catch(e){console.error("Error loading products:",e)}finally{p(!1)}})()},[]);const C=async e=>{if(window.confirm("Est seguro que desea eliminar este artculo?"))try{await(async e=>{const t=await fetch(`${Sn}/Articulos/${e}`,{method:"DELETE"});if(!t.ok){const e=await t.text();throw new Error(`Failed to delete article: ${t.status} ${e}`)}return!0})(e),i(t=>t.filter(t=>t.id!==e))}catch(t){console.error("Error deleting article:",t),alert("Error al eliminar el artculo")}},S=e=>{let t="asc";a.key===e&&"asc"===a.direction&&(t="desc"),n({key:e,direction:t})},E=W.useMemo(()=>{let e=[...o];return c&&(e=e.filter(e=>e.grupo===c)),t&&(e=e.filter(e=>e.descripcion.toLowerCase().includes(t.toLowerCase())||e.codigo.toLowerCase().includes(t.toLowerCase()))),a.key&&e.sort((e,t)=>{const r=e[a.key]?e[a.key].toString().toLowerCase():"",n=t[a.key]?t[a.key].toString().toLowerCase():"";return r<n?"asc"===a.direction?-1:1:r>n?"asc"===a.direction?1:-1:0}),e},[o,t,a,c]),P=e=>a.key!==e?H.jsx(Qr,{size:14,className:"opacity-30"}):"asc"===a.direction?H.jsx(lr,{size:14,className:"text-hd-orange"}):H.jsx(rr,{size:14,className:"text-hd-orange"});return H.jsxs("div",{className:"space-y-6",children:[H.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[H.jsxs("div",{children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:"Catlogo de Productos"}),H.jsx("p",{className:"text-sm text-gray-500",children:"Gestin maestra de inventario y servicios."})]}),H.jsxs(Za,{onClick:()=>e("/productos/nuevo"),className:"bg-hd-orange hover:bg-orange-600 shadow-md",children:[H.jsx(xa,{className:"mr-2 h-4 w-4"})," Nuevo Producto"]})]}),H.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-2",children:H.jsxs(ln,{className:"p-4 flex items-center space-x-4 bg-orange-50 border-orange-100",children:[H.jsx("div",{className:"p-3 bg-orange-100 rounded-full text-orange-600",children:H.jsx(ca,{size:24})}),H.jsxs("div",{children:[H.jsx("div",{className:"text-sm text-gray-500",children:"Total Items"}),H.jsx("div",{className:"text-2xl font-bold text-gray-800",children:o.length})]})]})}),H.jsxs(ln,{children:[H.jsxs(cn,{className:"flex flex-col sm:flex-row items-center justify-between space-y-4 sm:space-y-0 pb-4",children:[H.jsx(dn,{children:"Lista de Artculos"}),H.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full sm:w-auto",children:[H.jsxs("select",{className:"h-10 rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-hd-orange w-full sm:w-48",value:c,onChange:e=>d(e.target.value),children:[H.jsx("option",{value:"",children:"Todos los Grupos"}),s.map(e=>H.jsx("option",{value:e,children:e},e))]}),H.jsxs("div",{className:"relative w-full sm:w-64",children:[H.jsx(ja,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),H.jsx(en,{placeholder:"Buscar por cdigo o nombre...",className:"pl-9",value:t,onChange:e=>r(e.target.value)})]})]})]}),H.jsx("div",{className:"p-0",children:H.jsxs(tn,{children:[H.jsx(rn,{className:"bg-gray-100/90 border-b-2 border-gray-200",children:H.jsxs(nn,{children:[H.jsx(on,{onClick:()=>S("codigo"),className:"w-[120px] font-bold text-gray-700 cursor-pointer hover:bg-gray-200 transition-colors select-none",children:H.jsxs("div",{className:"flex items-center space-x-2",children:[H.jsx("span",{children:"No. Artculo"}),P("codigo")]})}),H.jsx(on,{onClick:()=>S("descripcion"),className:"font-bold text-gray-700 cursor-pointer hover:bg-gray-200 transition-colors select-none",children:H.jsxs("div",{className:"flex items-center space-x-2",children:[H.jsx("span",{children:"Descripcin"}),P("descripcion")]})}),H.jsx(on,{onClick:()=>S("categoria"),className:"hidden md:table-cell font-bold text-gray-700 cursor-pointer hover:bg-gray-200 transition-colors select-none",children:H.jsxs("div",{className:"flex items-center space-x-2",children:[H.jsx("span",{children:"Categora/Grupo"}),P("categoria")]})}),H.jsx(on,{onClick:()=>S("precio"),className:"text-right font-bold text-gray-700 cursor-pointer hover:bg-gray-200 transition-colors select-none",children:H.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[H.jsx("span",{children:"Precio Unitario"}),P("precio")]})}),H.jsx(on,{onClick:()=>S("stock"),className:"text-right font-bold text-gray-700 cursor-pointer hover:bg-gray-200 transition-colors select-none",children:H.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[H.jsx("span",{children:"Stock"}),P("stock")]})}),H.jsx(on,{className:"font-bold text-gray-700 select-none",children:H.jsx("span",{children:"Estado"})}),H.jsx(on,{className:"text-right font-bold text-gray-700",children:"Acciones"})]})}),H.jsx(an,{children:u?H.jsx(nn,{children:H.jsx(sn,{colSpan:6,className:"text-center py-8 text-gray-500",children:"Cargando..."})}):0===E.length?H.jsx(nn,{children:H.jsx(sn,{colSpan:6,className:"text-center py-8 text-gray-500",children:"No se encontraron artculos"})}):E.map(t=>H.jsxs(nn,{className:"cursor-pointer hover:bg-gray-50 transition-colors",children:[H.jsx(sn,{className:"font-medium text-gray-900",children:t.codigo}),H.jsx(sn,{children:H.jsx("div",{className:"font-medium text-gray-800",children:t.descripcion})}),H.jsx(sn,{className:"hidden md:table-cell text-gray-600",children:t.categoria}),H.jsxs(sn,{className:"text-right font-medium text-gray-900",children:["$",t.precio.toFixed(2)]}),H.jsx(sn,{className:"text-right font-bold text-hd-orange",children:t.stock}),H.jsx(sn,{children:H.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+("Activo"===t.estado?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:t.estado})}),H.jsx(sn,{className:"text-right",children:H.jsxs("div",{className:"flex justify-end space-x-2",children:[H.jsx(Za,{variant:"ghost",size:"icon",title:"Ajuste Manual (Correccin)",children:H.jsx(xa,{className:"h-6 w-6 stroke-[1.5]"})}),H.jsx(Za,{variant:"ghost",size:"icon",onClick:()=>e(`/inventario/historial/${t.id}`),className:"h-10 w-10 p-2 rounded-full text-indigo-600 hover:text-indigo-800 hover:bg-indigo-100 transition-all border border-transparent hover:border-indigo-200 shadow-sm",title:"Historial de Movimientos",children:H.jsx(qr,{className:"h-6 w-6 stroke-[1.5]"})}),H.jsx(Za,{variant:"ghost",size:"icon",onClick:()=>e(`/productos/editar/${t.id}`),className:"h-10 w-10 p-2 rounded-full text-blue-600 hover:text-blue-800 hover:bg-blue-100 transition-all border border-transparent hover:border-blue-200 shadow-sm",title:"Editar",children:H.jsx(ua,{className:"h-6 w-6 stroke-[1.5]"})}),H.jsx(Za,{variant:"ghost",size:"icon",onClick:()=>C(t.id),className:"h-10 w-10 p-2 rounded-full text-red-600 hover:text-red-800 hover:bg-red-100 transition-all border border-transparent hover:border-red-200 shadow-sm",title:"Eliminar",children:H.jsx(Ta,{className:"h-6 w-6 stroke-[1.5]"})})]})})]},t.id))})]})})]}),H.jsx(Rn,{open:w,onOpenChange:j,children:H.jsxs(_n,{className:"max-w-md bg-white p-0 overflow-hidden border-none shadow-2xl",children:[H.jsxs("div",{className:"bg-hd-black p-6 text-white flex justify-between items-center",children:[H.jsxs("div",{className:"flex items-center gap-3",children:[H.jsx("div",{className:"p-2 bg-hd-orange rounded-lg",children:H.jsx(Ga,{className:"text-white",size:20})}),H.jsxs("div",{children:[H.jsx("h2",{className:"text-xl font-black italic tracking-tighter",children:"AJUSTE MANUAL"}),H.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:"Correccin de Stock"})]})]}),H.jsx(Za,{variant:"ghost",onClick:()=>j(!1),className:"text-white hover:bg-white/10",children:H.jsx(Ha,{})})]}),H.jsxs("div",{className:"p-6 space-y-6",children:[H.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:H.jsx("div",{className:"flex",children:H.jsxs("div",{className:"ml-3",children:[H.jsxs("p",{className:"text-sm text-yellow-700",children:[H.jsx("span",{className:"font-bold",children:"Nota:"})," Este botn debe usarse solo para correcciones rpidas (ej. conteo fsico, mermas encontradas al momento)."]}),H.jsxs("p",{className:"text-sm text-yellow-700 mt-2",children:["Para ingresar mercanca de proveedores, por favor sigue usando el mdulo de ",H.jsx("span",{className:"font-bold",children:"Compras -> Recepcin"}),', el cual s genera las "Entradas de Inventario" formales.']})]})})}),H.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[H.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Artculo Seleccionado"}),H.jsx("p",{className:"font-bold text-gray-800",children:null==g?void 0:g.descripcion}),H.jsx("p",{className:"text-xs text-hd-orange font-bold uppercase",children:null==g?void 0:g.codigo})]}),H.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[H.jsxs("div",{className:"space-y-1",children:[H.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Almacn de Destino"}),H.jsx("select",{className:"w-full h-12 px-4 rounded-xl border-2 border-gray-100 bg-gray-50 font-bold text-gray-700 focus:border-hd-orange transition-all outline-none appearance-none",value:v,onChange:e=>y(parseInt(e.target.value)),children:h.map(e=>H.jsx("option",{value:e.id,children:e.nombre},e.id))})]}),H.jsxs("div",{className:"space-y-1",children:[H.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1",children:"Cantidad a Ajustar"}),H.jsxs("div",{className:"relative",children:[H.jsx(en,{type:"number",autoFocus:!0,className:"h-14 text-2xl font-black text-right pr-4 focus:ring-hd-orange border-2 rounded-xl",value:f,onChange:e=>b(e.target.value)}),H.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-300 font-black italic text-xl",children:"QTY"})]})]})]}),H.jsx(Za,{className:"w-full h-14 bg-hd-orange hover:bg-orange-600 text-white font-black uppercase tracking-widest shadow-xl shadow-orange-500/20 rounded-xl transition-all active:scale-[0.98]",onClick:async()=>{try{k(!0);if((await fetch(`http://localhost:5006/api/Articulos/${g.id}/QuickStock`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cantidad:parseFloat(f),almacenId:v})})).ok){const e=await Pn();i(e.map(e=>({id:e.id,codigo:e.numeroArticulo,descripcion:e.descripcion,categoria:e.categoria||e.grupoProducto||"Sin Categora",grupo:e.grupoProducto,precio:e.precioUnitario,stock:e.stockActual||0,estado:e.bloqueado?"Inactivo":"Activo"}))),j(!1)}else alert("Error al actualizar inventario")}catch(Xd){console.error(Xd)}finally{k(!1)}},disabled:N||!f||0==f,children:N?H.jsx(Zr,{className:"animate-spin"}):H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx(br,{})," REGISTRAR AJUSTE"]})})]})]})})]})},Vn=W.createContext({}),Gn=({defaultValue:e,children:t,className:r=""})=>{const[a,n]=W.useState(e);return H.jsx(Vn.Provider,{value:{activeTab:a,setActiveTab:n},children:H.jsx("div",{className:`w-full ${r}`,children:t})})},qn=({children:e,className:t=""})=>H.jsx("div",{className:`inline-flex h-10 items-center justify-center rounded-md bg-gray-100 p-1 text-gray-500 ${t}`,children:e}),Hn=({value:e,children:t,className:r=""})=>{const{activeTab:a,setActiveTab:n}=W.useContext(Vn),o=a===e;return H.jsx("button",{className:`inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 \n            ${o?"bg-white text-gray-950 shadow-sm":"hover:bg-gray-200/50 hover:text-gray-900"} ${r}`,onClick:()=>n(e),children:t})},Wn=({value:e,children:t,className:r=""})=>{const{activeTab:a}=W.useContext(Vn);return a!==e?null:H.jsx("div",{className:`mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 ${r}`,children:t})},Kn=({isOpen:e,onClose:t,onSave:r,title:a,fields:n})=>{const[o,i]=W.useState({});if(!e)return null;const s=(e,t)=>{i(r=>({...r,[e]:t}))};return H.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:H.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[H.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[H.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:a}),H.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:H.jsx(Ha,{className:"h-5 w-5"})})]}),H.jsx("div",{className:"p-6 space-y-4",children:n.map(e=>{var t;return H.jsx("div",{children:"select"===e.type?H.jsxs("div",{children:[H.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:e.label}),H.jsxs("select",{value:o[e.name]||"",onChange:t=>s(e.name,t.target.value),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-hd-orange",children:[H.jsx("option",{value:"",children:"Seleccionar..."}),null===(t=e.options)||void 0===t?void 0:t.map(e=>H.jsx("option",{value:e.value,children:e.label},e.value))]})]}):H.jsx(en,{label:e.label,placeholder:e.placeholder,value:o[e.name]||"",onChange:t=>s(e.name,t.target.value),type:e.type||"text"})},e.name)})}),H.jsxs("div",{className:"flex justify-end gap-3 p-4 border-t bg-gray-50",children:[H.jsx(Za,{variant:"outline",onClick:t,children:"Cancelar"}),H.jsxs(Za,{onClick:()=>{r(o),i({}),t()},className:"bg-hd-orange hover:bg-orange-600",children:[H.jsx(wa,{className:"h-4 w-4 mr-2"}),"Guardar"]})]})]})})},Jn=({onClick:e})=>H.jsx("button",{type:"button",onClick:e,className:"ml-2 inline-flex items-center justify-center h-10 w-10 rounded-md border border-gray-300 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-hd-orange transition-colors",title:"Agregar nuevo",children:H.jsx(xa,{className:"h-4 w-4 text-gray-600"})}),Yn="http://localhost:5006/api",Xn=async()=>{const e=await fetch(`${Yn}/UnidadMedida/Planes`);if(!e.ok)throw new Error("Error getting plans");return e.json()},Qn="http://localhost:5006/api",Zn=async()=>{const e=await fetch(`${Qn}/Categorias`);if(!e.ok)throw new Error("Error al cargar categoras");return e.json()},eo=async e=>{const t=!!e.id,r=t?`${Qn}/Categorias/${e.id}`:`${Qn}/Categorias`,a=t?"PUT":"POST",n=await fetch(r,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok)throw new Error("Error al guardar categora");return n.json()},to=async e=>{const t=await fetch(`${Qn}/Categorias/${e}`,{method:"DELETE"});if(!t.ok)throw new Error("Error al eliminar categora");return t.ok},ro=async()=>{const e=await fetch(`${Qn}/Marcas`);if(!e.ok)throw new Error("Error al cargar marcas");return e.json()},ao=async e=>{const t=!!e.id,r=t?`${Qn}/Marcas/${e.id}`:`${Qn}/Marcas`,a=t?"PUT":"POST",n=await fetch(r,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok)throw new Error("Error al guardar marca");return n.json()},no=async e=>{const t=await fetch(`${Qn}/Marcas/${e}`,{method:"DELETE"});if(!t.ok)throw new Error("Error al eliminar marca");return t.ok},oo=async()=>{const e=await fetch(`${Qn}/Tipos`);if(!e.ok)throw new Error("Error al cargar tipos");return e.json()},io=async e=>{const t=!!e.id,r=t?`${Qn}/Tipos/${e.id}`:`${Qn}/Tipos`,a=t?"PUT":"POST",n=await fetch(r,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok)throw new Error("Error al guardar tipo");return n.json()},so=async e=>{const t=await fetch(`${Qn}/Tipos/${e}`,{method:"DELETE"});if(!t.ok)throw new Error("Error al eliminar tipo");return t.ok},lo="http://localhost:5006/api",co=async()=>{const e=await fetch(`${lo}/GruposImpuestos`);if(!e.ok)throw new Error("Error al cargar grupos de impuestos");return e.json()},uo=async e=>{const t=!!e.id,r=t?`${lo}/GruposImpuestos/${e.id}`:`${lo}/GruposImpuestos`,a=t?"PUT":"POST",n=await fetch(r,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok)throw new Error("Error al guardar grupo de impuestos");return n.json()},po="http://localhost:5006/api",ho=async()=>{try{const e=await fetch(`${po}/GruposProducto`);if(!e.ok)throw new Error("Error fetching product groups");return await e.json()}catch(e){throw console.error("Error fetching product groups:",e),e}},mo=async e=>{try{const t=e.id?"PUT":"POST",r=e.id?`${po}/GruposProducto/${e.id}`:`${po}/GruposProducto`,a=await fetch(r,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw new Error("Error saving product group");return await a.json()}catch(t){throw console.error("Error saving product group:",t),t}},go=({isOpen:e,onClose:t,onSave:r,title:a,type:n,initialData:o,error:i})=>{const[s,l]=W.useState({codigo:"",nombre:"",descripcion:"",activo:!0}),[c,d]=W.useState("");W.useEffect(()=>{e&&(l(o||{codigo:"",nombre:"",descripcion:"",activo:!0}),d(""))},[e,o]);return e?H.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:H.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[H.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[H.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:[s.id?"Editar":"Nueva"," ",a]}),H.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:H.jsx(Ha,{className:"h-5 w-5"})})]}),H.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{await r(s)}catch(t){console.error(t),d(`Error al guardar ${a}`)}},className:"p-6 space-y-4",children:[(c||i)&&H.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded text-sm",children:c||i}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cdigo"}),H.jsx(en,{value:s.codigo,onChange:e=>l({...s,codigo:e.target.value}),placeholder:"EJ: COD-01",required:!0})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),H.jsx(en,{value:s.nombre,onChange:e=>l({...s,nombre:e.target.value}),placeholder:`Nombre de ${a}`,required:!0})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),H.jsx(en,{value:s.descripcion||"",onChange:e=>l({...s,descripcion:e.target.value}),placeholder:"Breve descripcin"})]}),H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx("input",{type:"checkbox",id:"activo",checked:s.activo,onChange:e=>l({...s,activo:e.target.checked}),className:"h-4 w-4 text-hd-orange focus:ring-hd-orange border-gray-300 rounded"}),H.jsx("label",{htmlFor:"activo",className:"text-sm font-medium text-gray-700",children:"Activo"})]}),H.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t mt-6",children:[H.jsx(Za,{type:"button",variant:"outline",onClick:t,children:"Cancelar"}),H.jsxs(Za,{type:"submit",className:"bg-hd-orange hover:bg-orange-600",children:[H.jsx(wa,{className:"h-4 w-4 mr-2"}),"Guardar"]})]})]})]})}):null},xo=({isOpen:e,onClose:t,onSave:r,initialData:a,error:n})=>{const[o,i]=W.useState({codigo:"",nombre:"",direccion:"",ciudad:"",activo:!0}),[s,l]=W.useState("");W.useEffect(()=>{e&&(i(a||{codigo:"",nombre:"",direccion:"",ciudad:"",activo:!0}),l(""))},[e,a]);return e?H.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:H.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[H.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[H.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:[o.id?"Editar":"Nuevo"," Almacn"]}),H.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:H.jsx(Ha,{className:"h-5 w-5"})})]}),H.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{await r(o)}catch(t){console.error(t),l("Error al guardar Almacn")}},className:"p-6 space-y-4",children:[(s||n)&&H.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded text-sm",children:s||n}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cdigo"}),H.jsx(en,{value:o.codigo,onChange:e=>i({...o,codigo:e.target.value}),placeholder:"EJ: ALM-01",required:!0})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),H.jsx(en,{value:o.nombre,onChange:e=>i({...o,nombre:e.target.value}),placeholder:"Nombre del Almacn",required:!0})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Direccin"}),H.jsx(en,{value:o.direccion||"",onChange:e=>i({...o,direccion:e.target.value}),placeholder:"Direccin fsica"})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ciudad"}),H.jsx(en,{value:o.ciudad||"",onChange:e=>i({...o,ciudad:e.target.value}),placeholder:"Ciudad"})]}),H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx("input",{type:"checkbox",id:"activo",checked:o.activo,onChange:e=>i({...o,activo:e.target.checked}),className:"h-4 w-4 text-hd-orange focus:ring-hd-orange border-gray-300 rounded"}),H.jsx("label",{htmlFor:"activo",className:"text-sm font-medium text-gray-700",children:"Activo"})]}),H.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t mt-6",children:[H.jsx(Za,{type:"button",variant:"outline",onClick:t,children:"Cancelar"}),H.jsxs(Za,{type:"submit",className:"bg-hd-orange hover:bg-orange-600",children:[H.jsx(wa,{className:"h-4 w-4 mr-2"}),"Guardar"]})]})]})]})}):null},fo=({isOpen:e,onClose:t,onSave:r,initialData:a,error:n})=>{const[o,i]=W.useState({codigo:"",nombre:"",descripcion:"",tasa:0,activo:!0}),[s,l]=W.useState("");W.useEffect(()=>{e&&(i(a||{codigo:"",nombre:"",descripcion:"",tasa:0,activo:!0}),l(""))},[e,a]);return e?H.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:H.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[H.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[H.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:[o.id?"Editar":"Nuevo"," Grupo de Impuestos"]}),H.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:H.jsx(Ha,{className:"h-5 w-5"})})]}),H.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{await r(o)}catch(t){console.error(t),l("Error al guardar")}},className:"p-6 space-y-4",children:[(s||n)&&H.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded text-sm",children:s||n}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cdigo"}),H.jsx(en,{value:o.codigo,onChange:e=>i({...o,codigo:e.target.value}),placeholder:"EJ: ITBIS18",required:!0})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),H.jsx(en,{value:o.nombre,onChange:e=>i({...o,nombre:e.target.value}),placeholder:"ITBIS 18%",required:!0})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tasa (%)"}),H.jsx(en,{type:"number",step:"0.01",value:o.tasa,onChange:e=>i({...o,tasa:parseFloat(e.target.value)||0}),placeholder:"18.00",required:!0})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),H.jsx(en,{value:o.descripcion||"",onChange:e=>i({...o,descripcion:e.target.value}),placeholder:"Descripcin opcional"})]}),H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx("input",{type:"checkbox",id:"activo",checked:o.activo,onChange:e=>i({...o,activo:e.target.checked}),className:"h-4 w-4 text-hd-orange focus:ring-hd-orange border-gray-300 rounded"}),H.jsx("label",{htmlFor:"activo",className:"text-sm font-medium text-gray-700",children:"Activo"})]}),H.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t mt-6",children:[H.jsx(Za,{type:"button",variant:"outline",onClick:t,children:"Cancelar"}),H.jsxs(Za,{type:"submit",className:"bg-hd-orange hover:bg-orange-600",children:[H.jsx(wa,{className:"h-4 w-4 mr-2"}),"Guardar"]})]})]})]})}):null},bo=({isOpen:e,onClose:t,onSave:r,grupo:a})=>{const[n,o]=W.useState({codigo:"",nombre:"",descripcion:"",activo:!0});W.useEffect(()=>{o(a||{codigo:"",nombre:"",descripcion:"",activo:!0})},[a,e]);return e?H.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:H.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[H.jsxs("div",{className:"bg-hd-orange p-4 flex justify-between items-center text-white",children:[H.jsx("h2",{className:"text-lg font-bold",children:a?"Editar Grupo":"Nuevo Grupo"}),H.jsx("button",{onClick:t,className:"hover:bg-orange-700 p-1 rounded transition-colors",children:H.jsx(Ha,{size:20})})]}),H.jsxs("form",{onSubmit:e=>{e.preventDefault(),r(n)},className:"p-6 space-y-4",children:[H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Cdigo"}),H.jsx(en,{placeholder:"Ej: PROF",value:n.codigo,onChange:e=>o({...n,codigo:e.target.value.toUpperCase()}),required:!0})]}),H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Nombre"}),H.jsx(en,{placeholder:"Ej: Profesional",value:n.nombre,onChange:e=>o({...n,nombre:e.target.value}),required:!0})]}),H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Descripcin"}),H.jsx(en,{placeholder:"Opcional...",value:n.descripcion||"",onChange:e=>o({...n,descripcion:e.target.value})})]}),H.jsxs("div",{className:"flex items-center space-x-2",children:[H.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Activo"}),H.jsx("input",{type:"checkbox",checked:n.activo,onChange:e=>o({...n,activo:e.target.checked}),className:"h-4 w-4 rounded border-gray-300 text-hd-orange focus:ring-hd-orange"})]}),H.jsxs("div",{className:"pt-4 flex justify-end space-x-2",children:[H.jsx(Za,{type:"button",variant:"outline",onClick:t,children:"Cancelar"}),H.jsx(Za,{type:"submit",className:"bg-hd-orange hover:bg-orange-700 text-white shadow-lg",children:a?"Actualizar":"Guardar"})]})]})]})}):null},vo=()=>{var e;const t=it(),{id:r}=lt(),a=Boolean(r),[n,o]=W.useState(""),[i,s]=W.useState(""),[l,c]=W.useState(""),[d,u]=W.useState("UND"),[p,h]=W.useState(""),[m,g]=W.useState(""),[x,f]=W.useState(""),[b,v]=W.useState(""),[y,w]=W.useState(""),[j,N]=W.useState(""),[k,C]=W.useState(""),[S,E]=W.useState(""),[P,O]=W.useState(""),[I,A]=W.useState(""),[D,M]=W.useState("Promedio"),[T,F]=W.useState(""),[z,R]=W.useState(""),[_,L]=W.useState([]),[$,U]=W.useState(""),[B,V]=W.useState(""),[G,q]=W.useState([]),[K,J]=W.useState(""),[Y,X]=W.useState(!1),[Q,Z]=W.useState([{id:1,codigo:"MAT-001",descripcion:"Cemento Portland Tipo I, 42.5 kg",cantidad:8.5,unidad:"SACO",desperdicio:3,precio:285},{id:2,codigo:"MAT-002",descripcion:"Arena gruesa lavada, puesto en obra",cantidad:.52,unidad:"M3",desperdicio:5,precio:450},{id:3,codigo:"MAT-003",descripcion:'Grava triturada 3/4", puesto en obra',cantidad:.73,unidad:"M3",desperdicio:5,precio:520}]),[ee,te]=W.useState([{id:1,codigo:"EQ-101",descripcion:"Mezcladora de concreto 9 p3 (7HP)",cantidad:1,unidad:"HM",rendimiento:.25,costoHora:185},{id:2,codigo:"EQ-102",descripcion:"Vibrador de concreto 4HP gasolina",cantidad:1,unidad:"HM",rendimiento:.2,costoHora:95}]),[re,ae]=W.useState([{id:1,codigo:"MO-201",descripcion:"Oficial albail especializado",cantidad:1,unidad:"HH",salario:225},{id:2,codigo:"MO-202",descripcion:"Operario (fierrero)",cantidad:.5,unidad:"HH",salario:195},{id:3,codigo:"MO-203",descripcion:"Pen / Ayudante general",cantidad:2,unidad:"HH",salario:165}]),[ne,oe]=W.useState({cargasSociales:85,seguros:12,herramientas:8,financiamiento:3,imprevistos:5,utilidad:15}),[ie,se]=W.useState([{concepto:"Supervisin tcnica",monto:285},{concepto:"Personal administrativo obra",monto:165},{concepto:"Instalaciones temporales",monto:125},{concepto:"Servicios (agua, luz temporal)",monto:95},{concepto:"Seguridad y vigilancia",monto:85}]),[le,ce]=W.useState([{concepto:"Direccin y gerencia",monto:425},{concepto:"Contabilidad y finanzas",monto:195},{concepto:"Alquiler oficina central",monto:285},{concepto:"Servicios bsicos oficina",monto:125},{concepto:"Depreciacin equipos",monto:95}]),de=e=>e.cantidad*e.precio*(1+e.desperdicio/100),ue=Q.reduce((e,t)=>e+de(t),0),pe=e=>e.cantidad*e.rendimiento*e.costoHora,he=ee.reduce((e,t)=>e+pe(t),0),me=re.reduce((e,t)=>e+t.cantidad*t.salario,0),ge=me*(ne.cargasSociales/100),xe=me*(ne.seguros/100),fe=me*(ne.herramientas/100),be=me+ge+xe+fe,ve=ue+he+be,ye=ie.reduce((e,t)=>e+t.monto,0),we=le.reduce((e,t)=>e+t.monto,0),je=ye+we,Ne=ve+je,ke=Ne*(ne.financiamiento/100),Ce=Ne*(ne.imprevistos/100),Se=Ne+ke+Ce,Ee=Se*(ne.utilidad/100),Pe=Se+Ee,Oe=(e,t,r)=>{Z(Q.map(a=>a.id===e?{...a,[t]:r}:a))},Ie=(e,t,r)=>{te(ee.map(a=>a.id===e?{...a,[t]:r}:a))},Ae=(e,t,r)=>{ae(re.map(a=>a.id===e?{...a,[t]:r}:a))},[De,Me]=W.useState(!1),[Te,Fe]=W.useState(!1),[ze,Re]=W.useState(!1),[_e,Le]=W.useState(!1),[$e,Ue]=W.useState(!1),[Be,Ve]=W.useState(!1),[Ge,qe]=W.useState(!1),[He,We]=W.useState(!1),[Ke,Je]=W.useState(!0),[Ye,Xe]=W.useState(!0),[Qe,Ze]=W.useState([]),[et,tt]=W.useState([]),[rt,at]=W.useState(""),[nt,ot]=W.useState([]),[st,ct]=W.useState([]),[dt,ut]=W.useState([]),[pt,ht]=W.useState(""),[mt,gt]=W.useState(["Sin Grupo"]),[xt,ft]=W.useState(""),[bt,vt]=W.useState("Sin Grupo"),[yt,wt]=W.useState([]);W.useEffect(()=>{(async()=>{try{const e=await Xn();L(e);const[t,r,n,o,i,s,l]=await Promise.all([Zn(),ro(),oo(),An(),co(),mn(),ho()]);Ze(t),ot(r),ct(n),ut(o),tt(i),kt(s.map(e=>e.nombre));const c=(l||[]).map(e=>e.nombre);c.includes("Sin Grupo")||c.unshift("Sin Grupo"),gt(c);let d={};try{d=await Tn()}catch(Xd){console.error("Error loading config",Xd)}if(d.planDefecto){U(d.planDefecto);const t=e.find(e=>e.planId===d.planDefecto);t&&(V(t.unidadBase),u(d.unidadMedidaDefecto||t.unidadBase))}const p=await Fn();wt(p);const h=p.filter(e=>e.activo),m=h.map(e=>e.grupo);if(m.includes("Sin Grupo")||m.unshift("Sin Grupo"),gt(m),!a){const t=h.find(e=>e.esDefecto);if(t){if(vt(t.grupo),t.planDefecto){U(t.planDefecto);const r=e.find(e=>e.planId===t.planDefecto);r&&(V(r.unidadBase),u(t.unidadMedidaDefecto||r.unidadBase))}if(t.grupo&&"Sin Grupo"!==t.grupo)try{const e=await zn(t.grupo);ft(e.numeroArticulo)}catch(Xd){console.error(Xd)}else ft("(Auto)")}}}catch(e){console.error("Error loading initial data:",e)}})()},[]),W.useEffect(()=>{if(!a)return;(async()=>{try{var e,t,a,n,i,l;const d=await En(r);ft(d.numeroArticulo||d.NumeroArticulo),s(d.codigoBarras||d.CodigoBarras||""),o(d.descripcion||d.Descripcion),vt(d.grupoProducto||d.GrupoProducto||"Sin Grupo"),c(d.categoria||d.Categoria||""),h(d.marca||d.Marca||""),g(d.tipo||d.Tipo||""),u(d.unidadMedida||d.UnidadMedida||"UND"),ht(d.almacenPrincipal||d.AlmacenPrincipal||""),f(d.ubicacionAlmacen||d.UbicacionAlmacen||""),at(d.grupoImpuesto||d.GrupoImpuesto||"");const p=null!==(e=d.margenPorcentaje)&&void 0!==e?e:d.MargenPorcentaje;v((null==p?void 0:p.toString())||"");const m=null!==(t=d.costoUnitario)&&void 0!==t?t:d.CostoUnitario;w((null==m?void 0:m.toString())||"");const x=null!==(a=d.precioUnitario)&&void 0!==a?a:d.PrecioUnitario;N((null==x?void 0:x.toString())||""),C(d.nivelPrecio||d.NivelPrecio||"");const b=null!==(n=d.stockSeguridad)&&void 0!==n?n:d.StockSeguridad;E((null==b?void 0:b.toString())||"");const y=null!==(i=d.puntoPedido)&&void 0!==i?i:d.PuntoPedido;O((null==y?void 0:y.toString())||""),A(d.proveedorPrincipal||d.ProveedorPrincipal||""),M(d.metodoCosteo||d.MetodoCosteo||"Promedio");const j=null!==(l=d.costoEstandar)&&void 0!==l?l:d.CostoEstandar,k=(null==j?void 0:j.toString())||"",S=(null==m?void 0:m.toString())||"";F(k);const P=d.metodoCosteo||d.MetodoCosteo||"Promedio";R("Estndar"===P?k:S);const I=d.planMedida||d.PlanMedida;I&&U(I);try{const e=await On(r);q(e),J(d.imagenUrl||d.ImagenUrl||"")}catch(Xd){console.error("Could not load prices:",Xd)}}catch(d){console.error("Error loading article for edit:",d),alert("Error al cargar el artculo para editar")}})()},[r,a]);const jt=async e=>{if(e&&"Sin Grupo"!==e)try{const t=await zn(e);ft(t.numeroArticulo)}catch(t){console.error("Error generating article number:",t),ft("(Error al generar)")}else ft("(Auto)")},[Nt,kt]=W.useState([]),Ct=(null===(e="http://localhost:5006/api")?void 0:e.replace("/api",""))||"http://localhost:5006";return H.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs("div",{className:"flex items-center space-x-4",children:[H.jsx(Za,{variant:"outline",onClick:()=>t("/productos"),children:H.jsx(ar,{className:"h-5 w-5"})}),H.jsxs("div",{children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:a?"Editar Artculo":"Maestro de Artculos"}),H.jsx("p",{className:"text-sm text-gray-500",children:"Creacin y configuracin de productos"})]})]}),H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsxs(Za,{variant:"outline",children:[H.jsx(Ha,{className:"mr-2 h-4 w-4"})," Cancelar"]}),H.jsxs(Za,{className:"bg-hd-orange hover:bg-orange-600",onClick:async()=>{if(!xt||!n)return void alert("Por favor complete los campos obligatorios (Nmero de Artculo, Descripcin)");const e={NumeroArticulo:xt,CodigoBarras:i,Descripcion:n,GrupoProducto:bt,Categoria:l,Marca:p,Tipo:m,UnidadMedida:d,AlmacenPrincipal:pt,UbicacionAlmacen:x,GrupoImpuesto:rt,MargenPorcentaje:parseFloat(b)||0,CostoUnitario:parseFloat(y)||0,PrecioUnitario:parseFloat(j)||0,NivelPrecio:k,StockSeguridad:parseFloat(S)||0,PuntoPedido:parseFloat(P)||0,ProveedorPrincipal:I,Bloqueado:!1,MetodoCosteo:D,CostoEstandar:parseFloat(T)||0,PlanMedida:$,ImagenUrl:K};try{if(a){await(async(e,t)=>{const r=await fetch(`${Sn}/Articulos/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const e=await r.text();throw new Error(`Failed to update article: ${r.status} ${e}`)}return 204===r.status?null:r.json()})(parseInt(r),{...e,Id:parseInt(r)});const t=document.getElementById("header-message");t&&(t.innerHTML='<div class="bg-blue-100 border border-blue-400 text-blue-700 px-4 py-2 rounded flex items-center gap-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>Artculo actualizado correctamente</div>',setTimeout(()=>t.innerHTML="",3e3))}else{await(async e=>{const t=await fetch(`${Sn}/Articulos`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.text();throw new Error(`Failed to save article: ${t.status} ${e}`)}return t.json()})(e);const t=document.getElementById("header-message");t&&(t.innerHTML='<div class="bg-green-100 border border-green-400 text-green-700 px-4 py-2 rounded flex items-center gap-2"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>Artculo guardado correctamente</div>',setTimeout(()=>t.innerHTML="",3e3))}}catch(t){console.error("Error saving Article:",t),alert("Error al guardar el artculo: "+t.message)}},children:[H.jsx(wa,{className:"mr-2 h-4 w-4"})," Guardar Producto"]})]})]}),H.jsx("div",{id:"header-message"}),H.jsxs(Gn,{defaultValue:"general",className:"w-full",children:[H.jsxs(qn,{className:"mb-4",children:[H.jsx(Hn,{value:"general",children:"Informacin General"}),H.jsx(Hn,{value:"costos",children:"Estructura de Costos"})]}),H.jsx(Wn,{value:"general",children:H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[H.jsxs("div",{className:"md:col-span-3 space-y-6",children:[H.jsxs(ln,{children:[H.jsx(cn,{children:H.jsx(dn,{children:"Generales"})}),H.jsxs("div",{className:"p-6 space-y-4",children:[H.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[H.jsx(en,{label:H.jsxs("span",{children:["No. Artculo ",H.jsx("span",{className:"text-red-500",children:"*"})]}),value:xt||"(Auto)",disabled:!0,title:"Nmero nico de identificacin del artculo. Generado automticamente segn el grupo de producto."}),H.jsx(en,{label:"Cdigo de Barras",placeholder:"",title:"Cdigo EAN/UPC para escaneo en caja."}),H.jsxs("div",{children:[H.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",title:"Grupo de producto segn clasificacin comercial.",children:"Grupo de Producto"}),H.jsxs("div",{className:"flex items-center",children:[H.jsx("select",{value:bt,onChange:e=>{const t=e.target.value;vt(t),a||jt(t);const r=yt.find(e=>e.grupo===t);if(r&&r.planDefecto){U(r.planDefecto);const e=_.find(e=>e.planId===r.planDefecto);e&&(V(e.unidadBase),u(r.unidadMedidaDefecto||e.unidadBase))}},className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-hd-orange",title:"Grupo de producto segn clasificacin comercial. El nmero de artculo se generar automticamente segn la configuracin del grupo.",children:mt.map((e,t)=>H.jsx("option",{value:e,children:e},t))}),H.jsx(Jn,{onClick:()=>qe(!0)})]})]})]}),H.jsx(en,{label:H.jsxs("span",{children:["Descripcin ",H.jsx("span",{className:"text-red-500",children:"*"})]}),value:n,onChange:e=>o(e.target.value),placeholder:"Descripcin del artculo...",title:"Nombre comercial o descripcin detallada del producto tal como aparecer en la factura."}),H.jsx("div",{className:"grid grid-cols-2 gap-4",children:H.jsxs("div",{children:[H.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",title:"Agrupacin lgica para reportes y bsquedas.",children:"Categora Artculo"}),H.jsxs("div",{className:"flex items-center",children:[H.jsxs("select",{value:l,onChange:e=>c(e.target.value),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-hd-orange",title:"Agrupacin lgica para reportes y bsquedas.",children:[H.jsx("option",{value:"",children:"Seleccione Categora"}),Qe.map((e,t)=>H.jsx("option",{value:e.nombre,children:e.nombre},t))]}),H.jsx(Jn,{onClick:()=>Me(!0)})]})]})}),H.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[H.jsxs("div",{children:[H.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",title:"Marca del fabricante del producto.",children:"Marca"}),H.jsxs("div",{className:"flex items-center",children:[H.jsxs("select",{value:p,onChange:e=>h(e.target.value),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-hd-orange",title:"Marca del fabricante del producto.",children:[H.jsx("option",{value:"",children:"Seleccione Marca"}),nt.map((e,t)=>H.jsx("option",{value:e.nombre,children:e.nombre},t))]}),H.jsx(Jn,{onClick:()=>Ue(!0)})]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",title:"Tipo de producto segn su funcionamiento.",children:"Tipo"}),H.jsxs("div",{className:"flex items-center",children:[H.jsxs("select",{value:m,onChange:e=>g(e.target.value),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-hd-orange",title:"Tipo de producto segn su funcionamiento.",children:[H.jsx("option",{value:"",children:"Seleccione Tipo"}),st.map((e,t)=>H.jsx("option",{value:e.nombre,children:e.nombre},t))]}),H.jsx(Jn,{onClick:()=>Ve(!0)})]})]})]}),H.jsx("div",{className:"grid grid-cols-2 gap-4",children:H.jsxs("div",{children:[H.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",title:"Ubicacin fsica donde se almacena el artculo.",children:"Almacn"}),H.jsxs("div",{className:"flex items-center",children:[H.jsxs("select",{value:pt,onChange:e=>ht(e.target.value),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-hd-orange",title:"Ubicacin fsica donde se almacena el artculo.",children:[H.jsx("option",{value:"",children:"Seleccione Almacn"}),dt.map((e,t)=>H.jsx("option",{value:e.nombre,children:e.nombre},t))]}),H.jsx(Jn,{onClick:()=>Re(!0)})]})]})}),H.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[H.jsxs("div",{children:[H.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",title:"Ubicacin especfica dentro del almacn (pasillo, estante, nivel).",children:"Ubicacin en Almacn"}),H.jsx(en,{value:x,onChange:e=>f(e.target.value),placeholder:"Ej: A-12-3",title:"Cdigo de ubicacin fsica: Pasillo-Estante-Nivel"})]}),H.jsxs("div",{children:[H.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",title:"Grupo de impuestos aplicable al producto.",children:"Grupo Impto. Prod."}),H.jsxs("div",{className:"flex items-center",children:[H.jsxs("select",{value:rt,onChange:e=>at(e.target.value),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-hd-orange",title:"Grupo de impuestos aplicable al producto.",children:[H.jsx("option",{value:"",children:"Seleccione Impuesto"}),et.map((e,t)=>H.jsx("option",{value:e.codigo,children:e.nombre},t))]}),H.jsx(Jn,{onClick:()=>Le(!0)})]})]})]}),H.jsx("div",{className:"grid grid-cols-2 gap-4",children:H.jsx("div",{children:H.jsx(en,{label:"Margen %",type:"number",placeholder:"0.00",step:"0.01",title:"Porcentaje de margen de ganancia sobre el costo (estilo SalePad)"})})})]})]}),H.jsxs(ln,{children:[H.jsx(cn,{className:"cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>Je(!Ke),children:H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsx(dn,{children:"Facturacin"}),Ke?H.jsx(wr,{className:"h-5 w-5 text-gray-500"}):H.jsx(Cr,{className:"h-5 w-5 text-gray-500"})]})}),Ke&&H.jsxs("div",{className:"p-6 space-y-4",children:[H.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:H.jsxs("div",{children:[H.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",title:"Plan de Unidad de Medida que define la unidad base y conversiones.",children:"Plan de U. de M."}),H.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[H.jsx("div",{className:"flex items-center",children:H.jsxs("select",{className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-hd-orange",value:$,onChange:e=>{const t=e.target.value;U(t);const r=_.find(e=>e.planId===t);r?(V(r.unidadBase),u(r.unidadBase)):V("")},children:[H.jsx("option",{value:"",children:"Seleccione Plan"}),_.map((e,t)=>H.jsxs("option",{value:e.planId,children:[e.planId," - ",e.descripcion]},t))]})}),B&&H.jsxs("div",{className:"flex items-center space-x-4 mt-2 px-1",children:[H.jsxs("span",{className:"text-xs text-blue-600 font-medium",children:["Unidad Base: ",B]}),H.jsxs("div",{className:"flex items-center space-x-2",children:[H.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"U.M. Def:"}),H.jsx("select",{className:"h-6 text-xs rounded border-gray-300 bg-white px-1 py-0 focus:ring-hd-orange",value:d,onChange:e=>{const t=e.target.value;if(u(t),k){const e=G.find(e=>e.nivelPrecio===k&&e.unidadMedida===t);e&&N(e.precio.toFixed(2))}},children:(()=>{const e=_.find(e=>e.planId===$);let t=e?[e.unidadBase,...e.detalles?e.detalles.map(e=>e.unidadMedida):[]]:[B];if(t=[...new Set(t)],k&&G&&G.length>0){const e=G.filter(e=>(e.nivelPrecio||e.NivelPrecio)===k).map(e=>e.unidadMedida||e.UnidadMedida);e.length>0&&(t=t.filter(t=>e.includes(t)))}return t.map((e,t)=>H.jsx("option",{value:e,children:e},t))})()})]})]})]})]})}),H.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[H.jsxs("div",{children:[H.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",title:"Determina cmo se valora el inventario al salir.",children:"Mtodo de Costeo"}),H.jsxs("select",{className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-hd-orange",title:"Determina cmo se valora el inventario al salir.",value:D,onChange:e=>{const t=e.target.value;M(t),R("Estndar"===t?T:y)},children:[H.jsx("option",{value:"Promedio",children:"Promedio"}),H.jsx("option",{value:"Estndar",children:"Estndar"}),H.jsx("option",{value:"FIFO",children:"FIFO"}),H.jsx("option",{value:"LIFO",children:"LIFO"})]})]}),H.jsx(en,{label:"Costo Unitario",type:"number",placeholder:"0.00",title:"Costo directo de adquisicin o produccin por unidad.",value:z,onChange:e=>{const t=e.target.value;if(R(t),"Estndar"===D?F(t):w(t),b&&t){const e=parseFloat(t),r=parseFloat(b);N((e*(1+r/100)).toFixed(2))}}}),H.jsx(en,{label:"Margen %",type:"number",placeholder:"0.00",title:"Porcentaje de ganancia sobre el costo.",value:b,onChange:e=>{const t=e.target.value;if(v(t),z&&t){const e=parseFloat(z),r=parseFloat(t);N((e*(1+r/100)).toFixed(2))}}})]}),H.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[H.jsxs("div",{children:[H.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",title:"Nivel de precio asignado para venta rpida.",children:"Nivel de Precio"}),H.jsxs("div",{className:"flex items-center",children:[H.jsxs("select",{value:k,onChange:e=>{const t=e.target.value;C(t);const r=G.find(e=>e.nivelPrecio===t&&e.unidadMedida===d);r&&N(r.precio.toFixed(2))},className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-hd-orange",title:"Nivel de precio asignado para venta rpida.",children:[H.jsx("option",{value:"",children:"Seleccione Nivel"}),Nt.map((e,t)=>H.jsx("option",{value:e,children:e},t))]}),H.jsx(Jn,{onClick:()=>We(!0)})]})]}),H.jsx(en,{label:"Precio Unitario",type:"number",placeholder:"0.00",className:"font-bold text-green-700",title:"Precio de venta al pblico antes de descuentos.",value:j,onChange:e=>N(e.target.value)}),H.jsx("div",{})]}),H.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[H.jsxs("div",{children:[H.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",title:"Configuracin de impuestos aplicables al vender este artculo.",children:"Grupo Impto. Prod."}),H.jsxs("select",{className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-hd-orange",title:"Configuracin de impuestos aplicables al vender este artculo.",children:[H.jsx("option",{children:"ITBIS 18%"}),H.jsx("option",{children:"EXENTO"})]})]}),H.jsx("div",{className:"text-xs text-gray-500 pt-8 italic",children:"* El precio unitario incluye impuestos segn grupo."})]})]})]}),H.jsxs(ln,{children:[H.jsx(cn,{className:"cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>Xe(!Ye),children:H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsx(dn,{children:"Reposicin"}),Ye?H.jsx(wr,{className:"h-5 w-5 text-gray-500"}):H.jsx(Cr,{className:"h-5 w-5 text-gray-500"})]})}),Ye&&H.jsxs("div",{className:"p-6 space-y-4",children:[H.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[H.jsxs("div",{children:[H.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",title:"Cmo se reabastece este artculo habitualmente.",children:"Sistema Reposicin"}),H.jsxs("select",{className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-hd-orange",title:"Cmo se reabastece este artculo habitualmente.",children:[H.jsx("option",{children:"Compra"}),H.jsx("option",{children:"Prod. Orden"})]})]}),H.jsx(en,{label:"Stock Seguridad",type:"number",placeholder:"0",title:"Cantidad mnima a mantener para evitar quiebres de stock."}),H.jsx(en,{label:"Punto de Pedido",type:"number",placeholder:"0",title:"Nivel de inventario que dispara una alerta de reorden."})]}),H.jsx("div",{className:"grid grid-cols-1 gap-4",children:H.jsx(en,{label:"Proveedor Principal",placeholder:"Seleccionar...",title:"Proveedor predeterminado para generar rdenes de compra."})})]})]})]}),H.jsx("div",{className:"md:col-span-1 space-y-6",children:H.jsxs(ln,{children:[H.jsx(cn,{children:H.jsx(dn,{children:"Imagen del Producto"})}),H.jsxs("div",{className:"p-6 flex flex-col items-center justify-center space-y-4",children:[H.jsxs("div",{className:`relative w-full aspect-square bg-gray-100 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center overflow-hidden transition-colors ${!K&&"hover:bg-gray-50 cursor-pointer"}`,onClick:()=>!K&&document.getElementById("imageInput").click(),children:[K?H.jsxs(H.Fragment,{children:[H.jsx("img",{src:`${Ct}${K}`,alt:"Producto",className:"w-full h-full object-cover"}),H.jsx("button",{onClick:e=>{e.stopPropagation(),J("")},className:"absolute top-2 right-2 p-1 bg-white rounded-full shadow-md text-red-500 hover:bg-red-50 transition-colors",children:H.jsx(Ha,{className:"h-4 w-4"})})]}):H.jsx("div",{className:"text-center p-4",children:Y?H.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-hd-orange mx-auto"}):H.jsxs(H.Fragment,{children:[H.jsx(_a,{className:"mx-auto h-8 w-8 text-gray-400"}),H.jsx("span",{className:"mt-2 block text-sm font-medium text-gray-600",children:"Subir foto"})]})}),H.jsx("input",{type:"file",id:"imageInput",className:"hidden",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t){X(!0);try{const e=await(async e=>{const t=new FormData;t.append("file",e);const r=await fetch(`${Sn}/Upload/ProductImage`,{method:"POST",body:t});if(!r.ok){const e=await r.text();throw new Error(`Failed to upload image: ${r.status} ${e}`)}return r.json()})(t);J(e.url)}catch(r){console.error("Error uploading image:",r),alert("Error al subir la imagen: "+r.message)}finally{X(!1)}}}})]}),H.jsx("div",{className:"w-full text-xs text-center text-gray-500 italic",children:"Formatos soportados: JPG, PNG. Mx 5MB."})]})]})})]})}),H.jsx(Wn,{value:"costos",children:H.jsxs(ln,{children:[H.jsxs(cn,{children:[H.jsx(dn,{children:"Anlisis de Precios Unitarios (APU)"}),H.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Sistema de costeo basado en estndares de construccin y manufactura. Incluye costos directos, indirectos, y clculo de precio final."})]}),H.jsxs("div",{className:"p-6 space-y-8",children:[H.jsxs("div",{className:"border-2 border-orange-300 rounded-lg p-4 bg-orange-50/30",children:[H.jsxs("h2",{className:"text-xl font-bold text-orange-800 mb-4 flex items-center gap-2",children:[H.jsx("span",{className:"bg-orange-600 text-white px-3 py-1 rounded",children:"A"}),"COSTOS DIRECTOS"]}),H.jsxs("div",{className:"mb-6",children:[H.jsxs("div",{className:"flex justify-between items-center mb-2",children:[H.jsxs("div",{children:[H.jsx("h3",{className:"text-lg font-bold text-gray-800 border-b-2 border-orange-200 inline-block",children:"1. MATERIALES"}),H.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Insumos que se incorporan fsicamente al producto final"})]}),H.jsxs(Za,{onClick:()=>{const e=Math.max(...Q.map(e=>e.id),0)+1;Z([...Q,{id:e,codigo:`MAT-${String(e).padStart(3,"0")}`,descripcion:"",cantidad:0,unidad:"UND",desperdicio:0,precio:0}])},size:"sm",className:"bg-orange-600 hover:bg-orange-700",children:[H.jsx(xa,{className:"h-4 w-4 mr-1"})," Agregar Material"]})]}),H.jsx("div",{className:"border rounded-sm overflow-hidden bg-white",children:H.jsxs(tn,{className:"border-0",children:[H.jsx(rn,{children:H.jsxs(nn,{className:"bg-orange-100/70",children:[H.jsx(on,{className:"w-24",children:"Cdigo"}),H.jsx(on,{children:"Descripcin"}),H.jsx(on,{className:"w-24 text-right",children:"Cantidad"}),H.jsx(on,{className:"w-20 text-center",children:"Unidad"}),H.jsx(on,{className:"w-20 text-right",children:"Desp %"}),H.jsx(on,{className:"w-28 text-right",children:"Precio Unit."}),H.jsx(on,{className:"w-28 text-right",children:"Total"}),H.jsx(on,{className:"w-16"})]})}),H.jsxs(an,{children:[Q.map(e=>H.jsxs(nn,{children:[H.jsx(sn,{className:"font-medium",children:H.jsx("input",{type:"text",value:e.codigo,onChange:t=>Oe(e.id,"codigo",t.target.value),className:"w-full px-2 py-1 text-sm border-0 bg-transparent focus:bg-white focus:ring-1 focus:ring-hd-orange rounded"})}),H.jsx(sn,{children:H.jsx("input",{type:"text",value:e.descripcion,onChange:t=>Oe(e.id,"descripcion",t.target.value),className:"w-full px-2 py-1 text-sm border-0 bg-transparent focus:bg-white focus:ring-1 focus:ring-hd-orange rounded",placeholder:"Descripcin del material..."})}),H.jsx(sn,{className:"text-right",children:H.jsx("input",{type:"number",value:e.cantidad,onChange:t=>Oe(e.id,"cantidad",parseFloat(t.target.value)||0),className:"w-full px-2 py-1 text-sm text-right border-0 bg-transparent focus:bg-white focus:ring-1 focus:ring-hd-orange rounded",step:"0.01"})}),H.jsx(sn,{className:"text-center",children:H.jsx("input",{type:"text",value:e.unidad,onChange:t=>Oe(e.id,"unidad",t.target.value),className:"w-full px-2 py-1 text-sm text-center border-0 bg-transparent focus:bg-white focus:ring-1 focus:ring-hd-orange rounded"})}),H.jsx(sn,{className:"text-right",children:H.jsx("input",{type:"number",value:e.desperdicio,onChange:t=>Oe(e.id,"desperdicio",parseFloat(t.target.value)||0),className:"w-full px-2 py-1 text-sm text-right border-0 bg-transparent focus:bg-white focus:ring-1 focus:ring-hd-orange rounded",step:"0.1"})}),H.jsx(sn,{className:"text-right",children:H.jsx("input",{type:"number",value:e.precio,onChange:t=>Oe(e.id,"precio",parseFloat(t.target.value)||0),className:"w-full px-2 py-1 text-sm text-right border-0 bg-transparent focus:bg-white focus:ring-1 focus:ring-hd-orange rounded",step:"0.01"})}),H.jsxs(sn,{className:"text-right font-medium",children:["$",de(e).toFixed(2)]}),H.jsx(sn,{children:H.jsx(Za,{variant:"ghost",size:"sm",onClick:()=>{return t=e.id,void Z(Q.filter(e=>e.id!==t));var t},className:"h-8 w-8 p-0 hover:bg-red-100 hover:text-red-600",children:H.jsx(Ta,{className:"h-4 w-4"})})})]},e.id)),H.jsxs(nn,{className:"bg-orange-50 font-bold border-t-2 border-orange-300",children:[H.jsx(sn,{colSpan:6,className:"text-right pr-4",children:"Subtotal Materiales (A1)"}),H.jsxs(sn,{className:"text-right text-orange-700 text-lg",children:["$",ue.toFixed(2)]}),H.jsx(sn,{})]})]})]})})]}),H.jsxs("div",{className:"mb-6",children:[H.jsxs("div",{className:"flex justify-between items-center mb-2",children:[H.jsxs("div",{children:[H.jsx("h3",{className:"text-lg font-bold text-gray-800 border-b-2 border-blue-200 inline-block",children:"2. EQUIPOS Y HERRAMIENTAS"}),H.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maquinaria y equipos necesarios para la ejecucin"})]}),H.jsxs(Za,{onClick:()=>{const e=Math.max(...ee.map(e=>e.id),0)+1;te([...ee,{id:e,codigo:`EQ-${String(e).padStart(3,"0")}`,descripcion:"",cantidad:0,unidad:"HM",rendimiento:0,costoHora:0}])},size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[H.jsx(xa,{className:"h-4 w-4 mr-1"})," Agregar Equipo"]})]}),H.jsx("div",{className:"border rounded-sm overflow-hidden bg-white",children:H.jsxs(tn,{className:"border-0",children:[H.jsx(rn,{children:H.jsxs(nn,{className:"bg-blue-100/70",children:[H.jsx(on,{className:"w-24",children:"Cdigo"}),H.jsx(on,{children:"Descripcin"}),H.jsx(on,{className:"w-24 text-right",children:"Cantidad"}),H.jsx(on,{className:"w-20 text-center",children:"Unidad"}),H.jsx(on,{className:"w-24 text-right",children:"Rendimiento"}),H.jsx(on,{className:"w-28 text-right",children:"Costo/Hora"}),H.jsx(on,{className:"w-28 text-right",children:"Total"}),H.jsx(on,{className:"w-16"})]})}),H.jsxs(an,{children:[ee.map(e=>H.jsxs(nn,{children:[H.jsx(sn,{className:"font-medium",children:H.jsx("input",{type:"text",value:e.codigo,onChange:t=>Ie(e.id,"codigo",t.target.value),className:"w-full px-2 py-1 text-sm border-0 bg-transparent focus:bg-white focus:ring-1 focus:ring-hd-orange rounded"})}),H.jsx(sn,{children:H.jsx("input",{type:"text",value:e.descripcion,onChange:t=>Ie(e.id,"descripcion",t.target.value),className:"w-full px-2 py-1 text-sm border-0 bg-transparent focus:bg-white focus:ring-1 focus:ring-hd-orange rounded",placeholder:"Descripcin del equipo..."})}),H.jsx(sn,{className:"text-right",children:H.jsx("input",{type:"number",value:e.cantidad,onChange:t=>Ie(e.id,"cantidad",parseFloat(t.target.value)||0),className:"w-full px-2 py-1 text-sm text-right border-0 bg-transparent focus:bg-white focus:ring-1 focus:ring-hd-orange rounded",step:"0.01"})}),H.jsx(sn,{className:"text-center",children:H.jsx("input",{type:"text",value:e.unidad,onChange:t=>Ie(e.id,"unidad",t.target.value),className:"w-full px-2 py-1 text-sm text-center border-0 bg-transparent focus:bg-white focus:ring-1 focus:ring-hd-orange rounded"})}),H.jsx(sn,{className:"text-right",children:H.jsx("input",{type:"number",value:e.rendimiento,onChange:t=>Ie(e.id,"rendimiento",parseFloat(t.target.value)||0),className:"w-full px-2 py-1 text-sm text-right border-0 bg-transparent focus:bg-white focus:ring-1 focus:ring-hd-orange rounded",step:"0.01"})}),H.jsx(sn,{className:"text-right",children:H.jsx("input",{type:"number",value:e.costoHora,onChange:t=>Ie(e.id,"costoHora",parseFloat(t.target.value)||0),className:"w-full px-2 py-1 text-sm text-right border-0 bg-transparent focus:bg-white focus:ring-1 focus:ring-hd-orange rounded",step:"0.01"})}),H.jsxs(sn,{className:"text-right font-medium",children:["$",pe(e).toFixed(2)]}),H.jsx(sn,{children:H.jsx(Za,{variant:"ghost",size:"sm",onClick:()=>{return t=e.id,void te(ee.filter(e=>e.id!==t));var t},className:"h-8 w-8 p-0 hover:bg-red-100 hover:text-red-600",children:H.jsx(Ta,{className:"h-4 w-4"})})})]},e.id)),H.jsxs(nn,{className:"bg-blue-50 font-bold border-t-2 border-blue-300",children:[H.jsx(sn,{colSpan:6,className:"text-right pr-4",children:"Subtotal Equipos (A2)"}),H.jsxs(sn,{className:"text-right text-blue-700 text-lg",children:["$",he.toFixed(2)]}),H.jsx(sn,{})]})]})]})})]}),H.jsxs("div",{className:"mb-4",children:[H.jsxs("div",{className:"flex justify-between items-center mb-2",children:[H.jsxs("div",{children:[H.jsx("h3",{className:"text-lg font-bold text-gray-800 border-b-2 border-green-200 inline-block",children:"3. MANO DE OBRA DIRECTA"}),H.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Personal que ejecuta directamente la actividad productiva"})]}),H.jsxs(Za,{onClick:()=>{const e=Math.max(...re.map(e=>e.id),0)+1;ae([...re,{id:e,codigo:`MO-${String(e).padStart(3,"0")}`,descripcion:"",cantidad:0,unidad:"HH",salario:0}])},size:"sm",className:"bg-green-600 hover:bg-green-700",children:[H.jsx(xa,{className:"h-4 w-4 mr-1"})," Agregar Trabajador"]})]}),H.jsx("div",{className:"border rounded-sm overflow-hidden bg-white",children:H.jsxs(tn,{className:"border-0",children:[H.jsx(rn,{children:H.jsxs(nn,{className:"bg-green-100/70",children:[H.jsx(on,{className:"w-24",children:"Cdigo"}),H.jsx(on,{children:"Descripcin / Categora"}),H.jsx(on,{className:"w-24 text-right",children:"Cantidad"}),H.jsx(on,{className:"w-20 text-center",children:"Unidad"}),H.jsx(on,{className:"w-28 text-right",children:"Salario Base"}),H.jsx(on,{className:"w-28 text-right",children:"Subtotal"}),H.jsx(on,{className:"w-16"})]})}),H.jsxs(an,{children:[re.map(e=>H.jsxs(nn,{children:[H.jsx(sn,{className:"font-medium",children:H.jsx("input",{type:"text",value:e.codigo,onChange:t=>Ae(e.id,"codigo",t.target.value),className:"w-full px-2 py-1 text-sm border-0 bg-transparent focus:bg-white focus:ring-1 focus:ring-hd-orange rounded"})}),H.jsx(sn,{children:H.jsx("input",{type:"text",value:e.descripcion,onChange:t=>Ae(e.id,"descripcion",t.target.value),className:"w-full px-2 py-1 text-sm border-0 bg-transparent focus:bg-white focus:ring-1 focus:ring-hd-orange rounded",placeholder:"Categora del trabajador..."})}),H.jsx(sn,{className:"text-right",children:H.jsx("input",{type:"number",value:e.cantidad,onChange:t=>Ae(e.id,"cantidad",parseFloat(t.target.value)||0),className:"w-full px-2 py-1 text-sm text-right border-0 bg-transparent focus:bg-white focus:ring-1 focus:ring-hd-orange rounded",step:"0.01"})}),H.jsx(sn,{className:"text-center",children:H.jsx("input",{type:"text",value:e.unidad,onChange:t=>Ae(e.id,"unidad",t.target.value),className:"w-full px-2 py-1 text-sm text-center border-0 bg-transparent focus:bg-white focus:ring-1 focus:ring-hd-orange rounded"})}),H.jsx(sn,{className:"text-right",children:H.jsx("input",{type:"number",value:e.salario,onChange:t=>Ae(e.id,"salario",parseFloat(t.target.value)||0),className:"w-full px-2 py-1 text-sm text-right border-0 bg-transparent focus:bg-white focus:ring-1 focus:ring-hd-orange rounded",step:"0.01"})}),H.jsxs(sn,{className:"text-right font-medium",children:["$",(e.cantidad*e.salario).toFixed(2)]}),H.jsx(sn,{children:H.jsx(Za,{variant:"ghost",size:"sm",onClick:()=>{return t=e.id,void ae(re.filter(e=>e.id!==t));var t},className:"h-8 w-8 p-0 hover:bg-red-100 hover:text-red-600",children:H.jsx(Ta,{className:"h-4 w-4"})})})]},e.id)),H.jsxs(nn,{className:"bg-gray-50 font-semibold border-t border-gray-300",children:[H.jsx(sn,{colSpan:5,className:"text-right pr-4 text-sm",children:"Subtotal Salarios Base"}),H.jsxs(sn,{className:"text-right",children:["$",me.toFixed(2)]}),H.jsx(sn,{})]}),H.jsxs(nn,{className:"bg-green-50/50",children:[H.jsxs(sn,{colSpan:5,className:"text-right pr-4 text-sm",children:["+ Cargas Sociales y Prestaciones (",ne.cargasSociales,"%)*"]}),H.jsxs(sn,{className:"text-right text-gray-700",children:["$",ge.toFixed(2)]}),H.jsx(sn,{})]}),H.jsxs(nn,{className:"bg-green-50/50",children:[H.jsxs(sn,{colSpan:5,className:"text-right pr-4 text-sm",children:["+ Seguros y Riesgos Laborales (",ne.seguros,"%)"]}),H.jsxs(sn,{className:"text-right text-gray-700",children:["$",xe.toFixed(2)]}),H.jsx(sn,{})]}),H.jsxs(nn,{className:"bg-green-50/50 border-b-2 border-green-300",children:[H.jsxs(sn,{colSpan:5,className:"text-right pr-4 text-sm",children:["+ Herramientas y EPP (",ne.herramientas,"%)"]}),H.jsxs(sn,{className:"text-right text-gray-700",children:["$",fe.toFixed(2)]}),H.jsx(sn,{})]}),H.jsxs(nn,{className:"bg-green-100 font-bold",children:[H.jsxs(sn,{colSpan:5,className:"text-right pr-4",children:["Subtotal Mano de Obra (A3)",H.jsx("span",{className:"block text-xs font-normal text-gray-500",children:"*Incluye: vacaciones, aguinaldo, cesanta, seguro social"})]}),H.jsxs(sn,{className:"text-right text-green-700 text-lg",children:["$",be.toFixed(2)]}),H.jsx(sn,{})]})]})]})})]}),H.jsxs("div",{className:"bg-orange-100 border-2 border-orange-400 rounded p-3 flex justify-between items-center",children:[H.jsx("span",{className:"font-bold text-gray-800",children:"TOTAL COSTOS DIRECTOS (A = A1 + A2 + A3)"}),H.jsxs("span",{className:"text-2xl font-bold text-orange-700",children:["$",ve.toFixed(2)]})]})]}),H.jsxs("div",{className:"border-2 border-purple-300 rounded-lg p-4 bg-purple-50/30",children:[H.jsxs("h2",{className:"text-xl font-bold text-purple-800 mb-4 flex items-center gap-2",children:[H.jsx("span",{className:"bg-purple-600 text-white px-3 py-1 rounded",children:"B"}),"COSTOS INDIRECTOS"]}),H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[H.jsxs("div",{className:"border rounded-lg p-4 bg-white",children:[H.jsx("h3",{className:"font-bold text-purple-700 mb-3 border-b pb-2",children:"B1. Indirectos de Campo"}),H.jsxs("div",{className:"space-y-2 text-sm",children:[H.jsxs("div",{className:"flex justify-between",children:[H.jsx("span",{className:"text-gray-600",children:" Supervisin tcnica"}),H.jsx("span",{className:"font-medium",children:"$285.00"})]}),H.jsxs("div",{className:"flex justify-between",children:[H.jsx("span",{className:"text-gray-600",children:" Personal administrativo obra"}),H.jsx("span",{className:"font-medium",children:"$165.00"})]}),H.jsxs("div",{className:"flex justify-between",children:[H.jsx("span",{className:"text-gray-600",children:" Instalaciones temporales"}),H.jsx("span",{className:"font-medium",children:"$125.00"})]}),H.jsxs("div",{className:"flex justify-between",children:[H.jsx("span",{className:"text-gray-600",children:" Servicios (agua, luz temporal)"}),H.jsx("span",{className:"font-medium",children:"$95.00"})]}),H.jsxs("div",{className:"flex justify-between",children:[H.jsx("span",{className:"text-gray-600",children:" Seguridad y vigilancia"}),H.jsx("span",{className:"font-medium",children:"$85.00"})]}),H.jsxs("div",{className:"flex justify-between border-t pt-2 font-bold text-purple-700",children:[H.jsx("span",{children:"Subtotal Campo (B1)"}),H.jsx("span",{children:"$755.00"})]})]})]}),H.jsxs("div",{className:"border rounded-lg p-4 bg-white",children:[H.jsx("h3",{className:"font-bold text-purple-700 mb-3 border-b pb-2",children:"B2. Indirectos de Oficina Central"}),H.jsxs("div",{className:"space-y-2 text-sm",children:[H.jsxs("div",{className:"flex justify-between",children:[H.jsx("span",{className:"text-gray-600",children:" Direccin y gerencia"}),H.jsx("span",{className:"font-medium",children:"$425.00"})]}),H.jsxs("div",{className:"flex justify-between",children:[H.jsx("span",{className:"text-gray-600",children:" Contabilidad y finanzas"}),H.jsx("span",{className:"font-medium",children:"$195.00"})]}),H.jsxs("div",{className:"flex justify-between",children:[H.jsx("span",{className:"text-gray-600",children:" Alquiler oficina central"}),H.jsx("span",{className:"font-medium",children:"$285.00"})]}),H.jsxs("div",{className:"flex justify-between",children:[H.jsx("span",{className:"text-gray-600",children:" Servicios bsicos oficina"}),H.jsx("span",{className:"font-medium",children:"$125.00"})]}),H.jsxs("div",{className:"flex justify-between",children:[H.jsx("span",{className:"text-gray-600",children:" Depreciacin equipos"}),H.jsx("span",{className:"font-medium",children:"$95.00"})]}),H.jsxs("div",{className:"flex justify-between border-t pt-2 font-bold text-purple-700",children:[H.jsx("span",{children:"Subtotal Oficina (B2)"}),H.jsx("span",{children:"$1,125.00"})]})]})]})]}),H.jsxs("div",{className:"bg-purple-100 border-2 border-purple-400 rounded p-3 flex justify-between items-center",children:[H.jsx("span",{className:"font-bold text-gray-800",children:"TOTAL COSTOS INDIRECTOS (B = B1 + B2)"}),H.jsx("span",{className:"text-2xl font-bold text-purple-700",children:"$1,880.00"})]})]}),H.jsxs("div",{className:"border-2 border-gray-400 rounded-lg p-6 bg-gradient-to-br from-gray-50 to-gray-100",children:[H.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6 text-center border-b-2 pb-3",children:"CLCULO DE PRECIO UNITARIO FINAL"}),H.jsxs("div",{className:"space-y-3 max-w-2xl mx-auto",children:[H.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[H.jsx("span",{className:"font-medium text-gray-700",children:"Costos Directos (A)"}),H.jsxs("span",{className:"font-bold text-lg",children:["$",ve.toFixed(2)]})]}),H.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[H.jsx("span",{className:"font-medium text-gray-700",children:"Costos Indirectos (B)"}),H.jsxs("span",{className:"font-bold text-lg",children:["$",je.toFixed(2)]})]}),H.jsxs("div",{className:"flex justify-between items-center py-2 border-b-2 border-gray-400 bg-blue-50 px-3 rounded",children:[H.jsx("span",{className:"font-bold text-gray-800",children:"Costo Total (C = A + B)"}),H.jsxs("span",{className:"font-bold text-xl text-blue-700",children:["$",Ne.toFixed(2)]})]}),H.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[H.jsxs("span",{className:"font-medium text-gray-700",children:["+ Financiamiento (",ne.financiamiento,"% sobre C)",H.jsx("span",{className:"block text-xs text-gray-500",children:"Costo de oportunidad del capital"})]}),H.jsxs("span",{className:"font-bold",children:["$",ke.toFixed(2)]})]}),H.jsxs("div",{className:"flex justify-between items-center py-2 border-b",children:[H.jsxs("span",{className:"font-medium text-gray-700",children:["+ Imprevistos (",ne.imprevistos,"% sobre C)",H.jsx("span",{className:"block text-xs text-gray-500",children:"Contingencias y variaciones"})]}),H.jsxs("span",{className:"font-bold",children:["$",Ce.toFixed(2)]})]}),H.jsxs("div",{className:"flex justify-between items-center py-2 border-b-2 border-gray-400",children:[H.jsx("span",{className:"font-bold text-gray-800",children:"Subtotal con Cargos (D)"}),H.jsxs("span",{className:"font-bold text-lg",children:["$",Se.toFixed(2)]})]}),H.jsxs("div",{className:"flex justify-between items-center py-2 border-b-2 border-orange-400 bg-orange-50 px-3 rounded",children:[H.jsxs("span",{className:"font-medium text-gray-700",children:["+ Utilidad (",ne.utilidad,"% sobre D)",H.jsx("span",{className:"block text-xs text-gray-500",children:"Margen de ganancia del contratista"})]}),H.jsxs("span",{className:"font-bold text-orange-600",children:["$",Ee.toFixed(2)]})]}),H.jsxs("div",{className:"flex justify-between items-center py-3 bg-gradient-to-r from-green-100 to-green-50 border-2 border-green-500 rounded-lg px-4 mt-4",children:[H.jsxs("div",{children:[H.jsx("span",{className:"block font-bold text-gray-800 text-lg",children:"PRECIO UNITARIO FINAL"}),H.jsx("span",{className:"block text-xs text-gray-600",children:"Por unidad de medida (M3, KG, etc.)"})]}),H.jsxs("span",{className:"text-3xl font-bold text-green-700",children:["$",Pe.toFixed(2)]})]}),H.jsx("div",{className:"mt-4 p-3 bg-blue-50 border-l-4 border-blue-500 rounded",children:H.jsxs("p",{className:"text-xs text-gray-600",children:[H.jsx("strong",{children:"Nota:"})," Los porcentajes de indirectos, financiamiento, imprevistos y utilidad pueden variar segn el tipo de proyecto, ubicacin geogrfica, condiciones del mercado y polticas de la empresa. Los valores mostrados son referenciales basados en estndares de la industria."]})})]})]})]})]})})]}),H.jsx(go,{isOpen:De,onClose:()=>Me(!1),onSave:async e=>{try{await eo(e);const t=await Zn();Ze(t),c(e.nombre),Me(!1)}catch(Xd){console.error(Xd),alert("Error al guardar categora")}},title:"Nueva Categora",type:"categoria"}),H.jsx(Kn,{isOpen:Te,onClose:()=>Fe(!1),onSave:e=>{console.log("Saving new unit:",e)},title:"Nueva Unidad de Medida",fields:[{name:"codigo",label:"Cdigo",placeholder:"UND"},{name:"nombre",label:"Nombre",placeholder:"Unidad"},{name:"tipo",label:"Tipo",type:"select",options:[{value:"Cantidad",label:"Cantidad"},{value:"Longitud",label:"Longitud"},{value:"rea",label:"rea"},{value:"Volumen",label:"Volumen"},{value:"Peso",label:"Peso"}]},{name:"decimales",label:"Decimales",type:"number",placeholder:"0"}]}),H.jsx(xo,{isOpen:ze,onClose:()=>Re(!1),onSave:async e=>{try{await Dn(e);const t=await An();ut(t),ht(e.nombre),Re(!1)}catch(Xd){console.error(Xd),alert("Error al guardar almacn")}}}),H.jsx(fo,{isOpen:_e,onClose:()=>Le(!1),onSave:async e=>{try{await uo(e);const t=await co();tt(t),at(e.codigo),Le(!1)}catch(Xd){console.error(Xd),alert("Error al guardar impuesto")}}}),H.jsx(go,{isOpen:$e,onClose:()=>Ue(!1),onSave:async e=>{try{await ao(e);const t=await ro();ot(t),h(e.nombre),Ue(!1)}catch(Xd){console.error(Xd),alert("Error al guardar marca")}},title:"Nueva Marca",type:"marca"}),H.jsx(go,{isOpen:Be,onClose:()=>Ve(!1),onSave:async e=>{try{await io(e);const t=await oo();ct(t),g(e.nombre),Ve(!1)}catch(Xd){console.error(Xd),alert("Error al guardar tipo")}},title:"Nuevo Tipo",type:"tipo"}),H.jsx(bo,{isOpen:Ge,onClose:()=>qe(!1),onSave:async e=>{try{await mo(e);const t=(await ho()).map(e=>e.nombre);t.includes("Sin Grupo")||t.unshift("Sin Grupo"),gt(t),vt(e.nombre),qe(!1),a||jt(e.nombre)}catch(Xd){console.error(Xd),alert("Error al guardar grupo de producto")}}}),H.jsx(Kn,{isOpen:He,onClose:()=>We(!1),onSave:async e=>{try{await gn(e);const t=await mn();kt(t.map(e=>e.nombre)),C(e.nombre),We(!1)}catch(Xd){console.error(Xd),alert("Error al guardar nivel de precio")}},title:"Nuevo Nivel de Precio",fields:[{name:"nombre",label:"Nombre del Nivel",placeholder:"Ej. Mayorista"},{name:"descripcion",label:"Descripcin",placeholder:"Descripcin opcional"}]})]})},yo="http://localhost:5006/api",wo=async e=>{const t=e?`${yo}/Kardex?almacenId=${e}`:`${yo}/Kardex`,r=await fetch(t);if(!r.ok)throw new Error(`Failed to get kardex: ${r.status}`);return r.json()},jo=()=>{const[e,t]=W.useState([]),[r,a]=W.useState(!0),[n,o]=W.useState(""),[i,s]=W.useState([]),[l,c]=W.useState("");W.useEffect(()=>{d()},[]);const d=async()=>{try{a(!0);const e=await An();s(e);const r=await wo(l);t(r)}catch(e){console.error("Error loading kardex:",e)}finally{a(!1)}};W.useEffect(()=>{u()},[l]);const u=async()=>{try{a(!0);const e=await wo(l);t(e)}catch(e){console.error("Error loading kardex data:",e)}finally{a(!1)}},p=e.filter(e=>(e.producto||"").toLowerCase().includes(n.toLowerCase())||(e.documento||"").toLowerCase().includes(n.toLowerCase()));return H.jsxs("div",{className:"space-y-6",children:[H.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:H.jsxs("div",{children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:"Kardex de Inventario"}),H.jsx("p",{className:"text-sm text-gray-500",children:"Historial detallado de movimientos por producto."})]})}),H.jsxs(ln,{children:[H.jsx(cn,{children:H.jsx(dn,{children:"Filtros"})}),H.jsxs("div",{className:"p-6 pt-0 grid grid-cols-1 md:grid-cols-3 gap-4",children:[H.jsx(en,{label:"Buscar Producto",placeholder:"Cdigo o Nombre",value:n,onChange:e=>o(e.target.value)}),H.jsxs("div",{className:"space-y-1",children:[H.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filtrar por Almacn"}),H.jsxs("select",{className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-hd-orange",value:l,onChange:e=>c(e.target.value),children:[H.jsx("option",{value:"",children:"Todos los Almacenes"}),i.map(e=>H.jsx("option",{value:e.id,children:e.nombre},e.id))]})]})]})]}),H.jsxs(ln,{children:[H.jsx(cn,{children:H.jsx(dn,{children:"Movimientos Recientes"})}),H.jsx("div",{className:"p-0",children:H.jsxs(tn,{children:[H.jsx(rn,{children:H.jsxs(nn,{children:[H.jsx(on,{children:"Fecha"}),H.jsx(on,{children:"Tipo"}),H.jsx(on,{children:"Documento"}),H.jsx(on,{children:"Producto"}),H.jsx(on,{children:"Cant Adq"}),H.jsx(on,{children:"U.M."}),H.jsx(on,{className:"text-right text-green-700 bg-green-50",children:"Entrada"}),H.jsx(on,{className:"text-right text-red-700 bg-red-50",children:"Salida"}),H.jsx(on,{className:"text-right",children:"Costo"}),H.jsx(on,{className:"text-right",children:"Total"}),H.jsx(on,{className:"text-right text-xs text-gray-500",children:"Stock"})]})}),H.jsx(an,{children:r?H.jsx(nn,{children:H.jsx(sn,{colSpan:12,className:"text-center py-8",children:"Cargando..."})}):0===p.length?H.jsx(nn,{children:H.jsx(sn,{colSpan:12,className:"text-center py-8 text-gray-500",children:"No hay movimientos registrados."})}):p.map(e=>{var t,r,a;return H.jsxs(nn,{children:[H.jsx(sn,{className:"text-gray-600",children:new Date(e.fechaMovimiento).toLocaleDateString()}),H.jsx(sn,{children:H.jsxs("span",{className:"inline-flex items-center space-x-1 font-medium "+("Entrada"===e.tipoMovimiento?"text-green-600":"text-red-600"),children:["Entrada"===e.tipoMovimiento||e.cantidad>0?H.jsx(lr,{size:14}):H.jsx(rr,{size:14}),H.jsx("span",{children:e.tipoMovimiento})]})}),H.jsx(sn,{className:"font-mono text-xs text-blue-600 font-medium",children:e.documento}),H.jsx(sn,{className:"font-medium text-gray-800",children:e.producto}),H.jsx(sn,{className:"font-medium text-orange-700",children:Math.abs(parseFloat(null!==(t=e.cantidadOriginal)&&void 0!==t?t:e.cantidad)).toLocaleString()}),H.jsx(sn,{className:"text-gray-500",children:e.unidadOriginal||e.unidadMedida}),H.jsx(sn,{className:"text-right font-medium text-green-600 bg-green-50/30",children:e.cantidad>0?parseFloat(e.cantidad).toLocaleString():"-"}),H.jsx(sn,{className:"text-right font-medium text-red-600 bg-red-50/30",children:e.cantidad<0?Math.abs(parseFloat(e.cantidad)).toLocaleString():"-"}),H.jsxs(sn,{className:"text-right text-gray-600",children:["$",parseFloat(e.costoUnitario).toFixed(2)]}),H.jsxs(sn,{className:"text-right font-medium",children:["$",parseFloat(e.total).toFixed(2)]}),H.jsxs(sn,{className:"text-right text-xs text-gray-500",children:[null===(r=e.stockAnterior)||void 0===r?void 0:r.toFixed(0)," ",H.jsx("span",{className:"mx-1",children:""})," ",H.jsx("strong",{children:null===(a=e.stockNuevo)||void 0===a?void 0:a.toFixed(0)})]})]},e.id)})})]})})]})]})},No="http://localhost:5006/api/Ajustes",ko=async e=>{const t=await fetch(No,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.text();throw new Error(`Error al guardar ajuste: ${t.status} ${e}`)}return t.json()},Co=async()=>{const e=await fetch(No,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok){const t=await e.text();throw new Error(`Error al obtener ajustes: ${e.status} ${t}`)}return e.json()},So=async e=>{const t=await fetch(`${No}/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`Error fetching details: ${t.statusText}`);return t.json()},Eo=Object.freeze(Object.defineProperty({__proto__:null,createAjuste:ko,getAjusteById:So,getAjustes:Co},Symbol.toStringTag,{value:"Module"})),Po=({ajusteId:e,onClose:t})=>{var r,a;const[n,o]=W.useState(null),[i,s]=W.useState(!0);return W.useEffect(()=>{e&&(s(!0),So(e).then(e=>o(e)).catch(e=>console.error(e)).finally(()=>s(!1)))},[e]),e?H.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:H.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[H.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-100",children:[H.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[H.jsx(zr,{className:"text-hd-orange",size:24}),"Detalle de Ajuste ",n?console.log(n)||n.documento:""]}),H.jsx(Za,{variant:"ghost",size:"icon",onClick:t,children:H.jsx(Ha,{size:20})})]}),H.jsx("div",{className:"p-6 overflow-y-auto flex-1 space-y-6",children:i?H.jsx("div",{className:"text-center py-12 text-gray-500",children:"Cargando detalles..."}):n?H.jsxs(H.Fragment,{children:[H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 bg-gray-50 p-4 rounded-lg border border-gray-100",children:[H.jsxs("div",{children:[H.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Fecha"}),H.jsxs("div",{className:"flex items-center gap-2 text-gray-800 font-medium",children:[H.jsx(fr,{size:16,className:"text-gray-400"}),new Date(n.fecha).toLocaleDateString()]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Tipo / Motivo"}),H.jsxs("div",{className:"text-gray-800 font-medium",children:[H.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-bold mr-2 "+("in"===n.tipoAjuste?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:"in"===n.tipoAjuste?"ENTRADA":"SALIDA"}),n.motivoDescripcion]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Almacn"}),H.jsxs("div",{className:"flex items-center gap-2 text-gray-800 font-medium",children:[H.jsx(ca,{size:16,className:"text-gray-400"}),n.almacenNombre||"General"]})]}),n.observaciones&&H.jsxs("div",{className:"md:col-span-3",children:[H.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Observaciones"}),H.jsx("div",{className:"text-gray-700 text-sm italic border-l-2 border-gray-300 pl-2 mt-1",children:n.observaciones})]})]}),H.jsxs("div",{children:[H.jsx("h3",{className:"font-semibold text-gray-800 mb-3 text-sm uppercase tracking-wide",children:"Artculos Ajustados"}),H.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:H.jsxs(tn,{children:[H.jsx(rn,{className:"bg-gray-50",children:H.jsxs(nn,{children:[H.jsx(on,{children:"Cdigo"}),H.jsx(on,{children:"Descripcin"}),H.jsx(on,{children:"Plan"}),H.jsx(on,{children:"Unidad"}),H.jsx(on,{className:"text-right",children:"Cant."}),H.jsx(on,{className:"text-right",children:"Costo"}),H.jsx(on,{className:"text-right",children:"Total"})]})}),H.jsxs(an,{children:[null===(r=n.detalles)||void 0===r?void 0:r.map((e,t)=>H.jsxs(nn,{children:[H.jsx(sn,{className:"font-mono text-xs text-gray-600",children:e.codigo}),H.jsx(sn,{className:"font-medium text-gray-800",children:e.descripcion}),H.jsx(sn,{className:"text-xs text-gray-500",children:e.planUoM||"-"}),H.jsx(sn,{className:"text-xs",children:e.unidad}),H.jsx(sn,{className:"text-right font-bold text-gray-800",children:parseFloat(e.cantidad).toLocaleString()}),H.jsx(sn,{className:"text-right text-xs text-gray-600",children:parseFloat(e.costo).toLocaleString(void 0,{minimumFractionDigits:2})}),H.jsx(sn,{className:"text-right text-sm font-semibold text-gray-900 bg-gray-50/50",children:(e.cantidad*e.costo).toLocaleString(void 0,{minimumFractionDigits:2})})]},t)),H.jsxs(nn,{className:"bg-gray-100 font-bold",children:[H.jsx(sn,{colSpan:6,className:"text-right",children:"Total Ajuste:"}),H.jsx(sn,{className:"text-right text-hd-orange",children:null===(a=n.detalles)||void 0===a?void 0:a.reduce((e,t)=>e+t.cantidad*t.costo,0).toLocaleString(void 0,{minimumFractionDigits:2})})]})]})]})})]})]}):H.jsx("div",{className:"text-center text-red-500",children:"No se encontr el ajuste."})}),H.jsx("div",{className:"p-4 border-t border-gray-100 bg-gray-50 flex justify-end",children:H.jsx(Za,{variant:"outline",onClick:t,children:"Cerrar"})})]})}):null},Oo=()=>{const e=it(),[t,r]=W.useState([]),[a,n]=W.useState(""),[o,i]=W.useState(!0),[s,l]=W.useState(null);W.useEffect(()=>{Co().then(e=>r(e)).catch(e=>console.error("Error loading ajustes",e)).finally(()=>i(!1))},[]);const c=a?t.filter(e=>e.documento&&e.documento.toLowerCase().includes(a.toLowerCase())||e.motivo&&e.motivo.toLowerCase().includes(a.toLowerCase())||e.tipo&&e.tipo.toLowerCase().includes(a.toLowerCase())):t;return H.jsxs("div",{className:"space-y-6",children:[H.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[H.jsxs("div",{children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:"Ajustes de Inventario"}),H.jsx("p",{className:"text-sm text-gray-500",children:"Registre entradas y salidas manuales de mercanca."})]}),H.jsxs(Za,{onClick:()=>e("/ajustes/nuevo"),className:"bg-hd-orange hover:bg-orange-600 shadow-md",children:[H.jsx(xa,{className:"mr-2 h-4 w-4"})," Nuevo Ajuste"]})]}),H.jsxs(ln,{children:[H.jsxs(cn,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[H.jsx(dn,{children:"Historial de Ajustes"}),H.jsxs("div",{className:"relative w-64",children:[H.jsx(ja,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),H.jsx(en,{placeholder:"Buscar ajuste...",className:"pl-9",value:a,onChange:e=>n(e.target.value)})]})]}),H.jsx("div",{className:"p-0",children:H.jsxs(tn,{children:[H.jsx(rn,{children:H.jsxs(nn,{children:[H.jsx(on,{className:"w-[120px]",children:"Documento"}),H.jsx(on,{children:"Fecha"}),H.jsx(on,{children:"Tipo"}),H.jsx(on,{children:"Motivo"}),H.jsx(on,{className:"text-right",children:"Acciones"})]})}),H.jsx(an,{children:o?H.jsx(nn,{children:H.jsx(sn,{colSpan:5,className:"text-center py-8 text-gray-500",children:"Cargando ajustes..."})}):0===c.length?H.jsx(nn,{children:H.jsx(sn,{colSpan:5,className:"text-center py-8 text-gray-500",children:"No hay ajustes registrados."})}):c.map(e=>H.jsxs(nn,{className:"group hover:bg-gray-50/50",children:[H.jsx(sn,{className:"font-mono text-gray-700",children:e.documento}),H.jsx(sn,{children:new Date(e.fecha).toLocaleDateString()}),H.jsx(sn,{children:H.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("Entrada"===e.tipo?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.tipo})}),H.jsx(sn,{children:e.motivo}),H.jsx(sn,{className:"text-right",children:H.jsx(Za,{variant:"ghost",size:"sm",className:"text-hd-orange hover:text-orange-700 hover:bg-orange-50",onClick:()=>l(e.id),children:"Ver Detalle"})})]},e.id||e.documento))})]})})]}),s&&H.jsx(Po,{ajusteId:s,onClose:()=>l(null)})]})},Io=function(e,t,r){let a=Promise.resolve();function n(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return a.then(t=>{for(const e of t||[])"rejected"===e.status&&n(e.reason);return e().catch(n)})},Ao="http://localhost:5006/api/MotivosAjuste",Do=async()=>{const e=await fetch(Ao);if(!e.ok)throw new Error("Error al obtener motivos");return await e.json()};let Mo=class extends K.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error",e,t),this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?H.jsxs("div",{className:"p-6 bg-red-100 text-red-800 rounded-md",children:[H.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Algo sali mal"}),H.jsx("p",{children:"Por favor, recargue la pgina o contacte al soporte."}),!1]}):this.props.children}};const To=({title:e,children:t,defaultExpanded:r=!0})=>{const[a,n]=W.useState(r);return H.jsxs("div",{className:"border border-gray-200 bg-white rounded-sm mb-4 shadow-sm overflow-hidden",children:[H.jsxs("button",{onClick:()=>n(!a),className:"w-full flex items-center px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors border-b border-gray-100",children:[a?H.jsx(wr,{size:16,className:"text-gray-500 mr-2"}):H.jsx(Cr,{size:16,className:"text-gray-500 mr-2"}),H.jsx("span",{className:"font-semibold text-sm text-gray-700 uppercase tracking-wide",children:e})]}),a&&H.jsx("div",{className:"p-6 bg-white",children:H.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-4",children:t})})]})},Fo=({label:e,children:t,required:r=!1})=>H.jsxs("div",{className:"flex flex-col space-y-1",children:[H.jsxs("label",{className:"text-xs font-semibold text-gray-500 truncate flex items-center",children:[e,r&&H.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),t]}),zo=()=>{const e=it(),{hasPermission:t,loading:r}=Gt();W.useEffect(()=>{r||t("INVENTORY_ADJUSTMENT_CREATE")||e("/ajustes")},[r,t,e]);const[a,n]=W.useState([]),[o,i]=W.useState([]),[s,l]=W.useState(!0);if(r)return H.jsx("div",{className:"p-6",children:"Verificando permisos..."});const[c,d]=W.useState([]),[u,p]=W.useState(""),[h,m]=W.useState(!1),g=W.useRef(null),[x,f]=W.useState({fecha:(new Date).toISOString().split("T")[0],tipoAjuste:"out",motivoId:"",almacenId:"",observaciones:""}),[b,v]=W.useState([]);W.useEffect(()=>{(async()=>{try{const[e,t,r]=await Promise.all([Do(),Pn(),An()]);Array.isArray(e)?n(e.filter(e=>e.activo)):e&&Array.isArray(e.data)?n(e.data.filter(e=>e.activo)):(console.error("Structure of motivosData unexpected",e),n([])),Array.isArray(r)?i(r):i([]),Array.isArray(t)?d(t):t&&Array.isArray(t.data)?d(t.data):(console.error("Structure of productosData unexpected",t),d([]))}catch(e){console.error("Error loading data",e),n([]),d([])}finally{l(!1)}})();const e=e=>{g.current&&!g.current.contains(e.target)&&m(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const y=a.reduce((e,t)=>(e[t.grupo]||(e[t.grupo]=[]),e[t.grupo].push(t),e),{}),w=W.useMemo(()=>{if(!u)return[];const e=u.toLowerCase();return c.filter(t=>t.descripcion&&t.descripcion.toLowerCase().includes(e)||t.codigo&&t.codigo.toLowerCase().includes(e)||t.referencia&&t.referencia.toLowerCase().includes(e)).slice(0,10)},[u,c]),[j,N]=W.useState(null);W.useEffect(()=>{(async()=>{try{const{getAjusteConfig:e}=await Io(async()=>{const{getAjusteConfig:e}=await Promise.resolve().then(()=>Rd);return{getAjusteConfig:e}}),t=await e();N(t)}catch(Xd){console.error(Xd)}})()},[]);const k=(e,t,r)=>{v(b.map(a=>{if(a.id===e){if("unidad"===t){const e=a.unidadesPosibles.find(e=>e.unidad===r),t=e&&parseFloat(e.equivalente)||1,n=(parseFloat(a.costoBase)||0)*t;return{...a,unidad:r,equivalente:t,costo:n}}return{...a,[t]:r}}return a}))},C=b.reduce((e,t)=>e+t.cantidad*t.costo,0);return H.jsxs("div",{className:"flex flex-col h-full bg-gray-100 min-h-screen",children:[H.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-3 flex items-center justify-between sticky top-0 z-10 shadow-sm",children:[H.jsxs("div",{className:"flex items-center space-x-4",children:[H.jsx(Za,{variant:"ghost",size:"icon",onClick:()=>e("/ajustes"),className:"text-gray-500 hover:text-gray-800",children:H.jsx(ar,{className:"h-5 w-5"})}),H.jsxs("div",{className:"flex flex-col",children:[H.jsxs("div",{className:"flex items-center space-x-2",children:[H.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"Inventario"}),H.jsx("span",{className:"text-gray-400 text-xs",children:"/"}),H.jsx("span",{className:"text-sm text-gray-800 font-bold",children:"Nuevo Ajuste"})]}),H.jsx("h1",{className:"text-xl font-bold text-gray-900 leading-tight",children:"Hoja de Ajuste"})]})]}),H.jsxs("div",{className:"flex items-center space-x-2",children:[H.jsxs(Za,{variant:"outline",size:"sm",onClick:()=>e("/ajustes"),className:"border-gray-300 text-gray-700",children:[H.jsx(Ha,{className:"mr-2 h-4 w-4"})," Cancelar"]}),H.jsxs(Za,{size:"sm",onClick:async()=>{var t;if(!x.motivoId)return void alert("Debe seleccionar un motivo.");if(0===b.length)return void alert("Debe agregar al menos un artculo.");const r=(null===(t=a.find(e=>e.id==x.motivoId))||void 0===t?void 0:t.motivo)||"N/A",n={...x,motivoDescripcion:r,motivoId:parseInt(x.motivoId),almacenId:parseInt(x.almacenId)||1,detalles:b.map(e=>({articuloId:e.id,codigo:e.codigo,descripcion:e.descripcion,unidad:e.unidad,cantidad:e.cantidad,equivalente:e.equivalente,costo:e.costo,planUoM:e.planUoM}))};try{const{createAjuste:t}=await Io(async()=>{const{createAjuste:e}=await Promise.resolve().then(()=>Eo);return{createAjuste:e}}),r=await t(n);alert(`Ajuste registrado con xito. Documento: ${r.documento}`),e("/ajustes")}catch(o){console.error(o),alert("Error al guardar el ajuste: "+o.message)}},className:"bg-hd-orange hover:bg-orange-600 text-white shadow-sm border border-transparent",children:[H.jsx(wa,{className:"mr-2 h-4 w-4"})," Registrar Ajuste"]})]})]}),H.jsxs("div",{className:"flex-1 overflow-auto p-6 max-w-7xl mx-auto w-full",children:[H.jsxs(To,{title:"General",children:[H.jsx(Fo,{label:"No. Documento",children:H.jsx(en,{placeholder:"(Auto)",disabled:!0,className:"bg-gray-50 border-gray-200"})}),H.jsx(Fo,{label:"Fecha Registro",required:!0,children:H.jsx(en,{type:"date",className:"font-medium",value:x.fecha,onChange:e=>f({...x,fecha:e.target.value})})}),H.jsx("div",{className:"col-span-1",children:H.jsx(Fo,{label:"Tipo Ajuste",required:!0,children:H.jsxs("div",{className:"flex flex-col",children:[H.jsxs("select",{className:"flex h-9 w-full rounded-md border border-gray-300 bg-white px-3 py-1 text-sm shadow-sm focus:outline-none focus:ring-1 focus:ring-hd-orange focus:border-hd-orange cursor-help",value:x.tipoAjuste,title:"Seleccione si el ajuste aumenta o disminuye el inventario",onChange:e=>f({...x,tipoAjuste:e.target.value}),children:[H.jsx("option",{value:"in",title:"Aumenta la cantidad de artculos en el almacn",children:"Entrada (+) "}),H.jsx("option",{value:"out",title:"Disminuye la cantidad de artculos en el almacn",children:"Salida (-)"})]}),H.jsx("span",{className:"text-xs mt-1 font-medium "+("in"===x.tipoAjuste?"text-green-600":"text-red-500"),children:"in"===x.tipoAjuste?"Aumenta el Stock: Para sobrantes, devoluciones o ingresos manuales.":"Disminuye el Stock: Para mermas, daos, robos o consumo interno."})]})})}),H.jsx(Fo,{label:"Almacn",children:H.jsxs("select",{className:"flex h-9 w-full rounded-md border border-gray-300 bg-white px-3 py-1 text-sm shadow-sm focus:outline-none focus:ring-1 focus:ring-hd-orange focus:border-hd-orange",value:x.almacenId,onChange:e=>f({...x,almacenId:e.target.value}),children:[H.jsx("option",{value:"",children:"Seleccione Almacn"}),s?H.jsx("option",{disabled:!0,children:"Cargando almacenes..."}):o.map(e=>H.jsx("option",{value:e.id,children:e.nombre},e.id))]})}),H.jsx("div",{className:"col-span-1 md:col-span-2",children:H.jsx(Fo,{label:"Motivo del Ajuste",required:!0,children:H.jsxs("select",{className:"flex h-9 w-full rounded-md border border-gray-300 bg-white px-3 py-1 text-sm shadow-sm focus:outline-none focus:ring-1 focus:ring-hd-orange focus:border-hd-orange",value:x.motivoId,onChange:e=>f({...x,motivoId:e.target.value}),children:[H.jsx("option",{value:"",children:"-- Seleccione un Motivo --"}),s?H.jsx("option",{disabled:!0,children:"Cargando motivos..."}):Object.entries(y).map(([e,t])=>H.jsx("optgroup",{label:e,children:t.map(e=>H.jsxs("option",{value:e.id,children:[e.codigo," - ",e.motivo]},e.id))},e))]})})})]}),H.jsxs("div",{className:"mb-4 relative",ref:g,children:[H.jsxs("div",{className:"relative",children:[H.jsx(ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),H.jsx(en,{placeholder:"Buscar artculo por cdigo o descripcin para agregar...",className:"pl-10 py-6 text-lg border-hd-orange/30 focus:border-hd-orange shadow-sm",value:u,onChange:e=>{p(e.target.value),m(!0)},onFocus:()=>m(!0)})]}),h&&u&&H.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 mt-1 rounded-md shadow-lg z-50 max-h-60 overflow-y-auto",children:w.length>0?w.map(e=>H.jsxs("div",{className:"px-4 py-3 hover:bg-orange-50 cursor-pointer border-b border-gray-50 last:border-0 flex justify-between items-center group",onClick:()=>(async e=>{const t=b.find(t=>t.id===e.id);if(t)return void alert("El artculo ya est en la lista. Ajuste la cantidad en la lnea existente.");let r=[],a=e.unidadMedida||"UND",n=1,o=(null==j?void 0:j.defaultPlanId)||e.planMedida||e.PlanMedida,i="N/A";if(o)try{const{getPlan:e}=await Io(async()=>{const{getPlan:e}=await M.import("./unidades-legacy-C-S-q2t1.js");return{getPlan:e}}),t=await e(o);i=t.descripcion||t.Descripcion||"Plan "+o;const s=t.detalles||t.Detalles;if(t&&s)if(r=s.map(e=>({unidad:e.unidadMedida||e.UnidadMedida,equivalente:parseFloat(e.cantidad||e.Cantidad||1)})),null!=j&&j.defaultUnit){const e=r.find(e=>e.unidad===j.defaultUnit);e?(a=e.unidad,n=e.equivalente):r.length>0&&(a=r[0].unidad,n=r[0].equivalente)}else r.length>0&&(a=r[0].unidad,n=r[0].equivalente)}catch(u){console.error("Error fetching plan",u)}else r.push({unidad:a,equivalente:1});const s=parseFloat(e.costoUnitario||e.costo||0)||0,l=parseFloat(n)||1,c=s*l,d={id:e.id,codigo:e.numeroArticulo||e.codigoBarras||e.codigo,descripcion:e.descripcion,unidad:a,unidadesPosibles:r,equivalente:l,cantidad:1,costoBase:s,costo:c,stockActual:e.stockActual||0,planUoM:o,planName:i};v([...b,d]),p(""),m(!1)})(e),children:[H.jsxs("div",{children:[H.jsx("div",{className:"font-semibold text-gray-800",children:e.descripcion}),H.jsxs("div",{className:"text-xs text-gray-500 font-mono",children:[e.codigo,e.referencia&&` | Ref: ${e.referencia}`]})]}),H.jsxs("div",{className:"text-xs font-medium text-gray-500 group-hover:text-hd-orange",children:["Stock: ",e.stockActual||0]})]},e.id)):H.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"No se encontraron productos"})})]}),H.jsxs("div",{className:"border border-gray-200 bg-white rounded-sm mb-4 shadow-sm overflow-hidden flex flex-col",children:[H.jsx("div",{className:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 border-b border-gray-100",children:H.jsxs("span",{className:"font-semibold text-sm text-gray-700 uppercase tracking-wide",children:["Lneas de Ajuste - ",b.length," Items"]})}),H.jsx("div",{className:"overflow-x-auto",children:H.jsxs(tn,{children:[H.jsx(rn,{className:"bg-gray-50",children:H.jsxs(nn,{children:[H.jsx(on,{className:"w-[120px]",children:"Cdigo"}),H.jsx(on,{className:"w-[250px]",children:"Descripcin"}),H.jsx(on,{className:"w-[100px]",children:"Plan"}),H.jsx(on,{className:"w-[100px]",children:"Unidad"}),H.jsx(on,{className:"w-[80px] text-right",children:"Cant. Unid."}),H.jsx(on,{className:"w-[100px] text-right",children:"Cantidad"}),H.jsx(on,{className:"w-[100px] text-right text-xs text-gray-500",children:"Total Unidades"}),H.jsx(on,{className:"w-[100px] text-right",children:"Costo Unit."}),H.jsx(on,{className:"w-[100px] text-right",children:"Total"}),H.jsx(on,{className:"w-[50px]"})]})}),H.jsx(an,{children:0===b.length?H.jsx(nn,{children:H.jsx(sn,{colSpan:8,className:"h-24 text-center text-gray-400 italic",children:"Busque y agregue productos arriba para comenzar"})}):b.map(e=>H.jsxs(nn,{children:[H.jsx(sn,{className:"font-mono text-xs",children:e.codigo}),H.jsx(sn,{className:"text-sm",children:e.descripcion}),H.jsx(sn,{className:"text-xs text-gray-500",children:e.planName||"N/A"}),H.jsx(sn,{children:e.unidadesPosibles&&e.unidadesPosibles.length>1?H.jsx("select",{className:"h-8 text-xs border border-gray-300 rounded p-1 w-full",value:e.unidad,onChange:t=>k(e.id,"unidad",t.target.value),children:e.unidadesPosibles.map(e=>H.jsx("option",{value:e.unidad,children:e.unidad},e.unidad))}):H.jsx("span",{className:"text-xs",children:e.unidad})}),H.jsx(sn,{className:"text-right text-xs text-gray-500",children:e.equivalente}),H.jsx(sn,{children:H.jsx(en,{type:"number",className:"h-8 text-right text-xs",value:isNaN(e.cantidad)?"":e.cantidad,onChange:t=>{const r=parseFloat(t.target.value);k(e.id,"cantidad",isNaN(r)?0:r)}})}),H.jsx(sn,{className:"text-right text-xs font-semibold text-gray-600 bg-gray-50/50",children:((isNaN(e.cantidad)?0:e.cantidad)*(e.equivalente||1)).toLocaleString(void 0,{maximumFractionDigits:4})}),H.jsx(sn,{children:H.jsx(en,{type:"number",className:"h-8 text-right text-xs bg-gray-50",value:isNaN(e.costo)?"":e.costo,onChange:t=>{const r=parseFloat(t.target.value);k(e.id,"costo",isNaN(r)?0:r)}})}),H.jsx(sn,{className:"text-right text-xs font-medium",children:(e.cantidad*e.costo).toLocaleString(void 0,{minimumFractionDigits:2})}),H.jsx(sn,{children:H.jsx(Za,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-red-500 hover:bg-red-50",onClick:()=>{return t=e.id,void v(b.filter(e=>e.id!==t));var t},children:H.jsx(Ta,{size:14})})})]},e.id))})]})}),H.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-100 flex justify-end",children:H.jsxs("div",{className:"text-sm font-semibold text-gray-700",children:["Total Valor Ajuste: ",H.jsxs("span",{className:"text-lg ml-2 text-hd-orange",children:["DOP ",C.toLocaleString(void 0,{minimumFractionDigits:2})]})]})})]})]})]})},Ro=e=>H.jsx(Mo,{children:H.jsx(zo,{...e})}),_o="http://localhost:5006/api",Lo=()=>{const e=it(),[t,r]=W.useState(!0),[a,n]=W.useState([]),[o,i]=W.useState("");W.useEffect(()=>{(async()=>{try{r(!0);const e=await fetch(`${_o}/Transferencias`);if(!e.ok)throw new Error("Error loading transfers");const t=await e.json();n(t)}catch(e){console.error(e)}finally{r(!1)}})()},[]);const s=a.filter(e=>{const t=e.numeroTransferencia||e.NumeroTransferencia||"",r=e.almacenOrigen||e.AlmacenOrigen||"",a=e.almacenDestino||e.AlmacenDestino||"",n=o.toLowerCase();return t.toLowerCase().includes(n)||r.toLowerCase().includes(n)||a.toLowerCase().includes(n)});return H.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[H.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[H.jsxs("div",{children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:"Transferencias de Inventario"}),H.jsx("p",{className:"text-sm text-gray-500",children:"Gestione y rastree el movimiento de artculos entre ubicaciones."})]}),H.jsxs(Za,{onClick:()=>e("/transferencias/nuevo"),className:"bg-hd-orange hover:bg-orange-600 shadow-md",children:[H.jsx(xa,{className:"mr-2 h-4 w-4"})," Nueva Transferencia"]})]}),H.jsxs(ln,{className:"border-none shadow-lg overflow-hidden",children:[H.jsxs(cn,{className:"flex flex-row items-center justify-between space-y-0 pb-4 bg-gray-50/50",children:[H.jsx(dn,{className:"text-lg font-bold",children:"Historial de Movimientos"}),H.jsxs("div",{className:"relative w-72",children:[H.jsx(ja,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),H.jsx(en,{placeholder:"Buscar por No. u Almacn...",className:"pl-10 h-10 border-gray-200 focus:border-hd-orange",value:o,onChange:e=>i(e.target.value)})]})]}),H.jsx("div",{className:"p-0",children:H.jsxs(tn,{children:[H.jsx(rn,{className:"bg-gray-100/50",children:H.jsxs(nn,{children:[H.jsx(on,{className:"w-[140px] font-bold",children:"No. Documento"}),H.jsx(on,{className:"w-[120px] font-bold",children:"Fecha"}),H.jsx(on,{className:"font-bold",children:"Origen"}),H.jsx(on,{className:"font-bold",children:"Destino"}),H.jsx(on,{className:"w-[120px] text-center font-bold",children:"Estado"}),H.jsx(on,{className:"w-[100px] text-right font-bold",children:"Acciones"})]})}),H.jsx(an,{children:t?H.jsx(nn,{children:H.jsx(sn,{colSpan:6,className:"text-center py-20 text-gray-400",children:"Cargando transferencias..."})}):0===s.length?H.jsx(nn,{children:H.jsx(sn,{colSpan:6,className:"text-center py-20 text-gray-500",children:"No se encontraron transferencias que coincidan con la bsqueda."})}):s.map(t=>H.jsxs(nn,{className:"hover:bg-gray-50 transition-colors",children:[H.jsx(sn,{className:"font-mono text-xs font-bold text-hd-orange",children:t.numeroTransferencia||t.NumeroTransferencia}),H.jsx(sn,{className:"text-xs",children:new Date(t.fecha||t.Fecha).toLocaleDateString("es-DO")}),H.jsx(sn,{children:H.jsxs("div",{className:"flex items-center text-xs",children:[H.jsx("div",{className:"h-2 w-2 rounded-full bg-red-400 mr-2"}),t.almacenOrigen||t.AlmacenOrigen]})}),H.jsx(sn,{children:H.jsxs("div",{className:"flex items-center text-xs",children:[H.jsx("div",{className:"h-2 w-2 rounded-full bg-green-400 mr-2"}),t.almacenDestino||t.AlmacenDestino]})}),H.jsx(sn,{className:"text-center",children:H.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-[10px] font-bold bg-blue-100 text-blue-800 uppercase tracking-tighter",children:t.estado||t.Estado})}),H.jsx(sn,{className:"text-right",children:H.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[H.jsx(Za,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 hover:bg-orange-50 hover:text-hd-orange transition-colors",title:"Ver detalles",onClick:()=>e(`/transferencias/editar/${t.id||t.Id}`),children:H.jsx(Fr,{size:20})}),H.jsx(Za,{variant:"ghost",size:"sm",className:"h-9 w-9 p-0 hover:bg-red-50 hover:text-red-500 transition-colors",title:"Eliminar",onClick:e=>{e.stopPropagation(),(async e=>{if(window.confirm("Est seguro que desea eliminar esta transferencia? Esta accin no se puede deshacer."))try{(await fetch(`${_o}/Transferencias/${e}`,{method:"DELETE"})).ok?n(t=>t.filter(t=>(t.id||t.Id)!==e)):alert("Error al eliminar la transferencia")}catch(t){console.error(t),alert("Error de conexin al eliminar")}})(t.id||t.Id)},children:H.jsx(Ta,{size:20})})]})})]},t.id||t.Id))})]})})]})]})},$o=({isOpen:e,onClose:t,onSelect:r,clientContext:a})=>{const[n,o]=W.useState(""),[i,s]=W.useState([]),[l,c]=W.useState(!1),[d,u]=W.useState(0),p=W.useRef(null),h=W.useRef(null);W.useEffect(()=>{e&&(m(),o(""),u(0),setTimeout(()=>{var e;return null===(e=p.current)||void 0===e?void 0:e.focus()},100))},[e]);const m=async()=>{try{c(!0);const e=await Pn(),t=[],r=(null==a?void 0:a.moneda)||"DOP";e.forEach(e=>{let a=!1;e.preciosList&&e.preciosList.length>0&&e.preciosList.forEach(n=>{const o=(n.moneda||"DOP").trim().toUpperCase(),i=(r||"DOP").trim().toUpperCase();n.activo&&o===i&&(t.push({...e,uniqueKey:`${e.id||e.Id}-lvl-${n.id||n.nivelPrecio}`,isVariant:!0,displayLevel:n.nivelPrecio,displayUnit:n.unidadMedida,displayPrice:n.precio,variantInfo:n}),a=!0)}),a||t.push({...e,uniqueKey:`${e.id||e.Id}-base`,isVariant:!1,displayLevel:"General",displayUnit:e.unidadMedida||"UND",displayPrice:e.precioVenta||e.precioUnitario||0,variantInfo:null})}),s(t)}catch(e){console.error("Error loading articles:",e)}finally{c(!1)}},g=W.useMemo(()=>{const e=n.toLowerCase();let t=[];return t=e?i.filter(t=>{const r=t.descripcion||t.Descripcion||"",a=t.numeroArticulo||t.NumeroArticulo||"",n=t.displayLevel||"",o=t.displayUnit||"";return r.toLowerCase().includes(e)||a.toLowerCase().includes(e)||n.toLowerCase().includes(e)||o.toLowerCase().includes(e)}).slice(0,100):i.slice(0,50),null!=a&&a.nivelPrecio&&t.sort((e,t)=>{const r=e.displayLevel===a.nivelPrecio,n=t.displayLevel===a.nivelPrecio;return r&&!n?-1:!r&&n?1:0}),t},[i,n,a]);W.useEffect(()=>{u(0)},[g]),W.useEffect(()=>{const a=a=>{if(e)if("ArrowDown"===a.key)a.preventDefault(),u(e=>Math.min(e+1,g.length-1));else if("ArrowUp"===a.key)a.preventDefault(),u(e=>Math.max(e-1,0));else if("Enter"===a.key){if(a.preventDefault(),g[d]){const e=g[d];r({...e,precio:e.displayPrice,precioVenta:e.displayPrice,unidad:e.displayUnit,unidadMedida:e.displayUnit,nivelPrecioApplied:e.displayLevel}),t()}}else"Escape"===a.key&&t()};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[e,g,d,r,t]),W.useEffect(()=>{if(h.current){const e=h.current.children[d];e&&e.scrollIntoView({block:"nearest"})}},[d]);return H.jsx(Rn,{open:e,onOpenChange:t,children:H.jsxs(_n,{className:"max-w-5xl p-0 overflow-hidden border-0 shadow-2xl bg-white rounded-xl h-[85vh] flex flex-col",children:[H.jsxs("div",{className:"bg-white border-b border-gray-200 p-4 flex flex-col gap-4 shrink-0",children:[H.jsxs("div",{className:"flex justify-between items-center",children:[H.jsxs("div",{children:[H.jsx("h2",{className:"text-lg font-semibold text-gray-800 tracking-tight",children:"Buscar Productos"}),H.jsx("p",{className:"text-xs text-gray-500",children:null!=a&&a.moneda?`Lista de Precios: ${a.moneda}`:"Lista de Precios: DOP"})]}),H.jsx(Za,{variant:"ghost",size:"icon",onClick:t,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full h-8 w-8",children:H.jsx(Ha,{size:20})})]}),H.jsxs("div",{className:"relative group",children:[H.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:H.jsx(ja,{className:"h-4 w-4 text-gray-400 group-focus-within:text-blue-700"})}),H.jsx(en,{ref:p,className:"w-full pl-9 pr-4 h-9 bg-white text-sm rounded-sm border border-gray-300 focus:border-blue-700 focus:ring-0 focus:outline-none placeholder:text-gray-400 transition-colors",placeholder:"Buscar por cdigo, descripcin, unidad o nivel...",value:n,onChange:e=>o(e.target.value)})]})]}),H.jsxs("div",{className:"flex-1 overflow-y-auto bg-gray-50 pt-2 pb-2",style:{scrollBehavior:"smooth"},children:[H.jsxs("div",{className:"grid grid-cols-12 gap-4 px-6 py-2 text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-gray-200 bg-gray-50/95 sticky top-0 z-10 backdrop-blur-sm",children:[H.jsx("div",{className:"col-span-2",children:"Cdigo"}),H.jsx("div",{className:"col-span-4",children:"Descripcin"}),H.jsx("div",{className:"col-span-2",children:"Nivel Precio"}),H.jsx("div",{className:"col-span-1",children:"Unidad"}),H.jsx("div",{className:"col-span-2 text-right",children:"Existencia"}),H.jsx("div",{className:"col-span-1 text-right",children:"Precio"})]}),H.jsxs("div",{ref:h,className:"px-2",children:[l&&H.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400 animate-pulse",children:[H.jsx("div",{className:"p-4 bg-gray-200 rounded-full mb-4"}),H.jsx("div",{className:"h-4 w-48 bg-gray-200 rounded"})]}),!l&&0===g.length&&H.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400",children:[H.jsx(ca,{size:64,className:"mb-4 text-gray-300"}),H.jsx("p",{className:"text-lg font-medium text-gray-500",children:"No se encontraron productos"}),H.jsx("p",{className:"text-sm",children:"Verifique los filtros o el trmino de bsqueda"})]}),g.map((e,n)=>{const o=n===d,i=void 0!==e.stockActual?e.stockActual:void 0!==e.StockActual?e.StockActual:0,s=e.displayPrice||0,l=e.displayLevel||"General",c=e.displayUnit||"UND",u=(null==a?void 0:a.nivelPrecio)&&l===a.nivelPrecio;return H.jsxs("div",{onClick:()=>{r({...e,precio:s,precioVenta:s,unidad:c,unidadMedida:c,nivelPrecioApplied:l}),t()},className:`\n                                        group grid grid-cols-12 gap-4 px-4 py-3 mb-1 rounded-lg cursor-pointer transition-all duration-150 border items-center\n                                        ${o?"bg-blue-50 border-blue-200 border-l-4 border-l-blue-600 shadow-sm z-10":"bg-white border-transparent border-l-4 border-l-transparent hover:border-gray-300 hover:shadow-sm"}\n                                        ${u&&!o?"bg-blue-50 border-blue-200":""}\n                                    `,children:[H.jsx("div",{className:"col-span-2 font-mono text-xs font-bold "+(o?"text-blue-800":"text-gray-900"),children:e.numeroArticulo||e.NumeroArticulo}),H.jsxs("div",{className:"col-span-4 flex flex-col justify-center",children:[H.jsx("div",{className:"text-sm font-bold truncate "+(o?"text-gray-900":"text-gray-800"),children:e.descripcion||e.Descripcion}),H.jsx("div",{className:"text-xs truncate flex items-center gap-2 "+(o?"text-blue-600":"text-gray-400"),children:(e.marca||e.Marca)&&H.jsxs("span",{className:"flex items-center gap-1",children:[H.jsx(Ia,{size:10})," ",e.marca||e.Marca]})})]}),H.jsx("div",{className:"col-span-2",children:H.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase border\n                                            ${o?"bg-blue-100 text-blue-800 border-blue-200":u?"bg-blue-100 text-blue-700 border-blue-200":"bg-gray-100 text-gray-600 border-gray-200"}\n                                        `,children:l})}),H.jsx("div",{className:"col-span-1",children:H.jsx("span",{className:"text-xs font-bold "+(o?"text-gray-800":"text-gray-700"),children:c})}),H.jsx("div",{className:"col-span-2 text-right",children:H.jsx("span",{className:`\n                                            inline-flex items-center px-2.5 py-1 rounded-full text-xs font-bold border\n                                            ${o?"bg-white text-gray-800 border-transparent shadow-sm":(p=i,p>10?"text-green-600 bg-green-50 border-green-100":p>0?"text-orange-600 bg-orange-50 border-orange-100":"text-red-600 bg-red-50 border-red-100")}\n                                        `,children:i})}),H.jsxs("div",{className:"col-span-1 text-right font-black text-sm text-gray-900",children:["$",Number(s).toFixed(2)]})]},e.uniqueKey||n);var p})]})]}),H.jsxs("div",{className:"bg-gray-100 p-2 text-center text-xs text-gray-400 border-t border-gray-200",children:["Mostrando ",g.length," opciones"]})]})})},Uo="http://localhost:5006/api/TransferenciaConfiguration",Bo=async()=>{try{const e=await fetch(Uo);if(!e.ok)throw new Error("Error fetching config");return await e.json()}catch(e){throw console.error("Error fetching transfer config:",e),e}},Vo=async e=>{try{const t=await fetch(Uo,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Error updating config");return await t.json()}catch(t){throw console.error("Error updating transfer config:",t),t}},Go="http://localhost:5006/api",qo=({title:e,children:t,defaultExpanded:r=!0})=>{const[a,n]=W.useState(r);return H.jsxs("div",{className:"border border-gray-200 bg-white rounded-sm mb-4 shadow-sm overflow-hidden",children:[H.jsxs("button",{onClick:()=>n(!a),className:"w-full flex items-center px-4 py-3 bg-gray-50 hover:bg-gray-100 transition-colors border-b border-gray-100",children:[a?H.jsx(wr,{size:16,className:"text-gray-500 mr-2"}):H.jsx(Cr,{size:16,className:"text-gray-500 mr-2"}),H.jsx("span",{className:"font-semibold text-sm text-gray-700 uppercase tracking-wide",children:e})]}),a&&H.jsx("div",{className:"p-6 bg-white",children:H.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-4",children:t})})]})},Ho=({label:e,children:t,required:r=!1})=>H.jsxs("div",{className:"flex flex-col space-y-1",children:[H.jsxs("label",{className:"text-xs font-semibold text-gray-500 truncate flex items-center",children:[e,r&&H.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),t]}),Wo=()=>{const e=it(),{id:t}=lt(),r=!!t,[a,n]=W.useState(!1),[o,i]=W.useState([]),[s,l]=W.useState([]),[c,d]=W.useState([]),[u,p]=W.useState(""),[h,m]=W.useState(""),[g,x]=W.useState(!1),[f,b]=W.useState({numeroTransferencia:"(Auto)",fecha:(new Date).toISOString().split("T")[0],almacenOrigenId:"",almacenDestinoId:"",observaciones:""}),v=(e,t)=>{b(r=>({...r,[e]:t}))},y=(e,t,r)=>{l(a=>a.map((a,n)=>{if(n!==e)return a;const o={...a,[t]:r};if("planUoM"===t){const e=c.find(e=>e.planId===r);e&&e.detalles&&e.detalles.length>0?(o.unidadMedida=e.detalles[0].unidadMedida,o.cantidadUnidad=e.detalles[0].cantidad||1):(o.unidadMedida=a.unidadOriginal,o.cantidadUnidad=1)}if("unidadMedida"===t){const e=c.find(e=>e.planId===a.planUoM);if(e){var i;const t=null===(i=e.detalles)||void 0===i?void 0:i.find(e=>e.unidadMedida===r);o.cantidadUnidad=t&&t.cantidad||1}else o.cantidadUnidad=1}return o}))};return W.useEffect(()=>{(async()=>{try{const e=await An();i(e);try{const e=await Xn();d(e||[])}catch(Xd){console.error("Error loading UoM plans:",Xd)}try{const e=await Bo();e&&(e.defaultPlanId&&p(e.defaultPlanId),e.defaultUnit&&m(e.defaultUnit))}catch(Xd){console.error("Error loading config:",Xd)}e.length>0&&!t&&b(t=>({...t,almacenOrigenId:e[0].id,almacenDestinoId:e[1]?e[1].id:e[0].id}))}catch(e){console.error("Error loading warehouses:",e)}})()},[t]),W.useEffect(()=>{if(t){const e=async()=>{try{n(!0);const e=await fetch(`${Go}/Transferencias/${t}`);if(e.ok){const t=await e.json();console.log("API Response:",t);const r=t.Header||t.header||t.master||t,a=t.Items||t.items||t.detalles||[];0===a.length&&console.warn("No items found in response",t),b({numeroTransferencia:r.NumeroTransferencia||r.numeroTransferencia,fecha:(r.Fecha||r.fecha||"").split("T")[0],almacenOrigenId:r.AlmacenOrigenId||r.almacenOrigenId,almacenDestinoId:r.AlmacenDestinoId||r.almacenDestinoId,observaciones:r.Observaciones||r.observaciones||""}),l(a.map(e=>({articuloId:e.ArticuloId||e.articuloId,numeroArticulo:e.NumeroArticulo||e.numeroArticulo,descripcion:e.Descripcion||e.descripcion||e.ArticuloNombre,cantidad:e.Cantidad||e.cantidad,existencia:0,unidadMedida:e.UnidadMedida||e.unidadMedida||"UND",cantidadUnidad:e.CantidadUnidad||e.cantidadUnidad||1,planUoM:e.PlanUoM||e.planUoM||"",costoUnitario:e.CostoUnitario||e.costoUnitario})))}}catch(Xd){console.error(Xd),alert("Error cargando transferencia")}finally{n(!1)}};e()}},[t]),H.jsxs("div",{className:"flex flex-col h-full bg-gray-100 min-h-screen",children:[H.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-3 flex items-center justify-between sticky top-0 z-10 shadow-sm",children:[H.jsxs("div",{className:"flex items-center space-x-4",children:[H.jsx(Za,{variant:"ghost",size:"icon",onClick:()=>e("/transferencias"),className:"text-gray-500 hover:text-gray-800",children:H.jsx(ar,{className:"h-5 w-5"})}),H.jsx("div",{className:"flex flex-col",children:H.jsx("h1",{className:"text-xl font-bold text-gray-900 leading-tight",children:r?`Transferencia ${f.numeroTransferencia}`:"Orden de Transferencia"})})]}),H.jsxs("div",{className:"flex items-center space-x-2",children:[H.jsxs(Za,{variant:"outline",size:"sm",onClick:()=>e("/transferencias"),className:"border-gray-300 text-gray-700",children:[H.jsx(Ha,{className:"mr-2 h-4 w-4"})," Cancelar"]}),!r&&H.jsxs(Za,{size:"sm",onClick:async()=>{n(!0);try{const r={...f,almacenOrigenId:Number(f.almacenOrigenId),almacenDestinoId:Number(f.almacenDestinoId),items:s},a=t?"PUT":"POST";if(!(await fetch(`${Go}/Transferencias${t?"/"+t:""}`,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok)throw new Error("Failed to save transferencia");e("/transferencias")}catch(Xd){console.error(Xd),alert("Error al guardar la transferencia")}finally{n(!1)}},disabled:a,className:"bg-hd-orange hover:bg-orange-600 text-white shadow-sm border border-transparent",children:[a?H.jsx(Zr,{className:"mr-2 h-4 w-4 animate-spin"}):H.jsx(wa,{className:"mr-2 h-4 w-4"}),"Registrar Envo"]})]})]}),H.jsxs("div",{className:"flex-1 overflow-auto p-6 max-w-7xl mx-auto w-full",children:[H.jsxs(qo,{title:"General",children:[H.jsx(Ho,{label:"No. Transferencia",children:H.jsx(en,{value:f.numeroTransferencia,disabled:!0,className:"bg-gray-50 border-gray-200"})}),H.jsx(Ho,{label:"Fecha Envo",required:!0,children:H.jsx(en,{type:"date",className:"font-medium",value:f.fecha,onChange:e=>v("fecha",e.target.value)})}),H.jsx(Ho,{label:"Estado",children:H.jsx("div",{className:"inline-flex items-center px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-bold uppercase",children:"Borrador"})}),H.jsx("div",{className:"col-span-1 md:col-span-3 h-px bg-gray-100 my-2"}),H.jsxs("div",{className:"flex items-end space-x-4 col-span-1 md:col-span-2",children:[H.jsx("div",{className:"flex-1",children:H.jsx(Ho,{label:"Almacn Origen",required:!0,children:H.jsxs("select",{className:"flex h-9 w-full rounded-md border border-gray-300 bg-white px-3 py-1 text-sm shadow-sm focus:outline-none focus:ring-1 focus:ring-hd-orange focus:border-hd-orange",value:f.almacenOrigenId,onChange:e=>v("almacenOrigenId",e.target.value),children:[H.jsx("option",{value:"",children:"Seleccione Origen"}),o.map(e=>H.jsx("option",{value:e.id,children:e.nombre},e.id))]})})}),H.jsx("div",{className:"pb-2 text-gray-400",children:H.jsx(or,{size:20})}),H.jsx("div",{className:"flex-1",children:H.jsx(Ho,{label:"Almacn Destino",required:!0,children:H.jsxs("select",{className:"flex h-9 w-full rounded-md border border-gray-300 bg-white px-3 py-1 text-sm shadow-sm focus:outline-none focus:ring-1 focus:ring-hd-orange focus:border-hd-orange",value:f.almacenDestinoId,onChange:e=>v("almacenDestinoId",e.target.value),children:[H.jsx("option",{value:"",children:"Seleccione Destino"}),o.map(e=>H.jsx("option",{value:e.id,children:e.nombre},e.id))]})})})]}),H.jsx(Ho,{label:"Referencia / Chofer",children:H.jsx(en,{placeholder:"Ej. Envo camin placa...",value:f.observaciones,onChange:e=>v("observaciones",e.target.value)})})]}),H.jsxs("div",{className:"border border-gray-200 bg-white rounded-sm mb-4 shadow-sm overflow-hidden flex flex-col",children:[H.jsxs("div",{className:"w-full flex items-center justify-between px-4 py-3 bg-gray-50 border-b border-gray-100",children:[H.jsx("span",{className:"font-semibold text-sm text-gray-700 uppercase tracking-wide",children:"Artculos a Transferir"}),H.jsxs(Za,{size:"sm",variant:"ghost",onClick:()=>x(!0),className:"text-hd-orange hover:text-orange-700 hover:bg-orange-50",children:[H.jsx(xa,{size:16,className:"mr-1"})," Agregar Lnea (F2)"]})]}),H.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:H.jsxs(tn,{children:[H.jsx(rn,{className:"bg-gray-50",children:H.jsxs(nn,{children:[H.jsx(on,{className:"w-[150px]",children:"Cdigo"}),H.jsx(on,{className:"",children:"Descripcin"}),H.jsx(on,{className:"w-[120px]",children:"Plan"}),H.jsx(on,{className:"w-[100px]",children:"Unidad"}),H.jsx(on,{className:"w-[100px] text-right",children:"Cant. Unid."}),H.jsx(on,{className:"w-[120px] text-right",children:"Existencia"}),H.jsx(on,{className:"w-[120px] text-right",children:"Cantidad"}),H.jsx(on,{className:"w-[120px] text-right",children:"Total"}),H.jsx(on,{className:"w-[50px]"})]})}),H.jsx(an,{children:0===s.length?H.jsx(nn,{children:H.jsx(sn,{colSpan:8,className:"text-center py-20 text-gray-500 italic",children:'No hay artculos en esta transferencia. Haga clic en "Agregar Lnea" para comenzar.'})}):s.map((e,t)=>{var r;return H.jsxs(nn,{children:[H.jsx(sn,{className:"font-mono text-xs",children:e.numeroArticulo}),H.jsx(sn,{className:"text-xs",children:e.descripcion}),H.jsx(sn,{className:"text-xs",children:H.jsxs("select",{className:"w-full text-xs border rounded p-1",value:e.planUoM||"",onChange:e=>y(t,"planUoM",e.target.value),children:[H.jsx("option",{value:"",children:"(Sin Plan)"}),c.map(e=>H.jsx("option",{value:e.planId,children:e.descripcion||e.planId},e.planId))]})}),H.jsx(sn,{className:"text-xs",children:H.jsxs("select",{className:"w-full text-xs border rounded p-1",value:e.unidadMedida,onChange:e=>y(t,"unidadMedida",e.target.value),children:[H.jsx("option",{value:e.unidadOriginal,children:e.unidadOriginal}),null===(r=c.find(t=>t.planId===e.planUoM))||void 0===r||null===(r=r.detalles)||void 0===r||null===(r=r.filter(t=>t.unidadMedida!==e.unidadOriginal))||void 0===r?void 0:r.map(e=>H.jsx("option",{value:e.unidadMedida,children:e.unidadMedida},e.unidadMedida))]})}),H.jsx(sn,{className:"text-xs text-right",children:H.jsx(en,{type:"number",className:"h-8 text-right text-xs bg-gray-100 text-gray-500",value:e.cantidadUnidad||1,disabled:!0})}),H.jsx(sn,{className:"text-xs text-right font-medium "+(e.existencia<=0?"text-red-500":"text-blue-600"),children:void 0!==e.existencia?e.existencia.toLocaleString():"-"}),H.jsx(sn,{children:H.jsx(en,{type:"number",className:"h-8 text-right text-xs",value:e.cantidad||"",min:"0.0001",onChange:e=>{const r=parseFloat(e.target.value);y(t,"cantidad",isNaN(r)?0:r)}})}),H.jsx(sn,{className:"text-xs text-right font-bold text-gray-800",children:((e.cantidad||0)*(e.cantidadUnidad||1)).toLocaleString()}),H.jsx(sn,{children:H.jsx(Za,{variant:"ghost",size:"sm",onClick:()=>(e=>{l(t=>t.filter((t,r)=>r!==e))})(t),className:"h-9 w-9 p-0 text-red-500 hover:bg-red-50",children:H.jsx(Ta,{size:20})})})]},t)})})]})})]})]}),H.jsx($o,{isOpen:g,onClose:()=>x(!1),onSelect:async e=>{if(f.almacenOrigenId)try{const t=await(async(e,t)=>{const r=t?`?almacenId=${t}`:"",a=await fetch(`${Sn}/Articulos/${e}/Stock${r}`);if(!a.ok)throw new Error("Failed to load stock");return a.json()})(e.id,Number(f.almacenOrigenId)),r=void 0!==t.stock?t.stock:void 0!==t.Stock?t.Stock:0;if(r<=0)return void alert(`El artculo "${e.descripcion}" no tiene existencia en el almacn de origen.`);const a={articuloId:e.id,numeroArticulo:e.numeroArticulo||e.NumeroArticulo||"",descripcion:e.descripcion||e.Descripcion||"",unidadMedida:e.unidadMedida||e.UnidadMedida||"UND",cantidad:0,existencia:r,unidadOriginal:e.unidadMedida||e.UnidadMedida||"UND",costoUnitario:e.costoUnitario||e.CostoUnitario||0,planUoM:"",cantidadUnidad:1},n=u||e.planUoM||e.PlanUoM||"";a.planUoM=n;let o=!1;if(n){const e=c.find(e=>e.planId===n);if(e&&e.detalles){if(h){const t=h.trim().toUpperCase(),r=e.detalles.find(e=>(e.unidadMedida||"").trim().toUpperCase()===t);r&&(a.unidadMedida=r.unidadMedida,a.cantidadUnidad=r.cantidad||1,o=!0)}!o&&e.detalles.length>0&&(a.unidadMedida=e.detalles[0].unidadMedida,a.cantidadUnidad=e.detalles[0].cantidad||1,o=!0)}}if(!o&&h){const e=h.trim().toUpperCase(),t=(a.unidadOriginal||"").trim().toUpperCase();t!==e&&""!==t||(a.unidadMedida=a.unidadOriginal,a.cantidadUnidad=1,o=!0)}l(e=>[...e,a]),x(!1)}catch(t){console.error("Error al validar stock:",t),alert("Error al verificar la existencia del artculo. Intente nuevamente.")}else alert("Debe seleccionar el Almacn Origen antes de agregar artculos.")}})]})},Ko=()=>{const e=it(),[t,r]=W.useState(""),[a,n]=W.useState([]),[o,i]=W.useState(!0);W.useEffect(()=>{s()},[]);const s=async()=>{try{const e=await fetch("http://localhost:5006/api/Sellers");if(e.ok){const t=await e.json();n(t)}else console.error("Failed to fetch sellers")}catch(e){console.error("Error fetching sellers:",e)}finally{i(!1)}},l=a.filter(e=>e.name.toLowerCase().includes(t.toLowerCase())||e.code.toLowerCase().includes(t.toLowerCase()));return H.jsxs("div",{className:"space-y-6",children:[H.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[H.jsxs("div",{children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:"Vendedores"}),H.jsx("p",{className:"text-sm text-gray-500",children:"Gestin del equipo de ventas"})]}),H.jsx("div",{className:"flex gap-2",children:H.jsxs(Za,{onClick:()=>e("/vendedores/nuevo"),className:"bg-hd-orange hover:bg-orange-600 text-white shadow-md",children:[H.jsx(xa,{className:"mr-2 h-4 w-4"})," Nuevo Vendedor"]})})]}),H.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[H.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50 flex gap-4",children:H.jsxs("div",{className:"relative flex-1 max-w-md",children:[H.jsx(ja,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),H.jsx(en,{placeholder:"Buscar por nombre o cdigo...",className:"pl-9 bg-white",value:t,onChange:e=>r(e.target.value)})]})}),H.jsx("div",{className:"overflow-x-auto",children:H.jsxs(tn,{children:[H.jsx(rn,{className:"bg-gray-100/80",children:H.jsxs(nn,{children:[H.jsx(on,{className:"w-[100px] font-semibold text-gray-700",children:"Cdigo"}),H.jsx(on,{className:"font-semibold text-gray-700",children:"Nombre"}),H.jsx(on,{className:"font-semibold text-gray-700",children:"Telfono"}),H.jsx(on,{className:"font-semibold text-gray-700",children:"Email"}),H.jsx(on,{className:"font-semibold text-gray-700",children:"Estado"}),H.jsx(on,{className:"text-right font-semibold text-gray-700",children:"Acciones"})]})}),H.jsx(an,{children:o?H.jsx(nn,{children:H.jsx(sn,{colSpan:6,className:"text-center py-8 text-gray-500",children:"Cargando vendedores..."})}):0===l.length?H.jsx(nn,{children:H.jsx(sn,{colSpan:6,className:"text-center py-8 text-gray-500",children:"No se encontraron vendedores"})}):l.map(t=>H.jsxs(nn,{className:"hover:bg-gray-50 transition-colors",children:[H.jsx(sn,{className:"font-medium text-gray-900",children:t.code}),H.jsx(sn,{className:"font-medium text-gray-800",children:t.name}),H.jsx(sn,{className:"text-gray-600 text-sm",children:t.phone}),H.jsx(sn,{className:"text-gray-600 text-sm",children:t.email}),H.jsx(sn,{children:H.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+("Active"===t.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:"Active"===t.status?"Activo":"Inactivo"})}),H.jsx(sn,{className:"text-right",children:H.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[H.jsx(Za,{variant:"ghost",size:"icon",onClick:()=>e(`/vendedores/editar/${t.id}`),className:"h-10 w-10 p-2 rounded-full text-blue-600 hover:text-blue-800 hover:bg-blue-100 transition-all border border-transparent hover:border-blue-200 shadow-sm",title:"Editar",children:H.jsx(ua,{className:"h-6 w-6 stroke-[1.5]"})}),H.jsx(Za,{variant:"ghost",size:"icon",onClick:()=>(async e=>{if(window.confirm("Est seguro de eliminar este vendedor?"))try{(await fetch(`http://localhost:5006/api/Sellers/${e}`,{method:"DELETE"})).ok?s():alert("Error al eliminar")}catch(t){console.error("Error deleting seller:",t)}})(t.id),className:"h-10 w-10 p-2 rounded-full text-red-600 hover:text-red-800 hover:bg-red-100 transition-all border border-transparent hover:border-red-200 shadow-sm",title:"Eliminar",children:H.jsx(Ta,{className:"h-6 w-6 stroke-[1.5]"})})]})})]},t.id))})]})})]})]})},Jo=()=>{const e=it(),{id:t}=lt(),[r,a]=W.useState(""),[n,o]=W.useState({code:"",name:"",phone:"",email:"",status:"Active"});W.useEffect(()=>{t&&(async e=>{try{const t=await fetch(`http://localhost:5006/api/Sellers/${e}`);if(t.ok){const e=await t.json();o(e)}else alert("No se pudo cargar el vendedor")}catch(t){console.error("Error:",t)}})(t)},[t]);const i=e=>{const{name:t,value:r}=e.target;o(e=>({...e,[t]:r}))};return H.jsxs("div",{className:"flex flex-col h-full bg-gray-100 min-h-screen",children:[H.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-3 flex items-center justify-between sticky top-0 z-10 shadow-sm",children:[H.jsxs("div",{className:"flex items-center space-x-4",children:[H.jsx(Za,{variant:"ghost",size:"icon",onClick:()=>e("/vendedores"),className:"text-gray-500 hover:text-gray-800",children:H.jsx(ar,{className:"h-5 w-5"})}),H.jsxs("div",{className:"flex flex-col",children:[H.jsxs("div",{className:"flex items-center space-x-2",children:[H.jsx("span",{className:"text-sm text-gray-500 font-medium",children:"Vendedores"}),H.jsx("span",{className:"text-gray-400 text-xs",children:"/"}),H.jsx("span",{className:"text-sm text-gray-800 font-bold",children:t?"Editar Vendedor":"Nuevo Vendedor"})]}),H.jsx("h1",{className:"text-xl font-bold text-gray-900 leading-tight",children:"Tarjeta de Vendedor"})]})]}),H.jsxs("div",{className:"flex items-center space-x-4",children:[r&&H.jsx("span",{className:"text-lg font-bold text-blue-400 animate-pulse",children:r}),H.jsxs("div",{className:"flex items-center space-x-2",children:[H.jsxs(Za,{variant:"outline",size:"sm",onClick:()=>e("/vendedores"),children:[H.jsx(Ha,{className:"mr-2 h-4 w-4"})," Cancelar"]}),H.jsxs(Za,{size:"sm",onClick:async()=>{try{if(!n.name)return void alert("El nombre es obligatorio");const e=t?"PUT":"POST",r=t?`http://localhost:5006/api/Sellers/${t}`:"http://localhost:5006/api/Sellers",o={...n,code:n.code||`V${Math.floor(1e3*Math.random())}`};(await fetch(r,{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).ok?a(t?"Vendedor actualizado correctamente.":"Vendedor registrado correctamente."):alert("Error al guardar")}catch(e){console.error("Error:",e),alert("Error de conexin")}},className:"bg-hd-orange hover:bg-orange-600 text-white",children:[H.jsx(wa,{className:"mr-2 h-4 w-4"})," Guardar"]})]})]})]}),H.jsx("div",{className:"flex-1 overflow-auto p-6 max-w-4xl mx-auto w-full",children:H.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 space-y-6",children:[H.jsxs("div",{className:"space-y-1",children:[H.jsx("label",{className:"text-xs font-semibold text-gray-500",children:"Cdigo"}),H.jsx(en,{name:"code",value:n.code,onChange:i,placeholder:"(Auto)",className:"bg-gray-50"})]}),H.jsxs("div",{className:"space-y-1",children:[H.jsx("label",{className:"text-xs font-semibold text-gray-500",children:"Nombre *"}),H.jsx(en,{name:"name",value:n.name,onChange:i,placeholder:"Nombre completo"})]}),H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[H.jsxs("div",{className:"space-y-1",children:[H.jsx("label",{className:"text-xs font-semibold text-gray-500",children:"Telfono"}),H.jsx(en,{name:"phone",value:n.phone,onChange:i,placeholder:"(809) 000-0000"})]}),H.jsxs("div",{className:"space-y-1",children:[H.jsx("label",{className:"text-xs font-semibold text-gray-500",children:"Email"}),H.jsx(en,{name:"email",value:n.email,onChange:i,placeholder:"vendedor@empresa.com"})]})]}),H.jsxs("div",{className:"space-y-1",children:[H.jsx("label",{className:"text-xs font-semibold text-gray-500",children:"Estado"}),H.jsxs("select",{name:"status",value:n.status,onChange:i,className:"flex h-9 w-full rounded-md border border-gray-300 bg-white px-3 py-1 text-sm shadow-sm focus:outline-none focus:ring-1 focus:ring-hd-orange",children:[H.jsx("option",{value:"Active",children:"Activo"}),H.jsx("option",{value:"Inactive",children:"Inactivo"})]})]})]})})]})},Yo="http://localhost:5006/api",Xo="/Promotions",Qo=async e=>{const t=await fetch(`${Yo}${Xo}/Calculate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to calculate promotions");return t.json()},Zo="http://localhost:5006/api",ei=e=>new Intl.NumberFormat("es-DO",{style:"currency",currency:"DOP"}).format(e),ti=K.forwardRef(({template:e,data:t},r)=>{if(!e||!t)return null;const a=e.config&&"object"==typeof e.config?e.config:"string"==typeof e.configuracionJSON?JSON.parse(e.configuracionJSON):null;if(!a)return null;const n=80===(a.width||80)?"302px":"219px",o=e=>e?e.split(".").reduce((e,t)=>e&&void 0!==e[t]?e[t]:void 0,t):"",i=(e,r)=>{const a={textAlign:e.alignment||"left",fontSize:`${e.fontSize||10}px`,fontWeight:e.bold?"bold":"normal",marginTop:`${e.marginTop||0}px`,marginBottom:`${e.marginBottom||0}px`,fontFamily:"monospace",whiteSpace:"pre-wrap",lineHeight:"1.2"};if("line"===e.type){const t="double"===e.style?"double":"dashed"===e.style?"dashed":"solid",a="double"===e.style?"3px":"1px";return H.jsx("div",{style:{borderTop:`${a} ${t} black`,margin:"5px 0"}},r)}if("space"===e.type)return H.jsx("div",{style:{height:`${e.height||10}px`}},r);if("image"===e.type&&e.source){const t=o(e.source);return t?H.jsx("div",{style:{textAlign:e.alignment||"center",marginBottom:a.marginBottom},children:H.jsx("img",{src:t,alt:"logo",style:{maxHeight:`${e.height||60}px`,maxWidth:"100%"}})},r):null}if("table"===e.type){const n=t.items||t.receipt&&t.receipt.items||[],o=(e.columns||[{label:"Desc",field:"description",width:40,active:!0},{label:"Cant",field:"quantity",width:20,active:!0},{label:"Precio",field:"price",width:20,active:!0,format:"currency"},{label:"Total",field:"total",width:20,active:!0,format:"currency"}]).filter(e=>!1!==e.active),i=e.rowLayout||[{type:"columns"}],s=e.headerBorder||"dashed",l="none"===s?"none":`1px ${s} black`,c=(e,t)=>e?e.replace(/{(\w+)}/g,(e,r)=>{let a=t[r];return void 0===a?"":"number"!=typeof a||"price"!==r&&"total"!==r&&"tax"!==r&&"discount"!==r?a:ei(a)}):"";return H.jsxs("div",{style:{width:"100%",fontSize:a.fontSize,fontFamily:"monospace",marginBottom:a.marginBottom},children:[H.jsx("div",{style:{display:"flex",borderBottom:l,paddingBottom:"2px",marginBottom:"2px",fontWeight:"bold"},children:o.map((e,t)=>H.jsx("div",{style:{width:`${e.width}%`,textAlign:e.alignment||"left",fontSize:e.fontSize?`${e.fontSize}px`:"inherit",fontWeight:e.bold?"bold":"inherit"},children:e.label},t))}),n.map((e,t)=>H.jsx("div",{style:{marginBottom:"4px",borderBottom:"1px dotted #eee"},children:i.map((t,r)=>"columns"===t.type?H.jsx("div",{style:{display:"flex"},children:o.map((t,r)=>{let a=e[t.field];return void 0===a&&"qty"===t.field&&(a=e.quantity),void 0===a&&"quantity"===t.field&&(a=e.qty),void 0===a&&(a=""),"currency"===t.format&&(a=ei(a)),H.jsx("div",{style:{width:`${t.width}%`,textAlign:t.alignment||"left",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",fontSize:t.fontSize?`${t.fontSize}px`:"inherit",fontWeight:t.bold?"bold":"normal"},children:a},r)})},r):"text"===t.type?H.jsx("div",{style:{textAlign:t.alignment||"left",fontWeight:t.bold?"bold":"normal",fontSize:t.fontSize?`${t.fontSize}px`:"inherit",whiteSpace:"pre-wrap",marginTop:"1px",marginBottom:"1px"},children:c(t.text,e)},r):"separator"===t.type?H.jsx("div",{style:{borderBottom:"solid"===t.style?"1px solid black":"1px dashed black",margin:"2px 0",width:"100%"}},r):null)},t))]},r)}let n="";var i,s;return n="composite"===e.type||e.text&&e.text.includes("{")?(e=>e?e.replace(/\{([\w\.]+)\}/g,(e,t)=>{const r=o(t);return null!=r?r:""}):"")(e.text):e.source?o(e.source):e.text||"","currency"===e.format&&(n=ei(n)),"date"===e.format&&(n=(i=n)?new Date(i).toLocaleDateString():""),"time"===e.format&&(n=(s=n)?new Date(s).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""),e.label&&"composite"!==e.type&&(n=`${e.label} ${n}`),H.jsx("div",{style:a,children:n},r)};return H.jsx("div",{ref:r,className:"receipt-container",style:{width:n,backgroundColor:"white",padding:`${void 0!==a.padding?a.padding:10}px`,margin:"0 auto",color:"black"},children:a.sections.filter(e=>e.visible).sort((e,t)=>e.order-t.order).map(e=>H.jsx("div",{className:"receipt-section",children:"table"===e.type?i({type:"table",...e},0):e.fields&&e.fields.map((e,t)=>i(e,t))},e.id))})}),ri=async e=>{try{let r;try{const t=e.tipoRecibo||"Venta";r=await(async(e="Venta")=>{const t=await fetch(`${Zo}/ReceiptTemplates/default/${e}`);if(!t.ok)throw new Error("Error al obtener plantilla por defecto");return t.json()})(t)}catch(Xd){console.warn("No se encontr plantilla por defecto, usando respaldo",Xd),r={config:{width:80,sections:[{id:"h",visible:!0,order:1,fields:[{type:"text",text:"RECIBO DE VENTA (RESPALDO)",alignment:"center",bold:!0}]},{id:"i",visible:!0,order:2,fields:[{type:"text",source:"receipt.total",label:"Total:",format:"currency",alignment:"right",fontSize:14}]}]}}}let a={};const n="string"==typeof r.configuracionJSON?JSON.parse(r.configuracionJSON):r.configuracionJSON||r.config;if(n&&n.sections){const r=n.sections.filter(e=>e.viewBinding&&e.viewBinding.viewName);for(const n of r){const{viewName:r,mappingField:o}=n.viewBinding,i=o.split(".").reduce((e,t)=>e&&void 0!==e[t]?e[t]:null,e);if(i)try{const e="Numero",t=await fetch(`http://localhost:5006/api/SqlMetadata/Execute/${r}?filterField=${e}&filterValue=${i}`);if(t.ok){const e=await t.json();if(e){const t={};Object.keys(e).forEach(r=>t[r]=e[r]),Object.keys(e).forEach(r=>t[r.toLowerCase()]=e[r]),a={...a,...t}}}}catch(t){console.error(`Error cargando datos externos para vista ${r}:`,t)}}}const o={...e,ext:a,company:e.company||{name:"POS CRONO",address:"Calle Principal #1",rnc:"123456789",phone:"809-555-5555"}},i=document.createElement("iframe");i.style.position="absolute",i.style.width="350px",i.style.height="800px",i.style.border="none",i.style.visibility="hidden",document.body.appendChild(i);const s=i.contentWindow.document;s.open(),s.write('\n            <html>\n            <head>\n                <style>\n                    body { margin: 0; padding: 0; font-family: monospace; }\n                    @media print {\n                        @page { margin: 0; size: auto; }\n                        body { margin: 0; }\n                    }\n                    .receipt-container { margin: 0 !important; border: none !important; box-shadow: none !important; }\n                </style>\n            </head>\n            <body>\n                <div id="root"></div>\n            </body>\n            </html>\n        '),s.close();ce.createRoot(s.getElementById("root")).render(H.jsx(ti,{template:{...r,config:n},data:o})),setTimeout(()=>{i.contentWindow.focus(),i.contentWindow.print(),setTimeout(()=>{document.body.removeChild(i)},1e3)},500)}catch(r){console.error("Error al imprimir recibo:",r),alert("Error al imprimir recibo: Verifique la consola para ms detalles.")}},ai="http://localhost:5006/api",ni=({isOpen:e,onClose:t,cartData:r,onComplete:a,selectedWarehouseId:n=1,creditNote:o=null})=>{var i;const s=o?Math.min(o.amount,r.grandTotal):0,l=Math.max(0,r.grandTotal-s),[c,d]=W.useState(!1),[u,p]=W.useState([]),[h,m]=W.useState(""),[g,x]=W.useState("Efectivo"),[f,b]=W.useState(r.grandTotal.toString()),[v,y]=W.useState(0),[w,j]=W.useState([]),[N,k]=W.useState({id:1,nombre:"CONSUMIDOR FINAL (GENRICO)"}),[C,S]=W.useState(null),[E,P]=W.useState([]),[O,I]=W.useState(null),[A,D]=W.useState(1);W.useEffect(()=>{if(e){M();const e=o?Math.min(o.amount,r.grandTotal):0,t=Math.max(0,r.grandTotal-e);b(t.toFixed(2))}},[e,o,r.grandTotal]);const M=async()=>{try{T();let r=null;try{const e=await fetch(`${ai}/CompanyConfiguration`);e.ok&&(r=await e.json(),S(r))}catch(Xd){console.error("Error fetching config:",Xd)}const a=await fetch(`${ai}/Clients`);if(a.ok){const n=await a.json(),o=Array.isArray(n)?n:n.value||[];j(o);let i=null;r&&r.defaultClientId&&(i=o.find(e=>(e.id||e.Id)===r.defaultClientId)),i||(i=o.find(e=>(e.name||e.Name||"").toUpperCase().includes("CONSUMIDOR FINAL"))),i&&k({id:i.id||i.Id,nombre:i.name||i.Name,tipoNCF:i.tipoNCF||i.TipoNCF,moneda:i.moneda||i.Moneda||"DOP"});const s=await fetch(`${ai}/Monedas`);if(s.ok){var e,t;const r=await s.json();P(r);const a=(null===(e=i)||void 0===e?void 0:e.moneda)||(null===(t=i)||void 0===t?void 0:t.Moneda)||"DOP",n=r.find(e=>e.codigo===a);if(n)I(n.id),F(n.id);else{const e=r.find(e=>e.esFuncional);e&&(I(e.id),D(1))}}}}catch(Xd){console.error("Error loading checkout data:",Xd)}};W.useEffect(()=>{const e=parseFloat(f)||0,t=o?Math.min(o.amount,r.grandTotal):0,a=Math.max(0,r.grandTotal-t);y(Math.max(0,e-a))},[f,r.grandTotal,o]),W.useEffect(()=>{if(N&&N.tipoNCF){const e=u.some(e=>e.tipoNCF===N.tipoNCF);e&&m(N.tipoNCF)}},[N,u]);const T=async()=>{try{const e=await fetch(`${ai}/Ventas/NCF/Sequences`);if(e.ok){const t=await e.json();p(t),t.length>0&&m(t[0].tipoNCF)}}catch(e){console.error("Error loading NCF sequences:",e)}},F=async e=>{if(!e)return;const t=E.find(t=>t.id===parseInt(e));if(t&&t.esFuncional)D(1);else try{const t=await fetch(`${ai}/Monedas/tasas?monedaId=${e}`);if(t.ok){const e=await t.json();D(e.tasa||1)}else D(1)}catch(Xd){console.error("Error fetching rate:",Xd),D(1)}},z=e=>{const t=E.find(e=>e.id===parseInt(O)),r=(null==t?void 0:t.simbolo)||"$";return`${(null==t?void 0:t.codigo)||"DOP"} ${r}${e.toLocaleString("en-US",{minimumFractionDigits:2})}`};return H.jsx(Rn,{open:e,onOpenChange:t,children:H.jsxs(_n,{className:"max-w-3xl bg-white p-0 overflow-hidden border-none shadow-2xl max-h-[92vh] flex flex-col",children:[H.jsxs("div",{className:"bg-hd-black px-4 py-3 text-white flex justify-between items-center shrink-0",children:[H.jsxs("div",{children:[H.jsx("h2",{className:"text-lg font-black italic tracking-tighter",children:"FINALIZAR VENTA"}),H.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest hidden sm:block",children:"Resumen de transaccin"})]}),H.jsx(Za,{variant:"ghost",onClick:t,size:"sm",className:"text-white hover:bg-white/10 h-8 w-8 p-0",children:H.jsx(Ha,{size:18})})]}),H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 overflow-y-auto",children:[H.jsx("div",{className:"p-5 bg-gray-50 space-y-3 border-b md:border-b-0 md:border-r border-gray-200",children:H.jsxs("div",{className:"space-y-1",children:[H.jsxs("div",{className:"flex justify-between items-center",children:[H.jsx("span",{className:"text-xs font-bold text-gray-500",children:"Subtotal"}),H.jsx("span",{className:"text-xs font-bold text-gray-800",children:z(r.total)})]}),r.autoDiscountTotal>0&&H.jsxs("div",{className:"flex justify-between items-center text-hd-orange animate-in fade-in",children:[H.jsx("span",{className:"text-[10px] font-bold uppercase italic",children:"Ahorro Promos"}),H.jsxs("span",{className:"text-xs font-black italic",children:["-",z(r.autoDiscountTotal)]})]}),o&&H.jsxs("div",{className:"flex justify-between items-center text-green-600 animate-in fade-in",children:[H.jsx("span",{className:"text-[10px] font-bold uppercase italic",children:"Nota Crdito"}),H.jsxs("span",{className:"text-xs font-black italic",children:["-",z(Math.min(o.amount,r.grandTotal))]})]}),H.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-gray-200 mb-2",children:[H.jsx("span",{className:"text-xs font-bold text-gray-500",children:"ITBIS (18%)"}),H.jsx("span",{className:"text-xs font-bold text-gray-800",children:z(r.tax)})]}),H.jsxs("div",{className:"flex justify-between items-end bg-white p-3 rounded-lg border border-gray-100 shadow-sm",children:[H.jsx("span",{className:"text-sm font-black text-gray-900 uppercase italic",children:"TOTAL A PAGAR"}),H.jsx("span",{className:"text-2xl font-black text-hd-orange leading-none",children:z(Math.max(0,r.grandTotal-(o?o.amount:0)))})]}),(null===(i=r.appliedPromotions)||void 0===i?void 0:i.length)>0&&H.jsx("div",{className:"flex flex-wrap gap-1 pt-2",children:r.appliedPromotions.map((e,t)=>H.jsxs("span",{className:"text-[8px] bg-hd-orange/10 text-hd-orange px-1.5 py-0.5 rounded-full font-bold border border-hd-orange/20",children:[" ",e]},t))}),A>1&&H.jsx("div",{className:"text-right pt-2",children:H.jsxs("p",{className:"text-[9px] text-gray-400 font-bold uppercase",children:["Eq. DOP: ",(r.grandTotal*A).toLocaleString("en-US",{style:"currency",currency:"DOP"})]})})]})}),H.jsxs("div",{className:"p-5 space-y-4 flex flex-col h-full bg-white",children:[H.jsxs("div",{className:"space-y-3 flex-1",children:[H.jsxs("div",{className:"space-y-1",children:[H.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase tracking-widest",children:"Mtodo de Pago"}),H.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[H.jsxs("button",{onClick:()=>x("Efectivo"),className:"flex flex-row items-center justify-center gap-2 p-3 rounded-lg border transition-all "+("Efectivo"===g?"border-green-500 bg-green-50 text-green-700":"border-gray-100 bg-gray-50 text-gray-400 hover:border-gray-200"),children:[H.jsx(dr,{size:18}),H.jsx("span",{className:"text-[10px] font-black uppercase",children:"Efectivo"})]}),H.jsxs("button",{onClick:()=>x("Tarjeta"),className:"flex flex-row items-center justify-center gap-2 p-3 rounded-lg border transition-all "+("Tarjeta"===g?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-100 bg-gray-50 text-gray-400 hover:border-gray-200"),children:[H.jsx(Ir,{size:18}),H.jsx("span",{className:"text-[10px] font-black uppercase",children:"Tarjeta"})]})]})]}),"Efectivo"===g&&H.jsxs("div",{className:"space-y-2 animate-in fade-in zoom-in-95 duration-200",children:[H.jsx("div",{className:"grid grid-cols-5 gap-1",children:[100,200,500,1e3,2e3].map(e=>H.jsxs("button",{onClick:()=>b(e.toFixed(2)),className:"bg-gray-100 h-7 rounded text-[10px] font-bold hover:bg-hd-orange hover:text-white transition-all border border-gray-200",children:["$",e]},e))}),H.jsx("button",{onClick:()=>b(r.grandTotal.toFixed(2)),className:"w-full bg-orange-50 h-7 rounded text-[9px] font-black text-hd-orange hover:bg-hd-orange hover:text-white transition-all border border-orange-200 uppercase tracking-widest",children:"Pagar Exacto"}),H.jsx("div",{children:H.jsxs("div",{className:"relative",children:[H.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 font-bold text-xs",children:"Recibido:"}),H.jsx(en,{type:"number",className:"text-xl font-black h-10 text-right pr-3 focus:ring-green-500 border-2 pl-20",value:f,onChange:e=>b(e.target.value),autoFocus:!0})]})}),H.jsxs("div",{className:"flex justify-between items-center bg-green-50 px-3 py-2 rounded-lg border border-green-100",children:[H.jsx("span",{className:"text-[10px] font-bold text-green-800 uppercase tracking-widest",children:"Cambio:"}),H.jsx("span",{className:"text-xl font-black text-green-600",children:z(v)})]})]}),H.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t border-gray-100",children:[H.jsxs("div",{className:"space-y-1",children:[H.jsx("label",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Cliente"}),H.jsx("select",{className:"w-full h-8 bg-gray-50 border rounded px-2 text-xs font-bold truncate options:text-xs",value:N.id,onChange:e=>{const t=w.find(t=>t.id===parseInt(e.target.value));t&&k(t)},children:w.map((e,t)=>H.jsx("option",{value:e.id,children:e.name||e.Name||e.nombre||e.Nombre},e.id||t))})]}),H.jsxs("div",{className:"space-y-1",children:[H.jsx("label",{className:"text-[9px] font-bold text-gray-400 uppercase",children:"Moneda"}),H.jsxs("div",{className:"flex gap-1",children:[H.jsx("select",{className:"flex-1 h-8 bg-gray-50 border rounded px-2 text-xs font-bold",value:O||"",onChange:e=>{const t=parseInt(e.target.value);I(t),F(t)},children:E.map(e=>H.jsx("option",{value:e.id,children:e.codigo},e.id))}),H.jsx("div",{className:"w-14 h-8 bg-gray-100 border rounded flex items-center justify-center font-mono text-[9px] font-bold text-gray-600",children:A.toFixed(2)})]})]})]})]}),H.jsx(Za,{className:"w-full h-12 text-sm font-black uppercase tracking-widest shadow-lg transition-all active:scale-[0.98] "+(c?"bg-gray-400":"bg-hd-orange hover:bg-orange-600 shadow-orange-500/20"),disabled:c||"Efectivo"===g&&parseFloat(f)<l,onClick:async()=>{try{d(!0);const t={ClienteId:parseInt(N.id),TipoNCF:h,Fecha:new Date,Subtotal:parseFloat(r.total),ITBIS:parseFloat(r.tax),Total:parseFloat(r.grandTotal),AlmacenId:parseInt(n),Usuario:"Gabriel",MetodoPago:g,MontoRecibido:"Efectivo"===g?parseFloat(f):parseFloat(r.grandTotal),Cambio:"Efectivo"===g?v:0,MonedaId:O,TasaCambio:A,Detalles:r.items.map(e=>{const t=parseFloat(e.precioUnitario||e.PrecioUnitario||e.precio||0);return{ArticuloId:parseInt(e.id||e.Id),Cantidad:parseFloat(e.qty),PrecioUnitario:t,ITBIS:parseFloat(t*e.qty*.18),TotalLinea:parseFloat(t*e.qty*1.18),AlmacenId:parseInt(n)}})};if(o){const e=Math.min(o.amount,r.grandTotal);t.CreditNoteId=parseInt(o.id),t.MontoPagoCredito=e,e>=r.grandTotal&&(t.MetodoPago="NotaCredito",t.MontoRecibido=0,t.Cambio=0)}const i=await fetch(`${ai}/Ventas`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!i.ok){const e=await i.json();throw new Error(e.message||"Error al procesar venta")}const s=await i.json();try{const e={receipt:{number:s.factura||s.numeroFactura||s.NumeroFactura,NumeroRecibo:s.numeroRecibo||s.NumeroRecibo||s.factura||s.numeroFactura,NumeroFactura:s.factura||s.numeroFactura||s.NumeroFactura,ncf:s.ncf,tipoNCF:s.tipoNCF,date:s.fecha,time:s.fecha,cashier:t.Usuario,client:N.name||N.nombre||s.nombreCliente||"CONSUMIDOR FINAL",subtotal:s.subTotal||s.subtotal||t.Subtotal,tax:s.itbis||s.tax||t.ITBIS,total:s.total||t.Total,paymentMethod:g,receivedAmount:t.MontoRecibido,change:t.Cambio},company:C||{name:"POS CRONO",address:"Calle Principal #1",rnc:"123456789",phone:"809-555-5555"},items:r.items.map(e=>({description:e.name||e.descripcion||e.Descripcion,qty:e.qty,price:parseFloat(e.precioUnitario||e.PrecioUnitario||e.precio||0),total:parseFloat(e.qty)*parseFloat(e.precioUnitario||e.PrecioUnitario||e.precio||0)}))};await ri(e)}catch(e){console.error("Error al imprimir recibo:",e)}a(s)}catch(t){alert(t.message)}finally{d(!1)}},children:c?H.jsx(Zr,{className:"animate-spin w-4 h-4"}):H.jsxs("span",{className:"flex items-center gap-2",children:[H.jsx(br,{size:16})," ",0===l?"CONFIRMAR":"COBRAR"]})})]})]})]})})},oi="http://localhost:5006/api",ii=()=>{const e=nt(),[t,r]=W.useState(null),[a,n]=W.useState([]),[o,i]=W.useState([]),[s,l]=W.useState("Todas"),[c,d]=W.useState(!0),[u,p]=W.useState([]),[h,m]=W.useState(""),[g,x]=W.useState(!1),[f,b]=W.useState([]),[v,y]=W.useState(1),w=W.useRef(null),[j,N]=W.useState({}),[k,C]=W.useState({showStockBreakdown:!0,enableBeep:!0}),[S,E]=W.useState([]),[P,O]=W.useState([]),[I,A]=W.useState(0);W.useEffect(()=>{var t;null!==(t=e.state)&&void 0!==t&&t.creditNoteId&&(r({id:e.state.creditNoteId,amount:e.state.creditAmount}),window.history.replaceState({},document.title))},[e]),W.useEffect(()=>{const e=()=>{const e=localStorage.getItem("pos_config");if(e)try{C(JSON.parse(e))}catch{}};e();const t=()=>e();window.addEventListener("pos_config_changed",t),_(),R(),F(),D(),z();const r=e=>{var t;"F2"===e.key&&(e.preventDefault(),null===(t=w.current)||void 0===t||t.focus());" "===e.key&&u.length>0&&!g&&(e.preventDefault(),x(!0))};return window.addEventListener("keydown",r),()=>{window.removeEventListener("keydown",r),window.removeEventListener("pos_config_changed",t)}},[u.length,g]);const D=async()=>{try{const e=await fetch(`${oi}/Articulos/StockGlobal`);if(e.ok){const t=await e.json(),r={};t.forEach(e=>{const t=(e,t)=>e[t]||e[t.toLowerCase()]||e[t.charAt(0).toUpperCase()+t.slice(1)],a=t(e,"ArticuloId"),n=t(e,"AlmacenId"),o=t(e,"Cantidad");if(a){const e={articuloId:a,almacenId:n,cantidad:o};r[a]||(r[a]=[]),r[a].push(e)}}),N(r)}}catch(Xd){console.error("Error loading stock breakdown",Xd)}},[M,T]=W.useState(null),F=async()=>{try{const e=await An();b(e);let t=null;try{const e=localStorage.getItem("pos_config");if(e){const r=JSON.parse(e);t=r.defaultWarehouseId}}catch{}t&&e.some(e=>(e.id||e.Id)==t)?y(parseInt(t)):e.length>0&&y(e[0].id||e[0].Id)}catch(Xd){console.error("Error fetching warehouses:",Xd)}};W.useEffect(()=>{(async()=>{try{const e=await fetch(`${oi}/CompanyConfiguration`);if(e.ok){const t=(await e.json()).defaultClientId||1,r=await fetch(`${oi}/Clients/${t}`);if(r.ok){const e=await r.json();T(e)}}}catch(Xd){console.error("Error loading default client:",Xd)}})()},[]);const z=async()=>{try{const e=await Xn();E(e)}catch(e){console.error("Error fetching UoM planes",e)}},R=async()=>{try{const e=await fetch(`${oi}/Categorias`);if(e.ok){const t=await e.json();i([{id:0,nombre:"Todas"},...t])}}catch(Xd){console.error("Error fetching categories:",Xd)}},_=async()=>{try{d(!0);const e=await Pn();n(e)}catch(e){console.error("Error fetching products:",e)}finally{d(!1)}};W.useEffect(()=>{const e=setTimeout(async()=>{if(0===u.length)return A(0),void O([]);try{const e=u.reduce((e,t)=>e+(t.precioUnitario||t.PrecioUnitario||0)*t.qty,0),t={Total:e,ClientId:M?M.id||M.Id:null,ApplyTo:"POS",Items:u.map(e=>({ProductId:e.id||e.Id,Quantity:e.qty||0,Price:e.precioUnitario||e.PrecioUnitario||0,Category:e.categoria||e.Categoria||null}))},r=await Qo(t);A(r.discountTotal),O(r.appliedPromotions||[])}catch(e){console.error("Promotion calculation failed:",e)}},500);return()=>clearTimeout(e)},[u,M]);const L=a.filter(e=>{const t=(e.descripcion||e.Descripcion||"").toLowerCase().includes(h.toLowerCase())||(e.numeroArticulo||e.NumeroArticulo||"").toLowerCase().includes(h.toLowerCase())||(e.codigoBarras||e.CodigoBarras||"").toLowerCase().includes(h.toLowerCase()),r="Todas"===s||(e.categoria||e.Categoria)===s,a=k.filterByCurrency,n=e=>{if(!e)return"DOP";const t=e.toString().trim().toUpperCase();return"RD$"===t||"PESO"===t||"DOP"===t?"DOP":"US$"===t||"USD"===t?"USD":"EU"===t||"EUR"===t?"EUR":t};let o=!0;if(a){const t=(null==M?void 0:M.moneda)||(null==M?void 0:M.Moneda)||"DOP",r=n(t);let a=(e.preciosList||e.PreciosList||[]).map(e=>n(e.moneda||e.Moneda));if(0===a.length){a=(e.monedasDisponibles||e.MonedasDisponibles||[]).map(e=>n(e))}0===a.length&&(a=["DOP"]),a.includes(r)||(o=!1)}return t&&r&&o}),$=()=>{if(!1!==k.enableBeep)try{const e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator(),r=e.createGain();t.connect(r),r.connect(e.destination),t.type="sine",t.frequency.setValueAtTime(880,e.currentTime),r.gain.setValueAtTime(.1,e.currentTime),r.gain.exponentialRampToValueAtTime(.01,e.currentTime+.1),t.start(),t.stop(e.currentTime+.1)}catch(Xd){console.error("Audio error:",Xd)}},U=(e,t)=>{t>0&&$(),p(r=>r.map(r=>{if((r.id||r.Id)===e){const e=Math.max(1,r.qty+t);return{...r,qty:e}}return r}))},B=u.reduce((e,t)=>e+(t.precioUnitario||t.PrecioUnitario||0)*t.qty,0),V=.18*(B-I),G=B-I+V;return H.jsxs("div",{className:"flex flex-col lg:flex-row h-[calc(100vh-64px)] overflow-hidden bg-gray-100 -m-6 animate-in fade-in duration-500 relative",children:[H.jsx(ni,{isOpen:g,onClose:()=>x(!1),cartData:{items:u,total:B,tax:V,grandTotal:G,autoDiscountTotal:I,appliedPromotions:P},onComplete:e=>{alert(`Venta registrada: ${e.factura}\nNCF: ${e.ncf}`),p([]),x(!1),_(),D()},selectedWarehouseId:v,creditNote:t}),t&&H.jsxs("div",{className:"absolute top-0 left-0 right-0 h-10 bg-green-600 text-white z-50 flex items-center justify-between px-6 font-bold text-sm shadow-md animate-in slide-in-from-top",children:[H.jsxs("span",{children:[" NOTA DE CRDITO APLICADA: $",t.amount.toLocaleString()]}),H.jsx("button",{onClick:()=>r(null),className:"hover:bg-green-700 px-2 rounded",children:H.jsx(Ha,{size:16})})]}),H.jsxs("div",{className:"flex-1 flex flex-col border-r border-gray-200 h-full overflow-hidden",children:[H.jsxs("div",{className:"bg-white shadow-sm z-10",children:[H.jsx("div",{className:"p-4 lg:p-6 pb-2",children:H.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[H.jsxs("div",{className:"relative group flex-1",children:[H.jsx(ja,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-hd-orange transition-colors",size:20}),H.jsx("input",{ref:w,type:"text",placeholder:"Escanee o busque [F2]",className:"w-full pl-12 pr-4 py-3 bg-gray-100 rounded-xl border-2 border-transparent focus:border-hd-orange focus:bg-white transition-all text-base lg:text-lg font-bold placeholder:text-gray-400",value:h,onChange:e=>m(e.target.value),autoFocus:!0})]}),H.jsxs("div",{className:"flex flex-row lg:flex-col gap-2 lg:gap-1 w-full lg:w-48 items-center lg:items-stretch",children:[H.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest pl-1 whitespace-nowrap lg:whitespace-normal",children:"Almacn Origen"}),H.jsx("select",{className:"flex-1 lg:flex-none h-[52px] px-4 rounded-xl border-2 border-gray-100 bg-gray-50 font-bold text-gray-700 focus:border-hd-orange transition-all outline-none appearance-none",value:v,onChange:e=>y(parseInt(e.target.value)),children:f.map(e=>H.jsx("option",{value:e.id,children:e.nombre},e.id))})]})]})}),H.jsx("div",{className:"flex gap-2 overflow-x-auto p-4 pt-0 no-scrollbar",children:o.map(e=>H.jsx("button",{onClick:()=>l(e.nombre),className:"px-4 py-2 rounded-full text-xs font-black uppercase whitespace-nowrap transition-all "+(s===e.nombre?"bg-hd-orange text-white shadow-lg":"bg-gray-100 text-gray-500 hover:bg-gray-200"),children:e.nombre},e.id))})]}),H.jsx("div",{className:"flex-1 overflow-y-auto p-4 lg:p-6 content-start custom-scrollbar pb-24 lg:pb-6",children:c?H.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 space-y-4",children:[H.jsx(Zr,{className:"animate-spin",size:48}),H.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando Inventario..."})]}):H.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-3 lg:gap-4",children:L.map(e=>{const t=e.id||e.Id,r=e.descripcion||e.Descripcion,a=e.numeroArticulo||e.NumeroArticulo;let n=e.precioUnitario||e.PrecioUnitario||0,o="DOP";const i=e.preciosList||e.PreciosList||[];if(M&&M.moneda){const e=M.moneda,t=M.nivelPrecio||"General";let r=i.find(r=>!(r.moneda!==e&&r.Moneda!==e||r.nivelPrecio!==t&&r.NivelPrecio!==t));r||(r=i.find(t=>t.moneda===e||t.Moneda===e)),r&&(n=r.precio||r.Precio,o=r.moneda||r.Moneda)}const s=j[t]||[],l=s.filter(e=>(e.almacenId||e.AlmacenId)==v).reduce((e,t)=>e+(t.cantidad||t.Cantidad||0),0),c=l;return H.jsxs("div",{onClick:()=>c>0&&(async e=>{$();const t=e.id||e.Id;p(r=>{if(r.find(e=>(e.id||e.Id)===t))return r.map(e=>(e.id||e.Id)===t?{...e,qty:e.qty+1}:e);const a=e.UnidadVenta||e.unidadMedida||"UND";let n=e.NivelPrecio||e.nivelPrecio||"Precio al Detalle";return k.filterByPriceLevel&&k.selectedPriceLevel&&(n=k.selectedPriceLevel),[...r,{...e,qty:1,selectedUnit:a,selectedLevel:n}]});try{const r=await On(t).catch(()=>[]);p(a=>a.map(a=>{if((a.id||a.Id)===t){const t=e.PlanMedida||e.planMedida,n=S.find(e=>e.planId===t),o=a.selectedLevel||"Precio al Detalle",i=a.selectedUnit,s=null==M?void 0:M.moneda;let l=null;s&&(l=r.find(e=>{const t=e.nivelPrecio||e.NivelPrecio||"",r=e.unidadMedida||e.UnidadMedida||"",a=e.moneda||e.Moneda||"";return t.toUpperCase()===o.toUpperCase()&&r.toUpperCase()===i.toUpperCase()&&a===s}),l||(l=r.find(e=>{const t=e.unidadMedida||e.UnidadMedida||"",r=e.moneda||e.Moneda||"";return t.toUpperCase()===i.toUpperCase()&&r===s}))),l||(l=r.find(e=>{const t=e.nivelPrecio||e.NivelPrecio||"",r=e.unidadMedida||e.UnidadMedida||"";return t.toUpperCase()===o.toUpperCase()&&r.toUpperCase()===i.toUpperCase()}));let c=a.precioUnitario||a.PrecioUnitario,d=a.Moneda||a.moneda||"DOP";return l&&(c=l.precio,d=l.Moneda||l.moneda||"DOP"),{...a,precios:r,planObj:n,precioUnitario:c,PrecioUnitario:c,moneda:d}}return a}))}catch(Xd){console.error("Error fetching prices for cart item",Xd)}})(e),className:"bg-white rounded-2xl shadow-sm hover:shadow-2xl cursor-pointer transition-all hover:-translate-y-1 border-2 overflow-hidden select-none group flex flex-col h-auto "+(c<=0?"opacity-60 grayscale cursor-not-allowed":"hover:border-hd-orange border-transparent"),children:[H.jsxs("div",{className:"h-40 bg-gray-100 relative overflow-hidden flex items-center justify-center",children:[e.imagenUrl||e.ImagenUrl?H.jsx("img",{src:(e.imagenUrl||e.ImagenUrl).startsWith("http")?e.imagenUrl||e.ImagenUrl:`http://localhost:5006${e.imagenUrl||e.imagenUrl}`,alt:r,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):H.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-300",children:[H.jsx(Ur,{size:40,strokeWidth:1}),H.jsx("span",{className:"text-[10px] font-bold mt-2",children:"SIN IMAGEN"})]}),H.jsx("div",{className:"absolute top-2 right-2 flex flex-col items-end gap-1",children:H.jsx("span",{className:"text-[10px] font-black px-2 py-1 rounded-lg shadow-sm "+(c>0?"bg-white text-green-600":"bg-red-500 text-white"),children:c>0?`${c} UD`:"AGOTADO"})}),k.showStockBreakdown&&s.length>0&&H.jsxs("div",{className:"absolute bottom-0 inset-x-0 bg-black/80 backdrop-blur-sm p-2 text-[10px] text-white flex flex-col gap-1 opacity-0 group-hover:opacity-100 transition-opacity z-20 pointer-events-none",children:[H.jsx("div",{className:"text-[8px] uppercase tracking-widest text-gray-400 border-b border-gray-600 mb-1 pb-0.5",children:"Stock x Almacn"}),s.map((e,t)=>{const r=e.almacenId,a=f.find(e=>(e.id||e.Id)==r),n=a?a.nombre||a.Nombre:`Alm ${r}`,o=e.cantidad,i=r==v;return H.jsxs("div",{className:"flex justify-between items-center px-1 "+(i?"text-hd-orange font-bold":"text-gray-300"),children:[H.jsx("span",{className:"truncate max-w-[70%] text-[9px]",children:n}),H.jsx("span",{className:"font-mono font-bold",children:o})]},t)})]})]}),H.jsxs("div",{className:"p-4 flex-1 flex flex-col justify-between",children:[H.jsxs("div",{children:[H.jsx("p",{className:"text-[9px] font-black text-gray-300 uppercase truncate tracking-widest mb-1",children:a}),H.jsx("h3",{className:"font-bold text-gray-800 text-xs leading-tight line-clamp-2 group-hover:text-hd-orange transition-colors",children:r})]}),H.jsxs("div",{className:"flex items-end justify-between mt-2",children:[H.jsxs("div",{className:"flex flex-col",children:[H.jsx("span",{className:"text-[9px] text-gray-400 font-bold uppercase",children:"Neto"}),H.jsxs("span",{className:"text-lg font-black text-gray-900 leading-none",children:[o," $",n.toLocaleString("en-US",{minimumFractionDigits:1})]})]}),H.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-50 flex items-center justify-center text-hd-orange group-hover:bg-hd-orange group-hover:text-white transition-all transform group-hover:rotate-90",children:H.jsx(xa,{size:20,strokeWidth:3})})]})]})]},t)})})})]}),H.jsxs("div",{className:`\n                w-full lg:w-[450px] flex flex-col bg-white shadow-2xl z-20 border-l border-gray-100\n                fixed lg:relative bottom-0 left-0 right-0 lg:bottom-auto lg:left-auto lg:right-auto\n                h-[50vh] lg:h-auto rounded-t-3xl lg:rounded-none transition-all duration-300\n                ${u.length>0?"translate-y-0":"translate-y-[90%] lg:translate-y-0"}\n            `,children:[H.jsx("div",{className:"lg:hidden w-full flex justify-center py-2 bg-hd-black rounded-t-3xl border-b border-gray-700/50 cursor-pointer",onClick:()=>{},children:H.jsx("div",{className:"w-12 h-1 bg-gray-600 rounded-full"})}),H.jsx("div",{className:"p-4 lg:p-6 border-b bg-hd-black text-white",children:H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs("div",{className:"flex items-center gap-3",children:[H.jsx("div",{className:"p-2 bg-hd-orange rounded-lg",children:H.jsx(Pa,{size:24,className:"text-white"})}),H.jsxs("div",{children:[H.jsx("h2",{className:"font-black text-lg lg:text-xl italic tracking-tighter",children:" BILLING TICKET"}),H.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-widest truncate max-w-[150px]",children:M?M.name||M.Name:"Cliente General"})]})]}),H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsxs("span",{className:"lg:hidden font-mono font-bold text-green-400 text-lg",children:["$",B.toLocaleString()]}),H.jsx(Za,{variant:"ghost",size:"icon",onClick:()=>p([]),className:"text-gray-500 hover:text-red-500 hover:bg-white/10",disabled:0===u.length,children:H.jsx(Ta,{size:20})})]})]})}),H.jsx("div",{className:"flex-1 overflow-y-auto p-4 lg:p-6 space-y-4 custom-scrollbar bg-gray-50/30",children:0===u.length?H.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-300 space-y-6 opacity-30 select-none py-10",children:[H.jsx(Pa,{size:80,strokeWidth:1}),H.jsx("div",{className:"text-center",children:H.jsx("p",{className:"text-xl font-black italic",children:"VACO"})})]}):u.map((e,t)=>{const r=e.id||e.Id,a=e.descripcion||e.Descripcion,n=e.precioUnitario||e.PrecioUnitario||0;return H.jsxs("div",{className:"bg-white p-3 lg:p-4 rounded-xl border border-gray-100 shadow-sm flex items-center gap-4 group animate-in slide-in-from-right-4 duration-300",children:[H.jsxs("div",{className:"flex-1 min-w-0",children:[H.jsx("p",{className:"text-xs lg:text-sm font-black text-gray-800 line-clamp-2 leading-tight mb-1",children:a}),H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsxs("p",{className:"text-xs font-bold text-hd-orange",children:[e.moneda||"DOP"," $",n.toLocaleString()]}),e.planObj&&H.jsx("select",{className:"text-[10px] h-5 border rounded bg-gray-50 max-w-[80px]",value:e.selectedUnit||e.unidadMedida||"UND",onChange:e=>{return t=r,a=e.target.value,$(),void p(e=>e.map(e=>{if((e.id||e.Id)===t){const t=e.selectedLevel||"Precio al Detalle",r=null==M?void 0:M.moneda;let n=null;r&&(n=(e.precios||[]).find(e=>{const n=e.nivelPrecio||e.NivelPrecio||"",o=e.unidadMedida||e.UnidadMedida||"",i=e.moneda||e.Moneda||"";return n.toUpperCase()===t.toUpperCase()&&o.toUpperCase()===a.toUpperCase()&&i===r}),n||(n=(e.precios||[]).find(e=>{const t=e.unidadMedida||e.UnidadMedida||"",n=e.moneda||e.Moneda||"";return t.toUpperCase()===a.toUpperCase()&&n===r}))),n||(n=(e.precios||[]).find(e=>{const r=e.nivelPrecio||e.NivelPrecio||"",n=e.unidadMedida||e.UnidadMedida||"";return r.toUpperCase()===t.toUpperCase()&&n.toUpperCase()===a.toUpperCase()}));let o=e.precioUnitario||e.PrecioUnitario,i=e.moneda||"DOP";return n&&(o=n.precio,i=n.Moneda||n.moneda||"DOP"),{...e,selectedUnit:a,precioUnitario:o,PrecioUnitario:o,moneda:i}}return e}));var t,a},onClick:e=>e.stopPropagation(),children:(()=>{const t=e.planObj;let r=[t.unidadBase,...t.detalles?t.detalles.map(e=>e.unidadMedida):[]];r=[...new Set(r)];const a=e.selectedLevel||"Precio al Detalle",n=(e.precios||[]).filter(e=>(e.nivelPrecio||e.NivelPrecio||"").toUpperCase()===a.toUpperCase()).map(e=>(e.unidadMedida||e.UnidadMedida||"").toUpperCase());return n.length>0&&(r=r.filter(e=>n.includes(e.toUpperCase()))),r.map((e,t)=>H.jsx("option",{value:e,children:e},t))})()})]})]}),H.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1 border",children:[H.jsx("button",{onClick:()=>U(r,-1),className:"w-8 h-8 flex items-center justify-center hover:bg-white hover:shadow-sm rounded-md transition-all text-gray-500",children:H.jsx(ia,{size:14})}),H.jsx("span",{className:"w-8 lg:w-10 text-center text-xs lg:text-sm font-black text-gray-800",children:e.qty}),H.jsx("button",{onClick:()=>U(r,1),className:"w-8 h-8 flex items-center justify-center hover:bg-white hover:shadow-sm rounded-md transition-all text-gray-500",children:H.jsx(xa,{size:14})})]}),H.jsx("div",{className:"text-right min-w-[60px] lg:min-w-[80px]",children:H.jsxs("p",{className:"text-xs lg:text-sm font-black text-gray-900",children:["$",(n*e.qty).toLocaleString()]})}),H.jsx(Ja,{permission:"POS_DELETE_LINE",behavior:"disable",children:H.jsx(Za,{onClick:()=>(e=>{p(t=>t.filter(t=>(t.id||t.Id)!==e))})(r),className:"text-gray-200 hover:text-red-500 transition-colors",variant:"ghost",size:"icon",children:H.jsx(Ha,{size:18})})})]},r+"_"+t)})}),H.jsxs("div",{className:"p-4 lg:p-8 bg-white border-t space-y-3 lg:space-y-4 shadow-[0_-10px_20px_rgba(0,0,0,0.02)] pb-safe",children:[H.jsx("div",{className:"flex gap-2 mb-2 lg:mb-4 overflow-x-auto pb-2",children:H.jsx(Ja,{permission:"POS_APPLY_DISCOUNT",behavior:"disable",children:H.jsxs(Za,{variant:"outline",size:"sm",className:"text-xs font-bold uppercase tracking-widest text-hd-orange border-hd-orange/30 hover:bg-hd-orange hover:text-white transition-colors flex items-center gap-2 whitespace-nowrap",children:[H.jsx(Ia,{size:14})," Aplicar Descuento"]})})}),H.jsxs("div",{className:"space-y-1 lg:space-y-2",children:[H.jsxs("div",{className:"flex justify-between items-center text-gray-500 font-bold text-[10px] lg:text-xs uppercase tracking-widest",children:[H.jsx("span",{children:"Subtotal"}),H.jsxs("span",{children:["$",B.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),I>0&&H.jsxs("div",{className:"flex justify-between items-center text-hd-orange font-bold text-[10px] lg:text-xs uppercase tracking-widest",children:[H.jsx("span",{children:"Ahorro Promociones"}),H.jsxs("span",{children:["-$",I.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),H.jsxs("div",{className:"flex justify-between items-center text-gray-500 font-bold text-[10px] lg:text-xs uppercase tracking-widest",children:[H.jsx("span",{children:"ITBIS (18%)"}),H.jsxs("span",{children:["$",V.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),H.jsxs("div",{className:"flex justify-between items-end pt-2 border-t-2 border-dashed border-gray-100",children:[H.jsx("span",{className:"text-lg lg:text-xl font-black italic tracking-tighter text-gray-900",children:"NETO A PAGAR"}),H.jsxs("span",{className:"text-3xl lg:text-4xl font-black text-hd-orange tracking-tight",children:["$",G.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),P.length>0&&H.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:P.map((e,t)=>H.jsxs("span",{className:"text-[9px] bg-hd-orange/10 text-hd-orange px-2 py-0.5 rounded-full font-bold",children:[" ",e]},t))})]}),H.jsxs(Za,{onClick:()=>x(!0),disabled:0===u.length,className:"w-full h-14 lg:h-20 bg-hd-black hover:bg-gray-900 text-white rounded-xl lg:rounded-2xl flex flex-col items-center justify-center shadow-2xl shadow-gray-400/20 active:scale-[0.98] transition-all group",children:[H.jsxs("span",{className:"text-xl lg:text-2xl font-black flex items-center gap-3",children:["COBRAR ",H.jsx(Ir,{className:"group-hover:rotate-12 transition-transform"})]}),H.jsx("span",{className:"text-[9px] lg:text-[10px] font-bold text-gray-400 tracking-[0.3em] uppercase mt-0 lg:mt-1 hidden lg:block",children:"Presione SPACE"})]})]})]})]})},si="http://localhost:5006/api/Clients",li=async()=>{const e=await fetch(si);if(!e.ok)throw new Error("Error al obtener clientes");return await e.json()},ci="http://localhost:5006/api",di=async e=>{const t=await fetch(`${ci}/Ventas/${e}`);if(!t.ok)throw new Error("Error al obtener detalle de venta");return t.json()},ui=async()=>{const e=await fetch(`${ci}/Ventas/NCF/Sequences`);if(!e.ok)throw new Error("Error al obtener secuencias NCF");return e.json()},pi="http://localhost:5006/api",hi=async e=>{const t=await fetch(`${pi}/Cotizaciones/${e}`);if(!t.ok)throw new Error("Error al cargar detalle de cotizacin");return await t.json()},mi="http://localhost:5006/api",gi=({onSelect:e,onCancel:t})=>{const[r,a]=W.useState([]),[n,o]=W.useState(null),[i,s]=W.useState([]),[l,c]=W.useState(!1),[d,u]=W.useState(!1),[p,h]=W.useState("");W.useEffect(()=>{(async()=>{c(!0);try{const e=await fetch(`${mi}/Clients`);if(e.ok){const t=await e.json();a(t)}}catch(Xd){console.error("Error fetching clients",Xd)}finally{c(!1)}})()},[]),W.useEffect(()=>{if(!n)return void s([]);(async()=>{u(!0);try{console.log("Fetching invoices for client:",n);const e=await fetch(`${mi}/Ventas/ByClient/${n.id}`);if(e.ok){const t=await e.json();console.log("Invoices loaded:",t),s(t)}else console.error("Failed to fetch invoices:",e.status)}catch(Xd){console.error("Error fetching invoices",Xd)}finally{u(!1)}})()},[n]);const m=r.filter(e=>(e.name||"").toLowerCase().includes(p.toLowerCase())||(e.code||"").toLowerCase().includes(p.toLowerCase()));return H.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:H.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl",children:[H.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-[#F96302] text-white rounded-t-lg",children:[H.jsx("h2",{className:"text-xl font-bold",children:"Seleccionar Factura"}),H.jsx("button",{onClick:t,className:"text-white hover:text-gray-200 text-2xl",children:""})]}),H.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[H.jsxs("div",{className:"w-1/3 border-r flex flex-col bg-gray-50",children:[H.jsx("div",{className:"p-3 border-b",children:H.jsx("input",{type:"text",placeholder:"Buscar Cliente...",className:"w-full p-2 border rounded",value:p,onChange:e=>h(e.target.value)})}),H.jsx("div",{className:"flex-1 overflow-y-auto",children:l?H.jsx("p",{className:"p-4 text-center text-gray-500",children:"Cargando..."}):H.jsx("ul",{children:m.map(e=>H.jsxs("li",{onClick:()=>o(e),className:"p-3 border-b cursor-pointer hover:bg-orange-50 transition "+((null==n?void 0:n.id)===e.id?"bg-orange-100 border-l-4 border-l-[#F96302]":""),children:[H.jsx("div",{className:"font-semibold text-gray-700 text-sm",children:e.name}),H.jsx("div",{className:"text-xs text-gray-500",children:e.code})]},e.id))})})]}),H.jsxs("div",{className:"w-2/3 flex flex-col bg-white",children:[H.jsx("div",{className:"p-4 border-b bg-gray-50 h-16 flex items-center",children:n?H.jsxs("h3",{className:"font-bold text-lg",children:["Facturas de: ",H.jsx("span",{className:"text-[#F96302]",children:n.name})]}):H.jsx("p",{className:"text-gray-400 italic",children:"Seleccione un cliente para ver sus facturas"})}),H.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:d?H.jsx("p",{className:"text-center text-gray-500 mt-10",children:"Cargando facturas..."}):i.length>0?H.jsxs("table",{className:"w-full border-collapse",children:[H.jsx("thead",{children:H.jsxs("tr",{className:"bg-gray-100 text-left text-sm text-gray-600",children:[H.jsx("th",{className:"p-2 border-b",children:"Factura"}),H.jsx("th",{className:"p-2 border-b",children:"Fecha"}),H.jsx("th",{className:"p-2 border-b",children:"NCF"}),H.jsx("th",{className:"p-2 border-b text-right",children:"Total"}),H.jsx("th",{className:"p-2 border-b text-right",children:"Saldo"}),H.jsx("th",{className:"p-2 border-b"})]})}),H.jsx("tbody",{children:i.map(t=>{var r,a;return H.jsxs("tr",{className:"hover:bg-gray-50 border-b",children:[H.jsx("td",{className:"p-2 font-semibold text-gray-700 text-sm",children:t.numeroFactura||t.NumeroFactura}),H.jsx("td",{className:"p-2 text-sm",children:new Date(t.fecha||t.Fecha).toLocaleDateString()}),H.jsx("td",{className:"p-2 text-xs text-gray-500",children:t.ncf||t.NCF}),H.jsxs("td",{className:"p-2 text-right font-mono",children:["$",null===(r=t.total||t.Total)||void 0===r?void 0:r.toFixed(2)]}),H.jsxs("td",{className:"p-2 text-right font-mono text-red-600",children:["$",null===(a=t.saldo||t.Saldo)||void 0===a?void 0:a.toFixed(2)]}),H.jsx("td",{className:"p-2 text-right",children:H.jsx("button",{onClick:()=>e(t),className:"bg-[#F96302] text-white px-3 py-1 rounded text-sm hover:bg-[#d85502] transition",children:"Seleccionar"})})]},t.id||t.Id)})})]}):n?H.jsx("p",{className:"text-center text-gray-500 mt-10",children:"No hay facturas registradas para este cliente."}):null})]})]})]})})},xi=({onSelect:e,onCancel:t,clientContextId:r})=>{const[a,n]=W.useState([]),[o,i]=W.useState(!1),[s,l]=W.useState("");W.useEffect(()=>{(async()=>{i(!0);try{const e=await(async()=>{const e=await fetch(`${pi}/Cotizaciones`);if(!e.ok)throw new Error("Error al cargar cotizaciones");return await e.json()})();n(e)}catch(Xd){console.error("Error fetching quotations",Xd)}finally{i(!1)}})()},[]);const c=a.filter(e=>{var t,a,n;const o=!r||(e.clienteId===r||e.ClienteId===r),i=s.toLowerCase(),l=(null===(t=e.id)||void 0===t?void 0:t.toString().includes(i))||(null===(a=e.clienteNombre)||void 0===a?void 0:a.toLowerCase().includes(i))||(null===(n=e.observaciones)||void 0===n?void 0:n.toLowerCase().includes(i));return o&&l});return H.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:H.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[80vh] flex flex-col shadow-2xl",children:[H.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-blue-600 text-white rounded-t-lg",children:[H.jsx("h2",{className:"text-xl font-bold",children:"Importar Cotizacin"}),H.jsx("button",{onClick:t,className:"text-white hover:text-gray-200 text-2xl",children:""})]}),H.jsx("div",{className:"p-4 bg-gray-50 border-b",children:H.jsx("input",{type:"text",placeholder:"Buscar por ID o Cliente...",className:"w-full p-2 border rounded",value:s,onChange:e=>l(e.target.value),autoFocus:!0})}),H.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o?H.jsx("p",{className:"text-center text-gray-500",children:"Cargando cotizaciones..."}):0===c.length?H.jsxs("p",{className:"text-center text-gray-500",children:["No se encontraron cotizaciones ",r?"para este cliente":"","."]}):H.jsxs("table",{className:"w-full border-collapse",children:[H.jsx("thead",{children:H.jsxs("tr",{className:"bg-gray-100 text-left text-sm text-gray-600",children:[H.jsx("th",{className:"p-2 border-b",children:"ID"}),H.jsx("th",{className:"p-2 border-b",children:"Fecha"}),H.jsx("th",{className:"p-2 border-b",children:"Cliente"}),H.jsx("th",{className:"p-2 border-b text-right",children:"Total"}),H.jsx("th",{className:"p-2 border-b"})]})}),H.jsx("tbody",{children:c.map(t=>{var r;return H.jsxs("tr",{className:"hover:bg-gray-50 border-b",children:[H.jsx("td",{className:"p-2 font-bold text-blue-600",children:t.id||t.Id}),H.jsx("td",{className:"p-2 text-sm",children:new Date(t.fecha||t.Fecha).toLocaleDateString()}),H.jsx("td",{className:"p-2 text-sm",children:t.clienteNombre||"Sin Nombre"}),H.jsxs("td",{className:"p-2 text-right font-mono font-bold",children:["$",null===(r=t.total||t.Total)||void 0===r?void 0:r.toFixed(2)]}),H.jsx("td",{className:"p-2 text-right",children:H.jsx("button",{onClick:()=>e(t),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition",children:"Importar"})})]},t.id||t.Id)})})]})})]})})},fi=({articuloId:e,warehouses:t=[]})=>{const[r,a]=W.useState([]),[n,o]=W.useState(!0),[i,s]=W.useState(t);W.useEffect(()=>{let t=!0;return e&&(async()=>{o(!0);try{const r=await(async e=>{const t=await fetch(`${Sn}/Articulos/${e}/StockBreakdown`);if(!t.ok)throw new Error("Failed to load stock breakdown");return t.json()})(e);if(0===i.length){const e=await An();t&&s(e)}t&&a(r)}catch(r){console.error("Error fetching stock tooltip:",r)}finally{t&&o(!1)}})(),()=>{t=!1}},[e]);const l=i.map(e=>{const t=e.id||e.Id,a=r.find(e=>{const r=e.almacenId||e.AlmacenId;return String(r)===String(t)});return{name:e.nombre||e.Nombre,qty:a?a.cantidad||a.Cantidad:0,id:t}}).filter(e=>0!==e.qty),c=r.reduce((e,t)=>e+(t.cantidad||t.Cantidad||0),0);return H.jsxs("div",{className:"absolute left-0 bottom-full mb-1 z-[9999] bg-black/90 backdrop-blur-md border border-gray-700 shadow-2xl rounded-md p-2 min-w-[200px] text-xs text-white animate-in fade-in zoom-in duration-200 pointer-events-none",children:[H.jsxs("div",{className:"flex justify-between items-center border-b border-gray-600 pb-1 mb-1",children:[H.jsxs("div",{className:"flex flex-col",children:[H.jsx("span",{className:"text-[9px] uppercase tracking-widest text-gray-400",children:"Existencias"}),H.jsxs("span",{className:"text-[8px] text-gray-500 font-mono",children:["ID: ",e]})]}),H.jsx("span",{className:"font-bold text-sm "+(c>0?"text-green-400":"text-red-400"),children:c})]}),n?H.jsx("div",{className:"text-gray-500 text-[10px] italic py-1",children:"Cargando datos..."}):0===l.length?H.jsx("div",{className:"text-gray-500 text-[10px] text-center py-1",children:"Sin existencia registrada"}):H.jsx("div",{className:"space-y-1",children:l.map((e,t)=>H.jsxs("div",{className:"flex justify-between items-center px-1 hover:bg-white/5 rounded",children:[H.jsx("span",{className:"truncate max-w-[70%] text-gray-300 text-[10px]",children:e.name}),H.jsx("span",{className:"font-mono font-bold text-hd-orange",children:e.qty})]},t))}),H.jsx("div",{className:"absolute -bottom-1 left-4 w-2 h-2 bg-black/90 border-r border-b border-gray-700 transform rotate-45"})]})},bi="http://localhost:5006/api",vi=async e=>{try{const t=await fetch(`${bi}/Returns/Create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json().catch(()=>({}));throw new Error(e.message||"Error creating return")}return await t.json()}catch(t){throw t}},yi=()=>{var e,t;const r=it(),a=nt();W.useEffect(()=>{var e,t;"edit_quotation"===(null===(e=a.state)||void 0===e?void 0:e.mode)&&null!==(t=a.state)&&void 0!==t&&t.id&&(n(a.state.id),window.history.replaceState({},document.title))},[a]);const n=async e=>{try{x(!0);const t=await hi(e),r=t.header||t.Header||t,a=t.details||t.Details||[];L(e);let n=r.almacenId||r.AlmacenId;!n&&c.length>0&&(n=c[0].id),k(e=>({...e,clienteId:r.clienteId||r.ClienteId,fecha:(new Date).toISOString().split("T")[0],almacenId:n,monedaId:r.monedaId||r.MonedaId,tasaCambio:r.tasaCambio||r.TasaCambio||1,condicionPago:r.terminosPago||r.TerminosPago||"Contado",referencia:`Editando Cotizacin #${r.numeroCotizacion||r.NumeroCotizacion}`}));const o=a.map(e=>({id:Date.now()+Math.random(),articuloId:e.articuloId||e.ArticuloId,codigo:e.articuloCodigo||e.ArticuloCodigo||"N/A",descripcion:e.articuloDescripcion||e.ArticuloDescripcion||"Producto",unidad:e.unidadMedidaId||e.UnidadMedidaId||"UND",cantidad:e.cantidad||e.Cantidad,precio:e.precioUnitario||e.PrecioUnitario,descuento:e.descuentoMonto||e.DescuentoMonto||0,taxRate:.18,total:e.totalLinea||e.TotalLinea,availablePrices:[]}));R(o),P(!0),S(!1),he(e);const i={clienteId:r.clienteId||r.ClienteId,fecha:(new Date).toISOString().split("T")[0],almacenId:n,monedaId:r.monedaId||r.MonedaId,tasaCambio:Number(r.tasaCambio||r.TasaCambio||1),condicionPago:r.terminosPago||r.TerminosPago||"Contado",referencia:`Editando Cotizacin #${r.numeroCotizacion||r.NumeroCotizacion}`};ge(t=>({...t,quotation:{header:i,items:o,appliedPromotions:[],lastTransactionId:e,successMsg:""}})),j(`Cotizacin #${r.numeroCotizacion||r.NumeroCotizacion} cargada para edicin`)}catch(Xd){console.error(Xd),y("Error al cargar la cotizacin.")}finally{x(!1)}},[o,i]=W.useState([]),[s,l]=W.useState([]),[c,d]=W.useState([]),[u,p]=W.useState([]),[h,m]=W.useState([]),[g,x]=W.useState(!0),[f,b]=W.useState(!1),[v,y]=W.useState(""),[w,j]=W.useState(""),[N,k]=W.useState({clienteId:"",fecha:(new Date).toISOString().split("T")[0],condicionPago:"Contado",referencia:"",almacenId:"",tipoNCF:"",monedaId:"",tasaCambio:1}),[C,S]=W.useState(!1),[E,P]=W.useState(!1),[O,I]=W.useState(!1),[A,D]=W.useState(!1),[M,T]=W.useState(""),F=W.useMemo(()=>{if(!M)return[];const e=M.toLowerCase();return s.filter(t=>{var r,a,n;return(null===(r=t.descripcion)||void 0===r?void 0:r.toLowerCase().includes(e))||(null===(a=t.numeroArticulo)||void 0===a?void 0:a.toLowerCase().includes(e))||(null===(n=t.codigoBarras)||void 0===n?void 0:n.toLowerCase().includes(e))}).slice(0,8)},[s,M]),[z,R]=W.useState([]),[_,L]=W.useState(null),[$,U]=W.useState(!1),[B,V]=W.useState({taxId:"",address:"",phone:""}),[G,q]=W.useState("UND"),[K,J]=W.useState(null),[Y,X]=W.useState([]),[Q,Z]=W.useState(0),[ee,te]=W.useState(!1),[re,ae]=W.useState(!1),[ne,oe]=W.useState(null),[ie,se]=W.useState(!1),[le,ce]=W.useState(null),[de,ue]=W.useState(!1),[pe,he]=W.useState(null);W.useEffect(()=>{const e=localStorage.getItem("pos_config");if(e)try{const t=JSON.parse(e);t.distributionDefaultUnit&&q(t.distributionDefaultUnit),ue(!!t.enableStockTooltip)}catch(Xd){console.error("Error loading config",Xd)}},[]),W.useEffect(()=>{K&&(setTimeout(()=>{const e=document.getElementById(`qty-${K}`);e&&(e.focus(),e.select())},100),J(null))},[K,z]);const[me,ge]=W.useState({sale:{header:{clienteId:"",fecha:(new Date).toISOString().split("T")[0],condicionPago:"Contado",referencia:"",almacenId:"",tipoNCF:"",monedaId:"",tasaCambio:1},items:[],appliedPromotions:[],lastTransactionId:null,successMsg:""},quotation:{header:{clienteId:"",fecha:(new Date).toISOString().split("T")[0],condicionPago:"Contado",referencia:"",almacenId:"",tipoNCF:"",monedaId:"",tasaCambio:1},items:[],appliedPromotions:[],lastTransactionId:null,successMsg:""},return:{header:{clienteId:"",fecha:(new Date).toISOString().split("T")[0],condicionPago:"Contado",referencia:"",almacenId:"",tipoNCF:"",monedaId:"",tasaCambio:1},items:[],appliedPromotions:[],lastTransactionId:null,successMsg:""}}),xe=e=>{let t="sale";if(E?t="quotation":C&&(t="return"),t===e)return;ge(e=>({...e,[t]:{header:{...N},items:[...z],appliedPromotions:[...Y],lastTransactionId:pe,successMsg:w}}));const r=me[e];k({...r.header}),R([...r.items]),X([...r.appliedPromotions]),he(r.lastTransactionId),j(r.successMsg),"quotation"===e?(P(!0),S(!1)):"return"===e?(P(!1),S(!0)):(P(!1),S(!1))};W.useEffect(()=>{(async()=>{try{const[e,t,r,a,n]=await Promise.all([li(),Pn(),An(),ui(),fetch("http://localhost:5006/api/Monedas").then(e=>e.json())]);if(i(e),l(t),d(r),p(a),m(n),r.length>0){const e=r[0].id;k(t=>({...t,almacenId:e})),ge(t=>({sale:{...t.sale,header:{...t.sale.header,almacenId:e}},quotation:{...t.quotation,header:{...t.quotation.header,almacenId:e}},return:{...t.return,header:{...t.return.header,almacenId:e}}}))}if(a.length,n.length>0){const e=n.find(e=>e.esFuncional);e&&k(t=>({...t,monedaId:e.id,tasaCambio:1}))}}catch(e){console.error(e),y("Error cargando datos iniciales.")}finally{x(!1)}})()},[]),W.useEffect(()=>{const e=setTimeout(async()=>{if(0===z.length)return Z(0),void X([]);try{const e=z.reduce((e,t)=>e+(parseFloat(t.precio)||0)*(parseFloat(t.cantidad)||0),0),t={Total:e,ClientId:N.clienteId?parseInt(N.clienteId):null,ApplyTo:"Distribution",Items:z.map(e=>{const t=s.find(t=>t.id===e.articuloId);return{ProductId:e.articuloId,Quantity:parseFloat(e.cantidad)||0,Price:parseFloat(e.precio)||0,Category:(null==t?void 0:t.categoria)||null}})},r=await Qo(t);Z(r.discountTotal),X(r.appliedPromotions||[])}catch(e){console.error("Promotion calculation failed:",e)}},500);return()=>clearTimeout(e)},[z,N.clienteId,s]);const fe=async e=>{if(!e)return;const t=h.find(t=>t.id===parseInt(e));if(t&&t.esFuncional)k(e=>({...e,tasaCambio:1}));else try{const t="http://localhost:5006/api",r=await fetch(`${t}/Monedas/tasas?monedaId=${e}`);if(r.ok){const e=await r.json();k(t=>({...t,tasaCambio:e.tasa||1}))}}catch(Xd){console.error("Error fetching rate:",Xd)}},be=W.useMemo(()=>{let e=0,t=0;z.forEach(r=>{const a=(parseFloat(r.cantidad)||0)*(parseFloat(r.precio)||0)-(parseFloat(r.descuento)||0);e+=a,t+=a*(r.taxRate||0)});const r=e,a=(parseFloat(N.descuentoGlobalMonto)||0)+Q;let n=r-a;n<0&&(n=0);let o=t;if(r>0){o=t*(n/r)}else o=0,n=0;return{rawSubtotal:r,globalDiscount:a,subtotal:n,impuestos:o,total:n+o}},[z,N.descuentoGlobalMonto]),[ve,ye]=W.useState(null),we=(e,t)=>{R(r=>r.map(r=>r.id!==e?r:{...r,articuloId:t.id,codigo:t.numeroArticulo||t.codigo,descripcion:t.descripcion||t.nombre,unidad:t.unidad||t.unidadMedidaId||G,precio:t.precio||t.precioVenta||0,availablePrices:t.preciosList||[],total:0})),ye(null),I(!1)},je=e=>{if(!N.clienteId)return void alert(" Seleccione un cliente para continuar.");const t=z.find(t=>t.articuloId===e.id);if(t)return void Ne(t.id,{cantidad:t.cantidad+1});const r={id:`temp-${Date.now()}-${Math.floor(1e3*Math.random())}`,articuloId:e.id||e.Id,codigo:e.numeroArticulo||e.NumeroArticulo||e.codigo||e.Codigo,descripcion:e.descripcion||e.Descripcion||e.nombre||e.Nombre,unidad:e.unidad||e.unidadMedida||e.UnidadMedida||e.unidadMedidaId||G,cantidad:1,precio:e.precio||e.precioVenta||e.PrecioVenta||0,descuento:0,taxRate:.18,total:0,availablePrices:e.preciosList||[]};R([...z,r]),J(r.id),D(!1),T("")},Ne=(e,t)=>{R(r=>r.map(r=>r.id!==e?r:{...r,...t}))};W.useEffect(()=>{if(!N.clienteId)return;const e=o.find(e=>e.id==N.clienteId);if(e&&(e.terminosPago&&k(t=>({...t,condicionPago:e.terminosPago})),e.tipoNCF&&k(t=>({...t,tipoNCF:e.tipoNCF})),e.moneda&&h.length>0)){const t=h.find(t=>t.codigo===e.moneda);t&&k(e=>({...e,monedaId:t.id,tasaCambio:1}))}},[N.clienteId,o,h]);const ke=o.find(e=>e.id==N.clienteId),Ce=(null==ke?void 0:ke.tipoNCF)&&""!==ke.tipoNCF.trim();W.useEffect(()=>{if(u.length)if(C){const e=u.find(e=>"04"===e.tipoNCF);e&&k(t=>({...t,tipoNCF:e.tipoNCF}))}else if(Ce)null!=ke&&ke.tipoNCF&&k(e=>({...e,tipoNCF:ke.tipoNCF}));else{const e=u.find(e=>"02"===e.tipoNCF)||u[0];e&&k(t=>({...t,tipoNCF:e.tipoNCF}))}},[C,u,Ce,ke]);if(g)return H.jsx("div",{className:"p-10 text-center",children:"Cargando datos..."});const Se=e=>{ae(!1);const t=`Devolucin Factura #${pe}`;he(null),j(""),S(!0),P(!1);const r=u.find(e=>"04"===e.tipoNCF);k(a=>({...a,referencia:t,tipoNCF:(null==r?void 0:r.tipoNCF)||"04",condicionPago:e}))};return H.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto pb-20 p-6",children:[H.jsxs("div",{className:"flex flex-col lg:flex-row items-center lg:items-center justify-between sticky top-0 bg-gray-50/95 backdrop-blur z-20 py-4 lg:py-4 border-b border-gray-200 -mx-6 px-6 gap-4",children:[H.jsxs("div",{className:"w-full lg:w-auto text-center lg:text-left",children:[H.jsx("h1",{className:"text-xl lg:text-2xl font-bold text-gray-800 flex items-center justify-center lg:justify-start gap-2 whitespace-nowrap",children:E?H.jsx("span",{className:"text-blue-600",children:"Cotizacin"}):C?H.jsx("span",{className:"text-red-500",children:"Devolucin / Nota Crdito"}):"Orden de Venta"}),H.jsx("p",{className:"text-xs lg:text-sm text-gray-500",children:E?"Crear nueva cotizacin para cliente":C?"Procesar reembolso o cambio":"Nueva transaccin de venta"})]}),H.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 w-full lg:w-auto",children:[H.jsxs("div",{className:"flex items-center gap-1 lg:gap-2 px-2 lg:px-3 py-1 lg:py-1.5 rounded-full border border-gray-300 shadow-sm bg-gray-50 scale-90 lg:scale-100",children:[H.jsx("button",{onClick:()=>xe("quotation"),className:"px-2 lg:px-3 py-1 rounded-full text-[10px] lg:text-xs font-bold transition-all "+(E?"bg-blue-600 text-white shadow":"text-gray-500 hover:bg-gray-200"),children:"COTIZACIN"}),H.jsx("button",{onClick:()=>xe("sale"),className:"px-2 lg:px-3 py-1 rounded-full text-[10px] lg:text-xs font-bold transition-all "+(E||C?"text-gray-500 hover:bg-gray-200":"bg-hd-orange text-white shadow"),children:"VENTA"}),H.jsx("button",{onClick:()=>xe("return"),className:"px-2 lg:px-3 py-1 rounded-full text-[10px] lg:text-xs font-bold transition-all "+(C?"bg-red-600 text-white shadow":"text-gray-500 hover:bg-gray-200"),children:"DEVOLUCIN"})]}),H.jsxs("div",{className:"flex flex-wrap items-center justify-center lg:justify-end gap-2 lg:space-x-3 w-full lg:w-auto",children:[!C&&!E&&H.jsxs(Za,{variant:"outline",size:"sm",onClick:()=>{E||C||!pe||ae(!0)},disabled:!pe,className:`border-red-600 text-red-600 hover:bg-red-50 ${pe?"":"opacity-50 cursor-not-allowed"} text-xs`,title:pe?"Convertir esta venta en una devolucin":"Guarde la venta primero para convertirla",children:[H.jsx(nr,{className:"mr-1 h-3 w-3 lg:h-4 lg:w-4"})," ",H.jsx("span",{className:"hidden sm:inline",children:"Convertir a"})," Devolucin"]}),E&&H.jsxs(Za,{variant:"outline",size:"sm",onClick:()=>{if(!E||!pe)return;const e=`Desde Cotizacin #${pe}`;he(null),j(""),k(t=>({...t,referencia:e})),P(!1),S(!1)},disabled:!pe,className:`border-green-600 text-green-600 hover:bg-green-50 ${pe?"":"opacity-50 cursor-not-allowed"} text-xs`,title:pe?"Convertir esta cotizacin a factura":"Guarde la cotizacin primero para facturarla",children:[H.jsx(sr,{className:"mr-1 h-3 w-3 lg:h-4 lg:w-4"})," Facturar ",H.jsx("span",{className:"hidden sm:inline",children:"Cotizacin"})]}),C&&0===z.length&&H.jsxs(Za,{variant:"outline",size:"sm",onClick:()=>te(!0),className:"border-red-600 text-red-600 hover:bg-red-50 text-xs",title:"Importar una factura para devolucin",children:[H.jsx(Pr,{className:"mr-1 h-3 w-3 lg:h-4 lg:w-4"})," Importar Factura"]}),H.jsxs(Za,{variant:"outline",size:"sm",onClick:()=>{if(!pe)return;const e="http://localhost:5006/api".replace("/api","");let t="";t=E?`${e}/Reports/Cotizacion?id=${pe}`:C?`${e}/Reports/Devolucion?id=${pe}`:`${e}/Reports/Factura?id=${pe}`,window.open(t,"_blank")},disabled:!pe,className:`border-blue-600 text-blue-600 hover:bg-blue-50 ${pe?"":"opacity-50 cursor-not-allowed"} text-xs`,title:pe?"Imprimir Documento":"Guarde la transaccin primero para imprimir",children:[H.jsx(fa,{className:"mr-1 h-3 w-3 lg:h-4 lg:w-4"})," ",H.jsx("span",{className:"hidden sm:inline",children:"Imprimir"})]}),H.jsxs(Za,{variant:"outline",size:"sm",onClick:()=>r("/ventas/historial"),className:"text-xs",children:[H.jsx(Ha,{className:"mr-1 h-3 w-3 lg:h-4 lg:w-4"})," ",H.jsx("span",{className:"hidden sm:inline",children:"Cancelar"})]}),H.jsx(Za,{disabled:f,size:"sm",onClick:async()=>{if(!N.clienteId)return void y("Seleccione un cliente");let e=N.almacenId;if(!e&&c.length>0&&(e=c[0].id,k(t=>({...t,almacenId:e}))),e)if(0!==z.length){b(!0),y(""),j("");try{if(E){const e={Fecha:N.fecha,ClienteId:Number(N.clienteId),AlmacenId:Number(N.almacenId),Usuario:"Admin",Subtotal:be.subtotal,ITBIS:be.impuestos,Total:be.total,DescuentoMonto:be.globalDiscount,MonedaId:N.monedaId?Number(N.monedaId):null,TasaCambio:Number(N.tasaCambio),Referencia:N.referencia,TerminosPago:N.condicionPago,Detalles:z.map(e=>({ArticuloId:Number(e.articuloId),Cantidad:Number(e.cantidad),PrecioUnitario:Number(e.precio),ITBIS:(Number(e.cantidad)*Number(e.precio)-(e.descuento||0))*(e.taxRate||0),TotalLinea:Number(e.cantidad)*Number(e.precio)-(e.descuento||0),AlmacenId:Number(N.almacenId),DescuentoMonto:Number(e.descuento||0),UnidadMedidaId:e.unidad}))};if(_)await(async(e,t)=>{const r=await fetch(`${pi}/Cotizaciones/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const e=await r.json();throw new Error(e.message||"Error al actualizar cotizacin")}return await r.json()})(_,e),j("Cotizacin modificada con xito!");else{const t=await(async e=>{const t=await fetch(`${pi}/Cotizaciones`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Error al guardar cotizacin")}return await t.json()})(e);he(t.id||t.Id),j(`Cotizacin creada con xito! #${t.numero}`)}}else if(C){const e=N.referencia.match(/#(\d+)/),t=e?parseInt(e[1]):0;if(!t)throw new Error("No se pudo identificar la factura de origen. Asegrese de que la referencia diga 'Factura #...'");const r={VentaId:t,Razon:N.referencia,TipoAccion:N.condicionPago,TotalReembolsado:be.total,Usuario:"Admin",Detalles:z.map(e=>({ArticuloId:Number(e.articuloId),Cantidad:Math.abs(Number(e.cantidad)),PrecioUnitario:Number(e.precio),RetornarAlStock:!0}))},a=await vi(r);he(a),j(`Devolucin creada con xito! #${a}`)}else{const e={Fecha:N.fecha,ClienteId:Number(N.clienteId),TipoNCF:N.tipoNCF,AlmacenId:Number(N.almacenId),Usuario:"Admin",Subtotal:be.subtotal,ITBIS:be.impuestos,Total:be.total,MonedaId:N.monedaId?Number(N.monedaId):null,TasaCambio:Number(N.tasaCambio),Referencia:N.referencia,TerminosPago:N.condicionPago,Detalles:z.map(e=>({ArticuloId:Number(e.articuloId),Cantidad:Number(e.cantidad),PrecioUnitario:Number(e.precio),ITBIS:(Number(e.cantidad)*Number(e.precio)-(e.descuento||0))*(e.taxRate||0),TotalLinea:Number(e.cantidad)*Number(e.precio)-(e.descuento||0),AlmacenId:Number(N.almacenId),DescuentoMonto:Number(e.descuento||0),UnidadMedidaId:e.unidad}))},t=await(async e=>{const t=await fetch(`${ci}/Ventas`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Error al crear venta")}return t.json()})(e);he(t.id||t.Id),j(`Venta creada con xito! Factura: ${t.factura}`)}}catch(t){console.error(t),y(t.message)}finally{b(!1)}}else y("Agregue al menos un producto");else y("Seleccione un almacn")},className:"bg-hd-orange hover:bg-orange-600 text-xs px-2 lg:px-4",children:f?"...":H.jsxs(H.Fragment,{children:[H.jsx(wa,{className:"mr-1 h-3 w-3 lg:h-4 lg:w-4"})," Guardar"]})})]})]})]}),v&&H.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded flex items-center",children:[H.jsx(Yt,{className:"mr-2 h-5 w-5"})," ",v]}),w&&H.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded flex items-center",children:[H.jsx(wa,{className:"mr-2 h-5 w-5"})," ",w]}),H.jsxs("div",{className:"flex flex-col gap-6",children:[H.jsxs(ln,{className:"mb-4 shadow-sm border-t-4 border-t-hd-orange bg-white",children:[H.jsxs("div",{className:"p-3 grid grid-cols-1 lg:grid-cols-12 gap-4 items-start",children:[H.jsxs("div",{className:"lg:col-span-4 space-y-1",children:[H.jsxs("label",{className:"text-[11px] font-bold text-gray-500 uppercase tracking-wide flex justify-between",children:[H.jsx("span",{children:"Cliente"}),ke&&H.jsxs("span",{onClick:()=>{ke&&(V({taxId:ke.taxId||"",address:ke.address||"",phone:ke.phone||""}),U(!0))},className:"text-blue-600 cursor-pointer hover:underline flex items-center gap-1",children:[H.jsx(ha,{size:10})," Editar"]})]}),H.jsx("div",{className:"flex gap-2",children:H.jsxs("select",{className:"flex-1 h-9 rounded-md border border-gray-300 bg-white px-3 text-sm focus:outline-none focus:ring-1 focus:ring-blue-600 font-medium",value:N.clienteId,onChange:e=>{const t=e.target.value,r=o.find(e=>e.id==t),a=(null==r?void 0:r.tipoNCF)||(null==r?void 0:r.TipoNCF)||"";let n=N.monedaId;if(null!=r&&r.moneda){const e=h.find(e=>e.codigo===r.moneda);e&&(n=e.id)}k(e=>({...e,clienteId:t,tipoNCF:a||e.tipoNCF,monedaId:n})),n!=N.monedaId&&fe(n)},children:[H.jsx("option",{value:"",children:"-- Buscar Cliente --"}),o.map(e=>H.jsx("option",{value:e.id,children:e.name},e.id))]})}),ke&&H.jsxs("div",{className:"flex gap-3 text-[11px] text-gray-600 pt-1",children:[H.jsx("span",{title:"RNC/Cdula",className:"font-mono bg-gray-100 px-1 rounded",children:ke.taxId||"N/A"}),H.jsxs("span",{title:"Balance Actual",className:"font-semibold "+(ke.balance>0?"text-red-600":"text-green-600"),children:["Bal: $",null===(e=ke.balance)||void 0===e?void 0:e.toFixed(2)]}),H.jsx("span",{className:"text-gray-400",children:"|"}),H.jsx("span",{title:"Nivel Precio",children:ke.nivelPrecio})]})]}),H.jsxs("div",{className:"lg:col-span-3 grid grid-cols-2 gap-2",children:[H.jsxs("div",{className:"col-span-2",children:[H.jsx("label",{className:"text-[11px] font-bold text-gray-500 uppercase tracking-wide",children:"Tipo NCF"}),H.jsxs("select",{className:"w-full h-8 rounded border border-gray-300 bg-white px-2 text-xs focus:ring-1 focus:ring-blue-600 "+(Ce?"bg-gray-50 text-gray-500":""),value:N.tipoNCF,onChange:e=>k({...N,tipoNCF:e.target.value}),disabled:Ce||E,children:[H.jsx("option",{value:"",children:E?"-- No Aplica --":"-- Seleccionar --"}),u.map(e=>H.jsx("option",{value:e.tipoNCF,children:e.nombre},e.id))]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"text-[11px] font-bold text-gray-500 uppercase tracking-wide",children:"Condicin"}),H.jsx("select",{className:"w-full h-8 rounded border border-gray-300 bg-white px-2 text-xs focus:ring-1 focus:ring-blue-600",value:N.condicionPago,onChange:e=>k({...N,condicionPago:e.target.value}),children:C?H.jsxs(H.Fragment,{children:[H.jsx("option",{value:"Efectivo",children:"Devolucin Efectivo"}),H.jsx("option",{value:"NotaCredito",children:"Nota de Crdito"}),H.jsx("option",{value:"Cambio",children:"Cambio de Mercanca"})]}):H.jsxs(H.Fragment,{children:[H.jsx("option",{children:"Contado"}),H.jsx("option",{children:"Crdito 15 das"}),H.jsx("option",{children:"Crdito 30 das"})]})})]}),H.jsxs("div",{children:[H.jsx("label",{className:"text-[11px] font-bold text-gray-500 uppercase tracking-wide",children:"Fecha"}),H.jsx(en,{type:"date",className:"h-8 text-xs px-2",value:N.fecha,onChange:e=>k({...N,fecha:e.target.value})})]})]}),H.jsxs("div",{className:"lg:col-span-3 grid grid-cols-2 gap-2",children:[H.jsxs("div",{className:"col-span-2",children:[H.jsx("label",{className:"text-[11px] font-bold text-gray-500 uppercase tracking-wide",children:"Almacn"}),H.jsx("select",{className:"w-full h-8 rounded border border-gray-300 bg-white px-2 text-xs focus:ring-1 focus:ring-blue-600",value:N.almacenId,onChange:e=>k({...N,almacenId:e.target.value}),children:c.map(e=>H.jsx("option",{value:e.id,children:e.nombre},e.id))})]}),H.jsxs("div",{children:[H.jsx("label",{className:"text-[11px] font-bold text-gray-500 uppercase tracking-wide",children:"Moneda"}),H.jsxs("select",{className:"w-full h-8 rounded border border-gray-300 bg-white px-2 text-xs focus:ring-1 focus:ring-blue-600",value:N.monedaId,onChange:e=>{const t=e.target.value;k(e=>({...e,monedaId:t})),fe(t)},children:[H.jsx("option",{value:"",children:"--"}),h.map(e=>H.jsx("option",{value:e.id,children:e.codigo},e.id))]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"text-[11px] font-bold text-gray-500 uppercase tracking-wide",children:"Tasa"}),H.jsx(en,{className:"h-8 text-xs text-right bg-gray-50",value:N.tasaCambio,readOnly:!0})]})]}),H.jsx("div",{className:"lg:col-span-2 space-y-2",children:H.jsxs("div",{children:[H.jsx("label",{className:"text-[11px] font-bold text-gray-500 uppercase tracking-wide",children:"Referencia"}),H.jsx(en,{className:"h-8 text-xs",placeholder:"Opcional...",value:N.referencia,onChange:e=>k({...N,referencia:e.target.value})})]})})]}),ke&&H.jsxs("div",{className:"bg-gray-50/80 px-4 py-2 border-t border-gray-100 grid grid-cols-2 md:grid-cols-5 gap-4 text-xs",children:[H.jsxs("div",{className:"col-span-2",children:[H.jsx("span",{className:"text-gray-400 font-bold uppercase mr-2",children:"Direccin:"}),H.jsx("span",{className:"font-medium text-gray-700",children:ke.address||"N/A"})]}),H.jsxs("div",{children:[H.jsx("span",{className:"text-gray-400 font-bold uppercase mr-2",children:"Telfono:"}),H.jsx("span",{className:"font-medium text-gray-700",children:ke.phone||"N/A"})]}),H.jsxs("div",{children:[H.jsx("span",{className:"text-gray-400 font-bold uppercase mr-2",children:"Vendedor:"}),H.jsx("span",{className:"font-medium text-gray-700",children:ke.vendedorId||"N/A"})]}),H.jsxs("div",{children:[H.jsx("span",{className:"text-gray-400 font-bold uppercase mr-2",children:"Lmite:"}),H.jsxs("span",{className:"font-medium text-gray-700",children:["$",(ke.creditLimit||0).toLocaleString()]})]})]})]}),H.jsx("div",{className:"flex flex-col lg:flex-row gap-6",children:H.jsxs(ln,{className:"flex-1 shadow-md flex flex-col min-h-[500px]",children:[H.jsxs("div",{className:"bg-[#f0f0f0] border-b border-[#e1e1e1] flex items-center gap-2 px-2 py-1 h-10",children:[H.jsx("div",{className:"text-xs font-semibold text-gray-600 px-2 border-r border-gray-300 mr-2",children:"LNEAS DE VENTA"}),H.jsxs("div",{className:"relative w-64 md:w-80 group",children:[H.jsx(ja,{className:"absolute left-2.5 top-2 h-4 w-4 text-gray-500 group-focus-within:text-blue-700"}),H.jsx("input",{type:"text",placeholder:"Escriba para buscar...",className:"w-full h-8 pl-9 pr-2 text-sm bg-white border border-gray-300 focus:border-blue-700 hover:border-gray-500 focus:ring-0 focus:outline-none transition-colors placeholder:text-gray-500",value:M,onChange:e=>{T(e.target.value),D(!0)},onFocus:()=>D(!0),onKeyDown:e=>{if("Enter"===e.key){if(!N.clienteId)return void alert(" Seleccione un cliente para buscar productos.");F.length>0?(je(F[0]),T("")):I(!0)}}}),A&&M&&H.jsx("div",{className:"absolute top-8 left-0 w-[500px] bg-white border border-gray-400 shadow-[0_4px_12px_rgba(0,0,0,0.15)] max-h-80 overflow-y-auto z-50 rounded-sm",children:0===F.length?H.jsxs("div",{className:"p-3 text-center text-gray-500 text-xs cursor-pointer hover:bg-gray-100",onClick:()=>I(!0),children:["Sin resultados. ",H.jsx("span",{className:"text-blue-700 font-semibold hover:underline",children:"Abrir Catlogo Avanzado (F4)"})]}):F.map(e=>H.jsxs("div",{className:"px-3 py-2 hover:bg-[#EDEBE9] cursor-pointer border-b border-gray-100 grid grid-cols-[1fr,auto] gap-4 items-center group/item transition-colors",onClick:()=>je(e),children:[H.jsxs("div",{children:[H.jsx("div",{className:"font-semibold text-gray-800 text-sm group-hover/item:text-black",children:e.descripcion}),H.jsxs("div",{className:"text-[11px] text-gray-500 font-mono flex gap-2",children:[H.jsx("span",{className:"text-gray-600",children:e.numeroArticulo}),e.codigoBarras&&H.jsxs("span",{className:"text-gray-400",children:["| ",e.codigoBarras]}),H.jsxs("span",{className:"bg-gray-100 text-gray-600 px-1 rounded border border-gray-200",children:["Disp: ",e.stockActual||0]})]})]}),H.jsxs("div",{className:"text-right",children:[H.jsxs("div",{className:"font-bold text-gray-800 text-sm",children:["$",(e.precioVenta||e.precioUnitario||0).toFixed(2)]}),H.jsx("div",{className:"text-[10px] text-gray-400",children:e.unidadMedidaId||"UND"})]})]},e.id))})]}),H.jsxs("button",{onClick:()=>{N.clienteId?I(!0):alert(" Seleccione un cliente para abrir el catlogo.")},className:"flex items-center gap-2 px-3 py-2 text-sm font-bold text-white bg-hd-orange hover:bg-orange-600 transition-colors rounded-md shadow-sm",title:"Abrir catlogo avanzado de productos",children:[H.jsx(xa,{className:"h-4 w-4 text-white"}),H.jsx("span",{children:"Agregar Productos"})]}),H.jsx("div",{className:"flex-grow"})]}),H.jsx("div",{className:"hidden"}),H.jsx($o,{isOpen:O,onClose:()=>{I(!1),ye(null)},onSelect:e=>{ve?we(ve,e):je(e)},clientContext:{nivelPrecio:null==ke?void 0:ke.nivelPrecio,moneda:(null===(t=h.find(e=>e.id==N.monedaId))||void 0===t?void 0:t.codigo)||"DOP"}}),H.jsxs("div",{className:"flex items-center text-sm text-gray-500 ml-auto hidden md:flex px-4 py-2 border-b border-gray-100",children:[H.jsxs("span",{className:"mr-2",children:["Items: ",H.jsx("strong",{children:z.length})]}),H.jsxs("span",{children:["Total Qty: ",H.jsx("strong",{children:z.reduce((e,t)=>e+t.cantidad,0)})]})]}),H.jsx("div",{className:"flex-1 overflow-auto bg-white min-h-[300px]",children:H.jsxs(tn,{children:[H.jsx(rn,{className:"bg-gray-100 sticky top-0 z-10 shadow-sm",children:H.jsxs(nn,{children:[H.jsx(on,{className:"w-[50px] text-center",children:"#"}),H.jsx(on,{className:"w-[120px]",children:"Cdigo"}),H.jsx(on,{children:"Descripcin"}),H.jsx(on,{className:"w-[80px]",children:"Unidad"}),H.jsx(on,{className:"w-[80px] text-right",children:"Cant."}),H.jsx(on,{className:"w-[100px] text-right",children:"Precio"}),H.jsx(on,{className:"w-[80px] text-right",children:"Desc. (%)"}),H.jsx(on,{className:"w-[90px] text-right",children:"Desc. ($)"}),H.jsx(on,{className:"w-[90px] text-right",children:"Impuesto"}),H.jsx(on,{className:"w-[100px] text-right",children:"Total"}),H.jsx(on,{className:"w-[50px]"})]})}),H.jsxs(an,{children:[z.map((e,t)=>H.jsxs(nn,{className:"hover:bg-gray-50 group border-b border-gray-100 last:border-0 transition-colors",children:[H.jsx(sn,{className:"text-center text-xs text-gray-400 font-normal",children:t+1}),H.jsxs(sn,{className:"font-mono text-xs font-semibold text-gray-700 relative",children:[e.codigo,H.jsx("button",{className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 p-1 text-gray-400 hover:text-hd-orange",onClick:()=>{ye(e.id),I(!0)},title:"Editar Artculo",children:H.jsx(ja,{size:14})})]}),H.jsxs(sn,{className:"font-medium text-gray-700 relative",onMouseEnter:()=>de&&ce(e.articuloId),onMouseLeave:()=>de&&ce(null),children:[e.descripcion,de&&le===e.articuloId&&H.jsx(fi,{articuloId:e.articuloId,warehouses:c})]}),H.jsx(sn,{children:(t=>{const r=(null===(t=h.find(e=>e.id==N.monedaId))||void 0===t?void 0:t.codigo)||"DOP",a=(e.availablePrices||[]).filter(e=>e.activo&&(!e.moneda||e.moneda===r)),n=[...new Set(a.map(e=>e.unidadMedida))];return e.unidad&&!n.includes(e.unidad)&&n.unshift(e.unidad),n.length>0?H.jsx("div",{className:"relative group",children:H.jsx("select",{className:"w-full bg-transparent border-0 border-b border-gray-100 focus:border-hd-orange focus:ring-0 p-1 h-8 text-xs font-medium text-gray-700",value:e.unidad,onChange:t=>((e,t)=>{var r;const a=z.find(t=>t.id===e);if(!a)return;let n=a.precio;const o=(null===(r=h.find(e=>e.id==N.monedaId))||void 0===r?void 0:r.codigo)||"DOP",i=a.availablePrices.filter(e=>e.unidadMedida===t&&e.activo&&e.moneda===o);if(i.length>0&&(n=i[0].precio,null!=ke&&ke.nivelPrecioId)){const e=i.find(e=>e.nivelPrecioId===ke.nivelPrecioId);e&&(n=e.precio)}Ne(e,{unidad:t,precio:n})})(e.id,t.target.value),children:n.map(e=>H.jsx("option",{value:e,children:e},e))})}):H.jsx("input",{type:"text",className:"w-full bg-transparent border-0 border-b border-gray-100 focus:border-hd-orange focus:ring-0 p-1 h-8 text-xs font-medium text-gray-600 uppercase",value:e.unidad||G,readOnly:!0})})()}),H.jsx(sn,{children:H.jsx("input",{id:`qty-${e.id}`,type:"number",className:"w-full text-right bg-gray-50 border-0 border-b border-transparent focus:border-hd-orange focus:ring-0 focus:bg-white p-1 h-8 rounded text-sm font-bold",value:e.cantidad,onChange:t=>{const r=parseInt(t.target.value);Ne(e.id,{cantidad:isNaN(r)?0:r})},min:"1",onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),e.target.blur())}})}),H.jsx(sn,{children:H.jsx("input",{type:"number",className:"w-full text-right bg-transparent border-0 border-b border-gray-100 focus:border-hd-orange focus:ring-0 p-1 h-8 text-sm text-gray-600",value:e.precio,onChange:t=>Ne(e.id,{precio:t.target.value}),onBlur:t=>Ne(e.id,{precio:parseFloat(t.target.value)||0})})}),H.jsx(sn,{children:H.jsx("input",{type:"number",className:"w-full text-right bg-transparent border-0 border-b border-gray-100 focus:border-hd-orange focus:ring-0 p-1 h-8 text-sm text-gray-600",value:e.descuentoPorcentaje||"",placeholder:"0%",onChange:t=>{const r=t.target.value,a=(parseFloat(e.cantidad)||0)*(parseFloat(e.precio)||0)*((parseFloat(r)||0)/100);Ne(e.id,{descuentoPorcentaje:r,descuento:a.toFixed(2)})},onBlur:t=>{let r=parseFloat(t.target.value)||0;r>100&&(r=100),r<0&&(r=0);const a=(parseFloat(e.cantidad)||0)*(parseFloat(e.precio)||0)*(r/100);Ne(e.id,{descuentoPorcentaje:r,descuento:a})}})}),H.jsx(sn,{children:H.jsx("input",{type:"number",className:"w-full text-right bg-transparent border-0 border-b border-gray-100 focus:border-hd-orange focus:ring-0 p-1 h-8 text-sm text-gray-600",value:e.descuento||"",placeholder:"0.00",onChange:t=>{const r=t.target.value,a=parseFloat(r)||0,n=(parseFloat(e.cantidad)||0)*(parseFloat(e.precio)||0);let o=0;n>0&&(o=a/n*100),Ne(e.id,{descuento:r,descuentoPorcentaje:o.toFixed(2)})},onBlur:t=>{let r=parseFloat(t.target.value)||0;const a=e.cantidad*e.precio;r>a&&(alert("El descuento no puede ser mayor al monto de la lnea."),r=0);let n=0;a>0&&(n=r/a*100),Ne(e.id,{descuento:r,descuentoPorcentaje:n})}})}),H.jsxs(sn,{className:"text-right text-xs text-gray-500",children:["$",((e.cantidad*e.precio-(e.descuento||0))*(e.taxRate||0)).toFixed(2)]}),H.jsxs(sn,{className:"text-right font-bold text-gray-900 bg-gray-50/50",children:["$",((e.cantidad*e.precio-(e.descuento||0))*(1+(e.taxRate||0))).toFixed(2)]}),H.jsx(sn,{children:H.jsx("button",{onClick:()=>{return t=e.id,void R(e=>e.filter(e=>e.id!==t));var t},className:"text-gray-300 hover:text-red-500 transition-colors p-2",children:H.jsx(Ta,{size:16})})})]},e.id)),0===z.length&&H.jsx(nn,{children:H.jsx(sn,{colSpan:8,className:"text-center py-20",children:H.jsxs("div",{className:"flex flex-col items-center opacity-30",children:[H.jsx("div",{className:"bg-gray-100 p-4 rounded-full mb-3",children:H.jsx(xa,{className:"h-8 w-8 text-gray-400"})}),H.jsx("div",{className:"text-lg font-medium text-gray-600",children:"Lista Vacia"}),H.jsx("div",{className:"text-sm text-gray-500",children:"Use la barra de bsqueda para agregar productos"})]})})})]})]})}),H.jsxs("div",{className:"bg-gray-900 text-white p-6 rounded-b-lg",children:[H.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[H.jsxs("div",{className:"text-sm text-gray-400 space-y-1",children:[H.jsx("p",{children:"Usuario: Admin"}),H.jsx("p",{children:"Terminal: POS-01"})]}),H.jsxs("div",{className:"flex gap-8 items-end",children:[H.jsxs("div",{className:"text-right",children:[H.jsx("div",{className:"text-gray-400 text-xs uppercase mb-1",children:"Subtotal"}),H.jsxs("div",{className:"text-xl font-medium",children:["$",be.rawSubtotal.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),H.jsxs("div",{className:"text-right flex flex-col items-end",children:[H.jsx("div",{className:"text-gray-400 text-xs uppercase mb-1",children:"Desc. General"}),H.jsxs("div",{className:"flex gap-2 w-48",children:[H.jsxs("div",{className:"relative w-1/2",children:[H.jsx("input",{type:"number",className:"w-full bg-gray-800 border border-gray-700 rounded text-right p-1 text-sm text-white focus:border-hd-orange focus:outline-none",placeholder:"%",value:N.descuentoGlobalPorcentaje||"",onChange:e=>{const t=parseFloat(e.target.value)||0,r=be.rawSubtotal*(t/100);k(t=>({...t,descuentoGlobalPorcentaje:e.target.value,descuentoGlobalMonto:r.toFixed(2)}))}}),H.jsx("span",{className:"absolute left-1 top-1 text-xs text-gray-500",children:"%"})]}),H.jsx("div",{className:"relative w-1/2",children:H.jsx("input",{type:"number",className:"w-full bg-gray-800 border border-gray-700 rounded text-right p-1 text-sm text-white focus:border-hd-orange focus:outline-none",placeholder:"$",value:N.descuentoGlobalMonto||"",onChange:e=>{const t=parseFloat(e.target.value)||0;let r=0;be.rawSubtotal>0&&(r=t/be.rawSubtotal*100),k(t=>({...t,descuentoGlobalMonto:e.target.value,descuentoGlobalPorcentaje:r.toFixed(2)}))}})})]})]}),H.jsxs("div",{className:"text-right",children:[H.jsx("div",{className:"text-gray-400 text-xs uppercase mb-1",children:"Impuestos"}),H.jsxs("div",{className:"text-xl font-medium",children:["$",be.impuestos.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),H.jsxs("div",{className:"text-right pl-8 border-l border-gray-700",children:[H.jsx("div",{className:"text-sm uppercase font-bold mb-1 "+(C?"text-red-500":"text-hd-orange"),children:C?"Total a Devolver":"Total General"}),H.jsxs("div",{className:"text-4xl font-bold tracking-tight",children:["$",be.total.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]}),Y.length>0&&H.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-800 flex flex-wrap gap-2",children:[H.jsxs("span",{className:"text-[10px] uppercase font-bold text-gray-500 flex items-center gap-1 w-full mb-1",children:[H.jsx(Lr,{size:12,className:"text-hd-orange"})," Promociones Aplicadas:"]}),Y.map((e,t)=>H.jsx("div",{className:"bg-hd-orange/10 border border-hd-orange/30 text-hd-orange px-2 py-0.5 rounded text-[11px] font-bold flex items-center gap-1 animate-in fade-in zoom-in duration-300",children:e},t)),H.jsxs("div",{className:"ml-auto text-hd-orange text-xs font-bold",children:["Ahorro total: -$",Q.toFixed(2)]})]})]})]})})]}),H.jsx(Rn,{open:$,onOpenChange:U,children:H.jsxs(_n,{className:"sm:max-w-fit",children:[H.jsx(Ln,{children:H.jsx($n,{children:"Editar Datos del Cliente"})}),H.jsxs("div",{className:"grid gap-4 py-4 px-2",children:[H.jsxs("div",{className:"grid grid-cols-[100px_auto] items-center gap-4",children:[H.jsx("label",{htmlFor:"taxId",className:"text-right text-sm font-bold text-gray-700",children:"RNC/Cdula"}),H.jsx(en,{id:"taxId",value:B.taxId,onChange:e=>V({...B,taxId:e.target.value}),className:"h-9 w-[300px]"})]}),H.jsxs("div",{className:"grid grid-cols-[100px_auto] items-center gap-4",children:[H.jsx("label",{htmlFor:"address",className:"text-right text-sm font-bold text-gray-700",children:"Direccin"}),H.jsx(en,{id:"address",value:B.address,onChange:e=>V({...B,address:e.target.value}),className:"h-9 w-[300px]"})]}),H.jsxs("div",{className:"grid grid-cols-[100px_auto] items-center gap-4",children:[H.jsx("label",{htmlFor:"phone",className:"text-right text-sm font-bold text-gray-700",children:"Telfono"}),H.jsx(en,{id:"phone",value:B.phone,onChange:e=>V({...B,phone:e.target.value}),className:"h-9 w-[300px]"})]})]}),H.jsxs(Un,{children:[H.jsx(Za,{variant:"outline",onClick:()=>U(!1),children:"Cancelar"}),H.jsx(Za,{onClick:async()=>{if(N.clienteId)try{b(!0);const e=o.find(e=>e.id==N.clienteId);if(!e)return;const t={...e,taxId:B.taxId,address:B.address,phone:B.phone};await(async(e,t)=>{const r=await fetch(`${si}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("Error al actualizar cliente");return 204===r.status||await r.json()})(e.id,t),i(r=>r.map(r=>r.id===e.id?t:r)),U(!1),j("Datos del cliente actualizados"),setTimeout(()=>j(""),3e3)}catch(Xd){console.error(Xd),y("Error al actualizar cliente")}finally{b(!1)}},className:"bg-hd-orange hover:bg-orange-600 font-bold",children:"Guardar Cambios"})]})]})}),O&&H.jsx($o,{isOpen:O,onClose:()=>I(!1),onSelect:e=>{ve?we(ve,e):je(e),I(!1)}}),ee&&H.jsx(gi,{isOpen:ee,onClose:()=>te(!1),onSelect:e=>{(async e=>{if(te(!1),e){x(!0);try{const t=await di(e.id||e.Id);k(e=>({...e,clienteId:t.clienteId||t.ClienteId,referencia:`Devolucin Factura #${t.numeroFactura||t.NumeroFactura}`,monedaId:t.monedaId,tipoNCF:"04"}));const r=(t.detalles||t.Detalles||[]).map(e=>({id:Date.now()+Math.random(),articuloId:e.articuloId||e.ArticuloId,codigo:e.articuloCodigo||"N/A",descripcion:e.descripcion||e.Descripcion,unidad:e.unidadMedida||"UND",cantidad:e.cantidad||e.Cantidad,precio:e.precioUnitario||e.PrecioUnitario,taxRate:.18,descuento:0,stockActual:0}));R(r),C||S(!0)}catch(Xd){console.error(Xd),alert("Error al importar la factura")}finally{x(!1)}}})(e),te(!1)}}),ie&&H.jsx(xi,{isOpen:ie,onClose:()=>se(!1),onSelect:e=>{(async e=>{if(se(!1),e){x(!0);try{const t=await hi(e.id||e.Id);k(e=>({...e,clienteId:t.clienteId||t.ClienteId,referencia:`Desde Cotizacin #${t.id||t.Id}`}));const r=(t.detalles||t.Detalles||[]).map(e=>({id:Date.now()+Math.random(),articuloId:e.articuloId||e.ArticuloId,codigo:e.codigo||"N/A",descripcion:e.descripcion||e.Descripcion,unidad:e.unidadMedida||"UND",cantidad:e.cantidad||e.Cantidad,precio:e.precioUnitario||e.PrecioUnitario,taxRate:e.itbisPorcentaje?e.itbisPorcentaje/100:.18,descuento:e.descuento||e.Descuento||0,stockActual:0}));R(r),E&&P(!1)}catch(Xd){console.error(Xd),alert("Error al importar la cotizacin")}finally{x(!1)}}})(e),se(!1)}}),H.jsx(Rn,{open:re,onOpenChange:ae,children:H.jsxs(_n,{className:"sm:max-w-3xl",children:[H.jsx(Ln,{children:H.jsx($n,{className:"text-center text-xl font-bold",children:"Seleccione Mtodo de Devolucin"})}),H.jsxs("div",{className:"grid grid-cols-2 gap-6 py-4",children:[H.jsxs("div",{className:"flex flex-col gap-4",children:[H.jsxs(Za,{onClick:()=>Se("Inventario"),onMouseEnter:()=>oe("Inventario"),onMouseLeave:()=>oe(null),className:"bg-slate-800 hover:bg-slate-700 text-white h-16 text-lg font-semibold shadow-md justify-start px-6",children:[H.jsx(mr,{className:"mr-3 h-6 w-6"})," Solo Devolucin (Inv)"]}),H.jsxs(Za,{onClick:()=>Se("Efectivo"),onMouseEnter:()=>oe("Efectivo"),onMouseLeave:()=>oe(null),className:"bg-red-600 hover:bg-red-700 text-white h-16 text-lg font-semibold shadow-md justify-start px-6",children:[H.jsx(dr,{className:"mr-3 h-6 w-6"})," Reembolso (Efectivo)"]}),H.jsxs(Za,{onClick:()=>Se("NotaCredito"),onMouseEnter:()=>oe("NotaCredito"),onMouseLeave:()=>oe(null),className:"bg-green-600 hover:bg-green-700 text-white h-16 text-lg font-semibold shadow-md justify-start px-6",children:[H.jsx(zr,{className:"mr-3 h-6 w-6"})," Cambio (Nota Crdito)"]})]}),H.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200 flex flex-col justify-center items-center text-center",children:[!ne&&H.jsx("p",{className:"text-gray-400 italic",children:"Pase el mouse sobre una opcin para ver detalles."}),"Inventario"===ne&&H.jsxs("div",{className:"space-y-3 animate-in fade-in zoom-in duration-200",children:[H.jsx(mr,{className:"h-12 w-12 text-slate-800 mx-auto"}),H.jsx("h3",{className:"font-bold text-lg text-slate-800",children:"Solo Devolucin"}),H.jsxs("ul",{className:"text-sm text-gray-600 space-y-2 text-left bg-white p-4 rounded shadow-sm",children:[H.jsxs("li",{children:[" ",H.jsx("b",{children:"Inventario:"})," Aumenta (regresa el producto)."]}),H.jsxs("li",{children:[" ",H.jsx("b",{children:"Cliente:"})," No afecta su saldo (movimiento interno)."]}),H.jsx("li",{children:" ideal para correcciones de inventario."})]})]}),"Efectivo"===ne&&H.jsxs("div",{className:"space-y-3 animate-in fade-in zoom-in duration-200",children:[H.jsx(dr,{className:"h-12 w-12 text-red-600 mx-auto"}),H.jsx("h3",{className:"font-bold text-lg text-red-600",children:"Reembolso Efectivo"}),H.jsxs("ul",{className:"text-sm text-gray-600 space-y-2 text-left bg-white p-4 rounded shadow-sm",children:[H.jsxs("li",{children:[" ",H.jsx("b",{children:"Inventario:"})," Aumenta."]}),H.jsxs("li",{children:[" ",H.jsx("b",{children:"Caja:"})," Sale dinero inmediatamente."]}),H.jsxs("li",{children:[" ",H.jsx("b",{children:"Cliente:"})," No afecta su saldo (se liquid la deuda)."]})]})]}),"NotaCredito"===ne&&H.jsxs("div",{className:"space-y-3 animate-in fade-in zoom-in duration-200",children:[H.jsx(zr,{className:"h-12 w-12 text-green-600 mx-auto"}),H.jsx("h3",{className:"font-bold text-lg text-green-600",children:"Nota de Crdito"}),H.jsxs("ul",{className:"text-sm text-gray-600 space-y-2 text-left bg-white p-4 rounded shadow-sm",children:[H.jsxs("li",{children:[" ",H.jsx("b",{children:"Inventario:"})," Aumenta."]}),H.jsxs("li",{children:[" ",H.jsx("b",{children:"Cliente:"})," ",H.jsx("span",{className:"text-green-600 font-bold",children:"Disminuye su deuda"})," o crea saldo a favor."]}),H.jsx("li",{children:" selo para cambios futuros."})]})]})]})]})]})})]})},wi=({isOpen:e,onClose:t,sale:r})=>{var a;if(!r)return null;const n=e=>new Intl.NumberFormat("es-DO",{style:"currency",currency:r.monedaCodigo||"DOP"}).format(e||0);return H.jsx(Rn,{open:e,onOpenChange:t,children:H.jsxs(_n,{className:"max-w-4xl bg-white p-0 overflow-hidden shadow-2xl",children:[H.jsxs("div",{className:"bg-gray-900 px-6 py-4 flex justify-between items-center text-white",children:[H.jsxs("div",{children:[H.jsx("h2",{className:"text-xl font-bold",children:"Detalle de Venta"}),H.jsx("p",{className:"text-sm text-gray-400 font-mono",children:r.numeroFactura})]}),H.jsx(Za,{variant:"ghost",className:"text-white hover:bg-white/10",onClick:t,children:H.jsx(Ha,{})})]}),H.jsxs("div",{className:"p-6 overflow-y-auto max-h-[80vh]",children:[H.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6 text-sm",children:[H.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[H.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase",children:"Fecha"}),H.jsx("span",{className:"font-semibold text-gray-800",children:new Date(r.fecha).toLocaleString()})]}),H.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[H.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase",children:"Cliente"}),H.jsx("span",{className:"font-semibold text-gray-800",children:r.clienteNombre})]}),H.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[H.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase",children:"NCF"}),H.jsx("span",{className:"font-mono font-semibold text-blue-700",children:r.ncf||"N/A"})]}),H.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[H.jsx("label",{className:"block text-xs font-bold text-gray-400 uppercase",children:"Mtodo Pago"}),H.jsx("span",{className:"font-semibold text-gray-800",children:r.metodoPago})]})]}),H.jsx("div",{className:"border rounded-lg overflow-hidden mb-6",children:H.jsxs("table",{className:"w-full text-sm",children:[H.jsx("thead",{className:"bg-gray-100 border-b",children:H.jsxs("tr",{children:[H.jsx("th",{className:"px-4 py-2 text-left text-gray-600",children:"Cdigo"}),H.jsx("th",{className:"px-4 py-2 text-left text-gray-600",children:"Descripcin"}),H.jsx("th",{className:"px-4 py-2 text-right text-gray-600",children:"Cant"}),H.jsx("th",{className:"px-4 py-2 text-right text-gray-600",children:"Precio"}),H.jsx("th",{className:"px-4 py-2 text-right text-gray-600",children:"Total"})]})}),H.jsx("tbody",{className:"divide-y",children:null===(a=r.detalles)||void 0===a?void 0:a.map((e,t)=>H.jsxs("tr",{className:"hover:bg-gray-50",children:[H.jsx("td",{className:"px-4 py-2 font-mono text-xs text-gray-500",children:e.codigo}),H.jsx("td",{className:"px-4 py-2 font-medium text-gray-800",children:e.descripcion}),H.jsx("td",{className:"px-4 py-2 text-right",children:e.cantidad}),H.jsx("td",{className:"px-4 py-2 text-right",children:n(e.precioUnitario)}),H.jsx("td",{className:"px-4 py-2 text-right font-bold",children:n(e.totalLinea)})]},t))})]})}),H.jsxs("div",{className:"flex justify-between items-end border-t pt-4",children:[H.jsx("div",{children:H.jsxs(Za,{variant:"outline",onClick:async()=>{const e={receipt:{number:r.numeroFactura,NumeroRecibo:r.numeroFactura,NumeroFactura:r.numeroFactura,ncf:r.ncf,tipoNCF:r.tipoNCF,date:r.fecha,time:r.fecha,cashier:r.usuario||"Sistema",client:r.clienteNombre,subtotal:r.subtotal,tax:r.itbis,total:r.total,paymentMethod:r.metodoPago,receivedAmount:r.montoRecibido,change:r.cambio},company:{name:"POS CRONO",address:"Calle Principal #1",rnc:"123456789",phone:"809-555-5555"},items:(r.detalles||[]).map(e=>({description:e.descripcion||"Artculo",qty:e.cantidad,price:e.precioUnitario,total:e.totalLinea}))};await ri(e)},className:"flex gap-2 items-center",children:[H.jsx(fa,{size:16})," Imprimir Recibo"]})}),H.jsxs("div",{className:"w-64 space-y-2",children:[H.jsxs("div",{className:"flex justify-between text-gray-600",children:[H.jsx("span",{children:"Subtotal:"}),H.jsx("span",{children:n(r.subtotal)})]}),H.jsxs("div",{className:"flex justify-between text-gray-600",children:[H.jsx("span",{children:"ITBIS:"}),H.jsx("span",{children:n(r.itbis)})]}),H.jsxs("div",{className:"flex justify-between text-xl font-black text-hd-orange border-t pt-2 border-gray-200",children:[H.jsx("span",{children:"Total:"}),H.jsx("span",{children:n(r.total)})]})]})]})]})]})})};
/**
			   * table-core
			   *
			   * Copyright (c) TanStack
			   *
			   * This source code is licensed under the MIT license found in the
			   * LICENSE.md file in the root directory of this source tree.
			   *
			   * @license MIT
			   */
function ji(e,t){return"function"==typeof e?e(t):e}function Ni(e,t){return r=>{t.setState(t=>({...t,[e]:ji(r,t[e])}))}}function ki(e){return e instanceof Function}function Ci(e,t,r){let a,n=[];return o=>{let i;r.key&&r.debug&&(i=Date.now());const s=e(o);if(!(s.length!==n.length||s.some((e,t)=>n[t]!==e)))return a;let l;if(n=s,r.key&&r.debug&&(l=Date.now()),a=t(...s),null==r||null==r.onChange||r.onChange(a),r.key&&r.debug&&null!=r&&r.debug()){const e=Math.round(100*(Date.now()-i))/100,t=Math.round(100*(Date.now()-l))/100,a=t/16,n=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info(`%c ${n(t,5)} /${n(e,5)} ms`,`\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(0,Math.min(120-120*a,120))}deg 100% 31%);`,null==r?void 0:r.key)}return a}}function Si(e,t,r,a){return{debug:()=>{var r;return null!=(r=null==e?void 0:e.debugAll)?r:e[t]},key:!1,onChange:a}}const Ei="debugHeaders";function Pi(e,t,r){var a;let n={id:null!=(a=r.id)?a:t.id,column:t,index:r.index,isPlaceholder:!!r.isPlaceholder,placeholderId:r.placeholderId,depth:r.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const e=[],t=r=>{r.subHeaders&&r.subHeaders.length&&r.subHeaders.map(t),e.push(r)};return t(n),e},getContext:()=>({table:e,header:n,column:t})};return e._features.forEach(t=>{null==t.createHeader||t.createHeader(n,e)}),n}const Oi={createTable:e=>{e.getHeaderGroups=Ci(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,r,a,n)=>{var o,i;const s=null!=(o=null==a?void 0:a.map(e=>r.find(t=>t.id===e)).filter(Boolean))?o:[],l=null!=(i=null==n?void 0:n.map(e=>r.find(t=>t.id===e)).filter(Boolean))?i:[];return Ii(t,[...s,...r.filter(e=>!(null!=a&&a.includes(e.id)||null!=n&&n.includes(e.id))),...l],e)},Si(e.options,Ei)),e.getCenterHeaderGroups=Ci(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,r,a,n)=>Ii(t,r=r.filter(e=>!(null!=a&&a.includes(e.id)||null!=n&&n.includes(e.id))),e,"center"),Si(e.options,Ei)),e.getLeftHeaderGroups=Ci(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,r,a)=>{var n;const o=null!=(n=null==a?void 0:a.map(e=>r.find(t=>t.id===e)).filter(Boolean))?n:[];return Ii(t,o,e,"left")},Si(e.options,Ei)),e.getRightHeaderGroups=Ci(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,r,a)=>{var n;const o=null!=(n=null==a?void 0:a.map(e=>r.find(t=>t.id===e)).filter(Boolean))?n:[];return Ii(t,o,e,"right")},Si(e.options,Ei)),e.getFooterGroups=Ci(()=>[e.getHeaderGroups()],e=>[...e].reverse(),Si(e.options,Ei)),e.getLeftFooterGroups=Ci(()=>[e.getLeftHeaderGroups()],e=>[...e].reverse(),Si(e.options,Ei)),e.getCenterFooterGroups=Ci(()=>[e.getCenterHeaderGroups()],e=>[...e].reverse(),Si(e.options,Ei)),e.getRightFooterGroups=Ci(()=>[e.getRightHeaderGroups()],e=>[...e].reverse(),Si(e.options,Ei)),e.getFlatHeaders=Ci(()=>[e.getHeaderGroups()],e=>e.map(e=>e.headers).flat(),Si(e.options,Ei)),e.getLeftFlatHeaders=Ci(()=>[e.getLeftHeaderGroups()],e=>e.map(e=>e.headers).flat(),Si(e.options,Ei)),e.getCenterFlatHeaders=Ci(()=>[e.getCenterHeaderGroups()],e=>e.map(e=>e.headers).flat(),Si(e.options,Ei)),e.getRightFlatHeaders=Ci(()=>[e.getRightHeaderGroups()],e=>e.map(e=>e.headers).flat(),Si(e.options,Ei)),e.getCenterLeafHeaders=Ci(()=>[e.getCenterFlatHeaders()],e=>e.filter(e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}),Si(e.options,Ei)),e.getLeftLeafHeaders=Ci(()=>[e.getLeftFlatHeaders()],e=>e.filter(e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}),Si(e.options,Ei)),e.getRightLeafHeaders=Ci(()=>[e.getRightFlatHeaders()],e=>e.filter(e=>{var t;return!(null!=(t=e.subHeaders)&&t.length)}),Si(e.options,Ei)),e.getLeafHeaders=Ci(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(e,t,r)=>{var a,n,o,i,s,l;return[...null!=(a=null==(n=e[0])?void 0:n.headers)?a:[],...null!=(o=null==(i=t[0])?void 0:i.headers)?o:[],...null!=(s=null==(l=r[0])?void 0:l.headers)?s:[]].map(e=>e.getLeafHeaders()).flat()},Si(e.options,Ei))}};function Ii(e,t,r,a){var n,o;let i=0;const s=function(e,t){void 0===t&&(t=1),i=Math.max(i,t),e.filter(e=>e.getIsVisible()).forEach(e=>{var r;null!=(r=e.columns)&&r.length&&s(e.columns,t+1)},0)};s(e);let l=[];const c=(e,t)=>{const n={depth:t,id:[a,`${t}`].filter(Boolean).join("_"),headers:[]},o=[];e.forEach(e=>{const i=[...o].reverse()[0];let s,l=!1;if(e.column.depth===n.depth&&e.column.parent?s=e.column.parent:(s=e.column,l=!0),i&&(null==i?void 0:i.column)===s)i.subHeaders.push(e);else{const n=Pi(r,s,{id:[a,t,s.id,null==e?void 0:e.id].filter(Boolean).join("_"),isPlaceholder:l,placeholderId:l?`${o.filter(e=>e.column===s).length}`:void 0,depth:t,index:o.length});n.subHeaders.push(e),o.push(n)}n.headers.push(e),e.headerGroup=n}),l.push(n),t>0&&c(o,t-1)},d=t.map((e,t)=>Pi(r,e,{depth:i,index:t}));c(d,i-1),l.reverse();const u=e=>e.filter(e=>e.column.getIsVisible()).map(e=>{let t=0,r=0,a=[0];e.subHeaders&&e.subHeaders.length?(a=[],u(e.subHeaders).forEach(e=>{let{colSpan:r,rowSpan:n}=e;t+=r,a.push(n)})):t=1;return r+=Math.min(...a),e.colSpan=t,e.rowSpan=r,{colSpan:t,rowSpan:r}});return u(null!=(n=null==(o=l[0])?void 0:o.headers)?n:[]),l}const Ai=(e,t,r,a,n,o,i)=>{let s={id:t,index:a,original:r,depth:n,parentId:i,_valuesCache:{},_uniqueValuesCache:{},getValue:t=>{if(s._valuesCache.hasOwnProperty(t))return s._valuesCache[t];const r=e.getColumn(t);return null!=r&&r.accessorFn?(s._valuesCache[t]=r.accessorFn(s.original,a),s._valuesCache[t]):void 0},getUniqueValues:t=>{if(s._uniqueValuesCache.hasOwnProperty(t))return s._uniqueValuesCache[t];const r=e.getColumn(t);return null!=r&&r.accessorFn?r.columnDef.getUniqueValues?(s._uniqueValuesCache[t]=r.columnDef.getUniqueValues(s.original,a),s._uniqueValuesCache[t]):(s._uniqueValuesCache[t]=[s.getValue(t)],s._uniqueValuesCache[t]):void 0},renderValue:t=>{var r;return null!=(r=s.getValue(t))?r:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>function(e,t){const r=[],a=e=>{e.forEach(e=>{r.push(e);const n=t(e);null!=n&&n.length&&a(n)})};return a(e),r}(s.subRows,e=>e.subRows),getParentRow:()=>s.parentId?e.getRow(s.parentId,!0):void 0,getParentRows:()=>{let e=[],t=s;for(;;){const r=t.getParentRow();if(!r)break;e.push(r),t=r}return e.reverse()},getAllCells:Ci(()=>[e.getAllLeafColumns()],t=>t.map(t=>function(e,t,r,a){const n={id:`${t.id}_${r.id}`,row:t,column:r,getValue:()=>t.getValue(a),renderValue:()=>{var t;return null!=(t=n.getValue())?t:e.options.renderFallbackValue},getContext:Ci(()=>[e,r,t,n],(e,t,r,a)=>({table:e,column:t,row:r,cell:a,getValue:a.getValue,renderValue:a.renderValue}),Si(e.options,"debugCells"))};return e._features.forEach(a=>{null==a.createCell||a.createCell(n,r,t,e)},{}),n}(e,s,t,t.id)),Si(e.options,"debugRows")),_getAllCellsByColumnId:Ci(()=>[s.getAllCells()],e=>e.reduce((e,t)=>(e[t.column.id]=t,e),{}),Si(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const t=e._features[l];null==t||null==t.createRow||t.createRow(s,e)}return s},Di={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},Mi=(e,t,r)=>{var a,n;const o=null==r||null==(a=r.toString())?void 0:a.toLowerCase();return Boolean(null==(n=e.getValue(t))||null==(n=n.toString())||null==(n=n.toLowerCase())?void 0:n.includes(o))};Mi.autoRemove=e=>Vi(e);const Ti=(e,t,r)=>{var a;return Boolean(null==(a=e.getValue(t))||null==(a=a.toString())?void 0:a.includes(r))};Ti.autoRemove=e=>Vi(e);const Fi=(e,t,r)=>{var a;return(null==(a=e.getValue(t))||null==(a=a.toString())?void 0:a.toLowerCase())===(null==r?void 0:r.toLowerCase())};Fi.autoRemove=e=>Vi(e);const zi=(e,t,r)=>{var a;return null==(a=e.getValue(t))?void 0:a.includes(r)};zi.autoRemove=e=>Vi(e);const Ri=(e,t,r)=>!r.some(r=>{var a;return!(null!=(a=e.getValue(t))&&a.includes(r))});Ri.autoRemove=e=>Vi(e)||!(null!=e&&e.length);const _i=(e,t,r)=>r.some(r=>{var a;return null==(a=e.getValue(t))?void 0:a.includes(r)});_i.autoRemove=e=>Vi(e)||!(null!=e&&e.length);const Li=(e,t,r)=>e.getValue(t)===r;Li.autoRemove=e=>Vi(e);const $i=(e,t,r)=>e.getValue(t)==r;$i.autoRemove=e=>Vi(e);const Ui=(e,t,r)=>{let[a,n]=r;const o=e.getValue(t);return o>=a&&o<=n};Ui.resolveFilterValue=e=>{let[t,r]=e,a="number"!=typeof t?parseFloat(t):t,n="number"!=typeof r?parseFloat(r):r,o=null===t||Number.isNaN(a)?-1/0:a,i=null===r||Number.isNaN(n)?1/0:n;if(o>i){const e=o;o=i,i=e}return[o,i]},Ui.autoRemove=e=>Vi(e)||Vi(e[0])&&Vi(e[1]);const Bi={includesString:Mi,includesStringSensitive:Ti,equalsString:Fi,arrIncludes:zi,arrIncludesAll:Ri,arrIncludesSome:_i,equals:Li,weakEquals:$i,inNumberRange:Ui};function Vi(e){return null==e||""===e}const Gi={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Ni("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const r=t.getCoreRowModel().flatRows[0],a=null==r?void 0:r.getValue(e.id);return"string"==typeof a?Bi.includesString:"number"==typeof a?Bi.inNumberRange:"boolean"==typeof a||null!==a&&"object"==typeof a?Bi.equals:Array.isArray(a)?Bi.arrIncludes:Bi.weakEquals},e.getFilterFn=()=>{var r,a;return ki(e.columnDef.filterFn)?e.columnDef.filterFn:"auto"===e.columnDef.filterFn?e.getAutoFilterFn():null!=(r=null==(a=t.options.filterFns)?void 0:a[e.columnDef.filterFn])?r:Bi[e.columnDef.filterFn]},e.getCanFilter=()=>{var r,a,n;return(null==(r=e.columnDef.enableColumnFilter)||r)&&(null==(a=t.options.enableColumnFilters)||a)&&(null==(n=t.options.enableFilters)||n)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var r;return null==(r=t.getState().columnFilters)||null==(r=r.find(t=>t.id===e.id))?void 0:r.value},e.getFilterIndex=()=>{var r,a;return null!=(r=null==(a=t.getState().columnFilters)?void 0:a.findIndex(t=>t.id===e.id))?r:-1},e.setFilterValue=r=>{t.setColumnFilters(t=>{const a=e.getFilterFn(),n=null==t?void 0:t.find(t=>t.id===e.id),o=ji(r,n?n.value:void 0);var i;if(qi(a,o,e))return null!=(i=null==t?void 0:t.filter(t=>t.id!==e.id))?i:[];const s={id:e.id,value:o};var l;return n?null!=(l=null==t?void 0:t.map(t=>t.id===e.id?s:t))?l:[]:null!=t&&t.length?[...t,s]:[s]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const r=e.getAllLeafColumns();null==e.options.onColumnFiltersChange||e.options.onColumnFiltersChange(e=>{var a;return null==(a=ji(t,e))?void 0:a.filter(e=>{const t=r.find(t=>t.id===e.id);if(t){if(qi(t.getFilterFn(),e.value,t))return!1}return!0})})},e.resetColumnFilters=t=>{var r,a;e.setColumnFilters(t?[]:null!=(r=null==(a=e.initialState)?void 0:a.columnFilters)?r:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function qi(e,t,r){return!(!e||!e.autoRemove)&&e.autoRemove(t,r)||void 0===t||"string"==typeof t&&!t}const Hi={sum:(e,t,r)=>r.reduce((t,r)=>{const a=r.getValue(e);return t+("number"==typeof a?a:0)},0),min:(e,t,r)=>{let a;return r.forEach(t=>{const r=t.getValue(e);null!=r&&(a>r||void 0===a&&r>=r)&&(a=r)}),a},max:(e,t,r)=>{let a;return r.forEach(t=>{const r=t.getValue(e);null!=r&&(a<r||void 0===a&&r>=r)&&(a=r)}),a},extent:(e,t,r)=>{let a,n;return r.forEach(t=>{const r=t.getValue(e);null!=r&&(void 0===a?r>=r&&(a=n=r):(a>r&&(a=r),n<r&&(n=r)))}),[a,n]},mean:(e,t)=>{let r=0,a=0;if(t.forEach(t=>{let n=t.getValue(e);null!=n&&(n=+n)>=n&&(++r,a+=n)}),r)return a/r},median:(e,t)=>{if(!t.length)return;const r=t.map(t=>t.getValue(e));if(!function(e){return Array.isArray(e)&&e.every(e=>"number"==typeof e)}(r))return;if(1===r.length)return r[0];const a=Math.floor(r.length/2),n=r.sort((e,t)=>e-t);return r.length%2!=0?n[a]:(n[a-1]+n[a])/2},unique:(e,t)=>Array.from(new Set(t.map(t=>t.getValue(e))).values()),uniqueCount:(e,t)=>new Set(t.map(t=>t.getValue(e))).size,count:(e,t)=>t.length},Wi={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,r;return null!=(t=null==(r=e.getValue())||null==r.toString?void 0:r.toString())?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Ni("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(t=>null!=t&&t.includes(e.id)?t.filter(t=>t!==e.id):[...null!=t?t:[],e.id])},e.getCanGroup=()=>{var r,a;return(null==(r=e.columnDef.enableGrouping)||r)&&(null==(a=t.options.enableGrouping)||a)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var r;return null==(r=t.getState().grouping)?void 0:r.includes(e.id)},e.getGroupedIndex=()=>{var r;return null==(r=t.getState().grouping)?void 0:r.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const r=t.getCoreRowModel().flatRows[0],a=null==r?void 0:r.getValue(e.id);return"number"==typeof a?Hi.sum:"[object Date]"===Object.prototype.toString.call(a)?Hi.extent:void 0},e.getAggregationFn=()=>{var r,a;if(!e)throw new Error;return ki(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:"auto"===e.columnDef.aggregationFn?e.getAutoAggregationFn():null!=(r=null==(a=t.options.aggregationFns)?void 0:a[e.columnDef.aggregationFn])?r:Hi[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>null==e.options.onGroupingChange?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var r,a;e.setGrouping(t?[]:null!=(r=null==(a=e.initialState)?void 0:a.grouping)?r:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=r=>{if(e._groupingValuesCache.hasOwnProperty(r))return e._groupingValuesCache[r];const a=t.getColumn(r);return null!=a&&a.columnDef.getGroupingValue?(e._groupingValuesCache[r]=a.columnDef.getGroupingValue(e.original),e._groupingValuesCache[r]):e.getValue(r)},e._groupingValuesCache={}},createCell:(e,t,r,a)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===r.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var t;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!(null==(t=r.subRows)||!t.length)}}};const Ki={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Ni("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=Ci(e=>[ts(t,e)],t=>t.findIndex(t=>t.id===e.id),Si(t.options,"debugColumns")),e.getIsFirstColumn=r=>{var a;return(null==(a=ts(t,r)[0])?void 0:a.id)===e.id},e.getIsLastColumn=r=>{var a;const n=ts(t,r);return(null==(a=n[n.length-1])?void 0:a.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>null==e.options.onColumnOrderChange?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var r;e.setColumnOrder(t?[]:null!=(r=e.initialState.columnOrder)?r:[])},e._getOrderColumnsFn=Ci(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(e,t,r)=>a=>{let n=[];if(null!=e&&e.length){const t=[...e],r=[...a];for(;r.length&&t.length;){const e=t.shift(),a=r.findIndex(t=>t.id===e);a>-1&&n.push(r.splice(a,1)[0])}n=[...n,...r]}else n=a;return function(e,t,r){if(null==t||!t.length||!r)return e;const a=e.filter(e=>!t.includes(e.id));if("remove"===r)return a;const n=t.map(t=>e.find(e=>e.id===t)).filter(Boolean);return[...n,...a]}(n,t,r)},Si(e.options,"debugTable"))}},Ji={getInitialState:e=>({columnPinning:{left:[],right:[]},...e}),getDefaultOptions:e=>({onColumnPinningChange:Ni("columnPinning",e)}),createColumn:(e,t)=>{e.pin=r=>{const a=e.getLeafColumns().map(e=>e.id).filter(Boolean);t.setColumnPinning(e=>{var t,n,o,i,s,l;return"right"===r?{left:(null!=(o=null==e?void 0:e.left)?o:[]).filter(e=>!(null!=a&&a.includes(e))),right:[...(null!=(i=null==e?void 0:e.right)?i:[]).filter(e=>!(null!=a&&a.includes(e))),...a]}:"left"===r?{left:[...(null!=(s=null==e?void 0:e.left)?s:[]).filter(e=>!(null!=a&&a.includes(e))),...a],right:(null!=(l=null==e?void 0:e.right)?l:[]).filter(e=>!(null!=a&&a.includes(e)))}:{left:(null!=(t=null==e?void 0:e.left)?t:[]).filter(e=>!(null!=a&&a.includes(e))),right:(null!=(n=null==e?void 0:e.right)?n:[]).filter(e=>!(null!=a&&a.includes(e)))}})},e.getCanPin=()=>e.getLeafColumns().some(e=>{var r,a,n;return(null==(r=e.columnDef.enablePinning)||r)&&(null==(a=null!=(n=t.options.enableColumnPinning)?n:t.options.enablePinning)||a)}),e.getIsPinned=()=>{const r=e.getLeafColumns().map(e=>e.id),{left:a,right:n}=t.getState().columnPinning,o=r.some(e=>null==a?void 0:a.includes(e)),i=r.some(e=>null==n?void 0:n.includes(e));return o?"left":!!i&&"right"},e.getPinnedIndex=()=>{var r,a;const n=e.getIsPinned();return n?null!=(r=null==(a=t.getState().columnPinning)||null==(a=a[n])?void 0:a.indexOf(e.id))?r:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=Ci(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,t,r)=>{const a=[...null!=t?t:[],...null!=r?r:[]];return e.filter(e=>!a.includes(e.column.id))},Si(t.options,"debugRows")),e.getLeftVisibleCells=Ci(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(e,t)=>{const r=(null!=t?t:[]).map(t=>e.find(e=>e.column.id===t)).filter(Boolean).map(e=>({...e,position:"left"}));return r},Si(t.options,"debugRows")),e.getRightVisibleCells=Ci(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(e,t)=>{const r=(null!=t?t:[]).map(t=>e.find(e=>e.column.id===t)).filter(Boolean).map(e=>({...e,position:"right"}));return r},Si(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>null==e.options.onColumnPinningChange?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var r,a;return e.setColumnPinning(t?{left:[],right:[]}:null!=(r=null==(a=e.initialState)?void 0:a.columnPinning)?r:{left:[],right:[]})},e.getIsSomeColumnsPinned=t=>{var r;const a=e.getState().columnPinning;var n,o;return t?Boolean(null==(r=a[t])?void 0:r.length):Boolean((null==(n=a.left)?void 0:n.length)||(null==(o=a.right)?void 0:o.length))},e.getLeftLeafColumns=Ci(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(e,t)=>(null!=t?t:[]).map(t=>e.find(e=>e.id===t)).filter(Boolean),Si(e.options,"debugColumns")),e.getRightLeafColumns=Ci(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(e,t)=>(null!=t?t:[]).map(t=>e.find(e=>e.id===t)).filter(Boolean),Si(e.options,"debugColumns")),e.getCenterLeafColumns=Ci(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(e,t,r)=>{const a=[...null!=t?t:[],...null!=r?r:[]];return e.filter(e=>!a.includes(e.id))},Si(e.options,"debugColumns"))}};const Yi={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Xi={getDefaultColumnDef:()=>Yi,getInitialState:e=>({columnSizing:{},columnSizingInfo:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]},...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Ni("columnSizing",e),onColumnSizingInfoChange:Ni("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var r,a,n;const o=t.getState().columnSizing[e.id];return Math.min(Math.max(null!=(r=e.columnDef.minSize)?r:Yi.minSize,null!=(a=null!=o?o:e.columnDef.size)?a:Yi.size),null!=(n=e.columnDef.maxSize)?n:Yi.maxSize)},e.getStart=Ci(e=>[e,ts(t,e),t.getState().columnSizing],(t,r)=>r.slice(0,e.getIndex(t)).reduce((e,t)=>e+t.getSize(),0),Si(t.options,"debugColumns")),e.getAfter=Ci(e=>[e,ts(t,e),t.getState().columnSizing],(t,r)=>r.slice(e.getIndex(t)+1).reduce((e,t)=>e+t.getSize(),0),Si(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(t=>{let{[e.id]:r,...a}=t;return a})},e.getCanResize=()=>{var r,a;return(null==(r=e.columnDef.enableResizing)||r)&&(null==(a=t.options.enableColumnResizing)||a)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let t=0;const r=e=>{var a;e.subHeaders.length?e.subHeaders.forEach(r):t+=null!=(a=e.column.getSize())?a:0};return r(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=r=>{const a=t.getColumn(e.column.id),n=null==a?void 0:a.getCanResize();return o=>{if(!a||!n)return;if(null==o.persist||o.persist(),Zi(o)&&o.touches&&o.touches.length>1)return;const i=e.getSize(),s=e?e.getLeafHeaders().map(e=>[e.column.id,e.column.getSize()]):[[a.id,a.getSize()]],l=Zi(o)?Math.round(o.touches[0].clientX):o.clientX,c={},d=(e,r)=>{"number"==typeof r&&(t.setColumnSizingInfo(e=>{var a,n;const o="rtl"===t.options.columnResizeDirection?-1:1,i=(r-(null!=(a=null==e?void 0:e.startOffset)?a:0))*o,s=Math.max(i/(null!=(n=null==e?void 0:e.startSize)?n:0),-.999999);return e.columnSizingStart.forEach(e=>{let[t,r]=e;c[t]=Math.round(100*Math.max(r+r*s,0))/100}),{...e,deltaOffset:i,deltaPercentage:s}}),"onChange"!==t.options.columnResizeMode&&"end"!==e||t.setColumnSizing(e=>({...e,...c})))},u=e=>d("move",e),p=e=>{d("end",e),t.setColumnSizingInfo(e=>({...e,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},h=r||("undefined"!=typeof document?document:null);const m={moveHandler:e=>u(e.clientX),upHandler:e=>{null==h||h.removeEventListener("mousemove",m.moveHandler),null==h||h.removeEventListener("mouseup",m.upHandler),p(e.clientX)}},g={moveHandler:e=>(e.cancelable&&(e.preventDefault(),e.stopPropagation()),u(e.touches[0].clientX),!1),upHandler:e=>{var t;null==h||h.removeEventListener("touchmove",g.moveHandler),null==h||h.removeEventListener("touchend",g.upHandler),e.cancelable&&(e.preventDefault(),e.stopPropagation()),p(null==(t=e.touches[0])?void 0:t.clientX)}},x=!!function(){if("boolean"==typeof Qi)return Qi;let e=!1;try{const t={get passive(){return e=!0,!1}},r=()=>{};window.addEventListener("test",r,t),window.removeEventListener("test",r)}catch(t){e=!1}return Qi=e,Qi}()&&{passive:!1};Zi(o)?(null==h||h.addEventListener("touchmove",g.moveHandler,x),null==h||h.addEventListener("touchend",g.upHandler,x)):(null==h||h.addEventListener("mousemove",m.moveHandler,x),null==h||h.addEventListener("mouseup",m.upHandler,x)),t.setColumnSizingInfo(e=>({...e,startOffset:l,startSize:i,deltaOffset:0,deltaPercentage:0,columnSizingStart:s,isResizingColumn:a.id}))}}},createTable:e=>{e.setColumnSizing=t=>null==e.options.onColumnSizingChange?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>null==e.options.onColumnSizingInfoChange?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var r;e.setColumnSizing(t?{}:null!=(r=e.initialState.columnSizing)?r:{})},e.resetHeaderSizeInfo=t=>{var r;e.setColumnSizingInfo(t?{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}:null!=(r=e.initialState.columnSizingInfo)?r:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]})},e.getTotalSize=()=>{var t,r;return null!=(t=null==(r=e.getHeaderGroups()[0])?void 0:r.headers.reduce((e,t)=>e+t.getSize(),0))?t:0},e.getLeftTotalSize=()=>{var t,r;return null!=(t=null==(r=e.getLeftHeaderGroups()[0])?void 0:r.headers.reduce((e,t)=>e+t.getSize(),0))?t:0},e.getCenterTotalSize=()=>{var t,r;return null!=(t=null==(r=e.getCenterHeaderGroups()[0])?void 0:r.headers.reduce((e,t)=>e+t.getSize(),0))?t:0},e.getRightTotalSize=()=>{var t,r;return null!=(t=null==(r=e.getRightHeaderGroups()[0])?void 0:r.headers.reduce((e,t)=>e+t.getSize(),0))?t:0}}};let Qi=null;function Zi(e){return"touchstart"===e.type}const es={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Ni("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=r=>{e.getCanHide()&&t.setColumnVisibility(t=>({...t,[e.id]:null!=r?r:!e.getIsVisible()}))},e.getIsVisible=()=>{var r,a;const n=e.columns;return null==(r=n.length?n.some(e=>e.getIsVisible()):null==(a=t.getState().columnVisibility)?void 0:a[e.id])||r},e.getCanHide=()=>{var r,a;return(null==(r=e.columnDef.enableHiding)||r)&&(null==(a=t.options.enableHiding)||a)},e.getToggleVisibilityHandler=()=>t=>{null==e.toggleVisibility||e.toggleVisibility(t.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Ci(()=>[e.getAllCells(),t.getState().columnVisibility],e=>e.filter(e=>e.column.getIsVisible()),Si(t.options,"debugRows")),e.getVisibleCells=Ci(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(e,t,r)=>[...e,...t,...r],Si(t.options,"debugRows"))},createTable:e=>{const t=(t,r)=>Ci(()=>[r(),r().filter(e=>e.getIsVisible()).map(e=>e.id).join("_")],e=>e.filter(e=>null==e.getIsVisible?void 0:e.getIsVisible()),Si(e.options,"debugColumns"));e.getVisibleFlatColumns=t(0,()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t(0,()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t(0,()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t(0,()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t(0,()=>e.getCenterLeafColumns()),e.setColumnVisibility=t=>null==e.options.onColumnVisibilityChange?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var r;e.setColumnVisibility(t?{}:null!=(r=e.initialState.columnVisibility)?r:{})},e.toggleAllColumnsVisible=t=>{var r;t=null!=(r=t)?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((e,r)=>({...e,[r.id]:t||!(null!=r.getCanHide&&r.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(e=>!(null!=e.getIsVisible&&e.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(e=>null==e.getIsVisible?void 0:e.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var r;e.toggleAllColumnsVisible(null==(r=t.target)?void 0:r.checked)}}};function ts(e,t){return t?"center"===t?e.getCenterVisibleLeafColumns():"left"===t?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const rs={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Ni("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,r=!1;e._autoResetExpanded=()=>{var a,n;if(t){if(null!=(a=null!=(n=e.options.autoResetAll)?n:e.options.autoResetExpanded)?a:!e.options.manualExpanding){if(r)return;r=!0,e._queue(()=>{e.resetExpanded(),r=!1})}}else e._queue(()=>{t=!0})},e.setExpanded=t=>null==e.options.onExpandedChange?void 0:e.options.onExpandedChange(t),e.toggleAllRowsExpanded=t=>{(null!=t?t:!e.getIsAllRowsExpanded())?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=t=>{var r,a;e.setExpanded(t?{}:null!=(r=null==(a=e.initialState)?void 0:a.expanded)?r:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(e=>e.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>t=>{null==t.persist||t.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const t=e.getState().expanded;return!0===t||Object.values(t).some(Boolean)},e.getIsAllRowsExpanded=()=>{const t=e.getState().expanded;return"boolean"==typeof t?!0===t:!!Object.keys(t).length&&!e.getRowModel().flatRows.some(e=>!e.getIsExpanded())},e.getExpandedDepth=()=>{let t=0;return(!0===e.getState().expanded?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(e=>{const r=e.split(".");t=Math.max(t,r.length)}),t},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=r=>{t.setExpanded(a=>{var n;const o=!0===a||!(null==a||!a[e.id]);let i={};if(!0===a?Object.keys(t.getRowModel().rowsById).forEach(e=>{i[e]=!0}):i=a,r=null!=(n=r)?n:!o,!o&&r)return{...i,[e.id]:!0};if(o&&!r){const{[e.id]:t,...r}=i;return r}return a})},e.getIsExpanded=()=>{var r;const a=t.getState().expanded;return!!(null!=(r=null==t.options.getIsRowExpanded?void 0:t.options.getIsRowExpanded(e))?r:!0===a||(null==a?void 0:a[e.id]))},e.getCanExpand=()=>{var r,a,n;return null!=(r=null==t.options.getRowCanExpand?void 0:t.options.getRowCanExpand(e))?r:(null==(a=t.options.enableExpanding)||a)&&!(null==(n=e.subRows)||!n.length)},e.getIsAllParentsExpanded=()=>{let r=!0,a=e;for(;r&&a.parentId;)a=t.getRow(a.parentId,!0),r=a.getIsExpanded();return r},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},as={getInitialState:e=>({...e,pagination:{pageIndex:0,pageSize:10,...null==e?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:Ni("pagination",e)}),createTable:e=>{let t=!1,r=!1;e._autoResetPageIndex=()=>{var a,n;if(t){if(null!=(a=null!=(n=e.options.autoResetAll)?n:e.options.autoResetPageIndex)?a:!e.options.manualPagination){if(r)return;r=!0,e._queue(()=>{e.resetPageIndex(),r=!1})}}else e._queue(()=>{t=!0})},e.setPagination=t=>null==e.options.onPaginationChange?void 0:e.options.onPaginationChange(e=>ji(t,e)),e.resetPagination=t=>{var r;e.setPagination(t?{pageIndex:0,pageSize:10}:null!=(r=e.initialState.pagination)?r:{pageIndex:0,pageSize:10})},e.setPageIndex=t=>{e.setPagination(r=>{let a=ji(t,r.pageIndex);const n=void 0===e.options.pageCount||-1===e.options.pageCount?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return a=Math.max(0,Math.min(a,n)),{...r,pageIndex:a}})},e.resetPageIndex=t=>{var r,a;e.setPageIndex(t?0:null!=(r=null==(a=e.initialState)||null==(a=a.pagination)?void 0:a.pageIndex)?r:0)},e.resetPageSize=t=>{var r,a;e.setPageSize(t?10:null!=(r=null==(a=e.initialState)||null==(a=a.pagination)?void 0:a.pageSize)?r:10)},e.setPageSize=t=>{e.setPagination(e=>{const r=Math.max(1,ji(t,e.pageSize)),a=e.pageSize*e.pageIndex,n=Math.floor(a/r);return{...e,pageIndex:n,pageSize:r}})},e.setPageCount=t=>e.setPagination(r=>{var a;let n=ji(t,null!=(a=e.options.pageCount)?a:-1);return"number"==typeof n&&(n=Math.max(-1,n)),{...r,pageCount:n}}),e.getPageOptions=Ci(()=>[e.getPageCount()],e=>{let t=[];return e&&e>0&&(t=[...new Array(e)].fill(null).map((e,t)=>t)),t},Si(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:t}=e.getState().pagination,r=e.getPageCount();return-1===r||0!==r&&t<r-1},e.previousPage=()=>e.setPageIndex(e=>e-1),e.nextPage=()=>e.setPageIndex(e=>e+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var t;return null!=(t=e.options.pageCount)?t:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var t;return null!=(t=e.options.rowCount)?t:e.getPrePaginationRowModel().rows.length}}},ns={getInitialState:e=>({rowPinning:{top:[],bottom:[]},...e}),getDefaultOptions:e=>({onRowPinningChange:Ni("rowPinning",e)}),createRow:(e,t)=>{e.pin=(r,a,n)=>{const o=a?e.getLeafRows().map(e=>{let{id:t}=e;return t}):[],i=n?e.getParentRows().map(e=>{let{id:t}=e;return t}):[],s=new Set([...i,e.id,...o]);t.setRowPinning(e=>{var t,a,n,o,i,l;return"bottom"===r?{top:(null!=(n=null==e?void 0:e.top)?n:[]).filter(e=>!(null!=s&&s.has(e))),bottom:[...(null!=(o=null==e?void 0:e.bottom)?o:[]).filter(e=>!(null!=s&&s.has(e))),...Array.from(s)]}:"top"===r?{top:[...(null!=(i=null==e?void 0:e.top)?i:[]).filter(e=>!(null!=s&&s.has(e))),...Array.from(s)],bottom:(null!=(l=null==e?void 0:e.bottom)?l:[]).filter(e=>!(null!=s&&s.has(e)))}:{top:(null!=(t=null==e?void 0:e.top)?t:[]).filter(e=>!(null!=s&&s.has(e))),bottom:(null!=(a=null==e?void 0:e.bottom)?a:[]).filter(e=>!(null!=s&&s.has(e)))}})},e.getCanPin=()=>{var r;const{enableRowPinning:a,enablePinning:n}=t.options;return"function"==typeof a?a(e):null==(r=null!=a?a:n)||r},e.getIsPinned=()=>{const r=[e.id],{top:a,bottom:n}=t.getState().rowPinning,o=r.some(e=>null==a?void 0:a.includes(e)),i=r.some(e=>null==n?void 0:n.includes(e));return o?"top":!!i&&"bottom"},e.getPinnedIndex=()=>{var r,a;const n=e.getIsPinned();if(!n)return-1;const o=null==(r="top"===n?t.getTopRows():t.getBottomRows())?void 0:r.map(e=>{let{id:t}=e;return t});return null!=(a=null==o?void 0:o.indexOf(e.id))?a:-1}},createTable:e=>{e.setRowPinning=t=>null==e.options.onRowPinningChange?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var r,a;return e.setRowPinning(t?{top:[],bottom:[]}:null!=(r=null==(a=e.initialState)?void 0:a.rowPinning)?r:{top:[],bottom:[]})},e.getIsSomeRowsPinned=t=>{var r;const a=e.getState().rowPinning;var n,o;return t?Boolean(null==(r=a[t])?void 0:r.length):Boolean((null==(n=a.top)?void 0:n.length)||(null==(o=a.bottom)?void 0:o.length))},e._getPinnedRows=(t,r,a)=>{var n;return(null==(n=e.options.keepPinnedRows)||n?(null!=r?r:[]).map(t=>{const r=e.getRow(t,!0);return r.getIsAllParentsExpanded()?r:null}):(null!=r?r:[]).map(e=>t.find(t=>t.id===e))).filter(Boolean).map(e=>({...e,position:a}))},e.getTopRows=Ci(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,r)=>e._getPinnedRows(t,r,"top"),Si(e.options,"debugRows")),e.getBottomRows=Ci(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,r)=>e._getPinnedRows(t,r,"bottom"),Si(e.options,"debugRows")),e.getCenterRows=Ci(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(e,t,r)=>{const a=new Set([...null!=t?t:[],...null!=r?r:[]]);return e.filter(e=>!a.has(e.id))},Si(e.options,"debugRows"))}},os={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Ni("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>null==e.options.onRowSelectionChange?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var r;return e.setRowSelection(t?{}:null!=(r=e.initialState.rowSelection)?r:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(r=>{t=void 0!==t?t:!e.getIsAllRowsSelected();const a={...r},n=e.getPreGroupedRowModel().flatRows;return t?n.forEach(e=>{e.getCanSelect()&&(a[e.id]=!0)}):n.forEach(e=>{delete a[e.id]}),a})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(r=>{const a=void 0!==t?t:!e.getIsAllPageRowsSelected(),n={...r};return e.getRowModel().rows.forEach(t=>{is(n,t.id,a,!0,e)}),n}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Ci(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,r)=>Object.keys(t).length?ss(e,r):{rows:[],flatRows:[],rowsById:{}},Si(e.options,"debugTable")),e.getFilteredSelectedRowModel=Ci(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,r)=>Object.keys(t).length?ss(e,r):{rows:[],flatRows:[],rowsById:{}},Si(e.options,"debugTable")),e.getGroupedSelectedRowModel=Ci(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,r)=>Object.keys(t).length?ss(e,r):{rows:[],flatRows:[],rowsById:{}},Si(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:r}=e.getState();let a=Boolean(t.length&&Object.keys(r).length);return a&&t.some(e=>e.getCanSelect()&&!r[e.id])&&(a=!1),a},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(e=>e.getCanSelect()),{rowSelection:r}=e.getState();let a=!!t.length;return a&&t.some(e=>!r[e.id])&&(a=!1),a},e.getIsSomeRowsSelected=()=>{var t;const r=Object.keys(null!=(t=e.getState().rowSelection)?t:{}).length;return r>0&&r<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return!e.getIsAllPageRowsSelected()&&t.filter(e=>e.getCanSelect()).some(e=>e.getIsSelected()||e.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(r,a)=>{const n=e.getIsSelected();t.setRowSelection(o=>{var i;if(r=void 0!==r?r:!n,e.getCanSelect()&&n===r)return o;const s={...o};return is(s,e.id,r,null==(i=null==a?void 0:a.selectChildren)||i,t),s})},e.getIsSelected=()=>{const{rowSelection:r}=t.getState();return ls(e,r)},e.getIsSomeSelected=()=>{const{rowSelection:r}=t.getState();return"some"===cs(e,r)},e.getIsAllSubRowsSelected=()=>{const{rowSelection:r}=t.getState();return"all"===cs(e,r)},e.getCanSelect=()=>{var r;return"function"==typeof t.options.enableRowSelection?t.options.enableRowSelection(e):null==(r=t.options.enableRowSelection)||r},e.getCanSelectSubRows=()=>{var r;return"function"==typeof t.options.enableSubRowSelection?t.options.enableSubRowSelection(e):null==(r=t.options.enableSubRowSelection)||r},e.getCanMultiSelect=()=>{var r;return"function"==typeof t.options.enableMultiRowSelection?t.options.enableMultiRowSelection(e):null==(r=t.options.enableMultiRowSelection)||r},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return r=>{var a;t&&e.toggleSelected(null==(a=r.target)?void 0:a.checked)}}}},is=(e,t,r,a,n)=>{var o;const i=n.getRow(t,!0);r?(i.getCanMultiSelect()||Object.keys(e).forEach(t=>delete e[t]),i.getCanSelect()&&(e[t]=!0)):delete e[t],a&&null!=(o=i.subRows)&&o.length&&i.getCanSelectSubRows()&&i.subRows.forEach(t=>is(e,t.id,r,a,n))};function ss(e,t){const r=e.getState().rowSelection,a=[],n={},o=function(e,t){return e.map(e=>{var t;const i=ls(e,r);if(i&&(a.push(e),n[e.id]=e),null!=(t=e.subRows)&&t.length&&(e={...e,subRows:o(e.subRows)}),i)return e}).filter(Boolean)};return{rows:o(t.rows),flatRows:a,rowsById:n}}function ls(e,t){var r;return null!=(r=t[e.id])&&r}function cs(e,t,r){var a;if(null==(a=e.subRows)||!a.length)return!1;let n=!0,o=!1;return e.subRows.forEach(e=>{if((!o||n)&&(e.getCanSelect()&&(ls(e,t)?o=!0:n=!1),e.subRows&&e.subRows.length)){const r=cs(e,t);"all"===r?o=!0:"some"===r?(o=!0,n=!1):n=!1}}),n?"all":!!o&&"some"}const ds=/([0-9]+)/gm;function us(e,t){return e===t?0:e>t?1:-1}function ps(e){return"number"==typeof e?isNaN(e)||e===1/0||e===-1/0?"":String(e):"string"==typeof e?e:""}function hs(e,t){const r=e.split(ds).filter(Boolean),a=t.split(ds).filter(Boolean);for(;r.length&&a.length;){const e=r.shift(),t=a.shift(),n=parseInt(e,10),o=parseInt(t,10),i=[n,o].sort();if(isNaN(i[0])){if(e>t)return 1;if(t>e)return-1}else{if(isNaN(i[1]))return isNaN(n)?-1:1;if(n>o)return 1;if(o>n)return-1}}return r.length-a.length}const ms={alphanumeric:(e,t,r)=>hs(ps(e.getValue(r)).toLowerCase(),ps(t.getValue(r)).toLowerCase()),alphanumericCaseSensitive:(e,t,r)=>hs(ps(e.getValue(r)),ps(t.getValue(r))),text:(e,t,r)=>us(ps(e.getValue(r)).toLowerCase(),ps(t.getValue(r)).toLowerCase()),textCaseSensitive:(e,t,r)=>us(ps(e.getValue(r)),ps(t.getValue(r))),datetime:(e,t,r)=>{const a=e.getValue(r),n=t.getValue(r);return a>n?1:a<n?-1:0},basic:(e,t,r)=>us(e.getValue(r),t.getValue(r))},gs={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Ni("sorting",e),isMultiSortEvent:e=>e.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const r=t.getFilteredRowModel().flatRows.slice(10);let a=!1;for(const t of r){const r=null==t?void 0:t.getValue(e.id);if("[object Date]"===Object.prototype.toString.call(r))return ms.datetime;if("string"==typeof r&&(a=!0,r.split(ds).length>1))return ms.alphanumeric}return a?ms.text:ms.basic},e.getAutoSortDir=()=>{const r=t.getFilteredRowModel().flatRows[0];return"string"==typeof(null==r?void 0:r.getValue(e.id))?"asc":"desc"},e.getSortingFn=()=>{var r,a;if(!e)throw new Error;return ki(e.columnDef.sortingFn)?e.columnDef.sortingFn:"auto"===e.columnDef.sortingFn?e.getAutoSortingFn():null!=(r=null==(a=t.options.sortingFns)?void 0:a[e.columnDef.sortingFn])?r:ms[e.columnDef.sortingFn]},e.toggleSorting=(r,a)=>{const n=e.getNextSortingOrder(),o=null!=r;t.setSorting(i=>{const s=null==i?void 0:i.find(t=>t.id===e.id),l=null==i?void 0:i.findIndex(t=>t.id===e.id);let c,d=[],u=o?r:"desc"===n;var p;(c=null!=i&&i.length&&e.getCanMultiSort()&&a?s?"toggle":"add":null!=i&&i.length&&l!==i.length-1?"replace":s?"toggle":"replace","toggle"===c&&(o||n||(c="remove")),"add"===c)?(d=[...i,{id:e.id,desc:u}],d.splice(0,d.length-(null!=(p=t.options.maxMultiSortColCount)?p:Number.MAX_SAFE_INTEGER))):d="toggle"===c?i.map(t=>t.id===e.id?{...t,desc:u}:t):"remove"===c?i.filter(t=>t.id!==e.id):[{id:e.id,desc:u}];return d})},e.getFirstSortDir=()=>{var r,a;return(null!=(r=null!=(a=e.columnDef.sortDescFirst)?a:t.options.sortDescFirst)?r:"desc"===e.getAutoSortDir())?"desc":"asc"},e.getNextSortingOrder=r=>{var a,n;const o=e.getFirstSortDir(),i=e.getIsSorted();return i?!!(i===o||null!=(a=t.options.enableSortingRemoval)&&!a||r&&null!=(n=t.options.enableMultiRemove)&&!n)&&("desc"===i?"asc":"desc"):o},e.getCanSort=()=>{var r,a;return(null==(r=e.columnDef.enableSorting)||r)&&(null==(a=t.options.enableSorting)||a)&&!!e.accessorFn},e.getCanMultiSort=()=>{var r,a;return null!=(r=null!=(a=e.columnDef.enableMultiSort)?a:t.options.enableMultiSort)?r:!!e.accessorFn},e.getIsSorted=()=>{var r;const a=null==(r=t.getState().sorting)?void 0:r.find(t=>t.id===e.id);return!!a&&(a.desc?"desc":"asc")},e.getSortIndex=()=>{var r,a;return null!=(r=null==(a=t.getState().sorting)?void 0:a.findIndex(t=>t.id===e.id))?r:-1},e.clearSorting=()=>{t.setSorting(t=>null!=t&&t.length?t.filter(t=>t.id!==e.id):[])},e.getToggleSortingHandler=()=>{const r=e.getCanSort();return a=>{r&&(null==a.persist||a.persist(),null==e.toggleSorting||e.toggleSorting(void 0,!!e.getCanMultiSort()&&(null==t.options.isMultiSortEvent?void 0:t.options.isMultiSortEvent(a))))}}},createTable:e=>{e.setSorting=t=>null==e.options.onSortingChange?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var r,a;e.setSorting(t?[]:null!=(r=null==(a=e.initialState)?void 0:a.sorting)?r:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},xs=[Oi,es,Ki,Ji,Di,Gi,{createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},{getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Ni("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var r;const a=null==(r=e.getCoreRowModel().flatRows[0])||null==(r=r._getAllCellsByColumnId()[t.id])?void 0:r.getValue();return"string"==typeof a||"number"==typeof a}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var r,a,n,o;return(null==(r=e.columnDef.enableGlobalFilter)||r)&&(null==(a=t.options.enableGlobalFilter)||a)&&(null==(n=t.options.enableFilters)||n)&&(null==(o=null==t.options.getColumnCanGlobalFilter?void 0:t.options.getColumnCanGlobalFilter(e))||o)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Bi.includesString,e.getGlobalFilterFn=()=>{var t,r;const{globalFilterFn:a}=e.options;return ki(a)?a:"auto"===a?e.getGlobalAutoFilterFn():null!=(t=null==(r=e.options.filterFns)?void 0:r[a])?t:Bi[a]},e.setGlobalFilter=t=>{null==e.options.onGlobalFilterChange||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},gs,Wi,rs,as,ns,os,Xi];function fs(e){var t,r;const a=[...xs,...null!=(t=e._features)?t:[]];let n={_features:a};const o=n._features.reduce((e,t)=>Object.assign(e,null==t.getDefaultOptions?void 0:t.getDefaultOptions(n)),{});let i={...null!=(r=e.initialState)?r:{}};n._features.forEach(e=>{var t;i=null!=(t=null==e.getInitialState?void 0:e.getInitialState(i))?t:i});const s=[];let l=!1;const c={_features:a,options:{...o,...e},initialState:i,_queue:e=>{s.push(e),l||(l=!0,Promise.resolve().then(()=>{for(;s.length;)s.shift()();l=!1}).catch(e=>setTimeout(()=>{throw e})))},reset:()=>{n.setState(n.initialState)},setOptions:e=>{const t=ji(e,n.options);var r;n.options=(r=t,n.options.mergeOptions?n.options.mergeOptions(o,r):{...o,...r})},getState:()=>n.options.state,setState:e=>{null==n.options.onStateChange||n.options.onStateChange(e)},_getRowId:(e,t,r)=>{var a;return null!=(a=null==n.options.getRowId?void 0:n.options.getRowId(e,t,r))?a:`${r?[r.id,t].join("."):t}`},getCoreRowModel:()=>(n._getCoreRowModel||(n._getCoreRowModel=n.options.getCoreRowModel(n)),n._getCoreRowModel()),getRowModel:()=>n.getPaginationRowModel(),getRow:(e,t)=>{let r=(t?n.getPrePaginationRowModel():n.getRowModel()).rowsById[e];if(!r&&(r=n.getCoreRowModel().rowsById[e],!r))throw new Error;return r},_getDefaultColumnDef:Ci(()=>[n.options.defaultColumn],e=>{var t;return e=null!=(t=e)?t:{},{header:e=>{const t=e.header.column.columnDef;return t.accessorKey?t.accessorKey:t.accessorFn?t.id:null},cell:e=>{var t,r;return null!=(t=null==(r=e.renderValue())||null==r.toString?void 0:r.toString())?t:null},...n._features.reduce((e,t)=>Object.assign(e,null==t.getDefaultColumnDef?void 0:t.getDefaultColumnDef()),{}),...e}},Si(e,"debugColumns")),_getColumnDefs:()=>n.options.columns,getAllColumns:Ci(()=>[n._getColumnDefs()],e=>{const t=function(e,r,a){return void 0===a&&(a=0),e.map(e=>{const o=function(e,t,r,a){var n,o;const i={...e._getDefaultColumnDef(),...t},s=i.accessorKey;let l,c=null!=(n=null!=(o=i.id)?o:s?"function"==typeof String.prototype.replaceAll?s.replaceAll(".","_"):s.replace(/\./g,"_"):void 0)?n:"string"==typeof i.header?i.header:void 0;if(i.accessorFn?l=i.accessorFn:s&&(l=s.includes(".")?e=>{let t=e;for(const a of s.split(".")){var r;t=null==(r=t)?void 0:r[a]}return t}:e=>e[i.accessorKey]),!c)throw new Error;let d={id:`${String(c)}`,accessorFn:l,parent:a,depth:r,columnDef:i,columns:[],getFlatColumns:Ci(()=>[!0],()=>{var e;return[d,...null==(e=d.columns)?void 0:e.flatMap(e=>e.getFlatColumns())]},Si(e.options,"debugColumns")),getLeafColumns:Ci(()=>[e._getOrderColumnsFn()],e=>{var t;return null!=(t=d.columns)&&t.length?e(d.columns.flatMap(e=>e.getLeafColumns())):[d]},Si(e.options,"debugColumns"))};for(const u of e._features)null==u.createColumn||u.createColumn(d,e);return d}(n,e,a,r),i=e;return o.columns=i.columns?t(i.columns,o,a+1):[],o})};return t(e)},Si(e,"debugColumns")),getAllFlatColumns:Ci(()=>[n.getAllColumns()],e=>e.flatMap(e=>e.getFlatColumns()),Si(e,"debugColumns")),_getAllFlatColumnsById:Ci(()=>[n.getAllFlatColumns()],e=>e.reduce((e,t)=>(e[t.id]=t,e),{}),Si(e,"debugColumns")),getAllLeafColumns:Ci(()=>[n.getAllColumns(),n._getOrderColumnsFn()],(e,t)=>t(e.flatMap(e=>e.getLeafColumns())),Si(e,"debugColumns")),getColumn:e=>n._getAllFlatColumnsById()[e]};Object.assign(n,c);for(let d=0;d<n._features.length;d++){const e=n._features[d];null==e||null==e.createTable||e.createTable(n)}return n}function bs(e,t,r){return r.options.filterFromLeafRows?function(e,t,r){var a;const n=[],o={},i=null!=(a=r.options.maxLeafRowFilterDepth)?a:100,s=function(e,a){void 0===a&&(a=0);const l=[];for(let d=0;d<e.length;d++){var c;let u=e[d];const p=Ai(r,u.id,u.original,u.index,u.depth,0,u.parentId);if(p.columnFilters=u.columnFilters,null!=(c=u.subRows)&&c.length&&a<i){if(p.subRows=s(u.subRows,a+1),u=p,t(u)&&!p.subRows.length){l.push(u),o[u.id]=u,n.push(u);continue}if(t(u)||p.subRows.length){l.push(u),o[u.id]=u,n.push(u);continue}}else u=p,t(u)&&(l.push(u),o[u.id]=u,n.push(u))}return l};return{rows:s(e),flatRows:n,rowsById:o}}(e,t,r):function(e,t,r){var a;const n=[],o={},i=null!=(a=r.options.maxLeafRowFilterDepth)?a:100,s=function(e,a){void 0===a&&(a=0);const l=[];for(let d=0;d<e.length;d++){let u=e[d];if(t(u)){var c;if(null!=(c=u.subRows)&&c.length&&a<i){const e=Ai(r,u.id,u.original,u.index,u.depth,0,u.parentId);e.subRows=s(u.subRows,a+1),u=e}l.push(u),n.push(u),o[u.id]=u}}return l};return{rows:s(e),flatRows:n,rowsById:o}}(e,t,r)}
/**
			   * react-table
			   *
			   * Copyright (c) TanStack
			   *
			   * This source code is licensed under the MIT license found in the
			   * LICENSE.md file in the root directory of this source tree.
			   *
			   * @license MIT
			   */
function vs(e,t){return e?function(e){return"function"==typeof e&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}(r=e)||"function"==typeof r||function(e){return"object"==typeof e&&"symbol"==typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}(r)?W.createElement(e,t):e:null;var r}function ys(e){var t,r,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=ys(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function ws(){for(var e,t,r=0,a="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=ys(e))&&(a&&(a+=" "),a+=t);return a}const js=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),Ns="-",ks=[],Cs=e=>{const t=Ps(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]"))return Es(e);const r=e.split(Ns),a=""===r[0]&&r.length>1?1:0;return Ss(r,a,t)},getConflictingClassGroupIds:(e,t)=>{if(t){const t=a[e],n=r[e];return t?n?((e,t)=>{const r=new Array(e.length+t.length);for(let a=0;a<e.length;a++)r[a]=e[a];for(let a=0;a<t.length;a++)r[e.length+a]=t[a];return r})(n,t):t:n||ks}return r[e]||ks}}},Ss=(e,t,r)=>{if(0===e.length-t)return r.classGroupId;const a=e[t],n=r.nextPart.get(a);if(n){const r=Ss(e,t+1,n);if(r)return r}const o=r.validators;if(null===o)return;const i=0===t?e.join(Ns):e.slice(t).join(Ns),s=o.length;for(let l=0;l<s;l++){const e=o[l];if(e.validator(i))return e.classGroupId}},Es=e=>-1===e.slice(1,-1).indexOf(":")?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),a=t.slice(0,r);return a?"arbitrary.."+a:void 0})(),Ps=e=>{const{theme:t,classGroups:r}=e;return Os(r,t)},Os=(e,t)=>{const r=js();for(const a in e){const n=e[a];Is(n,r,a,t)}return r},Is=(e,t,r,a)=>{const n=e.length;for(let o=0;o<n;o++){const n=e[o];As(n,t,r,a)}},As=(e,t,r,a)=>{"string"!=typeof e?"function"!=typeof e?Ts(e,t,r,a):Ms(e,t,r,a):Ds(e,t,r)},Ds=(e,t,r)=>{(""===e?t:Fs(t,e)).classGroupId=r},Ms=(e,t,r,a)=>{zs(e)?Is(e(a),t,r,a):(null===t.validators&&(t.validators=[]),t.validators.push(((e,t)=>({classGroupId:e,validator:t}))(r,e)))},Ts=(e,t,r,a)=>{const n=Object.entries(e),o=n.length;for(let i=0;i<o;i++){const[e,o]=n[i];Is(o,Fs(t,e),r,a)}},Fs=(e,t)=>{let r=e;const a=t.split(Ns),n=a.length;for(let o=0;o<n;o++){const e=a[o];let t=r.nextPart.get(e);t||(t=js(),r.nextPart.set(e,t)),r=t}return r},zs=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,Rs=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),a=Object.create(null);const n=(n,o)=>{r[n]=o,t++,t>e&&(t=0,a=r,r=Object.create(null))};return{get(e){let t=r[e];return void 0!==t?t:void 0!==(t=a[e])?(n(e,t),t):void 0},set(e,t){e in r?r[e]=t:n(e,t)}}},_s=[],Ls=(e,t,r,a,n)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:a,isExternal:n}),$s=e=>{const{prefix:t,experimentalParseClassName:r}=e;let a=e=>{const t=[];let r,a=0,n=0,o=0;const i=e.length;for(let d=0;d<i;d++){const i=e[d];if(0===a&&0===n){if(":"===i){t.push(e.slice(o,d)),o=d+1;continue}if("/"===i){r=d;continue}}"["===i?a++:"]"===i?a--:"("===i?n++:")"===i&&n--}const s=0===t.length?e:e.slice(o);let l=s,c=!1;s.endsWith("!")?(l=s.slice(0,-1),c=!0):s.startsWith("!")&&(l=s.slice(1),c=!0);return Ls(t,c,l,r&&r>o?r-o:void 0)};if(t){const e=t+":",r=a;a=t=>t.startsWith(e)?r(t.slice(e.length)):Ls(_s,!1,t,void 0,!0)}if(r){const e=a;a=t=>r({className:t,parseClassName:e})}return a},Us=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((e,r)=>{t.set(e,1e6+r)}),e=>{const r=[];let a=[];for(let n=0;n<e.length;n++){const o=e[n],i="["===o[0],s=t.has(o);i||s?(a.length>0&&(a.sort(),r.push(...a),a=[]),r.push(o)):a.push(o)}return a.length>0&&(a.sort(),r.push(...a)),r}},Bs=/\s+/,Vs=e=>{if("string"==typeof e)return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=Vs(e[a]))&&(r&&(r+=" "),r+=t);return r},Gs=(e,...t)=>{let r,a,n,o;const i=e=>{const t=a(e);if(t)return t;const o=((e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:n,sortModifiers:o}=t,i=[],s=e.trim().split(Bs);let l="";for(let c=s.length-1;c>=0;c-=1){const e=s[c],{isExternal:t,modifiers:d,hasImportantModifier:u,baseClassName:p,maybePostfixModifierPosition:h}=r(e);if(t){l=e+(l.length>0?" "+l:l);continue}let m=!!h,g=a(m?p.substring(0,h):p);if(!g){if(!m){l=e+(l.length>0?" "+l:l);continue}if(g=a(p),!g){l=e+(l.length>0?" "+l:l);continue}m=!1}const x=0===d.length?"":1===d.length?d[0]:o(d).join(":"),f=u?x+"!":x,b=f+g;if(i.indexOf(b)>-1)continue;i.push(b);const v=n(g,m);for(let r=0;r<v.length;++r){const e=v[r];i.push(f+e)}l=e+(l.length>0?" "+l:l)}return l})(e,r);return n(e,o),o};return o=s=>{const l=t.reduce((e,t)=>t(e),e());return r=(e=>({cache:Rs(e.cacheSize),parseClassName:$s(e),sortModifiers:Us(e),...Cs(e)}))(l),a=r.cache.get,n=r.cache.set,o=i,i(s)},(...e)=>o(((...e)=>{let t,r,a=0,n="";for(;a<e.length;)(t=e[a++])&&(r=Vs(t))&&(n&&(n+=" "),n+=r);return n})(...e))},qs=[],Hs=e=>{const t=t=>t[e]||qs;return t.isThemeGetter=!0,t},Ws=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Ks=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Js=/^\d+\/\d+$/,Ys=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Xs=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Qs=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Zs=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,el=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,tl=e=>Js.test(e),rl=e=>!!e&&!Number.isNaN(Number(e)),al=e=>!!e&&Number.isInteger(Number(e)),nl=e=>e.endsWith("%")&&rl(e.slice(0,-1)),ol=e=>Ys.test(e),il=()=>!0,sl=e=>Xs.test(e)&&!Qs.test(e),ll=()=>!1,cl=e=>Zs.test(e),dl=e=>el.test(e),ul=e=>!hl(e)&&!vl(e),pl=e=>Sl(e,Il,ll),hl=e=>Ws.test(e),ml=e=>Sl(e,Al,sl),gl=e=>Sl(e,Dl,rl),xl=e=>Sl(e,Pl,ll),fl=e=>Sl(e,Ol,dl),bl=e=>Sl(e,Tl,cl),vl=e=>Ks.test(e),yl=e=>El(e,Al),wl=e=>El(e,Ml),jl=e=>El(e,Pl),Nl=e=>El(e,Il),kl=e=>El(e,Ol),Cl=e=>El(e,Tl,!0),Sl=(e,t,r)=>{const a=Ws.exec(e);return!!a&&(a[1]?t(a[1]):r(a[2]))},El=(e,t,r=!1)=>{const a=Ks.exec(e);return!!a&&(a[1]?t(a[1]):r)},Pl=e=>"position"===e||"percentage"===e,Ol=e=>"image"===e||"url"===e,Il=e=>"length"===e||"size"===e||"bg-size"===e,Al=e=>"length"===e,Dl=e=>"number"===e,Ml=e=>"family-name"===e,Tl=e=>"shadow"===e,Fl=Gs(()=>{const e=Hs("color"),t=Hs("font"),r=Hs("text"),a=Hs("font-weight"),n=Hs("tracking"),o=Hs("leading"),i=Hs("breakpoint"),s=Hs("container"),l=Hs("spacing"),c=Hs("radius"),d=Hs("shadow"),u=Hs("inset-shadow"),p=Hs("text-shadow"),h=Hs("drop-shadow"),m=Hs("blur"),g=Hs("perspective"),x=Hs("aspect"),f=Hs("ease"),b=Hs("animate"),v=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",vl,hl],y=()=>[vl,hl,l],w=()=>[tl,"full","auto",...y()],j=()=>[al,"none","subgrid",vl,hl],N=()=>["auto",{span:["full",al,vl,hl]},al,vl,hl],k=()=>[al,"auto",vl,hl],C=()=>["auto","min","max","fr",vl,hl],S=()=>["auto",...y()],E=()=>[tl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...y()],P=()=>[e,vl,hl],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",jl,xl,{position:[vl,hl]}],I=()=>["auto","cover","contain",Nl,pl,{size:[vl,hl]}],A=()=>[nl,yl,ml],D=()=>["","none","full",c,vl,hl],M=()=>["",rl,yl,ml],T=()=>[rl,nl,jl,xl],F=()=>["","none",m,vl,hl],z=()=>["none",rl,vl,hl],R=()=>["none",rl,vl,hl],_=()=>[rl,vl,hl],L=()=>[tl,"full",...y()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ol],breakpoint:[ol],color:[il],container:[ol],"drop-shadow":[ol],ease:["in","out","in-out"],font:[ul],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ol],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ol],shadow:[ol],spacing:["px",rl],text:[ol],"text-shadow":[ol],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",tl,hl,vl,x]}],container:["container"],columns:[{columns:[rl,hl,vl,s]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:v()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:w()}],"inset-x":[{"inset-x":w()}],"inset-y":[{"inset-y":w()}],start:[{start:w()}],end:[{end:w()}],top:[{top:w()}],right:[{right:w()}],bottom:[{bottom:w()}],left:[{left:w()}],visibility:["visible","invisible","collapse"],z:[{z:[al,"auto",vl,hl]}],basis:[{basis:[tl,"full","auto",s,...y()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[rl,tl,"auto","initial","none",hl]}],grow:[{grow:["",rl,vl,hl]}],shrink:[{shrink:["",rl,vl,hl]}],order:[{order:[al,"first","last","none",vl,hl]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":C()}],"auto-rows":[{"auto-rows":C()}],gap:[{gap:y()}],"gap-x":[{"gap-x":y()}],"gap-y":[{"gap-y":y()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:y()}],px:[{px:y()}],py:[{py:y()}],ps:[{ps:y()}],pe:[{pe:y()}],pt:[{pt:y()}],pr:[{pr:y()}],pb:[{pb:y()}],pl:[{pl:y()}],m:[{m:S()}],mx:[{mx:S()}],my:[{my:S()}],ms:[{ms:S()}],me:[{me:S()}],mt:[{mt:S()}],mr:[{mr:S()}],mb:[{mb:S()}],ml:[{ml:S()}],"space-x":[{"space-x":y()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":y()}],"space-y-reverse":["space-y-reverse"],size:[{size:E()}],w:[{w:[s,"screen",...E()]}],"min-w":[{"min-w":[s,"screen","none",...E()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[i]},...E()]}],h:[{h:["screen","lh",...E()]}],"min-h":[{"min-h":["screen","lh","none",...E()]}],"max-h":[{"max-h":["screen","lh",...E()]}],"font-size":[{text:["base",r,yl,ml]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,vl,gl]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",nl,hl]}],"font-family":[{font:[wl,hl,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[n,vl,hl]}],"line-clamp":[{"line-clamp":[rl,"none",vl,gl]}],leading:[{leading:[o,...y()]}],"list-image":[{"list-image":["none",vl,hl]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",vl,hl]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:P()}],"text-color":[{text:P()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[rl,"from-font","auto",vl,ml]}],"text-decoration-color":[{decoration:P()}],"underline-offset":[{"underline-offset":[rl,"auto",vl,hl]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",vl,hl]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",vl,hl]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:O()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:I()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},al,vl,hl],radial:["",vl,hl],conic:[al,vl,hl]},kl,fl]}],"bg-color":[{bg:P()}],"gradient-from-pos":[{from:A()}],"gradient-via-pos":[{via:A()}],"gradient-to-pos":[{to:A()}],"gradient-from":[{from:P()}],"gradient-via":[{via:P()}],"gradient-to":[{to:P()}],rounded:[{rounded:D()}],"rounded-s":[{"rounded-s":D()}],"rounded-e":[{"rounded-e":D()}],"rounded-t":[{"rounded-t":D()}],"rounded-r":[{"rounded-r":D()}],"rounded-b":[{"rounded-b":D()}],"rounded-l":[{"rounded-l":D()}],"rounded-ss":[{"rounded-ss":D()}],"rounded-se":[{"rounded-se":D()}],"rounded-ee":[{"rounded-ee":D()}],"rounded-es":[{"rounded-es":D()}],"rounded-tl":[{"rounded-tl":D()}],"rounded-tr":[{"rounded-tr":D()}],"rounded-br":[{"rounded-br":D()}],"rounded-bl":[{"rounded-bl":D()}],"border-w":[{border:M()}],"border-w-x":[{"border-x":M()}],"border-w-y":[{"border-y":M()}],"border-w-s":[{"border-s":M()}],"border-w-e":[{"border-e":M()}],"border-w-t":[{"border-t":M()}],"border-w-r":[{"border-r":M()}],"border-w-b":[{"border-b":M()}],"border-w-l":[{"border-l":M()}],"divide-x":[{"divide-x":M()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":M()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:P()}],"border-color-x":[{"border-x":P()}],"border-color-y":[{"border-y":P()}],"border-color-s":[{"border-s":P()}],"border-color-e":[{"border-e":P()}],"border-color-t":[{"border-t":P()}],"border-color-r":[{"border-r":P()}],"border-color-b":[{"border-b":P()}],"border-color-l":[{"border-l":P()}],"divide-color":[{divide:P()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[rl,vl,hl]}],"outline-w":[{outline:["",rl,yl,ml]}],"outline-color":[{outline:P()}],shadow:[{shadow:["","none",d,Cl,bl]}],"shadow-color":[{shadow:P()}],"inset-shadow":[{"inset-shadow":["none",u,Cl,bl]}],"inset-shadow-color":[{"inset-shadow":P()}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:P()}],"ring-offset-w":[{"ring-offset":[rl,ml]}],"ring-offset-color":[{"ring-offset":P()}],"inset-ring-w":[{"inset-ring":M()}],"inset-ring-color":[{"inset-ring":P()}],"text-shadow":[{"text-shadow":["none",p,Cl,bl]}],"text-shadow-color":[{"text-shadow":P()}],opacity:[{opacity:[rl,vl,hl]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[rl]}],"mask-image-linear-from-pos":[{"mask-linear-from":T()}],"mask-image-linear-to-pos":[{"mask-linear-to":T()}],"mask-image-linear-from-color":[{"mask-linear-from":P()}],"mask-image-linear-to-color":[{"mask-linear-to":P()}],"mask-image-t-from-pos":[{"mask-t-from":T()}],"mask-image-t-to-pos":[{"mask-t-to":T()}],"mask-image-t-from-color":[{"mask-t-from":P()}],"mask-image-t-to-color":[{"mask-t-to":P()}],"mask-image-r-from-pos":[{"mask-r-from":T()}],"mask-image-r-to-pos":[{"mask-r-to":T()}],"mask-image-r-from-color":[{"mask-r-from":P()}],"mask-image-r-to-color":[{"mask-r-to":P()}],"mask-image-b-from-pos":[{"mask-b-from":T()}],"mask-image-b-to-pos":[{"mask-b-to":T()}],"mask-image-b-from-color":[{"mask-b-from":P()}],"mask-image-b-to-color":[{"mask-b-to":P()}],"mask-image-l-from-pos":[{"mask-l-from":T()}],"mask-image-l-to-pos":[{"mask-l-to":T()}],"mask-image-l-from-color":[{"mask-l-from":P()}],"mask-image-l-to-color":[{"mask-l-to":P()}],"mask-image-x-from-pos":[{"mask-x-from":T()}],"mask-image-x-to-pos":[{"mask-x-to":T()}],"mask-image-x-from-color":[{"mask-x-from":P()}],"mask-image-x-to-color":[{"mask-x-to":P()}],"mask-image-y-from-pos":[{"mask-y-from":T()}],"mask-image-y-to-pos":[{"mask-y-to":T()}],"mask-image-y-from-color":[{"mask-y-from":P()}],"mask-image-y-to-color":[{"mask-y-to":P()}],"mask-image-radial":[{"mask-radial":[vl,hl]}],"mask-image-radial-from-pos":[{"mask-radial-from":T()}],"mask-image-radial-to-pos":[{"mask-radial-to":T()}],"mask-image-radial-from-color":[{"mask-radial-from":P()}],"mask-image-radial-to-color":[{"mask-radial-to":P()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[rl]}],"mask-image-conic-from-pos":[{"mask-conic-from":T()}],"mask-image-conic-to-pos":[{"mask-conic-to":T()}],"mask-image-conic-from-color":[{"mask-conic-from":P()}],"mask-image-conic-to-color":[{"mask-conic-to":P()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:O()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:I()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",vl,hl]}],filter:[{filter:["","none",vl,hl]}],blur:[{blur:F()}],brightness:[{brightness:[rl,vl,hl]}],contrast:[{contrast:[rl,vl,hl]}],"drop-shadow":[{"drop-shadow":["","none",h,Cl,bl]}],"drop-shadow-color":[{"drop-shadow":P()}],grayscale:[{grayscale:["",rl,vl,hl]}],"hue-rotate":[{"hue-rotate":[rl,vl,hl]}],invert:[{invert:["",rl,vl,hl]}],saturate:[{saturate:[rl,vl,hl]}],sepia:[{sepia:["",rl,vl,hl]}],"backdrop-filter":[{"backdrop-filter":["","none",vl,hl]}],"backdrop-blur":[{"backdrop-blur":F()}],"backdrop-brightness":[{"backdrop-brightness":[rl,vl,hl]}],"backdrop-contrast":[{"backdrop-contrast":[rl,vl,hl]}],"backdrop-grayscale":[{"backdrop-grayscale":["",rl,vl,hl]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[rl,vl,hl]}],"backdrop-invert":[{"backdrop-invert":["",rl,vl,hl]}],"backdrop-opacity":[{"backdrop-opacity":[rl,vl,hl]}],"backdrop-saturate":[{"backdrop-saturate":[rl,vl,hl]}],"backdrop-sepia":[{"backdrop-sepia":["",rl,vl,hl]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":y()}],"border-spacing-x":[{"border-spacing-x":y()}],"border-spacing-y":[{"border-spacing-y":y()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",vl,hl]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[rl,"initial",vl,hl]}],ease:[{ease:["linear","initial",f,vl,hl]}],delay:[{delay:[rl,vl,hl]}],animate:[{animate:["none",b,vl,hl]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,vl,hl]}],"perspective-origin":[{"perspective-origin":v()}],rotate:[{rotate:z()}],"rotate-x":[{"rotate-x":z()}],"rotate-y":[{"rotate-y":z()}],"rotate-z":[{"rotate-z":z()}],scale:[{scale:R()}],"scale-x":[{"scale-x":R()}],"scale-y":[{"scale-y":R()}],"scale-z":[{"scale-z":R()}],"scale-3d":["scale-3d"],skew:[{skew:_()}],"skew-x":[{"skew-x":_()}],"skew-y":[{"skew-y":_()}],transform:[{transform:[vl,hl,"","none","gpu","cpu"]}],"transform-origin":[{origin:v()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:L()}],"translate-x":[{"translate-x":L()}],"translate-y":[{"translate-y":L()}],"translate-z":[{"translate-z":L()}],"translate-none":["translate-none"],accent:[{accent:P()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:P()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",vl,hl]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":y()}],"scroll-mx":[{"scroll-mx":y()}],"scroll-my":[{"scroll-my":y()}],"scroll-ms":[{"scroll-ms":y()}],"scroll-me":[{"scroll-me":y()}],"scroll-mt":[{"scroll-mt":y()}],"scroll-mr":[{"scroll-mr":y()}],"scroll-mb":[{"scroll-mb":y()}],"scroll-ml":[{"scroll-ml":y()}],"scroll-p":[{"scroll-p":y()}],"scroll-px":[{"scroll-px":y()}],"scroll-py":[{"scroll-py":y()}],"scroll-ps":[{"scroll-ps":y()}],"scroll-pe":[{"scroll-pe":y()}],"scroll-pt":[{"scroll-pt":y()}],"scroll-pr":[{"scroll-pr":y()}],"scroll-pb":[{"scroll-pb":y()}],"scroll-pl":[{"scroll-pl":y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",vl,hl]}],fill:[{fill:["none",...P()]}],"stroke-w":[{stroke:[rl,yl,ml,gl]}],stroke:[{stroke:["none",...P()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function zl(...e){return Fl(ws(e))}const Rl=({columns:e,data:t,storageKey:r,showGlobalFilter:a=!0})=>{const n=(e,t)=>{if(!r)return t;try{const a=localStorage.getItem(`pos_datatable_${r}_${e}`);return a?JSON.parse(a):t}catch(Xd){return console.warn("Failed to load table state",Xd),t}},[o,i]=W.useState(()=>n("sorting",[])),[s,l]=W.useState(()=>n("visibility",{})),[c,d]=W.useState(()=>n("sizing",{})),[u,p]=W.useState("");W.useEffect(()=>{r&&(localStorage.setItem(`pos_datatable_${r}_sorting`,JSON.stringify(o)),localStorage.setItem(`pos_datatable_${r}_visibility`,JSON.stringify(s)),localStorage.setItem(`pos_datatable_${r}_sizing`,JSON.stringify(c)))},[o,s,c,r]);const h=function(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[r]=W.useState(()=>({current:fs(t)})),[a,n]=W.useState(()=>r.current.initialState);return r.current.setOptions(t=>({...t,...e,state:{...a,...e.state},onStateChange:t=>{n(t),null==e.onStateChange||e.onStateChange(t)}})),r.current}({data:t,columns:e,state:{sorting:o,columnVisibility:s,columnSizing:c,globalFilter:u},onSortingChange:i,onColumnVisibilityChange:l,onColumnSizingChange:d,onGlobalFilterChange:p,getCoreRowModel:e=>Ci(()=>[e.options.data],t=>{const r={rows:[],flatRows:[],rowsById:{}},a=function(t,n,o){void 0===n&&(n=0);const i=[];for(let l=0;l<t.length;l++){const c=Ai(e,e._getRowId(t[l],l,o),t[l],l,n,0,null==o?void 0:o.id);var s;r.flatRows.push(c),r.rowsById[c.id]=c,i.push(c),e.options.getSubRows&&(c.originalSubRows=e.options.getSubRows(t[l],l),null!=(s=c.originalSubRows)&&s.length&&(c.subRows=a(c.originalSubRows,n+1,c)))}return i};return r.rows=a(t),r},Si(e.options,"debugTable",0,()=>e._autoResetPageIndex())),getSortedRowModel:e=>Ci(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,r)=>{if(!r.rows.length||null==t||!t.length)return r;const a=e.getState().sorting,n=[],o=a.filter(t=>{var r;return null==(r=e.getColumn(t.id))?void 0:r.getCanSort()}),i={};o.forEach(t=>{const r=e.getColumn(t.id);r&&(i[t.id]={sortUndefined:r.columnDef.sortUndefined,invertSorting:r.columnDef.invertSorting,sortingFn:r.getSortingFn()})});const s=e=>{const t=e.map(e=>({...e}));return t.sort((e,t)=>{for(let a=0;a<o.length;a+=1){var r;const n=o[a],s=i[n.id],l=s.sortUndefined,c=null!=(r=null==n?void 0:n.desc)&&r;let d=0;if(l){const r=void 0===e.getValue(n.id),a=void 0===t.getValue(n.id);if(r||a){if("first"===l)return r?-1:1;if("last"===l)return r?1:-1;d=r&&a?0:r?l:-l}}if(0===d&&(d=s.sortingFn(e,t,n.id)),0!==d)return c&&(d*=-1),s.invertSorting&&(d*=-1),d}return e.index-t.index}),t.forEach(e=>{var t;n.push(e),null!=(t=e.subRows)&&t.length&&(e.subRows=s(e.subRows))}),t};return{rows:s(r.rows),flatRows:n,rowsById:r.rowsById}},Si(e.options,"debugTable",0,()=>e._autoResetPageIndex())),getFilteredRowModel:e=>Ci(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,r,a)=>{if(!t.rows.length||(null==r||!r.length)&&!a){for(let e=0;e<t.flatRows.length;e++)t.flatRows[e].columnFilters={},t.flatRows[e].columnFiltersMeta={};return t}const n=[],o=[];(null!=r?r:[]).forEach(t=>{var r;const a=e.getColumn(t.id);if(!a)return;const o=a.getFilterFn();o&&n.push({id:t.id,filterFn:o,resolvedValue:null!=(r=null==o.resolveFilterValue?void 0:o.resolveFilterValue(t.value))?r:t.value})});const i=(null!=r?r:[]).map(e=>e.id),s=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(e=>e.getCanGlobalFilter());let c,d;a&&s&&l.length&&(i.push("__global__"),l.forEach(e=>{var t;o.push({id:e.id,filterFn:s,resolvedValue:null!=(t=null==s.resolveFilterValue?void 0:s.resolveFilterValue(a))?t:a})}));for(let e=0;e<t.flatRows.length;e++){const r=t.flatRows[e];if(r.columnFilters={},n.length)for(let e=0;e<n.length;e++){c=n[e];const t=c.id;r.columnFilters[t]=c.filterFn(r,t,c.resolvedValue,e=>{r.columnFiltersMeta[t]=e})}if(o.length){for(let e=0;e<o.length;e++){d=o[e];const t=d.id;if(d.filterFn(r,t,d.resolvedValue,e=>{r.columnFiltersMeta[t]=e})){r.columnFilters.__global__=!0;break}}!0!==r.columnFilters.__global__&&(r.columnFilters.__global__=!1)}}return bs(t.rows,e=>{for(let t=0;t<i.length;t++)if(!1===e.columnFilters[i[t]])return!1;return!0},e)},Si(e.options,"debugTable",0,()=>e._autoResetPageIndex())),columnResizeMode:"onChange",enableColumnResizing:!0});return H.jsxs("div",{className:"space-y-4",children:[H.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[a&&H.jsxs("div",{className:"relative max-w-sm w-full",children:[H.jsx(ja,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),H.jsx("input",{placeholder:"Buscar en todas las columnas...",value:null!=u?u:"",onChange:e=>p(e.target.value),className:"h-9 w-full rounded-md border border-gray-300 bg-white pl-9 pr-3 text-sm outline-none focus:border-hd-orange focus:ring-1 focus:ring-hd-orange"})]}),H.jsxs("div",{className:"relative group",children:[H.jsxs("button",{className:"flex items-center gap-2 h-9 px-3 rounded-md border border-gray-300 bg-white text-sm font-medium hover:bg-gray-50",children:[H.jsx(Na,{size:16}),"Columnas"]}),H.jsxs("div",{className:"absolute right-0 top-full mt-1 w-56 bg-white border border-gray-200 rounded-md shadow-lg p-2 hidden group-hover:block z-20",children:[H.jsx("div",{className:"text-xs font-bold text-gray-500 mb-2 px-2",children:"Mostrar/Ocultar"}),h.getAllLeafColumns().map(e=>H.jsxs("div",{className:"flex items-center gap-2 px-2 py-1.5 hover:bg-gray-100 rounded cursor-pointer",children:[H.jsx("input",{type:"checkbox",checked:e.getIsVisible(),onChange:e.getToggleVisibilityHandler(),className:"rounded border-gray-300 text-hd-orange focus:ring-hd-orange"}),H.jsx("span",{className:"text-sm text-gray-700",children:e.id})]},e.id))]})]})]}),H.jsx("div",{className:"rounded-md border border-gray-200 overflow-hidden bg-white shadow-sm overflow-x-auto",children:H.jsxs("table",{className:"w-full text-sm text-left",style:{minWidth:h.getTotalSize()},children:[H.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 text-gray-600 font-bold uppercase text-xs",children:h.getHeaderGroups().map(e=>H.jsx("tr",{children:e.headers.map(e=>{var t;return H.jsxs("th",{colSpan:e.colSpan,style:{width:e.getSize()},className:"relative px-4 py-3 group select-none border-r border-transparent hover:border-gray-300 transition-colors",children:[H.jsx("div",{className:"flex items-center justify-between gap-2",children:H.jsxs("div",{className:zl("flex items-center gap-1 cursor-pointer hover:text-gray-900",e.column.getCanSort()?"cursor-pointer":""),onClick:e.column.getToggleSortingHandler(),children:[vs(e.column.columnDef.header,e.getContext()),null!==(t={asc:H.jsx(Sr,{size:14}),desc:H.jsx(wr,{size:14})}[e.column.getIsSorted()])&&void 0!==t?t:e.column.getCanSort()?H.jsx(Er,{size:14,className:"text-gray-300 group-hover:text-gray-500"}):null]})}),H.jsx("div",{onMouseDown:e.getResizeHandler(),onTouchStart:e.getResizeHandler(),className:zl("absolute right-0 top-0 h-full w-1 cursor-col-resize touch-none select-none bg-gray-300 opacity-0 group-hover:opacity-100 transition-opacity",e.column.getIsResizing()?"bg-hd-orange opacity-100 w-1.5":"")})]},e.id)})},e.id))}),H.jsx("tbody",{className:"divide-y divide-gray-100",children:0===h.getRowModel().rows.length?H.jsx("tr",{children:H.jsx("td",{colSpan:e.length,className:"h-24 text-center text-gray-500",children:"No hay resultados."})}):h.getRowModel().rows.map(e=>H.jsx("tr",{className:"hover:bg-gray-50 transition-colors",children:e.getVisibleCells().map(e=>H.jsx("td",{style:{width:e.column.getSize()},className:"px-4 py-3",children:vs(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})}),H.jsx("div",{className:"flex items-center justify-between px-2 text-xs text-gray-500",children:H.jsxs("div",{children:["Total: ",h.getFilteredRowModel().rows.length," registros"]})})]})},_l=()=>{const[e,t]=W.useState([]),[r,a]=W.useState(!0),[n,o]=W.useState(""),[i,s]=W.useState(null),[l,c]=W.useState(!1),d=it();W.useEffect(()=>{u()},[]);const u=async()=>{try{a(!0);const e=await(async()=>{const e=await fetch(`${ci}/Ventas/UnifiedHistory`);if(!e.ok)throw new Error("Error al obtener historial");return e.json()})();t(e)}catch(e){o("Error al cargar el historial"),console.error(e)}finally{a(!1)}},p=e=>{const t="http://localhost:5006/api".replace("/api","");let r="Factura";"Cotizacin"===e.Tipo&&(r="Cotizacion"),"Devolucin"===e.Tipo&&(r="Devolucion");const a=`${t}/Reports/${r}?id=${e.Id}`;window.open(a,"_blank")},h=(e,t="DOP",r="RD$")=>`${t} ${r}${(e||0).toLocaleString("en-US",{minimumFractionDigits:2})}`,m=e=>new Date(e).toLocaleDateString("es-DO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),g=W.useMemo(()=>[{header:"Tipo",accessorKey:"Tipo",cell:e=>{const t=e.getValue();let r=H.jsx(zr,{size:16,className:"text-blue-500"}),a="text-blue-700 bg-blue-50";return"Cotizacin"===t?(r=H.jsx(Pr,{size:16,className:"text-amber-500"}),a="text-amber-700 bg-amber-50"):"Devolucin"===t&&(r=H.jsx(ya,{size:16,className:"text-red-500"}),a="text-red-700 bg-red-50"),H.jsxs("div",{className:`flex items-center gap-2 px-2 py-1 rounded-md font-bold text-xs ${a}`,children:[r,t]})},size:120},{header:"Nmero",accessorKey:"Numero",accessorFn:e=>e.Numero||e.numero||e.NumeroFactura||e.numeroFactura,cell:e=>H.jsx("div",{className:"flex items-center gap-2 font-black text-gray-900 mono",children:e.getValue()}),size:140},{header:"Fecha",accessorKey:"Fecha",accessorFn:e=>e.Fecha||e.fecha,cell:e=>H.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[H.jsx(fr,{size:14,className:"text-gray-400"}),m(e.getValue())]}),size:150},{header:"Cliente",accessorKey:"ClienteNombre",accessorFn:e=>e.ClienteNombre||e.clienteNombre||"N/A",cell:e=>H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx(Ua,{size:16,className:"text-gray-400"}),H.jsx("span",{className:"font-semibold text-gray-900 text-sm truncate max-w-[150px]",children:e.getValue()})]}),size:200},{header:"NCF",accessorFn:e=>e.NCF||e.ncf||"N/A",cell:e=>H.jsx("span",{className:"text-[10px] font-mono bg-gray-100 text-gray-600 px-1.5 py-0.5 rounded border border-gray-200",children:e.getValue()||"N/A"}),size:130},{header:"Total",accessorFn:e=>e.Total||e.total,cell:e=>{const t=e.getValue(),r="Devolucin"===e.row.original.Tipo?"text-red-600":"text-green-600";return H.jsx("div",{className:`text-right font-black ${r}`,children:h(t,e.row.original.MonedaCodigo,e.row.original.MonedaSimbolo)})},size:120},{header:"Estado",accessorFn:e=>e.Estado||e.estado,cell:e=>{if("Cotizacin"===e.row.original.Tipo)return H.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-bold bg-amber-100 text-amber-800 uppercase",children:"Cotizacin"});if("Devolucin"===e.row.original.Tipo)return H.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-bold bg-gray-100 text-gray-800 uppercase",children:"Procesada"});const t=parseFloat(e.row.original.Saldo||e.row.original.saldo||0)<=.01,r=t?"Pagada":"Pendiente";let a="bg-yellow-100 text-yellow-800";t&&(a="bg-green-100 text-green-800");return"Anulado"===e.getValue()?H.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-bold bg-red-100 text-red-800 uppercase",children:"Anulado"}):H.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold ${a} uppercase`,children:r})},size:100},{id:"actions",header:"Acciones",cell:e=>H.jsxs("div",{className:"flex justify-center gap-1",children:[H.jsx("button",{onClick:()=>(async e=>{if("Factura"===e.Tipo)try{a(!0);const t=await di(e.Id);s(t),c(!0)}catch(t){console.error(t),o("Error al cargar detalle de venta")}finally{a(!1)}else"Cotizacin"===e.Tipo?d("/ventas/distribucion",{state:{mode:"edit_quotation",id:e.Id}}):p(e)})(e.row.original),className:"text-gray-600 hover:text-blue-600 hover:bg-blue-50 p-1.5 rounded-lg transition-all",title:"Ver Detalle",children:H.jsx(Fr,{size:18})}),H.jsx("button",{onClick:()=>p(e.row.original),className:"text-gray-600 hover:text-hd-orange hover:bg-orange-50 p-1.5 rounded-lg transition-all",title:"Imprimir (Pro)",children:H.jsx(fa,{size:18})}),"Factura"===e.row.original.Tipo&&H.jsx("button",{onClick:()=>d(`/ventas/devoluciones?invoice=${e.row.original.Numero||e.row.original.NumeroFactura}`),className:"text-gray-600 hover:text-red-600 hover:bg-red-50 p-1.5 rounded-lg transition-all",title:"Devolver",children:H.jsx(ya,{size:18})})]}),size:120,enableSorting:!1,enableResizing:!1}],[m,h]);return r&&0===e.length?H.jsx("div",{className:"flex items-center justify-center h-64",children:H.jsx(Zr,{className:"animate-spin text-hd-orange",size:48})}):H.jsxs("div",{className:"p-6 space-y-6 animate-in fade-in duration-500",children:[H.jsxs("div",{className:"flex justify-between items-center",children:[H.jsxs("div",{children:[H.jsx("h1",{className:"text-3xl font-black text-gray-900",children:"Historial Unificado"}),H.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Consulta Ventas, Devoluciones y Cotizaciones"})]}),H.jsxs("div",{className:"flex gap-3",children:[H.jsx("button",{onClick:()=>d("/ventas/pos"),className:"px-4 py-2 bg-hd-orange text-white rounded-lg font-bold hover:bg-orange-600 transition-shadow shadow-sm active:scale-95",children:"Punto de Venta"}),H.jsx("button",{onClick:()=>d("/ventas/distribucion"),className:"px-4 py-2 bg-gray-800 text-white rounded-lg font-bold hover:bg-black transition-shadow shadow-sm active:scale-95",children:"Distribucin"})]})]}),n&&H.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center gap-2",children:[H.jsx("div",{className:"w-2 h-2 rounded-full bg-red-600 animate-pulse"}),n]}),H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[H.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 hover:border-hd-orange transition-colors",children:[H.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:"Total Registros"}),H.jsxs("div",{className:"flex items-end justify-between mt-1",children:[H.jsx("p",{className:"text-2xl font-black text-gray-900",children:e.length}),H.jsx(zr,{className:"text-hd-orange opacity-20",size:32})]})]}),H.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 hover:border-green-500 transition-colors",children:[H.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:"Monto Total Estimado"}),H.jsxs("div",{className:"flex items-end justify-between mt-1",children:[H.jsx("p",{className:"text-2xl font-black text-green-600",children:h(e.filter(e=>"Devolucin"!==e.Tipo).reduce((e,t)=>e+(t.Total||0)*(t.TasaCambio||1),0),"DOP","RD$")}),H.jsx(Dr,{className:"text-green-600 opacity-20",size:32})]})]}),H.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 hover:border-amber-500 transition-colors",children:[H.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:"Cotizaciones"}),H.jsxs("div",{className:"flex items-end justify-between mt-1",children:[H.jsx("p",{className:"text-2xl font-black text-amber-600",children:e.filter(e=>"Cotizacin"===e.Tipo).length}),H.jsx(Pr,{className:"text-amber-600 opacity-20",size:32})]})]}),H.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-100 hover:border-red-500 transition-colors",children:[H.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:"Devoluciones"}),H.jsxs("div",{className:"flex items-end justify-between mt-1",children:[H.jsx("p",{className:"text-2xl font-black text-red-600",children:e.filter(e=>"Devolucin"===e.Tipo).length}),H.jsx(ya,{className:"text-red-600 opacity-20",size:32})]})]})]}),H.jsx(Rl,{columns:g,data:e,storageKey:"ventas_historial_unified"}),H.jsx(wi,{isOpen:l,onClose:()=>c(!1),sale:i})]})},Ll=({isOpen:e,onClose:t})=>e?H.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:H.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full p-6 animate-in fade-in zoom-in duration-300",children:[H.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[H.jsx("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:" Gua de Procesos de Devolucin"}),H.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:H.jsx("span",{className:"text-2xl",children:""})})]}),H.jsxs("div",{className:"space-y-6",children:[H.jsxs("div",{className:"flex gap-4",children:[H.jsx("div",{className:"bg-gray-100 p-3 rounded-lg flex items-center justify-center h-12 w-12 min-w-[3rem]",children:H.jsx("span",{className:"text-2xl",children:""})}),H.jsxs("div",{children:[H.jsx("h3",{className:"text-lg font-bold text-gray-900 border-l-4 border-gray-600 pl-2",children:"Solo Devolucin (Inventario)"}),H.jsxs("p",{className:"text-gray-600 mt-1 text-sm leading-relaxed",children:["Este proceso reingresa los artculos seleccionados al inventario fsico ",H.jsx("strong",{children:"sin generar ningn reembolso monetario inmediato"}),". til para correcciones de inventario o cuando el cliente deja el producto pendiente de otra accin futura."]})]})]}),H.jsxs("div",{className:"flex gap-4",children:[H.jsx("div",{className:"bg-red-100 p-3 rounded-lg flex items-center justify-center h-12 w-12 min-w-[3rem]",children:H.jsx("span",{className:"text-2xl",children:""})}),H.jsxs("div",{children:[H.jsx("h3",{className:"text-lg font-bold text-gray-900 border-l-4 border-red-600 pl-2",children:"Reembolso (Efectivo)"}),H.jsxs("p",{className:"text-gray-600 mt-1 text-sm leading-relaxed",children:["Use esta opcin cuando se le devuelve el dinero en efectivo al cliente. El sistema reingresa los artculos al inventario y ",H.jsx("strong",{children:"registra una salida de caja"})," por el monto total devuelto, emitiendo una Nota de Crdito interna para fines fiscales."]})]})]}),H.jsxs("div",{className:"flex gap-4",children:[H.jsx("div",{className:"bg-green-100 p-3 rounded-lg flex items-center justify-center h-12 w-12 min-w-[3rem]",children:H.jsx("span",{className:"text-2xl",children:""})}),H.jsxs("div",{children:[H.jsx("h3",{className:"text-lg font-bold text-gray-900 border-l-4 border-green-600 pl-2",children:"Cambio (Nota de Crdito)"}),H.jsxs("p",{className:"text-gray-600 mt-1 text-sm leading-relaxed",children:["Ideal para cambios de mercanca. El sistema genera una ",H.jsx("strong",{children:"Nota de Crdito"})," con un saldo a favor que se puede aplicar inmediatamente en una nueva factura (POS). No implica salida de efectivo de la caja."]})]})]})]}),H.jsx("div",{className:"mt-8 text-right",children:H.jsx("button",{onClick:t,className:"bg-[#F96302] text-white px-6 py-2 rounded font-bold hover:bg-[#d85502] transition",children:"Entendido"})})]})}):null,$l=()=>{var e,t,r;const a=it(),[n]=Ut(),[o,i]=W.useState(""),[s,l]=W.useState(null),[c,d]=W.useState([]),[u,p]=W.useState({}),[h,m]=W.useState(!1),[g,x]=W.useState(""),[f,b]=W.useState(!1),[v,y]=W.useState(!1),[w,j]=W.useState(null),[N,k]=W.useState("Damaged");W.useEffect(()=>{const e=n.get("invoice");e&&(i(e),C(e))},[n]);const C=async(e=o)=>{if(!e||!e.trim())return x("Ingrese un nmero de factura"),void m(!1);m(!0),x(""),l(null),d([]),p({});try{const t="http://localhost:5006/api",r=await fetch(`${t}/Returns/Search/${e.trim()}`);if(r.ok){const e=await r.json();l(e.venta||e.Venta),d(e.detalles||e.Detalles||[])}else x("Factura no encontrada o no elegible para devolucin."),l(null)}catch(t){console.error(t),x("Error de conexin con el servidor."),l(null)}finally{m(!1)}},S=async e=>{if(Object.keys(u).length){m(!0);try{const t=Object.keys(u).map(e=>{c.find(t=>t.articuloId===parseInt(e)||t.id===parseInt(e));const t=c.find(t=>t.articuloId==e);return{articuloId:parseInt(e),cantidad:u[e].quantity,precioUnitario:t.precioUnitario,retornarAlStock:!0}}),r=t.reduce((e,t)=>e+t.cantidad*t.precioUnitario,0),n={VentaId:s.id||s.Id,TipoAccion:e,Razon:"Solicitado por cliente",TotalReembolsado:r,Usuario:"Admin",Detalles:t};console.log("Sending Return Payload:",n);const o=await vi(n);console.log("Create return result:",o);const p=o.returnId||o.ReturnId;if(p)try{const e=await(async e=>{try{const t=await fetch(`${bi}/Returns/Report/${e}`);if(!t.ok){const e=await t.json().catch(()=>({}));throw new Error(e.message||"Error fetching return report")}return await t.json()}catch(g){throw g}})(p);console.log("Report fetched:",e),j(e)}catch(Xd){console.error("Error fetching return report:",Xd)}"Cambio"===e?a("/ventas/pos",{state:{creditNoteId:o.creditNoteId,creditAmount:r}}):(alert(`Proceso Completado. ${o.message}`),l(null),i(""),d([]))}catch(t){console.error(t),x("Error procesando la devolucin.")}finally{m(!1)}}else alert(" Por favor, ingrese la cantidad a devolver en al menos un artculo.")};return H.jsxs("div",{className:"p-6 bg-gray-100 min-h-screen font-sans animate-fade-in",children:[H.jsxs("div",{className:"flex justify-between items-center mb-6",children:[H.jsx("h1",{className:"text-3xl font-bold text-[#F96302]",children:"Devoluciones y Notas de Crdito"}),H.jsxs("div",{className:"flex gap-2",children:[H.jsxs("button",{onClick:()=>a("/ventas/historial-devoluciones"),className:"bg-gray-200 text-gray-800 px-4 py-2 rounded font-bold hover:bg-gray-300 transition flex items-center gap-2",children:[H.jsx(ba,{size:18}),"Historial"]}),H.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-2 text-gray-500 hover:text-[#F96302] transition font-bold",title:"Ver Gua de Ayuda",children:[H.jsx("span",{className:"bg-white h-8 w-8 rounded-full shadow flex items-center justify-center text-lg",children:"?"}),H.jsx("span",{className:"hidden md:inline",children:"Ayuda"})]})]})]}),H.jsx(Ll,{isOpen:v,onClose:()=>y(!1)}),f&&H.jsx(gi,{onSelect:e=>{console.log("Invoice Selected:",e),b(!1);const t=e.numeroFactura||e.NumeroFactura;console.log("Extracted Invoice Number:",t),e&&t?(i(t),C(t)):console.error("Could not extract invoice number from selection")},onCancel:()=>b(!1)}),H.jsxs("div",{className:"bg-white p-6 rounded shadow-md mb-6",children:[H.jsxs("div",{className:"flex gap-4 items-end",children:[H.jsxs("div",{className:"flex-1",children:[H.jsx("label",{className:"block text-sm font-bold mb-2",children:"Nmero de Factura"}),H.jsxs("div",{className:"flex gap-2",children:[H.jsx("input",{type:"text",value:o,onChange:e=>i(e.target.value),className:"w-full border p-2 rounded text-lg uppercase",placeholder:"FACT-000000"}),H.jsx("button",{onClick:()=>b(!0),className:"bg-gray-200 text-gray-700 px-4 py-2 rounded font-bold hover:bg-gray-300 transition flex items-center gap-2",title:"Buscar Factura",children:""})]})]}),H.jsx("button",{onClick:()=>C(),disabled:h,className:"bg-[#F96302] text-white px-6 py-2 rounded font-bold hover:bg-[#d85502] transition h-[46px]",children:h?"Buscando...":"Buscar"})]}),g&&H.jsx("p",{className:"text-red-600 mt-2 font-bold",children:g})]}),s&&H.jsxs("div",{className:"bg-white p-6 rounded shadow-md animate-fade-in",children:[H.jsxs("div",{className:"flex justify-between items-end mb-4 border-b pb-4",children:[H.jsxs("div",{className:"space-y-1",children:[H.jsx("p",{className:"text-gray-600 text-sm",children:"Cliente"}),H.jsx("p",{className:"font-bold text-xl text-gray-900",children:s.clienteId||s.ClienteId})]}),H.jsxs("div",{className:"space-y-1",children:[H.jsx("p",{className:"text-gray-600 text-sm",children:"Factura"}),H.jsx("p",{className:"font-bold text-xl text-gray-900",children:s.numeroFactura||s.NumeroFactura||o})]}),H.jsxs("div",{className:"space-y-1",children:[H.jsx("p",{className:"text-gray-600 text-sm",children:"Fecha"}),H.jsx("p",{className:"font-bold text-xl text-gray-900",children:new Date(s.fecha||s.Fecha).toLocaleDateString()})]}),(s.ncf||s.NCF)&&H.jsxs("div",{className:"space-y-1",children:[H.jsx("p",{className:"text-gray-600 text-sm",children:"NCF"}),H.jsx("p",{className:"font-bold text-xl text-blue-600",children:s.ncf||s.NCF})]}),H.jsxs("div",{className:"text-right space-y-1",children:[H.jsx("p",{className:"text-gray-600 text-sm",children:"Total Factura"}),H.jsxs("p",{className:"font-black text-3xl text-green-600",children:["$",null===(e=s.total||s.Total)||void 0===e?void 0:e.toFixed(2)]})]})]}),H.jsxs("table",{className:"w-full mb-6 border border-gray-300",children:[H.jsx("thead",{className:"bg-gray-800 text-white",children:H.jsxs("tr",{children:[H.jsx("th",{className:"p-3 text-left",children:"Artculo"}),H.jsx("th",{className:"p-3 text-center",children:"Cant. Comprada"}),H.jsx("th",{className:"p-3 text-center",children:"Precio"}),H.jsx("th",{className:"p-3 text-center bg-[#F96302]",children:"Cant. a Devolver"})]})}),H.jsx("tbody",{children:c.map(e=>{var t;return H.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[H.jsx("td",{className:"p-3 font-medium text-black",children:e.articuloDescripcion||e.ArticuloDescripcion||e.Descripcion||e.descripcion}),H.jsx("td",{className:"p-3 text-center text-black",children:e.cantidad||e.Cantidad}),H.jsxs("td",{className:"p-3 text-center text-black",children:["$",null===(t=e.precioUnitario||e.PrecioUnitario)||void 0===t?void 0:t.toFixed(2)]}),H.jsx("td",{className:"p-3 text-center bg-orange-50",children:H.jsx("input",{type:"number",min:"0",max:e.cantidad||e.Cantidad,className:"border-2 border-gray-400 p-2 w-24 text-center text-lg font-bold rounded focus:border-[#F96302] focus:outline-none",placeholder:"0",onChange:t=>{return r=e.articuloId||e.ArticuloId,a=parseFloat(t.target.value),void p(e=>{const t=e[r]||{returnToStock:!0};if(a<=0){const{[r]:t,...a}=e;return a}return{...e,[r]:{...t,quantity:a}}});var r,a}})})]},e.articuloId||e.ArticuloId)})})]}),H.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[H.jsx("button",{onClick:()=>S("SoloDevolucion"),className:"bg-gray-700 text-white px-6 py-3 rounded font-bold hover:bg-gray-800 shadow-lg text-lg",title:"Regresa los artculos al inventario sin generar reembolso. selo para correcciones.",children:"Solo Devolucin (Inv)"}),H.jsx("button",{onClick:()=>S("Reembolso"),className:"bg-red-600 text-white px-6 py-3 rounded font-bold hover:bg-red-700 shadow-lg text-lg",title:"Devuelve dinero en efectivo y regresa artculos al inventario.",children:"Reembolso (Efectivo)"}),H.jsx("button",{onClick:()=>S("Cambio"),className:"bg-green-600 text-white px-6 py-3 rounded font-bold hover:bg-green-700 shadow-lg text-lg",title:"Genera una Nota de Crdito para usar en una nueva compra futura.",children:"Cambio (Nota Crdito)"})]})]}),w&&H.jsxs("div",{className:"mt-8 p-4 bg-white rounded shadow",children:[H.jsxs("h2",{className:"text-xl font-bold mb-4",children:["Reporte de Devolucin (ID: ",null===(t=w.Master||w.master)||void 0===t?void 0:t.Id,")"]}),H.jsxs("table",{className:"w-full border",children:[H.jsx("thead",{className:"bg-gray-200",children:H.jsxs("tr",{children:[H.jsx("th",{className:"p-2 text-left",children:"Artculo"}),H.jsx("th",{className:"p-2 text-center",children:"Cantidad"}),H.jsx("th",{className:"p-2 text-center",children:"Precio Unitario"}),H.jsx("th",{className:"p-2 text-center",children:"Subtotal"})]})}),H.jsx("tbody",{children:(w.Detalles||w.detalles||[]).map((e,t)=>H.jsxs("tr",{className:"border-t",children:[H.jsx("td",{className:"p-2",children:e.ArticuloDescripcion||e.Descripcion||e.ArticuloId}),H.jsx("td",{className:"p-2 text-center",children:e.Cantidad||e.cantidad}),H.jsxs("td",{className:"p-2 text-center",children:["$",(e.PrecioUnitario||e.precioUnitario).toFixed(2)]}),H.jsxs("td",{className:"p-2 text-center",children:["$",((e.Cantidad||e.cantidad)*(e.PrecioUnitario||e.precioUnitario)).toFixed(2)]})]},t))})]}),H.jsxs("div",{className:"mt-4 text-right font-bold",children:["Total Calculado: $",null===(r=w.TotalCalculado||w.totalCalculado)||void 0===r?void 0:r.toFixed(2),(void 0!==w.TotalesCoinciden?w.TotalesCoinciden:w.totalesCoinciden)?H.jsx("span",{className:"text-green-600 ml-2",children:"(Coinciden)"}):H.jsx("span",{className:"text-red-600 ml-2",children:"(Discrepancia)"})]})]})]})},Ul=()=>{const e=it(),[t,r]=W.useState("returns"),[a,n]=W.useState([]),[o,i]=W.useState([]),[s,l]=W.useState(!1),[c,d]=W.useState({start:new Date((new Date).getFullYear(),(new Date).getMonth(),1).toISOString().split("T")[0],end:(new Date).toISOString().split("T")[0]});W.useEffect(()=>{u()},[t,c]);const u=async()=>{l(!0);try{if("returns"===t){const e=await(async(e,t)=>{try{const r=new URLSearchParams;e&&r.append("start",e),t&&r.append("end",t);const a=await fetch(`${bi}/Returns?${r.toString()}`);if(!a.ok)throw new Error("Error fetching returns history");return await a.json()}catch(r){throw r}})(c.start,c.end);n(e)}else{const e=await(async(e,t)=>{try{const r=new URLSearchParams;e&&r.append("start",e),t&&r.append("end",t);const a=await fetch(`${bi}/CreditNotes?${r.toString()}`);if(!a.ok)throw new Error("Error fetching credit notes history");return await a.json()}catch(r){throw r}})(c.start,c.end);i(e)}}catch(e){console.error("Error fetching history:",e)}finally{l(!1)}},p=e=>new Date(e).toLocaleDateString("es-DO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),h=e=>`RD$ ${(e||0).toLocaleString("en-US",{minimumFractionDigits:2})}`,m=W.useMemo(()=>[{header:"Retorno #",accessorKey:"id",accessorFn:e=>e.id||e.Id,size:80},{header:"Fecha",accessorFn:e=>p(e.fecha||e.Fecha),size:140},{header:"Factura Orig.",accessorFn:e=>e.numeroFactura||e.NumeroFactura,cell:e=>H.jsx("span",{className:"font-bold text-gray-700",children:e.getValue()}),size:120},{header:"Cliente",accessorFn:e=>e.clienteNombre||e.ClienteNombre||"Cliente General",size:200},{header:"Tipo Accin",accessorFn:e=>e.tipoAccion||e.TipoAccion,cell:e=>H.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-bold "+("Reembolso"===e.getValue()?"bg-red-100 text-red-800":"Cambio"===e.getValue()?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:e.getValue()}),size:120},{header:"Total",accessorFn:e=>e.totalReembolsado||e.TotalReembolsado,cell:e=>H.jsx("div",{className:"text-right font-bold text-green-700",children:h(e.getValue())}),size:120},{header:"Usuario",accessorFn:e=>e.usuario||e.Usuario,size:100}],[]),g=W.useMemo(()=>[{header:"NCF",accessorFn:e=>e.ncf||e.NCF,cell:e=>H.jsx("span",{className:"font-mono text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded",children:e.getValue()}),size:140},{header:"Fecha",accessorFn:e=>p(e.fecha||e.Fecha),size:140},{header:"Cliente",accessorFn:e=>e.clienteNombre||e.ClienteNombre,size:200},{header:"Factura Orig.",accessorFn:e=>e.numeroFactura||e.NumeroFactura,size:120},{header:"Monto Original",accessorFn:e=>e.monto||e.Monto,cell:e=>H.jsx("div",{className:"text-right",children:h(e.getValue())}),size:120},{header:"Saldo",accessorFn:e=>e.saldo||e.Saldo,cell:e=>{const t=e.getValue();return H.jsx("div",{className:"text-right font-bold "+(t>0?"text-green-600":"text-gray-400"),children:h(t)})},size:120},{header:"Estado",accessorFn:e=>e.estado||e.Estado,cell:e=>H.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded text-xs",children:e.getValue()}),size:100}],[]);return H.jsxs("div",{className:"p-6 space-y-6 animate-in fade-in",children:[H.jsxs("div",{className:"flex justify-between items-center",children:[H.jsxs("div",{children:[H.jsx("h1",{className:"text-3xl font-black text-gray-900",children:"Historial de Devoluciones"}),H.jsx("p",{className:"text-gray-500",children:"Consulta de devoluciones y notas de crdito generadas."})]}),H.jsx("div",{className:"flex gap-2",children:H.jsx("button",{onClick:()=>e("/ventas/devoluciones"),className:"bg-hd-orange text-white px-4 py-2 rounded-lg font-bold hover:bg-orange-600 transition",children:"Nueva Devolucin"})})]}),H.jsx(ln,{className:"bg-gray-50 border-none shadow-none",children:H.jsxs("div",{className:"p-4 flex flex-wrap gap-4 items-end",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Desde"}),H.jsx("input",{type:"date",value:c.start,onChange:e=>d(t=>({...t,start:e.target.value})),className:"border p-2 rounded"})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Hasta"}),H.jsx("input",{type:"date",value:c.end,onChange:e=>d(t=>({...t,end:e.target.value})),className:"border p-2 rounded"})]})]})}),H.jsxs("div",{className:"flex space-x-1 bg-gray-200 p-1 rounded-lg w-fit",children:[H.jsx("button",{onClick:()=>r("returns"),className:"px-4 py-2 rounded-md text-sm font-bold transition-all "+("returns"===t?"bg-white shadow text-hd-orange":"text-gray-600 hover:text-gray-900"),children:H.jsxs("span",{className:"flex items-center gap-2",children:[H.jsx(ba,{size:16})," Devoluciones"]})}),H.jsx("button",{onClick:()=>r("creditNotes"),className:"px-4 py-2 rounded-md text-sm font-bold transition-all "+("creditNotes"===t?"bg-white shadow text-hd-orange":"text-gray-600 hover:text-gray-900"),children:H.jsxs("span",{className:"flex items-center gap-2",children:[H.jsx(Ir,{size:16})," Notas de Crdito"]})})]}),H.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 min-h-[400px]",children:s?H.jsx("div",{className:"flex items-center justify-center h-64 text-gray-400",children:"Cargando..."}):H.jsx(Rl,{columns:"returns"===t?m:g,data:"returns"===t?a:o,storageKey:`history_${t}`})})]})},Bl=()=>{var e;const[t,r]=W.useState((new Date).toISOString().split("T")[0]),[a,n]=W.useState(!1),[o,i]=W.useState({detalles:[],resumen:{}});W.useEffect(()=>{s()},[t]);const s=async()=>{try{n(!0);const e=await fetch(`http://localhost:5006/api/Ventas/CorteCaja?fecha=${t}`);if(e.ok){const t=await e.json();i(t)}}catch(e){console.error("Error loading corte:",e)}finally{n(!1)}},l=(e,t="DOP",r="RD$")=>`${t} ${r}${(e||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,c=o.resumen||{totalDOP:0,totalTransacciones:0},d=o.detalles||[];return d.filter(e=>"Efectivo"===e.metodoPago).reduce((e,t)=>e+t.total*("USD"===t.moneda?60.5:1),0),H.jsxs("div",{className:"p-6 space-y-6 max-w-6xl mx-auto print:p-0",children:[H.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 border-b pb-6 print:hidden",children:[H.jsxs("div",{className:"space-y-1",children:[H.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tighter uppercase italic",children:"Corte de Caja"}),H.jsxs("p",{className:"text-sm text-gray-500 font-bold uppercase tracking-widest flex items-center gap-2",children:[H.jsx(za,{size:14,className:"text-hd-orange"})," Resumen Diario de Operaciones"]})]}),H.jsxs("div",{className:"flex items-center gap-3",children:[H.jsxs("div",{className:"relative",children:[H.jsx(fr,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),H.jsx(en,{type:"date",className:"pl-9 font-bold",value:t,onChange:e=>r(e.target.value)})]}),H.jsx(Za,{variant:"outline",onClick:s,disabled:a,children:H.jsx(ba,{className:"h-4 w-4 "+(a?"animate-spin":"")})}),H.jsxs(Za,{className:"bg-hd-orange hover:bg-orange-600 font-bold",onClick:()=>{window.print()},children:[H.jsx(fa,{className:"mr-2 h-4 w-4"})," Imprimir Reporte"]})]})]}),H.jsxs("div",{className:"hidden print:block text-center space-y-2 mb-8",children:[H.jsx("h1",{className:"text-2xl font-bold uppercase text-black",children:"POS CRONO - REPORTE DE CIERRE"}),H.jsxs("p",{className:"text-sm font-mono",children:["FECHA DE CORTE: ",t]}),H.jsx("div",{className:"border-b-2 border-black w-full"})]}),H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[H.jsx(ln,{className:"border-l-4 border-l-hd-orange shadow-sm",children:H.jsx(un,{className:"pt-6",children:H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs("div",{children:[H.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Ventas Totales (Consolidado)"}),H.jsx("h3",{className:"text-3xl font-black text-gray-900 tracking-tight",children:l(c.totalDOP,"DOP","RD$")})]}),H.jsx("div",{className:"h-12 w-12 bg-orange-50 rounded-xl flex items-center justify-center text-hd-orange",children:H.jsx(Dr,{size:24})})]})})}),H.jsx(ln,{className:"border-l-4 border-l-blue-500 shadow-sm",children:H.jsx(un,{className:"pt-6",children:H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs("div",{children:[H.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Transacciones"}),H.jsxs("h3",{className:"text-3xl font-black text-gray-900 tracking-tight",children:[c.totalTransacciones," ",H.jsx("span",{className:"text-sm font-bold text-gray-400 italic",children:"Ventas"})]})]}),H.jsx("div",{className:"h-12 w-12 bg-blue-50 rounded-xl flex items-center justify-center text-blue-500",children:H.jsx(zr,{size:24})})]})})}),H.jsx(ln,{className:"border-l-4 border-l-green-500 shadow-sm",children:H.jsx(un,{className:"pt-6",children:H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs("div",{children:[H.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Fecha del Reporte"}),H.jsx("h3",{className:"text-2xl font-black text-gray-900 tracking-tight",children:new Date(t+"T12:00:00").toLocaleDateString("es-DO",{weekday:"long",day:"numeric",month:"long"})})]}),H.jsx("div",{className:"h-12 w-12 bg-green-50 rounded-xl flex items-center justify-center text-green-500",children:H.jsx(fr,{size:24})})]})})})]}),H.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[H.jsxs(ln,{className:"shadow-sm border-none bg-white",children:[H.jsx(cn,{className:"bg-gray-50/50 border-b",children:H.jsx(dn,{className:"text-xs font-black text-gray-500 uppercase tracking-widest",children:"Desglose por Moneda y Mtodo"})}),H.jsxs(tn,{children:[H.jsx(rn,{children:H.jsxs(nn,{children:[H.jsx(on,{className:"font-black uppercase text-[10px]",children:"Moneda"}),H.jsx(on,{className:"font-black uppercase text-[10px]",children:"Mtodo"}),H.jsx(on,{className:"font-black uppercase text-[10px] text-center",children:"Trans."}),H.jsx(on,{className:"font-black uppercase text-[10px] text-right",children:"Total Bruto"})]})}),H.jsx(an,{children:0===d.length?H.jsx(nn,{children:H.jsx(sn,{colSpan:4,className:"text-center py-8 text-gray-400 italic",children:"No hay operaciones registradas este da"})}):d.map((e,t)=>H.jsxs(nn,{className:"hover:bg-gray-50",children:[H.jsx(sn,{className:"font-black text-gray-700",children:e.moneda}),H.jsx(sn,{children:H.jsxs("div",{className:"flex items-center gap-2",children:["Efectivo"===e.metodoPago?H.jsx(dr,{size:14,className:"text-green-500"}):H.jsx(Ir,{size:14,className:"text-blue-500"}),H.jsx("span",{className:"font-bold text-gray-600",children:e.metodoPago})]})}),H.jsx(sn,{className:"text-center font-bold text-gray-500",children:e.transacciones}),H.jsx(sn,{className:"text-right font-black text-gray-900",children:l(e.total,e.moneda,e.simbolo)})]},t))})]})]}),H.jsxs(ln,{className:"shadow-sm border-none bg-gray-900 text-white",children:[H.jsx(cn,{className:"border-b border-white/10",children:H.jsx(dn,{className:"text-xs font-black text-gray-400 uppercase tracking-widest",children:"Consolidado en DOP (Pesos)"})}),H.jsxs("div",{className:"p-8 space-y-6",children:[H.jsx("div",{className:"flex items-center justify-between",children:H.jsxs("div",{className:"flex items-center gap-4",children:[H.jsx("div",{className:"h-10 w-10 bg-white/10 rounded-lg flex items-center justify-center",children:H.jsx(dr,{className:"text-green-400"})}),H.jsxs("div",{children:[H.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Total Efectivo"}),H.jsxs("p",{className:"text-xl font-bold",children:["RD$ ",d.filter(e=>"Efectivo"===e.metodoPago).reduce((e,t)=>e+t.total*("USD"===t.moneda?60.5:1),0).toLocaleString()]})]})]})}),H.jsx("div",{className:"flex items-center justify-between",children:H.jsxs("div",{className:"flex items-center gap-4",children:[H.jsx("div",{className:"h-10 w-10 bg-white/10 rounded-lg flex items-center justify-center",children:H.jsx(Ir,{className:"text-blue-400"})}),H.jsxs("div",{children:[H.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Total Tarjeta"}),H.jsxs("p",{className:"text-xl font-bold",children:["RD$ ",d.filter(e=>"Tarjeta"===e.metodoPago).reduce((e,t)=>e+t.total*("USD"===t.moneda?60.5:1),0).toLocaleString()]})]})]})}),H.jsx("div",{className:"pt-6 border-t border-white/10",children:H.jsxs("div",{className:"flex justify-between items-end",children:[H.jsxs("div",{children:[H.jsx("p",{className:"text-[10px] font-black text-hd-orange uppercase tracking-widest italic",children:"Gran Total Neto"}),H.jsxs("p",{className:"text-4xl font-black text-hd-orange tracking-tighter italic",children:["RD$ ",(null===(e=c.totalDOP)||void 0===e?void 0:e.toLocaleString())||0]})]}),H.jsxs("div",{className:"text-right",children:[H.jsx("p",{className:"text-[10px] font-bold text-gray-500 uppercase",children:"Firma del Cajero"}),H.jsx("div",{className:"w-32 h-px bg-gray-700 mt-6"})]})]})})]})]})]}),H.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-4 rounded-xl flex items-start gap-3 print:hidden",children:[H.jsx(zr,{className:"text-blue-500 mt-0.5",size:18}),H.jsx("p",{className:"text-xs text-blue-700 font-medium leading-relaxed",children:"Este reporte consolida todas las ventas facturadas hasta el momento para la fecha seleccionada. Los montos en USD son convertidos a DOP utilizando la tasa histrica grabada en cada transaccin para asegurar la precisin contable."})]})]})},Vl="http://localhost:5006/api",Gl=async e=>{const t=await fetch(`${Vl}/Compras/${e}`);if(!t.ok)throw new Error(`Failed to get purchase: ${t.status}`);return t.json()},ql=async e=>{const t=await fetch(`${Vl}/Compras/${e}/anular`,{method:"PUT",headers:{"Content-Type":"application/json"}});if(!t.ok){const e=await t.text();throw new Error(`Failed to annul purchase: ${t.status} ${e}`)}return t.json()},Hl=({isOpen:e,onClose:t,onConfirm:r,title:a,message:n,confirmLabel:o="Confirmar",cancelLabel:i="Cancelar",variant:s="danger"})=>{const[l,c]=K.useState(!1);K.useEffect(()=>{e&&c(!1)},[e]);return H.jsx(Rn,{open:e,onOpenChange:t,className:"max-w-sm",children:H.jsxs(_n,{className:"p-0",children:[H.jsxs("div",{className:"p-6",children:[H.jsxs("div",{className:"flex items-center space-x-3 text-left",children:[H.jsx("div",{className:"p-2 rounded-full flex-shrink-0 "+("danger"===s?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"),children:H.jsx(Yt,{size:24})}),H.jsx($n,{children:a})]}),H.jsx("div",{className:"mt-4 text-sm text-gray-600 leading-relaxed",children:n})]}),H.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-3 gap-2 sm:gap-0 border-t border-gray-100",children:[H.jsx("button",{type:"button",disabled:l,onClick:t,className:"inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400 disabled:opacity-50 transition-colors",children:i}),H.jsxs("button",{type:"button",disabled:l,onClick:async()=>{c(!0);try{await r()}finally{c(!1)}},className:"inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium text-white shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 transition-colors "+("danger"===s?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-hd-orange hover:bg-orange-600 focus:ring-orange-500"),children:[l&&H.jsx(Zr,{className:"mr-2 h-4 w-4 animate-spin"}),o]})]})]})})},Wl=()=>{const e=it(),[t,r]=W.useState(""),[a,n]=W.useState([]),[o,i]=W.useState(!0),[s,l]=W.useState({isOpen:!1,id:null,numero:""}),[c,d]=W.useState({key:"fechaCompra",direction:"desc"}),[u,p]=W.useState({}),[h,m]=W.useState({}),[g,x]=W.useState({}),[f,b]=W.useState(null),[v,y]=W.useState(!1);W.useEffect(()=>{w()},[]);const w=async()=>{try{i(!0);const e=await(async()=>{const e=await fetch(`${Vl}/Compras`);if(!e.ok)throw new Error(`Failed to get purchases: ${e.status}`);return e.json()})();n(Array.isArray(e)?e:[])}catch(e){console.error("Error loading purchases:",e),n([])}finally{i(!1)}},j=e=>{let t="asc";c.key===e&&"asc"===c.direction&&(t="desc"),d({key:e,direction:t})},N=(e,t)=>{t.stopPropagation(),b(f===e?null:e)},k=(e,t)=>{p(r=>({...r,[e]:t}))},C=(e,t)=>{m(r=>{const a=r[e]||[];return a.includes(t)?{...r,[e]:a.filter(e=>e!==t)}:{...r,[e]:[...a,t]}})},S=(()=>{let e=Array.isArray(a)?[...a]:[];return t&&(e=e.filter(e=>Object.keys(e).some(r=>{var a;return("fechaCompra"===r?(a=e[r])?new Date(a).toLocaleDateString("es-DO",{year:"numeric",month:"long",day:"2-digit"}):"":String(e[r])).toLowerCase().includes(t.toLowerCase())}))),Object.keys(u).forEach(t=>{u[t]&&(e=e.filter(e=>{if("fechaCompra"===t){const r=new Date(e[t]);return`${r.getFullYear()} ${r.toLocaleDateString("es-DO",{month:"long"})} ${r.getDate()}`.toLowerCase().includes(u[t].toLowerCase())}return String(e[t]||"").toLowerCase().includes(u[t].toLowerCase())}))}),Object.keys(h).forEach(t=>{h[t]&&h[t].length>0&&(e=e.filter(e=>{if("fechaCompra"===t){const r=new Date(e[t]),a=`${r.getFullYear()}/${r.toLocaleDateString("es-DO",{month:"long"})}/${r.getDate()}`;return h[t].includes(a)}return h[t].includes(String(e[t]))}))}),Object.keys(g).forEach(t=>{const{min:r,max:a}=g[t];""!==r&&(e=e.filter(e=>(e[t]||0)>=parseFloat(r))),""!==a&&(e=e.filter(e=>(e[t]||0)<=parseFloat(a)))}),c.key&&e.sort((e,t)=>{const r=e[c.key],a=t[c.key];return r<a?"asc"===c.direction?-1:1:r>a?"asc"===c.direction?1:-1:0}),e})(),E=(()=>{if(!v)return null;const e={};return S.forEach(t=>{if(!t)return;const r=(e=>{let t=a.find(t=>t.id===e);if(!t)return null;let r=0;for(;t.documentoReferenciaId&&r<20;){const e=a.find(e=>e.id===t.documentoReferenciaId);if(!e)break;t=e,r++}return t})(t.id);if(r){const a=r.id;e[a]||(e[a]={root:r,items:[]}),e[a].items.push(t)}else e[t.id]?e[t.id].items.push(t):e[t.id]={root:t,items:[t]}}),Object.values(e).forEach(e=>{e.items.sort((e,t)=>new Date(e.fechaCompra)-new Date(t.fechaCompra))}),Object.values(e).sort((e,t)=>new Date(t.root.fechaCompra)-new Date(e.root.fechaCompra))})(),P=e=>{const t=a.map(t=>String(t[e]||""));return[...new Set(t)].sort()},O=()=>{const e={children:{}};return a.forEach(t=>{const r=new Date(t.fechaCompra),a=String(r.getFullYear()),n=r.toLocaleDateString("es-DO",{month:"long"}),o=String(r.getDate());e.children[a]||(e.children[a]={children:{}}),e.children[a].children[n]||(e.children[a].children[n]={children:{}}),e.children[a].children[n].children[o]||(e.children[a].children[n].children[o]={count:0}),e.children[a].children[n].children[o].count++}),e},I=t=>t.map(t=>{var r,a;return H.jsxs(nn,{className:"cursor-pointer hover:bg-gray-50 "+(v&&t.id!==t.documentoReferenciaId?"bg-gray-50/50":""),onClick:()=>e(`/compras/editar/${t.id}`),children:[H.jsx(sn,{className:"font-mono text-sm font-medium text-blue-600 pl-4",children:t.numeroCompra}),H.jsx(sn,{children:H.jsxs("div",{className:"flex items-center",children:[v&&t.documentoReferenciaId&&H.jsx("div",{className:"w-4 h-4 mr-2 border-l-2 border-b-2 border-gray-300 rounded-bl-none",style:{marginLeft:"10px"}}),H.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium border "+("Recepcion"===t.tipoDocumento?"bg-purple-50 text-purple-700 border-purple-200":"OrdenCompra"===t.tipoDocumento?"bg-blue-50 text-blue-700 border-blue-200":"bg-gray-50 text-gray-700 border-gray-200"),children:"OrdenCompra"===t.tipoDocumento?"Orden":t.tipoDocumento||"Factura"})]})}),H.jsx(sn,{children:t.documentoReferenciaNumero?H.jsxs("span",{className:"text-xs font-mono text-gray-500 bg-gray-100 px-1.5 py-0.5 rounded",children:["ref: ",t.documentoReferenciaNumero]}):H.jsx("span",{className:"text-xs text-gray-300",children:"-"})}),H.jsxs(sn,{children:[H.jsx("div",{className:"font-medium text-gray-900",children:t.proveedorNombre}),H.jsx("div",{className:"text-xs text-gray-500",children:t.codigoProveedor})]}),H.jsx(sn,{className:"text-gray-600",children:(a=t.fechaCompra,a?new Date(a).toLocaleString("es-DO",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}):"")}),H.jsx(sn,{children:H.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+("Completado"===t.estado?"bg-green-100 text-green-800":"Pendiente"===t.estado?"bg-yellow-100 text-yellow-800":"Anulado"===t.estado?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:t.estado})}),H.jsx(sn,{className:"text-right font-medium",children:H.jsxs("div",{className:"flex flex-col items-end",children:[H.jsxs("span",{children:[t.monedaSimbolo||"RD$"," ",null===(r=t.total)||void 0===r?void 0:r.toLocaleString("es-DO",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.monedaCodigo&&"DOP"!==t.monedaCodigo&&H.jsxs("span",{className:"text-[10px] text-gray-500 font-normal italic",children:["(Equiv. DOP ",(t.total*(t.tasaCambio||1)).toLocaleString("es-DO",{minimumFractionDigits:2,maximumFractionDigits:2}),")"]})]})}),H.jsx(sn,{className:"text-right",onClick:e=>e.stopPropagation(),children:H.jsxs("div",{className:"flex justify-end space-x-2",children:["Anulado"!==t.estado&&"OrdenCompra"===t.tipoDocumento&&!t.yaTransferido&&H.jsx("button",{type:"button",className:"h-10 w-10 p-2 rounded-full text-purple-600 hover:text-purple-800 hover:bg-purple-50 transition-all border border-transparent hover:border-purple-200 shadow-sm flex items-center justify-center cursor-pointer",title:"Convertir a Recepcin",onClick:r=>{r.stopPropagation(),e("/compras/nuevo",{state:{transferFrom:t,targetType:"Recepcion"}})},children:H.jsx(or,{className:"h-6 w-6 stroke-[1.5]"})}),"Anulado"!==t.estado&&"Recepcion"===t.tipoDocumento&&!t.yaTransferido&&H.jsx("button",{type:"button",className:"h-10 w-10 p-2 rounded-full text-green-600 hover:text-green-800 hover:bg-green-50 transition-all border border-transparent hover:border-green-200 shadow-sm flex items-center justify-center cursor-pointer",title:"Crear Factura",onClick:r=>{r.stopPropagation(),e("/compras/nuevo",{state:{transferFrom:t,targetType:"Factura"}})},children:H.jsx(zr,{className:"h-6 w-6 stroke-[1.5]"})}),H.jsx("button",{type:"button",className:"h-10 w-10 p-2 rounded-full text-gray-600 hover:text-gray-800 hover:bg-gray-100 transition-all border border-transparent hover:border-gray-200 shadow-sm flex items-center justify-center cursor-pointer",title:"Ver Detalle",onClick:()=>e(`/compras/editar/${t.id}`),children:H.jsx(Fr,{className:"h-6 w-6 stroke-[1.5]"})}),"Anulado"!==t.estado&&H.jsx("button",{type:"button",className:"h-10 w-10 p-2 rounded-full text-red-500 hover:text-red-700 hover:bg-red-50 transition-all border border-transparent hover:border-red-200 shadow-sm flex items-center justify-center cursor-pointer",title:"Anular Compra",onClick:()=>l({isOpen:!0,id:t.id,numero:t.numeroCompra}),children:H.jsx(Ha,{className:"h-6 w-6 stroke-[2]"})})]})})]},t.id)});return H.jsxs("div",{className:"space-y-6",children:[H.jsx(Hl,{isOpen:s.isOpen,onClose:()=>l(e=>({...e,isOpen:!1})),onConfirm:async()=>{const{id:e,numero:t}=s;try{i(!0),await ql(e),l(e=>({...e,isOpen:!1})),await w()}catch(r){console.error("Error anular compra:",r)}finally{i(!1),l(e=>({...e,isOpen:!1}))}},title:"Anular Compra",message:`Est seguro que desea anular la compra ${s.numero}? Esta accin no se puede deshacer y reversar el inventario.`,confirmLabel:"Confirmar Anulacin"}),H.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[H.jsxs("div",{children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:"Compras e Ingresos"}),H.jsx("p",{className:"text-sm text-gray-500",children:"Gestione sus rdenes de compra y recepcin de mercanca."})]}),H.jsxs(Za,{onClick:()=>e("/compras/nuevo"),className:"bg-gray-800 hover:bg-gray-900 shadow-lg",children:[H.jsx(xa,{className:"mr-2 h-4 w-4"})," Nueva Compra"]})]}),H.jsxs(ln,{children:[H.jsxs(cn,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[H.jsx(dn,{children:"Historial de Compras"}),H.jsxs("div",{className:"flex items-center space-x-2",children:[H.jsxs("div",{className:"flex items-center mr-4",children:[H.jsx("span",{className:"text-sm text-gray-600 mr-2 font-medium",children:"Agrupar por Flujo"}),H.jsx("button",{onClick:()=>y(!v),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-hd-orange focus:ring-offset-2 "+(v?"bg-hd-orange":"bg-gray-200"),children:H.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform "+(v?"translate-x-6":"translate-x-1")})})]}),(Object.keys(u).length>0||Object.keys(h).some(e=>Array.isArray(h[e])&&h[e].length>0)||Object.keys(g).some(e=>""!==g[e].min||""!==g[e].max))&&H.jsxs(Za,{variant:"ghost",size:"sm",onClick:()=>{p({}),m({}),x({}),r("")},className:"text-xs text-hd-orange hover:text-orange-700",children:[H.jsx(Ha,{size:14,className:"mr-1"})," Limpiar Filtros"]}),H.jsxs("div",{className:"relative w-64",children:[H.jsx(ja,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),H.jsx(en,{placeholder:"Buscar compra...",className:"pl-9",value:t,onChange:e=>r(e.target.value)})]})]})]}),H.jsx("div",{className:"p-0 overflow-visible relative min-h-[500px]",children:H.jsxs(tn,{children:[H.jsx(rn,{children:H.jsxs(nn,{children:[H.jsx(Kl,{label:"Nmero",field:"numeroCompra",sortConfig:c,onSort:j,onFilter:N,showFilter:"numeroCompra"===f,filterValue:u.numeroCompra,onFilterChange:k,uniqueValues:P("numeroCompra"),selectedValues:h.numeroCompra,onValueToggle:C,className:"w-[140px]"}),H.jsx(Kl,{label:"Tipo",field:"tipoDocumento",sortConfig:c,onSort:j,onFilter:N,showFilter:"tipoDocumento"===f,filterValue:u.tipoDocumento,onFilterChange:k,uniqueValues:P("tipoDocumento"),selectedValues:h.tipoDocumento,onValueToggle:C,className:"w-[120px]"}),H.jsx(on,{className:"w-[100px] text-gray-700 font-bold",children:"Ref."}),H.jsx(Kl,{label:"Proveedor",field:"proveedorNombre",sortConfig:c,onSort:j,onFilter:N,showFilter:"proveedorNombre"===f,filterValue:u.proveedorNombre,onFilterChange:k,uniqueValues:P("proveedorNombre"),selectedValues:h.proveedorNombre,onValueToggle:C}),H.jsx(Kl,{label:"Fecha",field:"fechaCompra",sortConfig:c,onSort:j,onFilter:N,showFilter:"fechaCompra"===f,filterValue:u.fechaCompra,onFilterChange:k,dateTree:O(),selectedValues:h.fechaCompra,onTreeToggle:(e,t,r)=>{m(a=>{let n=[...a[e]||[]];const o=O(),i=[],s=(e,t)=>{e.children?Object.keys(e.children).forEach(r=>{s(e.children[r],t?`${t}/${r}`:r)}):i.push(t)};if(""===t)return r?{...a,[e]:[]}:(s(o,""),{...a,[e]:i});const l=t.split("/").filter(Boolean);let c=o;for(const e of l){var d;if(c=null===(d=c.children)||void 0===d?void 0:d[e],!c)break}if(c){const e=[],a=(t,r)=>{t.children?Object.keys(t.children).forEach(e=>{a(t.children[e],`${r}/${e}`)}):e.push(r)};a(c,t),r?n=n.filter(t=>!e.includes(t)):e.forEach(e=>{n.includes(e)||n.push(e)})}return{...a,[e]:n}})}}),H.jsx(Kl,{label:"Estado",field:"estado",sortConfig:c,onSort:j,onFilter:N,showFilter:"estado"===f,filterValue:u.estado,onFilterChange:k,uniqueValues:P("estado"),selectedValues:h.estado,onValueToggle:C}),H.jsx(Kl,{label:"Total",field:"total",sortConfig:c,onSort:j,onFilter:N,showFilter:"total"===f,numericValue:g.total,onNumericFilterChange:(e,t,r)=>{x(a=>({...a,[e]:{...a[e]||{min:"",max:""},[t]:r}}))},className:"text-right"}),H.jsx(on,{className:"text-right",children:"Acciones"})]})}),H.jsx(an,{children:o?H.jsx(nn,{children:H.jsx(sn,{colSpan:8,className:"text-center py-8",children:"Cargando compras..."})}):0===S.length?H.jsx(nn,{children:H.jsx(sn,{colSpan:8,className:"text-center py-8 text-gray-500",children:"No se encontraron compras."})}):v?E.map(e=>H.jsxs(K.Fragment,{children:[e.items.length>1&&H.jsx(nn,{children:H.jsxs(sn,{colSpan:8,className:"bg-gray-100 py-1 px-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:["Flujo: ",e.root.numeroCompra," (",e.items.length," documentos)"]})},e.root.id+"_sep"),I(e.items)]},e.root.id+"_group")):I(S)})]})})]})]})},Kl=({label:e,field:t,sortConfig:r,onSort:a,onFilter:n,showFilter:o,filterValue:i="",onFilterChange:s,numericValue:l={min:"",max:""},onNumericFilterChange:c,uniqueValues:d=[],selectedValues:u=[],onValueToggle:p,dateTree:h,onTreeToggle:m,className:g=""})=>{const x=r.key===t,f=void 0!==c,b=void 0!==h,v=i||u&&u.length>0||f&&(""!==l.min||""!==l.max),y="fechaCompra"===t?"Ms antiguo a ms reciente":"De A a Z",w="fechaCompra"===t?"Ms reciente a ms antiguo":"De Z a A";return H.jsxs(on,{className:`relative group p-0 ${g}`,children:[H.jsxs("div",{className:"flex items-center justify-between h-full px-4 py-2 hover:bg-gray-200 cursor-pointer transition-colors",onClick:()=>a(t),children:[H.jsxs("div",{className:"flex items-center space-x-1",children:[H.jsx("span",{className:"font-bold text-gray-700",children:e}),x?"asc"===r.direction?H.jsx(lr,{size:14,className:"text-hd-orange"}):H.jsx(rr,{size:14,className:"text-hd-orange"}):H.jsx(ir,{size:14,className:"text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"})]}),n&&H.jsx("button",{onClick:e=>n(t,e),className:"p-1 rounded-sm hover:bg-gray-300 transition-colors "+(v?"text-hd-orange":"text-gray-400"),children:H.jsx(Rr,{size:14,fill:v?"currentColor":"none"})})]}),o&&H.jsxs("div",{className:"absolute top-full left-0 mt-1 w-64 bg-white border border-gray-200 shadow-2xl rounded-sm z-[100] animate-in fade-in zoom-in duration-200 overflow-hidden text-xs",onClick:e=>e.stopPropagation(),children:[H.jsxs("div",{className:"p-1 border-b border-gray-100",children:[H.jsxs("div",{className:"flex items-center px-3 py-2 hover:bg-hd-orange/10 cursor-pointer text-gray-700 font-medium",onClick:()=>{a(t),n(t,{stopPropagation:()=>{}})},children:[H.jsx(lr,{size:14,className:"mr-2 text-gray-400"})," ",y]}),H.jsxs("div",{className:"flex items-center px-3 py-2 hover:bg-hd-orange/10 cursor-pointer text-gray-700 font-medium",onClick:()=>{a(t),n(t,{stopPropagation:()=>{}})},children:[H.jsx(rr,{size:14,className:"mr-2 text-gray-400"})," ",w]})]}),H.jsxs("div",{className:"p-3 bg-gray-50 border-b border-gray-100",children:[H.jsxs("p",{className:"text-[10px] font-bold text-gray-400 uppercase mb-2",children:["Filtrar ",e]}),f?H.jsxs("div",{className:"space-y-2",children:[H.jsxs("div",{children:[H.jsxs("label",{className:"text-[9px] text-gray-500 uppercase font-bold",children:["Mayor que ",">"]}),H.jsx(en,{type:"number",placeholder:"0.00",value:l.min,onChange:e=>c(t,"min",e.target.value),className:"h-8 text-xs font-mono",autoFocus:!0})]}),H.jsxs("div",{children:[H.jsxs("label",{className:"text-[9px] text-gray-500 uppercase font-bold",children:["Menor que ","<"]}),H.jsx(en,{type:"number",placeholder:"0.00",value:l.max,onChange:e=>c(t,"max",e.target.value),className:"h-8 text-xs font-mono"})]})]}):H.jsx(en,{placeholder:"Buscar...",value:i,onChange:e=>s(t,e.target.value),className:"h-8 text-xs",autoFocus:!0})]}),H.jsx("div",{className:"max-h-64 overflow-y-auto p-2",children:b?H.jsx(Jl,{tree:h,selectedPaths:u,onToggle:(e,r)=>m(t,e,r),allLeafPaths:(()=>{const e=[],t=(r,a)=>{r.children?Object.keys(r.children).forEach(e=>t(r.children[e],a?`${a}/${e}`:e)):e.push(a)};return t(h,""),e})()}):d.length>0?H.jsxs("div",{className:"space-y-1",children:[H.jsxs("div",{className:"flex items-center px-2 py-1 hover:bg-gray-100 rounded cursor-pointer group sticky top-0 bg-white z-10 border-b border-gray-100 mb-1",onClick:()=>{const e=d.every(e=>u.includes(e));d.forEach(r=>{e?u.includes(r)&&p(t,r):u.includes(r)||p(t,r)})},children:[H.jsx("input",{type:"checkbox",checked:d.length>0&&d.every(e=>u.includes(e)),ref:e=>{if(e){const t=d.some(e=>u.includes(e)),r=d.every(e=>u.includes(e));e.indeterminate=t&&!r}},readOnly:!0,className:"h-3 w-3 rounded border-gray-300 text-hd-orange focus:ring-hd-orange"}),H.jsx("span",{className:"ml-2 text-xs font-bold text-gray-700",children:"(Seleccionar todo)"})]}),d.map(e=>H.jsxs("div",{className:"flex items-center px-2 py-1 hover:bg-gray-100 rounded cursor-pointer group",onClick:()=>p(t,e),children:[H.jsx("input",{type:"checkbox",checked:u.includes(e),readOnly:!0,className:"h-3 w-3 rounded border-gray-300 text-hd-orange focus:ring-hd-orange"}),H.jsx("span",{className:"ml-2 text-xs text-gray-600 truncate",children:e})]},e))]}):null}),H.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 border-t border-gray-100",children:[H.jsx(Za,{size:"xs",variant:"ghost",className:"text-[10px]",onClick:()=>n(t,{stopPropagation:()=>{}}),children:"Cerrar"}),H.jsx(Za,{size:"xs",variant:"ghost",className:"text-[10px] text-hd-orange",onClick:()=>{f?(c(t,"min",""),c(t,"max","")):(s(t,""),u.length>0&&(b?u.forEach(e=>m(t,e,!0)):u.forEach(e=>p(t,e))))},children:"Limpiar"})]})]})]})},Jl=({tree:e,selectedPaths:t,onToggle:r,depth:a=0,path:n="",allLeafPaths:o=[]})=>{const[i,s]=W.useState(!0),l=Object.keys(e.children||{}).sort((e,t)=>t.localeCompare(e));return H.jsxs("div",{className:a>0?"ml-4 pt-1":"",children:[0===a&&H.jsxs("div",{className:"flex items-center py-1 hover:bg-gray-100 rounded cursor-pointer group sticky top-0 bg-white z-10 border-b border-gray-100 mb-1",onClick:e=>{e.stopPropagation();const a=o.length>0&&o.every(e=>t.includes(e));r("",a)},children:[H.jsx("div",{className:"w-4 h-4 mr-1"}),H.jsx("input",{type:"checkbox",checked:o.length>0&&o.every(e=>t.includes(e)),ref:e=>{if(e){const r=o.some(e=>t.includes(e)),a=o.every(e=>t.includes(e));e.indeterminate=r&&!a}},readOnly:!0,className:"h-3 w-3 rounded border-gray-300 text-hd-orange focus:ring-hd-orange"}),H.jsx("span",{className:"ml-2 text-[11px] font-bold text-gray-700",children:"(Seleccionar todo)"})]}),l.map(o=>{const l=n?`${n}/${o}`:o,c=e.children[o],d=!c.children,u=d?[l]:((e,t)=>{const r=[],a=(e,t)=>{e.children?Object.keys(e.children).forEach(r=>a(e.children[r],`${t}/${r}`)):r.push(t)};return a(e,t),r})(c,l),p=u.every(e=>t.includes(e)),h=u.some(e=>t.includes(e));return H.jsxs("div",{children:[H.jsxs("div",{className:"flex items-center py-1 hover:bg-gray-50 rounded cursor-pointer group",onClick:()=>r(l,p),children:[H.jsx("div",{className:"w-4 h-4 flex items-center justify-center mr-1",onClick:e=>{e.stopPropagation(),s(!i)},children:!d&&(i?H.jsx(rr,{size:10}):H.jsx(or,{size:10}))}),H.jsx("input",{type:"checkbox",checked:p,ref:e=>{e&&(e.indeterminate=h&&!p)},readOnly:!0,className:"h-3 w-3 rounded border-gray-300 text-hd-orange focus:ring-hd-orange",onClick:e=>e.stopPropagation()}),H.jsx("span",{className:"ml-2 text-[11px] text-gray-700 select-none",children:o})]}),i&&!d&&H.jsx(Jl,{tree:c,selectedPaths:t,onToggle:r,depth:a+1,path:l})]},o)})]})},Yl=()=>{var e,t;const r=it(),a=nt(),{id:n}=lt(),o=Boolean(n),i=null===(e=a.state)||void 0===e?void 0:e.transferFrom,s=null===(t=a.state)||void 0===t?void 0:t.targetType,[l,c]=W.useState(!1),[d,u]=W.useState([]),[p,h]=W.useState(""),[m,g]=W.useState((new Date).toISOString().split("T")[0]),[x,f]=W.useState(""),[b,v]=W.useState("Contado"),[y,w]=W.useState("Borrador"),[j,N]=W.useState("(Auto)"),[k,C]=W.useState("OrdenCompra"),[S,E]=W.useState(null),[P,O]=W.useState([]),[I,A]=W.useState(""),[D,M]=W.useState(1),[T,F]=W.useState(!0),[z,R]=W.useState([]),[_,L]=W.useState(""),[$,U]=W.useState([]),[B,V]=W.useState([]),[G,q]=W.useState(!1),[K,J]=W.useState(!1),[Y,X]=W.useState({habilitarFacturas:!0});W.useEffect(()=>{te(),Q()},[]);const Q=async()=>{try{const e="http://localhost:5006/api",t=await fetch(`${e}/ProveedorConfiguration`);if(t.ok){const e=await t.json();X(e)}}catch(Xd){console.error("Error loading config:",Xd)}};W.useEffect(()=>{o?ae():i&&Z()},[n,i]);const Z=()=>{i&&(s&&C(s),E(i.id),h(i.proveedorId),f(i.referenciaProveedor||""),v(i.terminosPago||"Contado"),A(i.monedaId),M(i.tasaCambio),L(i.almacenId),ee(i.id))},ee=async e=>{try{c(!0);const t=await Gl(e),r=t.detalles.map(e=>({id:e.articuloId,articuloId:e.articuloId,codigo:e.numeroArticulo,descripcion:e.descripcion,cantidad:e.cantidad,costo:e.costoUnitario,unidad:e.unidadMedida,total:e.totalLinea,impuesto:e.montoImpuesto,planMedida:e.planMedida||""}));U(r),h(t.proveedorId),A(t.monedaId),M(t.tasaCambio)}catch(t){console.error("Error fetching source details:",t)}finally{c(!1)}},te=async()=>{try{const e="http://localhost:5006/api",[t,r,a,n]=await Promise.all([wn(),An(),fetch(`${e}/Monedas`).then(e=>e.json()),Xn()]);if(u(Array.isArray(t)?t:[]),R(Array.isArray(r)?r:[]),O(Array.isArray(a)?a:[]),V(Array.isArray(n)?n:[]),r.length>0&&!_&&L(r[0].id),!o&&!i){const e=a.find(e=>e.esFuncional);e&&(A(e.id),M(1),F(!0))}}catch(e){console.error("Error loading catalogs:",e)}},re=async(e,t)=>{if(!e)return;const r=P.find(t=>t.id===parseInt(e));if(r&&r.esFuncional)return M(1),void F(!0);try{const r="http://localhost:5006/api",a=await fetch(`${r}/Monedas/tasas?monedaId=${e}&fecha=${t}`);if(a.ok){const e=await a.json();M(e.tasa||1),F(!1)}else M(1),F(!1)}catch(Xd){console.error("Error fetching rate:",Xd)}},ae=async()=>{try{c(!0);const e=await Gl(n);N(e.numeroCompra),h(e.proveedorId),g(e.fechaCompra.split("T")[0]),f(e.referenciaProveedor||""),v(e.terminosPago||"Contado"),w(e.estado),A(e.monedaId||""),M(e.tasaCambio||1),C(e.tipoDocumento||"Factura"),E(e.documentoReferenciaId);const t=e.detalles.map(e=>({id:e.articuloId,articuloId:e.articuloId,codigo:e.numeroArticulo,descripcion:e.descripcion,cantidad:e.cantidad,costo:e.costoUnitario,unidad:e.unidadMedida,total:e.totalLinea,impuesto:e.montoImpuesto,planMedida:e.planMedida||"",cantTotal:e.cantTotal}));U(t)}catch(e){console.error("Error loading purchase:",e)}finally{c(!1)}},ne=$.reduce((e,t)=>e+t.cantidad*t.costo,0),oe=$.reduce((e,t)=>e+(parseFloat(t.cantidad)||0),0),ie=Y.habilitarFacturas?.18*ne:0,se=ne+ie,le=(e,t,r)=>{const a=[...$],n=a[e];if("cantidad"===t){const e=parseFloat(r)||0;n.cantidad=e,n.total=e*n.costo,n.cantTotal=void 0}else if("costo"===t){const e=parseFloat(r)||0;n.costo=e,n.total=n.cantidad*e}else if("planMedida"===t){n.planMedida=r;const e=B.find(e=>e.planId===r);if(e){const t=[e.unidadBase,...(e.detalles||[]).map(e=>e.unidadMedida)];t.includes(n.unidad)||(n.unidad=e.unidadBase)}n.cantTotal=void 0}else if("unidad"===t){n.unidad=r;const e=P.find(e=>e.id===parseInt(I)),t=e?e.codigo:"DOP",a=(n.prices||[]).find(e=>e.moneda===t&&e.unidadMedida===r);a&&(n.costo=a.precio,n.total=n.cantidad*n.costo),n.cantTotal=void 0}U(a)};W.useEffect(()=>{if(!I||0===$.length)return;const e=P.find(e=>e.id===parseInt(I)),t=e?e.codigo:"DOP";U(e=>e.map(e=>{const r=(e.prices||[]).find(r=>r.moneda===t&&r.unidadMedida===e.unidad);let a=e.costo;if(r)a=r.precio;else{const r=e.costoOriginalDOP||e.costo;"DOP"===t?a=r:D>0&&(a=r/D)}return{...e,costo:a,total:e.cantidad*a}}))},[I,D]);return H.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto pb-10",children:[H.jsx($o,{isOpen:G,onClose:()=>q(!1),onSelect:async e=>{let t=[];try{const r="http://localhost:5006/api",a=await fetch(`${r}/Articulos/${e.id}/Precios`);a.ok&&(t=await a.json())}catch(Xd){console.error("Error fetching product prices",Xd)}U(r=>{const a=e.unidadMedida||"UND",n=r.find(t=>t.articuloId===e.id&&t.unidad===a);if(n)return r.map(t=>t.articuloId===e.id&&t.unidad===a?{...t,cantidad:t.cantidad+1,total:(t.cantidad+1)*t.costo}:t);const o=P.find(e=>e.id===parseInt(I)),i=o?o.codigo:"DOP",s=t.find(e=>e.moneda===i&&e.unidadMedida===a),l=e.costoUnitario||0;let c=l;return s?c=s.precio:"DOP"!==i&&D>0&&(c=l/D),[...r,{articuloId:e.id,codigo:e.numeroArticulo,descripcion:e.descripcion,cantidad:1,costo:c,unidad:a,total:1*c,planMedida:e.planMedida||"",costoOriginalDOP:l,prices:t}]}),q(!1)}}),H.jsx(Hl,{isOpen:K,onClose:()=>J(!1),onConfirm:async()=>{try{c(!0),await ql(n),J(!1),r("/compras")}catch(e){console.error("Error anular compra:",e)}finally{c(!1),J(!1)}},title:"Anular Compra",message:`Est seguro que desea anular la compra ${j}? Esta accin no se puede deshacer y reversar el inventario.`,confirmLabel:"Confirmar Anulacin"}),H.jsxs("div",{className:"flex items-center justify-between sticky top-0 bg-gray-50/95 backdrop-blur z-10 py-4 border-b border-gray-200 -mx-6 px-6",children:[H.jsxs("div",{children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Orden de Compra"}),H.jsxs("p",{className:"text-sm text-gray-500",children:["Documento #",j,"  ",H.jsx("span",{className:"text-orange-600 font-medium",children:y})]})]}),H.jsxs("div",{className:"flex space-x-3",children:[H.jsxs(Za,{variant:"outline",onClick:()=>r("/compras"),children:[H.jsx(Ha,{className:"mr-2 h-4 w-4"})," Cancelar"]}),o&&H.jsxs(Za,{variant:"outline",onClick:()=>window.open(`/compras/imprimir/${n}`,"_blank"),children:[H.jsx(fa,{className:"mr-2 h-4 w-4"})," Imprimir"]}),!o&&H.jsxs(Za,{className:"bg-gray-800 hover:bg-gray-900",onClick:async()=>{if(!p)return void alert("Debe seleccionar un proveedor");if(0===$.length)return void alert("Debe agregar al menos un artculo");const[e,t,a]=m.split("-").map(Number),n=new Date(e,t-1,a),o=new Date;n.setHours(o.getHours(),o.getMinutes(),o.getSeconds());const i=`${m}T${String(o.getHours()).padStart(2,"0")}:${String(o.getMinutes()).padStart(2,"0")}:${String(o.getSeconds()).padStart(2,"0")}`,s={ProveedorId:parseInt(p),FechaCompra:i,TerminosPago:b,ReferenciaProveedor:x,Estado:y,Subtotal:ne,Impuestos:ie,Total:se,AlmacenId:_?parseInt(_):null,MonedaId:I?parseInt(I):null,TasaCambio:parseFloat(D),TipoDocumento:k,DocumentoReferenciaId:S,Detalles:$.map(e=>{let t=1;if(e.planMedida&&e.unidad){const r=B.find(t=>t.planId===e.planMedida);if(r)if(r.unidadBase===e.unidad)t=1;else{const a=(r.detalles||[]).find(t=>t.unidadMedida===e.unidad);a&&(t=void 0!==a.cantidad?a.cantidad:void 0!==a.Cantidad?a.Cantidad:1)}}const r=void 0!==e.cantTotal?e.cantTotal:(parseFloat(e.cantidad)||0)*t;return{ArticuloId:e.articuloId,NumeroArticulo:e.codigo,Descripcion:e.descripcion,Cantidad:e.cantidad,UnidadMedida:e.unidad,CostoUnitario:e.costo,TotalLinea:e.total,PlanMedida:e.planMedida,CantTotal:r,CantAdq:parseFloat(e.cantidad)||0,PorcentajeImpuesto:18,MontoImpuesto:.18*e.total}})};try{await(async e=>{const t=await fetch(`${Vl}/Compras`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.text();throw new Error(`Failed to save purchase: ${t.status} ${e}`)}return t.json()})(s),alert("Compra guardada exitosamente"),r("/compras")}catch(l){console.error("Error saving purchase:",l),alert("Error al guardar la compra")}},children:[H.jsx(wa,{className:"mr-2 h-4 w-4"})," Guardar Compra"]}),o&&"Anulado"!==y&&H.jsxs("button",{type:"button",className:"flex items-center px-4 py-2 rounded-md transition-colors text-red-500 hover:text-red-700 hover:bg-red-50 border border-red-200 cursor-pointer text-sm font-medium shadow-sm bg-white",onClick:()=>J(!0),children:[H.jsx(Ha,{className:"mr-2 h-4 w-4"})," Anular Compra"]})]})]}),H.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[H.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[H.jsxs(ln,{children:[H.jsx(cn,{children:H.jsx(dn,{className:"text-sm uppercase tracking-wider text-gray-500",children:"Datos Generales"})}),H.jsxs("div",{className:"p-4 space-y-4",children:[H.jsxs("div",{children:[H.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Tipo de Documento"}),H.jsxs("select",{className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-hd-orange disabled:bg-gray-100",value:k,onChange:e=>C(e.target.value),disabled:o||i||S,children:[H.jsx("option",{value:"Factura",children:"Factura Directa"}),H.jsx("option",{value:"OrdenCompra",children:"Orden de Compra"}),H.jsx("option",{value:"Recepcion",disabled:!0,children:"Recepcin (Requiere OC)"})]}),S&&H.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Vinculado al documento anterior ID: ",S]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Proveedor"}),H.jsxs("div",{className:"relative",children:[H.jsxs("select",{className:"flex h-10 w-full rounded-md border border-gray-300 bg-white pl-3 pr-8 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-hd-orange disabled:bg-gray-100",value:p,onChange:e=>(async e=>{if(h(e),Y.habilitarFacturas&&e){const t=d.find(t=>t.id===parseInt(e));t&&t.tipoComprobante&&(x||f(t.tipoComprobante))}})(e.target.value),disabled:o,children:[H.jsx("option",{value:"",children:"Seleccionar..."}),d.map(e=>H.jsx("option",{value:e.id,children:e.razonSocial},e.id))]}),H.jsx(Ra,{className:"absolute right-2.5 top-2.5 h-4 w-4 text-gray-400 pointer-events-none"})]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Moneda"}),H.jsx("select",{className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-hd-orange disabled:bg-gray-100",value:I,onChange:e=>{A(e.target.value),re(e.target.value,m)},disabled:o,children:P.map(e=>H.jsxs("option",{value:e.id,children:[e.codigo," - ",e.nombre]},e.id))})]}),!T&&H.jsxs("div",{children:[H.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Tasa de Cambio"}),H.jsx(en,{type:"number",value:D,onChange:e=>M(parseFloat(e.target.value)||1),disabled:o})]})]})]}),H.jsxs(ln,{children:[H.jsx(cn,{children:H.jsx(dn,{className:"text-sm uppercase tracking-wider text-gray-500",children:"Detalles Factura"})}),H.jsxs("div",{className:"p-4 space-y-4",children:[H.jsxs("div",{children:[H.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Tipo de Documento"}),H.jsxs("select",{className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-hd-orange disabled:bg-gray-100",value:k,onChange:e=>C(e.target.value),disabled:o||i,children:[H.jsx("option",{value:"OrdenCompra",children:"Orden de Compra"}),H.jsx("option",{value:"Recepcion",children:"Recepcin de Mercanca"}),Y.habilitarFacturas&&H.jsx("option",{value:"Factura",children:"Factura de Compra"})]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Fecha Documento"}),H.jsx(en,{type:"date",value:m,onChange:e=>{g(e.target.value),re(I,e.target.value)},disabled:o})]}),Y.habilitarFacturas&&H.jsx("div",{className:"bg-blue-50 p-3 rounded-md border border-blue-100 mb-4",children:H.jsx(en,{label:"NCF / No. Factura",placeholder:"ej: B0100000001",title:"Nmero de Comprobante Fiscal (NCF) del proveedor",value:x,onChange:e=>f(e.target.value),disabled:o,className:"border-blue-300 focus:border-blue-500 focus:ring-blue-500 font-mono"})}),H.jsxs("div",{children:[H.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Condicin de Pago"}),H.jsxs("select",{className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-hd-orange disabled:bg-gray-100",value:b,onChange:e=>v(e.target.value),disabled:o,children:[H.jsx("option",{children:"Contado"}),H.jsx("option",{children:"Crdito 15 das"}),H.jsx("option",{children:"Crdito 30 das"}),H.jsx("option",{children:"Crdito 60 das"})]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Almacn de Recepcin"}),H.jsxs("select",{value:_,onChange:e=>L(e.target.value),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-hd-orange disabled:cursor-not-allowed disabled:bg-gray-100",disabled:o,children:[H.jsx("option",{value:"",children:"Seleccione Almacn"}),z.map(e=>H.jsx("option",{value:e.id,children:e.nombre},e.id))]})]})]})]})]}),H.jsx("div",{className:"lg:col-span-3 space-y-4",children:H.jsxs(ln,{className:"min-h-[500px] flex flex-col",children:[H.jsxs(cn,{className:"flex flex-row items-center justify-between py-3",children:[H.jsx(dn,{className:"text-sm uppercase tracking-wider text-gray-500",children:"Artculos a Ingresar"}),!o&&H.jsxs(Za,{size:"sm",variant:"ghost",className:"text-hd-orange hover:bg-orange-50 hover:text-orange-700",onClick:()=>q(!0),children:[H.jsx(xa,{className:"mr-1 h-4 w-4"})," Agregar Producto"]})]}),H.jsx("div",{className:"flex-1 p-0 overflow-hidden",children:H.jsxs(tn,{children:[H.jsx(rn,{className:"bg-gray-50",children:H.jsxs(nn,{children:[H.jsx(on,{className:"w-[120px]",children:"Cdigo"}),H.jsx(on,{children:"Producto"}),H.jsx(on,{className:"w-[120px]",children:"Plan"}),H.jsx(on,{className:"w-[100px]",children:"U.M."}),H.jsx(on,{className:"w-[100px] text-right",children:"Cantidad"}),H.jsx(on,{className:"w-[100px] text-right text-purple-600",children:"Cant. Total"}),H.jsx(on,{className:"w-[120px] text-right",children:"Costo Unit."}),H.jsx(on,{className:"w-[120px] text-right",children:"Total"}),H.jsx(on,{className:"w-[50px]"})]})}),H.jsxs(an,{children:[$.map((e,t)=>{let r=1;if(e.planMedida&&e.unidad){const t=B.find(t=>t.planId===e.planMedida);if(t)if(t.unidadBase===e.unidad)r=1;else{const a=(t.detalles||[]).find(t=>t.unidadMedida===e.unidad);a&&(r=void 0!==a.cantidad?a.cantidad:void 0!==a.Cantidad?a.Cantidad:1)}}const a=void 0!==e.cantTotal?e.cantTotal:(parseFloat(e.cantidad)||0)*r;return H.jsxs(nn,{children:[H.jsx(sn,{className:"font-mono text-xs text-gray-500",children:e.codigo}),H.jsx(sn,{className:"font-medium text-gray-800",children:e.descripcion}),H.jsx(sn,{children:H.jsxs("select",{className:"w-full text-xs border-0 border-b border-transparent focus:border-hd-orange focus:ring-0 bg-transparent p-1 h-8",value:e.planMedida,onChange:e=>le(t,"planMedida",e.target.value),disabled:o,children:[H.jsx("option",{value:"",children:"--"}),B.map(e=>H.jsx("option",{value:e.planId,children:e.planId},e.planId))]})}),H.jsx(sn,{children:H.jsx("select",{className:"w-full text-xs border-0 border-b border-transparent focus:border-hd-orange focus:ring-0 bg-transparent p-1 h-8",value:e.unidad,onChange:e=>le(t,"unidad",e.target.value),disabled:o,children:(()=>{const t=B.find(t=>t.planId===e.planMedida),r=t?[t.unidadBase,...(t.detalles||[]).map(e=>e.unidadMedida)]:[e.unidad],a=r.length>0&&""!==r[0]?r:(e.prices||[]).map(e=>e.unidadMedida);return[...new Set(a)].map(e=>H.jsx("option",{value:e,children:e},e))})()})}),H.jsx(sn,{children:H.jsx("input",{type:"number",className:"w-full text-right border-0 border-b border-transparent focus:border-hd-orange focus:ring-0 bg-transparent p-1 h-8",value:e.cantidad,onChange:e=>le(t,"cantidad",e.target.value),disabled:o})}),H.jsx(sn,{className:"text-right font-mono text-purple-600",children:a.toFixed(2)}),H.jsx(sn,{children:H.jsx("input",{type:"number",className:"w-full text-right border-0 border-b border-transparent focus:border-hd-orange focus:ring-0 bg-transparent p-1 h-8",value:e.costo,onChange:e=>le(t,"costo",e.target.value),disabled:o})}),H.jsxs(sn,{className:"text-right font-semibold text-gray-900",children:["$",e.total.toFixed(2)]}),H.jsx(sn,{children:!o&&H.jsx("button",{onClick:()=>(e=>{U(t=>t.filter((t,r)=>r!==e))})(t),className:"text-gray-400 hover:text-red-500 transition-colors",children:H.jsx(Ta,{size:16})})})]},t)}),$.length>0&&H.jsxs(nn,{className:"bg-gray-50 font-bold border-t-2 border-gray-200",children:[H.jsx(sn,{colSpan:5,className:"text-right",children:"Total Cantidad ENTRADA:"}),H.jsx(sn,{className:"text-right",children:oe.toFixed(2)}),H.jsx(sn,{colSpan:3})]}),0===$.length&&H.jsx(nn,{className:"bg-gray-50/30 border-dashed border-b-2",children:H.jsx(sn,{colSpan:6,className:"text-center py-4 text-gray-400 italic text-xs",children:H.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3",children:[H.jsx("p",{children:"No hay artculos agregados an."}),H.jsxs(Za,{variant:"outline",className:"text-hd-orange border-hd-orange hover:bg-orange-50",onClick:()=>q(!0),children:[H.jsx(xa,{className:"mr-2 h-4 w-4"})," Agregar Producto"]})]})})})]})]})}),H.jsx("div",{className:"bg-gray-50 border-t border-gray-200 p-6",children:H.jsx("div",{className:"flex justify-end",children:H.jsxs("div",{className:"w-64 space-y-3",children:[H.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[H.jsx("span",{children:"Subtotal:"}),H.jsxs("span",{children:["$",ne.toFixed(2)]})]}),H.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[H.jsx("span",{children:"Subtotal:"}),H.jsxs("span",{children:["$",ne.toFixed(2)]})]}),Y.habilitarFacturas&&H.jsxs("div",{className:"flex justify-between text-sm text-gray-600",title:"Impuestos calculados (Modo Fiscal Activo)",children:[H.jsx("span",{children:"Impuestos (Est. 18%):"}),H.jsxs("span",{children:["$",ie.toFixed(2)]})]}),H.jsx("div",{className:"h-px bg-gray-300 my-2"}),H.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-900",children:[H.jsx("span",{children:"Total Compra:"}),H.jsxs("span",{children:["$",se.toFixed(2)]})]})]})})})]})})]})]})},Xl="http://localhost:5006/api",Ql=()=>{const[e,t]=W.useState([]),[r,a]=W.useState(!0),[n,o]=W.useState(!1),[i,s]=W.useState(null);W.useEffect(()=>{l()},[]);const l=async()=>{try{a(!0);const e=await(async()=>{const e=await fetch(`${Xl}/Ncf`);if(!e.ok)throw new Error("Error al obtener NCFs");return e.json()})();t(e),s(null)}catch(e){console.error(e),s("Error al cargar la configuracin de NCF. Verifique la conexin con el servidor.")}finally{a(!1)}},c=(e,r,a)=>{t(t=>t.map(t=>t.id===e?{...t,[r]:a}:t))};return r?H.jsx("div",{className:"flex justify-center items-center h-64",children:H.jsx(Zr,{className:"animate-spin text-hd-orange",size:48})}):i?H.jsxs("div",{className:"p-8 text-center bg-red-50 rounded-lg",children:[H.jsx(Yt,{className:"mx-auto text-red-500 mb-4",size:48}),H.jsx("h3",{className:"text-xl font-bold text-red-700 mb-2",children:"Error de Carga"}),H.jsx("p",{className:"text-red-600 mb-4",children:i}),H.jsx(Za,{onClick:l,variant:"outline",className:"border-red-200 text-red-600 hover:bg-red-50",children:"Reintentar"})]}):H.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[H.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 border-b border-gray-200 pb-4",children:[H.jsxs("div",{className:"flex items-center space-x-3",children:[H.jsx("div",{className:"p-2 bg-gray-100 rounded-lg text-gray-600",children:H.jsx(ka,{size:24})}),H.jsxs("div",{children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:"Comprobantes Fiscales (NCF)"}),H.jsx("p",{className:"text-sm text-gray-500",children:"Configuracin de secuencias para Repblica Dominicana (DGII)"})]})]}),H.jsxs(Za,{onClick:async()=>{try{o(!0);const t=e.map(e=>(async(e,t)=>{if(!(await fetch(`${Xl}/Ncf/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)throw new Error("Error al actualizar NCF");return!0})(e.id,e));await Promise.all(t),alert("Configuracin de NCF guardada correctamente.")}catch(t){console.error(t),alert("Error al guardar cambios. Revise la consola.")}finally{o(!1)}},disabled:n,className:"bg-hd-orange hover:bg-orange-600 shadow-md",children:[n?H.jsx(Zr,{className:"animate-spin mr-2 h-4 w-4"}):H.jsx(wa,{className:"mr-2 h-4 w-4"}),n?"Guardando...":"Guardar Cambios"]})]}),H.jsx("div",{className:"grid gap-6",children:e.sort((e,t)=>e.tipoNCF.localeCompare(t.tipoNCF)).map(e=>H.jsxs(ln,{className:"overflow-hidden border-l-4 "+(e.activo?"border-l-hd-orange":"border-l-gray-300 opacity-75"),children:[H.jsx(cn,{className:"bg-gray-50/50 pb-3",children:H.jsxs("div",{className:"flex justify-between items-center",children:[H.jsxs(dn,{className:"text-lg font-medium text-gray-800 flex items-center",children:[H.jsx("span",{className:"bg-gray-200 text-gray-700 text-xs font-mono px-2 py-1 rounded mr-3",children:e.prefijo||e.tipoNCF}),e.nombre]}),H.jsxs("div",{className:"flex items-center gap-3",children:[H.jsxs("label",{className:"flex items-center cursor-pointer",children:[H.jsx("input",{type:"checkbox",checked:e.activo,onChange:t=>c(e.id,"activo",t.target.checked),className:"mr-2 rounded text-hd-orange focus:ring-hd-orange"}),H.jsx("span",{className:"text-xs font-bold text-gray-500",children:"ACTIVO"})]}),H.jsx(Kr,{size:16,className:"text-gray-400 cursor-help",title:"Configuracin de secuencia DGII"})]})]})}),H.jsx(un,{className:"pt-4",children:H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Prefijo Serie"}),H.jsx(en,{value:e.prefijo||"",onChange:t=>c(e.id,"prefijo",t.target.value),className:"font-mono uppercase",placeholder:"Ej: B01"})]}),H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Secuencia Inicial"}),H.jsx(en,{type:"number",value:e.desde,onChange:t=>c(e.id,"desde",parseInt(t.target.value)),className:"font-mono text-right"}),H.jsx("p",{className:"text-[10px] text-gray-400",children:"Inicio del rango"})]}),H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Secuencia Actual / Siguiente"}),H.jsxs("div",{className:"relative",children:[H.jsx(en,{type:"number",value:e.actual+1,onChange:t=>c(e.id,"actual",parseInt(t.target.value)-1),className:"font-mono text-right font-bold text-gray-900 border-hd-orange/50 focus:border-hd-orange ring-hd-orange/20"}),H.jsx("div",{className:"absolute right-8 top-1/2 -translate-y-1/2 text-xs text-gray-400 pointer-events-none",children:"Sig:"})]}),H.jsxs("p",{className:"text-[10px] text-blue-600 font-medium",children:["NCF a generar: ",e.prefijo||e.tipoNCF,String((e.actual||0)+1).padStart(8,"0")]})]}),H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Lmite / Vencimiento"}),H.jsxs("div",{className:"flex gap-2",children:[H.jsx(en,{type:"number",value:e.hasta,onChange:t=>c(e.id,"hasta",parseInt(t.target.value)),className:"font-mono text-right flex-1",placeholder:"Lmite"}),H.jsx(en,{type:"date",value:e.fechaVencimiento?e.fechaVencimiento.split("T")[0]:"",onChange:t=>c(e.id,"fechaVencimiento",t.target.value),className:"font-mono flex-1"})]}),H.jsx("p",{className:"text-[10px] text-gray-400",children:"Lmite Secuencia / Fecha Vencimiento"})]})]})})]},e.id))})]})},Zl=({title:e,children:t})=>H.jsxs("div",{className:"border border-gray-200 bg-white rounded-lg mb-6 shadow-sm overflow-hidden",children:[H.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:H.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:e})}),H.jsx("div",{className:"p-6",children:t})]}),ec=({label:e,children:t,description:r})=>H.jsxs("div",{className:"mb-4",children:[H.jsxs("div",{className:"flex justify-between items-center mb-1",children:[H.jsx("label",{className:"text-sm font-medium text-gray-700",children:e}),r&&H.jsx("span",{className:"text-xs text-gray-500",children:r})]}),t]}),tc=()=>{const[e,t]=W.useState({useAutoSequence:!0,useInitials:!1,initials:"CL",sequenceLength:4,currentValue:1,separator:"-",nameCase:"words"}),[r,a]=W.useState(!0),[n,o]=W.useState("");W.useEffect(()=>{i()},[]);const i=async()=>{try{const e=await fetch("http://localhost:5006/api/ClientConfiguration");if(e.ok){const r=await e.json();t(r)}}catch(e){console.error("Error fetching config:",e)}finally{a(!1)}},s=e=>{const{name:r,value:a,type:n,checked:o}=e.target;t(e=>({...e,[r]:"checkbox"===n?o:a}))};return r?H.jsx("div",{className:"p-8 text-center text-gray-500",children:"Cargando configuracin..."}):H.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[H.jsxs("div",{className:"flex justify-between items-center",children:[H.jsxs("div",{children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configuracin de Cliente"}),H.jsx("p",{className:"text-gray-500",children:"Defina cmo se generan los cdigos de cliente automticamente."})]}),H.jsxs("div",{className:"flex items-center space-x-4",children:[n&&H.jsx("span",{className:"text-green-600 font-medium animate-pulse",children:n}),H.jsxs(Za,{onClick:async()=>{try{(await fetch("http://localhost:5006/api/ClientConfiguration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok?(o("Configuracin guardada correctamente"),setTimeout(()=>o(""),3e3)):alert("Error al guardar configuracin")}catch(t){console.error("Error saving config:",t),alert("Error de conexin")}},className:"bg-hd-orange hover:bg-orange-600 text-white",children:[H.jsx(wa,{className:"mr-2 h-4 w-4"})," Guardar Cambios"]})]})]}),H.jsx(Zl,{title:"Secuencia Numrica",children:H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[H.jsxs("div",{className:"space-y-4",children:[H.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg border border-blue-100",children:[H.jsxs("div",{children:[H.jsx("span",{className:"font-medium text-blue-900",children:"Usar Secuencia Automtica"}),H.jsx("p",{className:"text-xs text-blue-700",children:"El sistema generar el cdigo al guardar."})]}),H.jsx("input",{type:"checkbox",name:"useAutoSequence",checked:e.useAutoSequence,onChange:s,className:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),H.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[H.jsxs("div",{children:[H.jsx("span",{className:"font-medium text-gray-900",children:"Usar Iniciales"}),H.jsx("p",{className:"text-xs text-gray-500",children:"Prefijo antes del nmero (ej. CL)."})]}),H.jsx("input",{type:"checkbox",name:"useInitials",checked:e.useInitials,onChange:s,disabled:!e.useAutoSequence,className:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),H.jsx(ec,{label:"Separador",children:H.jsx(en,{name:"separator",value:e.separator,onChange:s,disabled:!e.useAutoSequence||!e.useInitials,maxLength:1,className:"w-20 text-center font-bold"})})]}),H.jsxs("div",{className:"space-y-4",children:[H.jsx(ec,{label:"Iniciales",description:"Texto al inicio del cdigo.",children:H.jsx(en,{name:"initials",value:e.initials,onChange:s,disabled:!e.useAutoSequence||!e.useInitials,className:"uppercase font-mono"})}),H.jsx(ec,{label:"Valor Inicial / Prximo",description:"El prximo nmero a utilizar.",children:H.jsx(en,{type:"number",name:"currentValue",value:e.currentValue,onChange:s,disabled:!e.useAutoSequence,className:"font-mono"})}),H.jsx(ec,{label:"Longitud de Secuencia",description:"Cantidad de ceros a la izquierda.",children:H.jsx(en,{type:"number",name:"sequenceLength",value:e.sequenceLength,onChange:s,disabled:!e.useAutoSequence,min:1,max:10,className:"font-mono"})}),H.jsxs("div",{className:"mt-6 p-4 border border-dashed border-gray-300 rounded-lg text-center",children:[H.jsx("span",{className:"text-sm text-gray-500 block mb-1",children:"Vista Previa"}),H.jsx("span",{className:"text-2xl font-bold text-gray-800 font-mono tracking-wider",children:(()=>{const t=String(e.currentValue).padStart(e.sequenceLength,"0");return e.useInitials?`${e.initials}${e.separator}${t}`:t})()})]})]})]})}),H.jsx(Zl,{title:"Formato del Nombre",children:H.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:H.jsx("div",{className:"space-y-4",children:H.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[H.jsxs("div",{children:[H.jsx("span",{className:"font-medium text-gray-900",children:"Formato del Nombre"}),H.jsx("p",{className:"text-xs text-gray-500",children:"Define cmo se capitaliza el nombre del cliente."})]}),H.jsxs("select",{name:"nameCase",value:e.nameCase,onChange:s,className:"h-8 w-40 p-1 border rounded bg-white",children:[H.jsx("option",{value:"words",children:"Cada palabra (Palabras)"}),H.jsx("option",{value:"first",children:"Primera letra"}),H.jsx("option",{value:"normal",children:"Sin cambios"})]})]})})})})]})},rc=()=>{const e=it(),[t,r]=W.useState(null),[a,n]=W.useState(null),[o,i]=W.useState("");W.useEffect(()=>{r(document.getElementById("header-actions")),n(document.getElementById("header-message"))},[]);const[s,l]=W.useState({usarSecuenciaPorGrupo:!0,prefijo:"",siguienteNumero:"00001",longitudMinima:5,permitirEdicion:!1,requiereCodBarras:!1,activarPorDefecto:!0,categoriaDefecto:"",rutaImagenesDefecto:""}),[c,d]=W.useState([]),[u,p]=W.useState([]),[h,m]=W.useState(!1),[g,x]=W.useState([{id:1,grupo:"Profesional",prefijo:"PROF-",siguienteNumero:"00001",longitudMinima:5,activo:!0},{id:2,grupo:"Industrial",prefijo:"IND-",siguienteNumero:"00001",longitudMinima:5,activo:!0},{id:3,grupo:"Hogar",prefijo:"HOG-",siguienteNumero:"00001",longitudMinima:5,activo:!0},{id:4,grupo:"Comercial",prefijo:"COM-",siguienteNumero:"00001",longitudMinima:5,activo:!1}]),[f,b]=W.useState(!1),v=(e,t)=>{l(r=>{const a={...r,[e]:t};if("prefijo"===e||"longitudMinima"===e){const e="1".padStart(a.longitudMinima,"0");a.formatoEjemplo=`${a.prefijo}${e}`}return a})},y=(e,t,r)=>{x(a=>a.map(a=>{if(a.id!==e)return a;const n={...a,[t]:r};if("planDefecto"===t)if(r){const e=c.find(e=>e.planId===r);e&&(n.unidadMedidaDefecto=e.unidadBase)}else n.unidadMedidaDefecto="";return n}))},w=async()=>{try{const e=(await Fn()).map(e=>({id:e.id,grupo:e.grupo,prefijo:e.prefijo||"",siguienteNumero:e.siguienteNumero||"",longitudMinima:e.longitudMinima,activo:e.activo,esDefecto:e.esDefecto||!1,planDefecto:e.planDefecto||"",unidadMedidaDefecto:e.unidadMedidaDefecto||""}));x(e)}catch(e){console.error("Error loading sequences:",e),alert("No se pudieron cargar las secuencias")}};W.useEffect(()=>{(async()=>{try{const e=await Xn();d(e)}catch(Xd){console.error(Xd)}try{const e=await ho();p(e)}catch(Xd){console.error("Error loading groups in config",Xd)}await(async()=>{m(!0);try{const e=await Tn();l(e)}catch(e){console.error("Error loading config:",e),alert("No se pudo cargar la configuracin")}finally{m(!1)}})(),w()})()},[]);return H.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[t&&de.createPortal(H.jsxs("div",{className:"flex items-center space-x-2",children:[H.jsx(Za,{variant:"outline",onClick:()=>e("/configuracion"),className:"mr-2",children:H.jsx("span",{className:"text-gray-600",children:"Cancelar"})}),H.jsxs(Za,{className:"bg-hd-orange hover:bg-orange-600",onClick:async()=>{const e=g.filter(e=>!e.grupo||""===e.grupo.trim());if(e.length>0)return void alert("No se pueden guardar grupos sin nombre. Por favor, asigne un nombre a todos los grupos o elimnelos.");const t=g.map(e=>e.grupo.trim().toLowerCase());if(t.filter((e,r)=>t.indexOf(e)!==r).length>0)alert("Existen grupos con nombres duplicados. Cada grupo debe ser nico.");else try{await(async e=>{const t=await fetch(`${Mn}/ArticuloConfiguration`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to save configuration");return t.json()})(s),await(async e=>{console.log("Saving sequences payload:",e);const t=await fetch(`${Mn}/ArticuloConfiguration/SecuenciasPorGrupo`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.text();throw console.error("Failed to save sequences:",e),new Error(`Failed to save sequences: ${t.status} ${e}`)}return t.json()})(g),i("Cambios guardados correctamente"),setTimeout(()=>i(""),3e3),await w()}catch(r){console.error("Error al guardar:",r),alert("Error al guardar la configuracin")}},children:[H.jsx(wa,{className:"mr-2 h-4 w-4"}),"Guardar Cambios"]})]}),t),a&&o&&de.createPortal(H.jsx("div",{className:"text-green-600 text-sm font-medium",children:o}),a),H.jsxs(ln,{children:[H.jsx(cn,{children:H.jsx(dn,{children:"Secuencia Numrica General"})}),H.jsxs("div",{className:"p-6 space-y-6",children:[H.jsxs("div",{className:"flex items-center space-x-2 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[H.jsx("input",{type:"checkbox",id:"usarSecuenciaPorGrupo",checked:s.usarSecuenciaPorGrupo,onChange:e=>v("usarSecuenciaPorGrupo",e.target.checked),className:"h-4 w-4 rounded border-gray-300 text-hd-orange focus:ring-hd-orange"}),H.jsxs("div",{className:"flex-1",children:[H.jsx("label",{htmlFor:"usarSecuenciaPorGrupo",className:"text-sm font-semibold text-blue-900",children:"Usar Secuencia por Grupo de Producto"}),H.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Cada grupo de producto tendr su propia secuencia numrica independiente"})]})]}),!s.usarSecuenciaPorGrupo&&H.jsxs(H.Fragment,{children:[H.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[H.jsxs("div",{children:[H.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Prefijo"}),H.jsx(en,{value:s.prefijo,onChange:e=>v("prefijo",e.target.value),placeholder:"Ej: ART-, PROD-, ITM-"}),H.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Prefijo que se agregar antes del nmero de artculo"})]}),H.jsxs("div",{children:[H.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Siguiente Nmero"}),H.jsx(en,{value:s.siguienteNumero,onChange:e=>v("siguienteNumero",e.target.value),placeholder:"00001"}),H.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Prximo nmero que se asignar a un nuevo artculo"})]})]}),H.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[H.jsxs("div",{children:[H.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Longitud Mnima"}),H.jsx(en,{type:"number",min:"1",max:"10",value:s.longitudMinima,onChange:e=>v("longitudMinima",parseInt(e.target.value))}),H.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Cantidad de dgitos mnimos (se rellenar con ceros a la izquierda)"})]}),H.jsxs("div",{children:[H.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Formato de Ejemplo"}),H.jsx("div",{className:"h-10 px-3 py-2 bg-gray-100 border border-gray-300 rounded-md flex items-center",children:H.jsx("span",{className:"font-mono text-sm font-semibold text-gray-700",children:s.formatoEjemplo})}),H.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Vista previa del formato del nmero de artculo"})]})]})]}),H.jsx("div",{className:"pt-4 border-t",children:H.jsxs("div",{className:"flex items-center space-x-2",children:[H.jsx("input",{type:"checkbox",id:"permitirEdicion",checked:s.permitirEdicion,onChange:e=>v("permitirEdicion",e.target.checked),className:"h-4 w-4 rounded border-gray-300 text-hd-orange focus:ring-hd-orange"}),H.jsx("label",{htmlFor:"permitirEdicion",className:"text-sm font-medium text-gray-700",children:"Permitir edicin manual del nmero de artculo"})]})})]})]}),s.usarSecuenciaPorGrupo&&H.jsxs(ln,{children:[H.jsx(cn,{children:H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsx(dn,{children:"Secuencias por Grupo de Producto"}),H.jsxs(Za,{variant:"outline",size:"sm",onClick:()=>{x([...g,{id:null,grupo:"",prefijo:"",siguienteNumero:"00001",longitudMinima:5,activo:!0,esDefecto:!1,planDefecto:"",unidadMedidaDefecto:""}])},children:[H.jsx(xa,{className:"mr-2 h-4 w-4"}),"Agregar Grupo"]})]})}),H.jsxs("div",{className:"p-6",children:[H.jsxs(tn,{children:[H.jsx(rn,{children:H.jsxs(nn,{children:[H.jsx(on,{className:"w-12 text-center text-xs text-gray-500",children:"Activo"}),H.jsx(on,{className:"w-20 text-center text-xs font-bold text-blue-600",children:"Por Defecto"}),H.jsx(on,{children:"Grupo de Producto"}),H.jsx(on,{className:"w-24",children:"Plan Def."}),H.jsx(on,{className:"w-20",children:"U.M. Def."}),H.jsx(on,{className:"w-32",children:"Prefijo"}),H.jsx(on,{className:"w-32",children:"Siguiente #"}),H.jsx(on,{className:"w-24",children:"Longitud"}),H.jsx(on,{className:"w-48",children:"Ejemplo"}),H.jsx(on,{className:"w-16"})]})}),H.jsx(an,{children:g.map(e=>H.jsxs(nn,{children:[H.jsx(sn,{className:"text-center",children:H.jsx("input",{type:"checkbox",checked:e.activo,onChange:t=>y(e.id,"activo",t.target.checked),className:"h-4 w-4 rounded border-gray-300 text-hd-orange focus:ring-hd-orange",title:"Activar/Desactivar grupo"})}),H.jsx(sn,{className:"text-center bg-blue-50/50",children:H.jsx("input",{type:"radio",name:"defaultGroup",checked:e.esDefecto,onChange:()=>{return t=e.id,void x(g.map(e=>({...e,esDefecto:e.id===t})));var t},className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500",title:"Marcar como grupo por defecto"})}),H.jsx(sn,{children:H.jsxs("select",{value:e.grupo,onChange:t=>y(e.id,"grupo",t.target.value),className:"w-full h-8 px-2 text-sm border border-gray-300 rounded focus:ring-hd-orange focus:border-hd-orange bg-white",children:[H.jsx("option",{value:"",children:"Seleccione Grupo"}),u.map(e=>H.jsx("option",{value:e.nombre,children:e.nombre},e.id)),e.grupo&&!u.some(t=>t.nombre===e.grupo)&&H.jsxs("option",{value:e.grupo,children:[e.grupo," (Legacy)"]})]})}),H.jsx(sn,{children:H.jsxs("select",{value:e.planDefecto||"",onChange:t=>y(e.id,"planDefecto",t.target.value),className:"w-full text-xs border-0 bg-transparent p-1 h-8 focus:ring-0",children:[H.jsx("option",{value:"",children:"--"}),c.map((e,t)=>H.jsx("option",{value:e.planId,children:e.planId},t))]})}),H.jsx(sn,{children:(()=>{const t=c.find(t=>t.planId===e.planDefecto);e.planDefecto&&!t&&console.warn("Plan not found:",e.planDefecto),t&&console.log("Plan UoMs:",t);const r=t?[t.unidadBase,...t.detalles?t.detalles.map(e=>e.unidadMedida):[]]:[],a=[...new Set(r)];return H.jsxs("select",{value:e.unidadMedidaDefecto||"",onChange:t=>y(e.id,"unidadMedidaDefecto",t.target.value),className:"w-full text-xs border-0 bg-transparent p-1 h-8 focus:ring-0",disabled:!e.planDefecto,title:e.planDefecto?"Unidad por defecto":"Seleccione un plan primero",children:[0===a.length&&H.jsx("option",{value:"",children:"--"}),a.map((e,t)=>H.jsx("option",{value:e,children:e},t))]})})()}),H.jsx(sn,{children:H.jsx(en,{value:e.prefijo,onChange:t=>y(e.id,"prefijo",t.target.value),placeholder:"PROF-",className:"border-0 bg-transparent p-1 h-8"})}),H.jsx(sn,{children:H.jsx(en,{value:e.siguienteNumero,onChange:t=>y(e.id,"siguienteNumero",t.target.value),placeholder:"00001",className:"border-0 bg-transparent p-1 h-8"})}),H.jsx(sn,{children:H.jsx(en,{type:"number",min:"1",max:"10",value:e.longitudMinima,onChange:t=>y(e.id,"longitudMinima",parseInt(t.target.value)),className:"border-0 bg-transparent p-1 h-8"})}),H.jsx(sn,{children:H.jsxs("span",{className:"font-mono text-sm font-semibold text-gray-700",children:[e.prefijo,String(1).padStart(e.longitudMinima,"0")]})}),H.jsx(sn,{className:"text-center",children:H.jsx(Za,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-red-100 hover:text-red-600",onClick:()=>{return t=e.id,void x(g.filter(e=>e.id!==t));var t},children:H.jsx(Ta,{className:"h-3 w-3"})})})]},e.id))})]}),H.jsxs("div",{className:"mt-4 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[H.jsx("h4",{className:"text-sm font-semibold text-yellow-900 mb-2",children:" Importante"}),H.jsx("p",{className:"text-xs text-yellow-800",children:"Al crear un artculo, el sistema usar la secuencia del grupo de producto seleccionado. Asegrese de que cada grupo tenga una secuencia configurada."})]})]})]}),H.jsxs(ln,{children:[H.jsx(cn,{children:H.jsx(dn,{children:"Configuracin Adicional"})}),H.jsxs("div",{className:"p-6 space-y-4",children:[H.jsx("div",{className:"grid grid-cols-2 gap-6",children:H.jsxs("div",{children:[H.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Categora por Defecto"}),H.jsxs("select",{value:s.categoriaDefecto||"",onChange:e=>v("categoriaDefecto",e.target.value),className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-hd-orange",children:[H.jsx("option",{value:"",children:"Sin categora"}),H.jsx("option",{children:"Herramientas Manuales"}),H.jsx("option",{children:"Herramientas Elctricas"}),H.jsx("option",{children:"Plomera"}),H.jsx("option",{children:"Electricidad"}),H.jsx("option",{children:"Pintura"})]}),H.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Categora que se asignar por defecto a nuevos artculos"})]})}),H.jsxs("div",{className:"flex items-center space-x-2",children:[H.jsx("input",{type:"checkbox",id:"requiereCodBarras",checked:s.requiereCodBarras,onChange:e=>v("requiereCodBarras",e.target.checked),className:"h-4 w-4 rounded border-gray-300 text-hd-orange focus:ring-hd-orange"}),H.jsx("label",{htmlFor:"requiereCodBarras",className:"text-sm font-medium text-gray-700",children:"Requerir cdigo de barras al crear artculo"})]}),H.jsxs("div",{className:"flex items-center space-x-2",children:[H.jsx("input",{type:"checkbox",id:"activarPorDefecto",checked:s.activarPorDefecto,onChange:e=>v("activarPorDefecto",e.target.checked),className:"h-4 w-4 rounded border-gray-300 text-hd-orange focus:ring-hd-orange"}),H.jsx("label",{htmlFor:"activarPorDefecto",className:"text-sm font-medium text-gray-700",children:"Activar artculos por defecto al crearlos"})]}),H.jsxs("div",{className:"pt-4 border-t",children:[H.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Ruta por Defecto para Imgenes de Productos"}),H.jsxs("div",{className:"flex gap-2",children:[H.jsx(en,{value:s.rutaImagenesDefecto||"",onChange:e=>v("rutaImagenesDefecto",e.target.value),placeholder:"Ej: C:\\POS\\Imagenes\\Productos",className:"flex-1"}),H.jsxs(Za,{variant:"outline",onClick:async()=>{if(!f){b(!0);try{const e=await fetch("http://localhost:5006/api/FileSystem/NativeBrowse");if(200===e.status){const t=await e.json();t.path&&v("rutaImagenesDefecto",t.path)}else if(204===e.status)console.log("User cancelled the dialog");else if(408===e.status)alert("Tiempo de espera agotado. Por favor, intente de nuevo.");else{const t=await e.json();alert("Error: "+t.message)}}catch(e){console.error("Error opening native explorer:",e),alert("No se pudo abrir el explorador del sistema")}finally{b(!1)}}},title:"Explorar carpetas",disabled:f,children:[H.jsx(ja,{className:"h-4 w-4 mr-2 "+(f?"animate-spin":"")}),f?"Abriendo...":"Explorar"]})]}),H.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Directorio en el servidor donde se almacenarn las fotos de los artculos."})]})]})]})]})};var ac=e=>"checkbox"===e.type,nc=e=>e instanceof Date,oc=e=>null==e;const ic=e=>"object"==typeof e;var sc=e=>!oc(e)&&!Array.isArray(e)&&ic(e)&&!nc(e),lc="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function cc(e){let t;const r=Array.isArray(e),a="undefined"!=typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else{if(lc&&(e instanceof Blob||a)||!r&&!sc(e))return e;if(t=r?[]:Object.create(Object.getPrototypeOf(e)),r||(e=>{const t=e.constructor&&e.constructor.prototype;return sc(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const r in e)e.hasOwnProperty(r)&&(t[r]=cc(e[r]));else t=e}return t}var dc=e=>/^\w*$/.test(e),uc=e=>void 0===e,pc=e=>Array.isArray(e)?e.filter(Boolean):[],hc=e=>pc(e.replace(/["|']|\]/g,"").split(/\.|\[/)),mc=(e,t,r)=>{if(!t||!sc(e))return r;const a=(dc(t)?[t]:hc(t)).reduce((e,t)=>oc(e)?e:e[t],e);return uc(a)||a===e?uc(e[t])?r:e[t]:a},gc=e=>"boolean"==typeof e,xc=(e,t,r)=>{let a=-1;const n=dc(t)?[t]:hc(t),o=n.length,i=o-1;for(;++a<o;){const t=n[a];let o=r;if(a!==i){const r=e[t];o=sc(r)||Array.isArray(r)?r:isNaN(+n[a+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=o,e=e[t]}};const fc="blur",bc="focusout",vc="onBlur",yc="onChange",wc="onSubmit",jc="onTouched",Nc="all",kc="max",Cc="min",Sc="maxLength",Ec="minLength",Pc="pattern",Oc="required",Ic="validate";K.createContext(null).displayName="HookFormContext";const Ac="undefined"!=typeof window?K.useLayoutEffect:K.useEffect;var Dc=e=>"string"==typeof e,Mc=e=>oc(e)||!ic(e);function Tc(e,t,r=new WeakSet){if(Mc(e)||Mc(t))return Object.is(e,t);if(nc(e)&&nc(t))return e.getTime()===t.getTime();const a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const o of a){const a=e[o];if(!n.includes(o))return!1;if("ref"!==o){const e=t[o];if(nc(a)&&nc(e)||sc(a)&&sc(e)||Array.isArray(a)&&Array.isArray(e)?!Tc(a,e,r):!Object.is(a,e))return!1}}return!0}var Fc=(e,t,r,a,n)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[a]:n||!0}}:{},zc=e=>Array.isArray(e)?e:[e],Rc=()=>{let e=[];return{get observers(){return e},next:t=>{for(const r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}};function _c(e,t){const r={};for(const a in e)if(e.hasOwnProperty(a)){const n=e[a],o=t[a];if(n&&sc(n)&&o){const e=_c(n,o);sc(e)&&(r[a]=e)}else e[a]&&(r[a]=o)}return r}var Lc=e=>sc(e)&&!Object.keys(e).length,$c=e=>"file"===e.type,Uc=e=>"function"==typeof e,Bc=e=>{if(!lc)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Vc=e=>"select-multiple"===e.type,Gc=e=>"radio"===e.type,qc=e=>Bc(e)&&e.isConnected;function Hc(e,t){const r=Array.isArray(t)?t:dc(t)?[t]:hc(t),a=1===r.length?e:function(e,t){const r=t.slice(0,-1).length;let a=0;for(;a<r;)e=uc(e)?a++:e[t[a++]];return e}(e,r),n=r.length-1,o=r[n];return a&&delete a[o],0!==n&&(sc(a)&&Lc(a)||Array.isArray(a)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!uc(e[t]))return!1;return!0}(a))&&Hc(e,r.slice(0,-1)),e}function Wc(e){return Array.isArray(e)||sc(e)&&!(e=>{for(const t in e)if(Uc(e[t]))return!0;return!1})(e)}function Kc(e,t={}){for(const r in e){const a=e[r];Wc(a)?(t[r]=Array.isArray(a)?[]:{},Kc(a,t[r])):uc(a)||(t[r]=!0)}return t}function Jc(e,t,r){r||(r=Kc(t));for(const a in e){const n=e[a];if(Wc(n))uc(t)||Mc(r[a])?r[a]=Kc(n,Array.isArray(n)?[]:{}):Jc(n,oc(t)?{}:t[a],r[a]);else{const e=t[a];r[a]=!Tc(n,e)}}return r}const Yc={value:!1,isValid:!1},Xc={value:!0,isValid:!0};var Qc=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!uc(e[0].attributes.value)?uc(e[0].value)||""===e[0].value?Xc:{value:e[0].value,isValid:!0}:Xc:Yc}return Yc},Zc=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:a})=>uc(e)?e:t?""===e?NaN:e?+e:e:r&&Dc(e)?new Date(e):a?a(e):e;const ed={isValid:!1,value:null};var td=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,ed):ed;function rd(e){const t=e.ref;return $c(t)?t.files:Gc(t)?td(e.refs).value:Vc(t)?[...t.selectedOptions].map(({value:e})=>e):ac(t)?Qc(e.refs).value:Zc(uc(t.value)?e.ref.value:t.value,e)}var ad=e=>e instanceof RegExp,nd=e=>uc(e)?e:ad(e)?e.source:sc(e)?ad(e.value)?e.value.source:e.value:e,od=e=>({isOnSubmit:!e||e===wc,isOnBlur:e===vc,isOnChange:e===yc,isOnAll:e===Nc,isOnTouch:e===jc});const id="AsyncFunction";var sd=e=>!!e&&!!e.validate&&!!(Uc(e.validate)&&e.validate.constructor.name===id||sc(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===id)),ld=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const cd=(e,t,r,a)=>{for(const n of r||Object.keys(e)){const r=mc(e,n);if(r){const{_f:e,...o}=r;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],n)&&!a)return!0;if(e.ref&&t(e.ref,e.name)&&!a)return!0;if(cd(o,t))break}else if(sc(o)&&cd(o,t))break}}};function dd(e,t,r){const a=mc(e,r);if(a||dc(r))return{error:a,name:r};const n=r.split(".");for(;n.length;){const a=n.join("."),o=mc(t,a),i=mc(e,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(i&&i.type)return{name:a,error:i};if(i&&i.root&&i.root.type)return{name:`${a}.root`,error:i.root};n.pop()}return{name:r}}var ud=(e,t,r)=>{const a=zc(mc(e,r));return xc(a,"root",t[r]),xc(e,r,a),e};function pd(e,t,r="validate"){if(Dc(e)||Array.isArray(e)&&e.every(Dc)||gc(e)&&!e)return{type:r,message:Dc(e)?e:"",ref:t}}var hd=e=>sc(e)&&!ad(e)?e:{value:e,message:""},md=async(e,t,r,a,n,o)=>{const{ref:i,refs:s,required:l,maxLength:c,minLength:d,min:u,max:p,pattern:h,validate:m,name:g,valueAsNumber:x,mount:f}=e._f,b=mc(r,g);if(!f||t.has(g))return{};const v=s?s[0]:i,y=e=>{n&&v.reportValidity&&(v.setCustomValidity(gc(e)?"":e||""),v.reportValidity())},w={},j=Gc(i),N=ac(i),k=j||N,C=(x||$c(i))&&uc(i.value)&&uc(b)||Bc(i)&&""===i.value||""===b||Array.isArray(b)&&!b.length,S=Fc.bind(null,g,a,w),E=(e,t,r,a=Sc,n=Ec)=>{const o=e?t:r;w[g]={type:e?a:n,message:o,ref:i,...S(e?a:n,o)}};if(o?!Array.isArray(b)||!b.length:l&&(!k&&(C||oc(b))||gc(b)&&!b||N&&!Qc(s).isValid||j&&!td(s).isValid)){const{value:e,message:t}=Dc(l)?{value:!!l,message:l}:hd(l);if(e&&(w[g]={type:Oc,message:t,ref:v,...S(Oc,t)},!a))return y(t),w}if(!(C||oc(u)&&oc(p))){let e,t;const r=hd(p),n=hd(u);if(oc(b)||isNaN(b)){const a=i.valueAsDate||new Date(b),o=e=>new Date((new Date).toDateString()+" "+e),s="time"==i.type,l="week"==i.type;Dc(r.value)&&b&&(e=s?o(b)>o(r.value):l?b>r.value:a>new Date(r.value)),Dc(n.value)&&b&&(t=s?o(b)<o(n.value):l?b<n.value:a<new Date(n.value))}else{const a=i.valueAsNumber||(b?+b:b);oc(r.value)||(e=a>r.value),oc(n.value)||(t=a<n.value)}if((e||t)&&(E(!!e,r.message,n.message,kc,Cc),!a))return y(w[g].message),w}if((c||d)&&!C&&(Dc(b)||o&&Array.isArray(b))){const e=hd(c),t=hd(d),r=!oc(e.value)&&b.length>+e.value,n=!oc(t.value)&&b.length<+t.value;if((r||n)&&(E(r,e.message,t.message),!a))return y(w[g].message),w}if(h&&!C&&Dc(b)){const{value:e,message:t}=hd(h);if(ad(e)&&!b.match(e)&&(w[g]={type:Pc,message:t,ref:i,...S(Pc,t)},!a))return y(t),w}if(m)if(Uc(m)){const e=pd(await m(b,r),v);if(e&&(w[g]={...e,...S(Ic,e.message)},!a))return y(e.message),w}else if(sc(m)){let e={};for(const t in m){if(!Lc(e)&&!a)break;const n=pd(await m[t](b,r),v,t);n&&(e={...n,...S(t,n.message)},y(n.message),a&&(w[g]=e))}if(!Lc(e)&&(w[g]={ref:v,...e},!a))return w}return y(!0),w};const gd={mode:wc,reValidateMode:yc,shouldFocusError:!0};function xd(e={}){let t,r={...gd,...e},a={submitCount:0,isDirty:!1,isReady:!1,isLoading:Uc(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},n={},o=(sc(r.defaultValues)||sc(r.values))&&cc(r.defaultValues||r.values)||{},i=r.shouldUnregister?{}:cc(o),s={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let u={...d};const p={array:Rc(),state:Rc()},h=r.criteriaMode===Nc,m=async e=>{if(!r.disabled&&(d.isValid||u.isValid||e)){const e=r.resolver?Lc((await v()).errors):await y(n,!0);e!==a.isValid&&p.state.next({isValid:e})}},g=(e,t)=>{!r.disabled&&(d.isValidating||d.validatingFields||u.isValidating||u.validatingFields)&&((e||Array.from(l.mount)).forEach(e=>{e&&(t?xc(a.validatingFields,e,t):Hc(a.validatingFields,e))}),p.state.next({validatingFields:a.validatingFields,isValidating:!Lc(a.validatingFields)}))},x=(e,t,r,a)=>{const l=mc(n,e);if(l){const n=mc(i,e,uc(r)?mc(o,e):r);uc(n)||a&&a.defaultChecked||t?xc(i,e,t?n:rd(l._f)):N(e,n),s.mount&&!s.action&&m()}},f=(e,t,n,i,s)=>{let l=!1,c=!1;const h={name:e};if(!r.disabled){if(!n||i){(d.isDirty||u.isDirty)&&(c=a.isDirty,a.isDirty=h.isDirty=w(),l=c!==h.isDirty);const r=Tc(mc(o,e),t);c=!!mc(a.dirtyFields,e),r?Hc(a.dirtyFields,e):xc(a.dirtyFields,e,!0),h.dirtyFields=a.dirtyFields,l=l||(d.dirtyFields||u.dirtyFields)&&c!==!r}if(n){const t=mc(a.touchedFields,e);t||(xc(a.touchedFields,e,n),h.touchedFields=a.touchedFields,l=l||(d.touchedFields||u.touchedFields)&&t!==n)}l&&s&&p.state.next(h)}return l?h:{}},b=(e,n,o,i)=>{const s=mc(a.errors,e),l=(d.isValid||u.isValid)&&gc(n)&&a.isValid!==n;var h;if(r.delayError&&o?(h=()=>((e,t)=>{xc(a.errors,e,t),p.state.next({errors:a.errors})})(e,o),t=e=>{clearTimeout(c),c=setTimeout(h,e)},t(r.delayError)):(clearTimeout(c),t=null,o?xc(a.errors,e,o):Hc(a.errors,e)),(o?!Tc(s,o):s)||!Lc(i)||l){const t={...i,...l&&gc(n)?{isValid:n}:{},errors:a.errors,name:e};a={...a,...t},p.state.next(t)}},v=async e=>{g(e,!0);const t=await r.resolver(i,r.context,((e,t,r,a)=>{const n={};for(const o of e){const e=mc(t,o);e&&xc(n,o,e._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:a}})(e||l.mount,n,r.criteriaMode,r.shouldUseNativeValidation));return g(e),t},y=async(e,t,n={valid:!0})=>{for(const o in e){const s=e[o];if(s){const{_f:e,...o}=s;if(e){const o=l.array.has(e.name),c=s._f&&sd(s._f);c&&d.validatingFields&&g([e.name],!0);const u=await md(s,l.disabled,i,h,r.shouldUseNativeValidation&&!t,o);if(c&&d.validatingFields&&g([e.name]),u[e.name]&&(n.valid=!1,t))break;!t&&(mc(u,e.name)?o?ud(a.errors,u,e.name):xc(a.errors,e.name,u[e.name]):Hc(a.errors,e.name))}!Lc(o)&&await y(o,t,n)}}return n.valid},w=(e,t)=>!r.disabled&&(e&&t&&xc(i,e,t),!Tc(O(),o)),j=(e,t,r)=>((e,t,r,a,n)=>Dc(e)?(a&&t.watch.add(e),mc(r,e,n)):Array.isArray(e)?e.map(e=>(a&&t.watch.add(e),mc(r,e))):(a&&(t.watchAll=!0),r))(e,l,{...s.mount?i:uc(t)?o:Dc(e)?{[e]:t}:t},r,t),N=(e,t,r={})=>{const a=mc(n,e);let o=t;if(a){const r=a._f;r&&(!r.disabled&&xc(i,e,Zc(t,r)),o=Bc(r.ref)&&oc(t)?"":t,Vc(r.ref)?[...r.ref.options].forEach(e=>e.selected=o.includes(e.value)):r.refs?ac(r.ref)?r.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(o)?e.checked=!!o.find(t=>t===e.value):e.checked=o===e.value||!!o)}):r.refs.forEach(e=>e.checked=e.value===o):$c(r.ref)?r.ref.value="":(r.ref.value=o,r.ref.type||p.state.next({name:e,values:cc(i)})))}(r.shouldDirty||r.shouldTouch)&&f(e,o,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&P(e)},k=(e,t,r)=>{for(const a in t){if(!t.hasOwnProperty(a))return;const o=t[a],i=e+"."+a,s=mc(n,i);(l.array.has(e)||sc(o)||s&&!s._f)&&!nc(o)?k(i,o,r):N(i,o,r)}},C=(e,t,r={})=>{const c=mc(n,e),h=l.array.has(e),m=cc(t);xc(i,e,m),h?(p.array.next({name:e,values:cc(i)}),(d.isDirty||d.dirtyFields||u.isDirty||u.dirtyFields)&&r.shouldDirty&&p.state.next({name:e,dirtyFields:Jc(o,i),isDirty:w(e,m)})):!c||c._f||oc(m)?N(e,m,r):k(e,m,r),ld(e,l)&&p.state.next({...a,name:e}),p.state.next({name:s.mount?e:void 0,values:cc(i)})},S=async e=>{s.mount=!0;const o=e.target;let c=o.name,x=!0;const w=mc(n,c),j=e=>{x=Number.isNaN(e)||nc(e)&&isNaN(e.getTime())||Tc(e,mc(i,c,e))},N=od(r.mode),k=od(r.reValidateMode);if(w){let s,S;const E=o.type?rd(w._f):(e=>sc(e)&&e.target?ac(e.target)?e.target.checked:e.target.value:e)(e),O=e.type===fc||e.type===bc,I=!((C=w._f).mount&&(C.required||C.min||C.max||C.maxLength||C.minLength||C.pattern||C.validate)||r.resolver||mc(a.errors,c)||w._f.deps)||((e,t,r,a,n)=>!n.isOnAll&&(!r&&n.isOnTouch?!(t||e):(r?a.isOnBlur:n.isOnBlur)?!e:!(r?a.isOnChange:n.isOnChange)||e))(O,mc(a.touchedFields,c),a.isSubmitted,k,N),A=ld(c,l,O);xc(i,c,E),O?o&&o.readOnly||(w._f.onBlur&&w._f.onBlur(e),t&&t(0)):w._f.onChange&&w._f.onChange(e);const D=f(c,E,O),M=!Lc(D)||A;if(!O&&p.state.next({name:c,type:e.type,values:cc(i)}),I)return(d.isValid||u.isValid)&&("onBlur"===r.mode?O&&m():O||m()),M&&p.state.next({name:c,...A?{}:D});if(!O&&A&&p.state.next({...a}),r.resolver){const{errors:e}=await v([c]);if(j(E),x){const t=dd(a.errors,n,c),r=dd(e,n,t.name||c);s=r.error,c=r.name,S=Lc(e)}}else g([c],!0),s=(await md(w,l.disabled,i,h,r.shouldUseNativeValidation))[c],g([c]),j(E),x&&(s?S=!1:(d.isValid||u.isValid)&&(S=await y(n,!0)));x&&(w._f.deps&&(!Array.isArray(w._f.deps)||w._f.deps.length>0)&&P(w._f.deps),b(c,S,s,D))}var C},E=(e,t)=>{if(mc(a.errors,t)&&e.focus)return e.focus(),1},P=async(e,t={})=>{let o,i;const s=zc(e);if(r.resolver){const t=await(async e=>{const{errors:t}=await v(e);if(e)for(const r of e){const e=mc(t,r);e?xc(a.errors,r,e):Hc(a.errors,r)}else a.errors=t;return t})(uc(e)?e:s);o=Lc(t),i=e?!s.some(e=>mc(t,e)):o}else e?(i=(await Promise.all(s.map(async e=>{const t=mc(n,e);return await y(t&&t._f?{[e]:t}:t)}))).every(Boolean),(i||a.isValid)&&m()):i=o=await y(n);return p.state.next({...!Dc(e)||(d.isValid||u.isValid)&&o!==a.isValid?{}:{name:e},...r.resolver||!e?{isValid:o}:{},errors:a.errors}),t.shouldFocus&&!i&&cd(n,E,e?s:l.mount),i},O=(e,t)=>{let r={...s.mount?i:o};return t&&(r=_c(t.dirtyFields?a.dirtyFields:a.touchedFields,r)),uc(e)?r:Dc(e)?mc(r,e):e.map(e=>mc(r,e))},I=(e,t)=>({invalid:!!mc((t||a).errors,e),isDirty:!!mc((t||a).dirtyFields,e),error:mc((t||a).errors,e),isValidating:!!mc(a.validatingFields,e),isTouched:!!mc((t||a).touchedFields,e)}),A=(e,t,r)=>{const o=(mc(n,e,{_f:{}})._f||{}).ref,i=mc(a.errors,e)||{},{ref:s,message:l,type:c,...d}=i;xc(a.errors,e,{...d,...t,ref:o}),p.state.next({name:e,errors:a.errors,isValid:!1}),r&&r.shouldFocus&&o&&o.focus&&o.focus()},D=e=>p.state.subscribe({next:t=>{var r,n,s;r=e.name,n=t.name,s=e.exact,r&&n&&r!==n&&!zc(r).some(e=>e&&(s?e===n:e.startsWith(n)||n.startsWith(e)))||!((e,t,r,a)=>{r(e);const{name:n,...o}=e;return Lc(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(e=>t[e]===(!a||Nc))})(t,e.formState||d,$,e.reRenderRoot)||e.callback({values:{...i},...a,...t,defaultValues:o})}}).unsubscribe,M=(e,t={})=>{for(const s of e?zc(e):l.mount)l.mount.delete(s),l.array.delete(s),t.keepValue||(Hc(n,s),Hc(i,s)),!t.keepError&&Hc(a.errors,s),!t.keepDirty&&Hc(a.dirtyFields,s),!t.keepTouched&&Hc(a.touchedFields,s),!t.keepIsValidating&&Hc(a.validatingFields,s),!r.shouldUnregister&&!t.keepDefaultValue&&Hc(o,s);p.state.next({values:cc(i)}),p.state.next({...a,...t.keepDirty?{isDirty:w()}:{}}),!t.keepIsValid&&m()},T=({disabled:e,name:t})=>{(gc(e)&&s.mount||e||l.disabled.has(t))&&(e?l.disabled.add(t):l.disabled.delete(t))},F=(e,t={})=>{let a=mc(n,e);const i=gc(t.disabled)||gc(r.disabled);return xc(n,e,{...a||{},_f:{...a&&a._f?a._f:{ref:{name:e}},name:e,mount:!0,...t}}),l.mount.add(e),a?T({disabled:gc(t.disabled)?t.disabled:r.disabled,name:e}):x(e,!0,t.value),{...i?{disabled:t.disabled||r.disabled}:{},...r.progressive?{required:!!t.required,min:nd(t.min),max:nd(t.max),minLength:nd(t.minLength),maxLength:nd(t.maxLength),pattern:nd(t.pattern)}:{},name:e,onChange:S,onBlur:S,ref:i=>{if(i){F(e,t),a=mc(n,e);const r=uc(i.value)&&i.querySelectorAll&&i.querySelectorAll("input,select,textarea")[0]||i,s=(e=>Gc(e)||ac(e))(r),l=a._f.refs||[];if(s?l.find(e=>e===r):r===a._f.ref)return;xc(n,e,{_f:{...a._f,...s?{refs:[...l.filter(qc),r,...Array.isArray(mc(o,e))?[{}]:[]],ref:{type:r.type,name:e}}:{ref:r}}}),x(e,!1,void 0,r)}else a=mc(n,e,{}),a._f&&(a._f.mount=!1),(r.shouldUnregister||t.shouldUnregister)&&(!((e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)))(l.array,e)||!s.action)&&l.unMount.add(e)}}},z=()=>r.shouldFocusError&&cd(n,E,l.mount),R=(e,t)=>async o=>{let s;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let c=cc(i);if(p.state.next({isSubmitting:!0}),r.resolver){const{errors:e,values:t}=await v();a.errors=e,c=cc(t)}else await y(n);if(l.disabled.size)for(const e of l.disabled)Hc(c,e);if(Hc(a.errors,"root"),Lc(a.errors)){p.state.next({errors:{}});try{await e(c,o)}catch(d){s=d}}else t&&await t({...a.errors},o),z(),setTimeout(z);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Lc(a.errors)&&!s,submitCount:a.submitCount+1,errors:a.errors}),s)throw s},_=(e,t={})=>{const c=e?cc(e):o,u=cc(c),h=Lc(e),m=h?o:u;if(t.keepDefaultValues||(o=c),!t.keepValues){if(t.keepDirtyValues){const e=new Set([...l.mount,...Object.keys(Jc(o,i))]);for(const t of Array.from(e))mc(a.dirtyFields,t)?xc(m,t,mc(i,t)):C(t,mc(m,t))}else{if(lc&&uc(e))for(const e of l.mount){const t=mc(n,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(Bc(e)){const t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(const e of l.mount)C(e,mc(m,e));else n={}}i=r.shouldUnregister?t.keepDefaultValues?cc(o):{}:cc(m),p.array.next({values:{...m}}),p.state.next({values:{...m}})}l={mount:t.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!t.keepIsValid||!!t.keepDirtyValues||!r.shouldUnregister&&!Lc(m),s.watch=!!r.shouldUnregister,s.action=!1,t.keepErrors||(a.errors={}),p.state.next({submitCount:t.keepSubmitCount?a.submitCount:0,isDirty:!h&&(t.keepDirty?a.isDirty:!(!t.keepDefaultValues||Tc(e,o))),isSubmitted:!!t.keepIsSubmitted&&a.isSubmitted,dirtyFields:h?{}:t.keepDirtyValues?t.keepDefaultValues&&i?Jc(o,i):a.dirtyFields:t.keepDefaultValues&&e?Jc(o,e):t.keepDirty?a.dirtyFields:{},touchedFields:t.keepTouched?a.touchedFields:{},errors:t.keepErrors?a.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&a.isSubmitSuccessful,isSubmitting:!1,defaultValues:o})},L=(e,t)=>_(Uc(e)?e(i):e,t),$=e=>{a={...a,...e}},U={control:{register:F,unregister:M,getFieldState:I,handleSubmit:R,setError:A,_subscribe:D,_runSchema:v,_focusError:z,_getWatch:j,_getDirty:w,_setValid:m,_setFieldArray:(e,t=[],l,c,h=!0,m=!0)=>{if(c&&l&&!r.disabled){if(s.action=!0,m&&Array.isArray(mc(n,e))){const t=l(mc(n,e),c.argA,c.argB);h&&xc(n,e,t)}if(m&&Array.isArray(mc(a.errors,e))){const t=l(mc(a.errors,e),c.argA,c.argB);h&&xc(a.errors,e,t),((e,t)=>{!pc(mc(e,t)).length&&Hc(e,t)})(a.errors,e)}if((d.touchedFields||u.touchedFields)&&m&&Array.isArray(mc(a.touchedFields,e))){const t=l(mc(a.touchedFields,e),c.argA,c.argB);h&&xc(a.touchedFields,e,t)}(d.dirtyFields||u.dirtyFields)&&(a.dirtyFields=Jc(o,i)),p.state.next({name:e,isDirty:w(e,t),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else xc(i,e,t)},_setDisabledField:T,_setErrors:e=>{a.errors=e,p.state.next({errors:a.errors,isValid:!1})},_getFieldArray:e=>pc(mc(s.mount?i:o,e,r.shouldUnregister?mc(o,e,[]):[])),_reset:_,_resetDefaultValues:()=>Uc(r.defaultValues)&&r.defaultValues().then(e=>{L(e,r.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of l.unMount){const t=mc(n,e);t&&(t._f.refs?t._f.refs.every(e=>!qc(e)):!qc(t._f.ref))&&M(e)}l.unMount=new Set},_disableForm:e=>{gc(e)&&(p.state.next({disabled:e}),cd(n,(t,r)=>{const a=mc(n,r);a&&(t.disabled=a._f.disabled||e,Array.isArray(a._f.refs)&&a._f.refs.forEach(t=>{t.disabled=a._f.disabled||e}))},0,!1))},_subjects:p,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return s},set _state(e){s=e},get _defaultValues(){return o},get _names(){return l},set _names(e){l=e},get _formState(){return a},get _options(){return r},set _options(e){r={...r,...e}}},subscribe:e=>(s.mount=!0,u={...u,...e.formState},D({...e,formState:u})),trigger:P,register:F,handleSubmit:R,watch:(e,t)=>Uc(e)?p.state.subscribe({next:r=>"values"in r&&e(j(void 0,t),r)}):j(e,t,!0),setValue:C,getValues:O,reset:L,resetField:(e,t={})=>{mc(n,e)&&(uc(t.defaultValue)?C(e,cc(mc(o,e))):(C(e,t.defaultValue),xc(o,e,cc(t.defaultValue))),t.keepTouched||Hc(a.touchedFields,e),t.keepDirty||(Hc(a.dirtyFields,e),a.isDirty=t.defaultValue?w(e,cc(mc(o,e))):w()),t.keepError||(Hc(a.errors,e),d.isValid&&m()),p.state.next({...a}))},clearErrors:e=>{e&&zc(e).forEach(e=>Hc(a.errors,e)),p.state.next({errors:e?a.errors:{}})},unregister:M,setError:A,setFocus:(e,t={})=>{const r=mc(n,e),a=r&&r._f;if(a){const e=a.refs?a.refs[0]:a.ref;e.focus&&(e.focus(),t.shouldSelect&&Uc(e.select)&&e.select())}},getFieldState:I};return{...U,formControl:U}}function fd(e={}){const t=K.useRef(void 0),r=K.useRef(void 0),[a,n]=K.useState({isDirty:!1,isValidating:!1,isLoading:Uc(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Uc(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:a},e.defaultValues&&!Uc(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:r,...n}=xd(e);t.current={...n,formState:a}}const o=t.current.control;return o._options=e,Ac(()=>{const e=o._subscribe({formState:o._proxyFormState,callback:()=>n({...o._formState}),reRenderRoot:!0});return n(e=>({...e,isReady:!0})),o._formState.isReady=!0,e},[o]),K.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),K.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),K.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),K.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),K.useEffect(()=>{if(o._proxyFormState.isDirty){const e=o._getDirty();e!==a.isDirty&&o._subjects.state.next({isDirty:e})}},[o,a.isDirty]),K.useEffect(()=>{var t;e.values&&!Tc(e.values,r.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),(null===(t=o._options.resetOptions)||void 0===t?void 0:t.keepIsValid)||o._setValid(),r.current=e.values,n(e=>({...e}))):o._resetDefaultValues()},[o,e.values]),K.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=((e,t,r,a=!0)=>{const n={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(n,o,{get:()=>{const r=o;return t._proxyFormState[r]!==Nc&&(t._proxyFormState[r]=!a||Nc),e[r]}});return n})(a,o),t.current}const bd="http://localhost:5006/api",vd=()=>{const[e,t]=W.useState([]),[r,a]=W.useState(!0),[n,o]=W.useState(null),[i,s]=W.useState([]),[l,c]=W.useState(null);W.useEffect(()=>{d()},[]),W.useEffect(()=>{n&&!n.esFuncional&&(u(n.id),c(null))},[n]);const d=async()=>{try{a(!0);const e=await fetch(`${bd}/Monedas`);if(e.ok){const r=await e.json();t(r),r.length>0&&!n&&o(r.find(e=>!e.esFuncional)||r[0])}}catch(e){console.error("Error loading monedas:",e)}finally{a(!1)}},u=async e=>{try{const t=await fetch(`${bd}/Monedas/${e}/historial`);t.ok&&s(await t.json())}catch(Xd){console.error(Xd)}};return H.jsxs("div",{className:"space-y-6",children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Configuracin de Monedas y Tasas"}),H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[H.jsxs(ln,{children:[H.jsx(cn,{children:H.jsx(dn,{children:"Monedas Disponibles"})}),H.jsx("div",{className:"p-0",children:H.jsxs(tn,{children:[H.jsx(rn,{children:H.jsxs(nn,{children:[H.jsx(on,{children:"Cdigo"}),H.jsx(on,{children:"Nombre"}),H.jsx(on,{children:"Tasa Actual"}),H.jsx(on,{children:"Funcional"})]})}),H.jsx(an,{children:e.map(e=>H.jsxs(nn,{className:(null==n?void 0:n.id)===e.id?"bg-orange-50 cursor-pointer":"cursor-pointer",onClick:()=>o(e),children:[H.jsx(sn,{className:"font-bold",children:e.codigo}),H.jsx(sn,{children:e.nombre}),H.jsx(sn,{children:e.esFuncional?"1.00":"Ver Historial"}),H.jsx(sn,{children:e.esFuncional?"S":"No"})]},e.id))})]})})]}),H.jsxs(ln,{children:[H.jsx(cn,{className:"flex flex-row justify-between items-center",children:H.jsxs(dn,{children:["Historial de Tasas: ",null==n?void 0:n.nombre," (",null==n?void 0:n.codigo,")"]})}),H.jsx("div",{className:"p-6",children:null!=n&&n.esFuncional?H.jsx("p",{className:"text-gray-500 italic",children:"La moneda funcional tiene una tasa fija de 1.00"}):H.jsxs("div",{className:"space-y-4",children:[H.jsxs("div",{className:"border rounded-md p-4 bg-gray-50",children:[H.jsx("h3",{className:"font-medium mb-2",children:l?"Modificar Tasa":"Registrar Nueva Tasa"}),H.jsx(yd,{onSubmit:async e=>{const t={Id:(null==l?void 0:l.id)||0,MonedaId:n.id,Tasa:parseFloat(e.tasa),FechaInicio:e.fechaInicio,FechaFin:e.fechaFin||null};try{const e=l?`${bd}/Monedas/tasas/${l.id}`:`${bd}/Monedas/tasas`,r=await fetch(e,{method:l?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(r.ok)return alert(l?"Tasa actualizada":"Tasa guardada"),u(n.id),d(),c(null),!0;{const e=await r.text();return alert("Error al guardar tasa: "+e),!1}}catch(Xd){return console.error(Xd),alert("Error de red al guardar tasa"),!1}},initialData:l,onCancel:l?()=>c(null):null})]}),H.jsxs("div",{className:"mt-4",children:[H.jsx("h3",{className:"font-bold mb-2",children:"Historial de Tasas"}),H.jsxs(tn,{children:[H.jsx(rn,{children:H.jsxs(nn,{children:[H.jsx(on,{children:"Tasa"}),H.jsx(on,{children:"Desde"}),H.jsx(on,{children:"Hasta"}),H.jsx(on,{children:"Estado"}),H.jsx(on,{className:"text-right",children:"Acciones"})]})}),H.jsxs(an,{children:[i.map(e=>{const t=(e=>{const t=new Date;t.setHours(0,0,0,0);const r=e.fechaFin?new Date(e.fechaFin):null;return r&&r<t?{label:"Histrico",color:"bg-gray-100 text-gray-600"}:{label:"Abierto",color:"bg-green-100 text-green-700"}})(e);return H.jsxs(nn,{children:[H.jsx(sn,{className:"font-bold",children:e.tasa.toFixed(4)}),H.jsx(sn,{children:new Date(e.fechaInicio).toLocaleDateString()}),H.jsx(sn,{children:e.fechaFin?new Date(e.fechaFin).toLocaleDateString():"Vigente"}),H.jsx(sn,{children:H.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase ${t.color}`,children:t.label})}),H.jsx(sn,{className:"text-right",children:H.jsxs("div",{className:"flex justify-end space-x-2",children:[H.jsx("button",{onClick:()=>c(e),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:H.jsx(fr,{size:14})}),H.jsx("button",{onClick:()=>(async e=>{if(window.confirm("Est seguro de eliminar esta tasa?"))try{(await fetch(`${bd}/Monedas/tasas/${e}`,{method:"DELETE"})).ok&&(alert("Tasa eliminada"),u(n.id),d())}catch(Xd){console.error(Xd)}})(e.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:H.jsx(Ta,{size:14})})]})})]},e.id)}),0===i.length&&H.jsx(nn,{children:H.jsx(sn,{colSpan:5,className:"text-center text-gray-400",children:"No hay tasas registradas"})})]})]})]})]})})]})]})]})},yd=({onSubmit:e,initialData:t,onCancel:r})=>{const{register:a,handleSubmit:n,reset:o,setValue:i}=fd();W.useEffect(()=>{t?(i("tasa",t.tasa),i("fechaInicio",new Date(t.fechaInicio).toISOString().split("T")[0]),i("fechaFin",t.fechaFin?new Date(t.fechaFin).toISOString().split("T")[0]:"")):o({tasa:"",fechaInicio:(new Date).toISOString().split("T")[0],fechaFin:""})},[t,o,i]);return H.jsxs("form",{onSubmit:n(async t=>{await e(t)&&o()}),className:"space-y-4",children:[H.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[H.jsx(en,{label:"Tasa de Cambio",...a("tasa",{required:!0}),placeholder:"Ej: 58.50"}),H.jsx(en,{label:"Fecha Inicio",type:"date",...a("fechaInicio",{required:!0})}),H.jsx(en,{label:"Fecha Fin (Opcional)",type:"date",...a("fechaFin")})]}),H.jsxs("div",{className:"flex space-x-2",children:[H.jsxs(Za,{type:"submit",size:"sm",className:"bg-hd-orange hover:bg-orange-600",children:[H.jsx(wa,{size:16,className:"mr-2"})," ",t?"Actualizar":"Guardar"," Tasa"]}),r&&H.jsx(Za,{type:"button",variant:"outline",size:"sm",onClick:r,children:"Cancelar"})]})]})},wd=({title:e,children:t,description:r})=>H.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden mb-6",children:[H.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:[H.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e}),r&&H.jsx("p",{className:"text-sm text-gray-500 mt-1",children:r})]}),H.jsx("div",{className:"p-6",children:t})]}),jd=({label:e,description:t,checked:r,onChange:a,disabled:n,tooltip:o})=>H.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${r?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"} ${n?"opacity-50":""}`,title:o||t,children:[H.jsxs("div",{children:[H.jsx("span",{className:"font-medium "+(r?"text-blue-900":"text-gray-900"),children:e}),t&&H.jsx("p",{className:"text-xs "+(r?"text-blue-700":"text-gray-500"),children:t})]}),H.jsxs("div",{className:"relative inline-block w-12 mr-2 align-middle select-none transition duration-200 ease-in",children:[H.jsx("input",{type:"checkbox",checked:r,onChange:a,disabled:n,className:"toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer peer checked:right-0 right-6",style:{top:0,transition:"right 0.2s"}}),H.jsx("div",{className:"toggle-label block overflow-hidden h-6 rounded-full cursor-pointer "+(r?"bg-hd-orange":"bg-gray-300")})]}),H.jsx("input",{type:"checkbox",checked:r,onChange:a,disabled:n,className:"h-6 w-6 text-hd-orange rounded border-gray-300 focus:ring-hd-orange ml-4"})]}),Nd=()=>{const[e,t]=W.useState({useAutoSequence:!0,useInitials:!0,initials:"PROV",currentValue:1,sequenceLength:4,separator:"-",habilitarFacturas:!0,habilitarPagoRecurrente:!1,habilitarFrecuenciaSemanal:!1,habilitarFrecuenciaQuincenal:!1,habilitarFrecuenciaMensual:!0,habilitarFechasEspecificas:!1}),[r,a]=W.useState(!0),[n,o]=W.useState(null);W.useEffect(()=>{i()},[]);const i=async()=>{a(!0);try{const e=await fetch("http://localhost:5006/api/ProveedorConfiguration");if(e.ok){const r=await e.json();t(r)}}catch(e){console.error(e)}finally{a(!1)}},s=(e,r)=>{t(t=>({...t,[e]:r}))};return r?H.jsx("div",{className:"p-8 text-center text-gray-500",children:"Cargando configuracin..."}):H.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[H.jsxs("div",{className:"flex justify-between items-center mb-6",children:[H.jsxs("div",{children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configuracin de Proveedores"}),H.jsx("p",{className:"text-gray-500",children:"Gestione reglas de negocio, secuencias y opciones de pago."})]}),H.jsxs(Za,{className:"bg-hd-orange hover:bg-orange-600 text-white",onClick:async()=>{try{(await fetch("http://localhost:5006/api/ProveedorConfiguration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok?(o({type:"success",text:"Configuracin guardada correctamente"}),setTimeout(()=>o(null),3e3)):o({type:"error",text:"Error al guardar la configuracin"})}catch(t){o({type:"error",text:"Error de conexin"})}},children:[H.jsx(wa,{className:"mr-2 h-4 w-4"})," Guardar Cambios"]})]}),n&&H.jsx("div",{className:"p-4 rounded-lg mb-4 "+("success"===n.type?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:n.text}),H.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[H.jsxs("div",{className:"space-y-6",children:[H.jsx(wd,{title:"Opciones Generales",description:"Funcionalidades habilitadas para el mdulo.",children:H.jsx("div",{className:"space-y-4",children:H.jsx(jd,{label:"Gestin de Facturas",description:"Habilitar registro y seguimiento detallado de facturas de compra.",tooltip:"Active para Modo Fiscal: Exige NCF, Impuestos y RNC. Desactive para Modo Simple.",checked:e.habilitarFacturas,onChange:e=>s("habilitarFacturas",e.target.checked)})})}),H.jsx(wd,{title:"Secuencia de Cdigo",description:"Formato automtico para nuevos proveedores.",children:H.jsxs("div",{className:"space-y-4",children:[H.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[H.jsx("input",{type:"checkbox",checked:e.useAutoSequence,onChange:e=>s("useAutoSequence",e.target.checked),className:"h-4 w-4 text-hd-orange focus:ring-hd-orange border-gray-300 rounded"}),H.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Activar Secuencia Automtica"})]}),H.jsxs("div",{className:"grid grid-cols-2 gap-4 "+(e.useAutoSequence?"":"opacity-50 pointer-events-none"),children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Iniciales"}),H.jsx(en,{value:e.initials,onChange:e=>s("initials",e.target.value),className:"uppercase"})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Separador"}),H.jsx(en,{value:e.separator,onChange:e=>s("separator",e.target.value),className:"text-center",maxLength:1})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Longitud (# ceros)"}),H.jsx(en,{type:"number",value:e.sequenceLength,onChange:e=>s("sequenceLength",parseInt(e.target.value)),min:1,max:10})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Siguiente Valor"}),H.jsx(en,{type:"number",value:e.currentValue,onChange:e=>s("currentValue",parseInt(e.target.value))})]})]}),H.jsxs("div",{className:"mt-4 p-4 bg-gray-100 rounded-lg text-center border border-gray-200",children:[H.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-widest block mb-1",children:"Vista Previa"}),H.jsx("span",{className:"text-xl font-mono font-bold text-gray-800 tracking-wider",children:(()=>{const t=String(e.currentValue).padStart(e.sequenceLength||0,"0");return e.useInitials&&e.initials?`${e.initials}${e.separator}${t}`:t})()})]})]})})]}),H.jsx("div",{className:"space-y-6",children:H.jsxs(wd,{title:"Pagos Recurrentes",description:"Configuracin de automatizacin de pagos regulares.",children:[H.jsxs("div",{className:"flex items-center justify-between p-4 bg-orange-50 rounded-lg border border-orange-200 mb-6",children:[H.jsxs("div",{children:[H.jsx("span",{className:"font-bold text-orange-900",children:"Habilitar Pagos Recurrentes"}),H.jsx("p",{className:"text-xs text-orange-800",children:"Permitir configurar ciclos de pago automticos en la ficha del proveedor."})]}),H.jsxs("div",{className:"relative inline-block w-12 mr-2 align-middle select-none transition duration-200 ease-in",children:[H.jsx("input",{type:"checkbox",checked:e.habilitarPagoRecurrente,onChange:e=>s("habilitarPagoRecurrente",e.target.checked),className:"toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer peer checked:right-0 right-6"}),H.jsx("div",{className:"block overflow-hidden h-6 rounded-full cursor-pointer "+(e.habilitarPagoRecurrente?"bg-hd-orange":"bg-gray-300")})]}),H.jsx("input",{type:"checkbox",checked:e.habilitarPagoRecurrente,onChange:e=>s("habilitarPagoRecurrente",e.target.checked),className:"h-6 w-6 text-hd-orange rounded border-gray-300 focus:ring-hd-orange ml-4"})]}),H.jsxs("div",{className:"space-y-4 transition-all duration-300 "+(e.habilitarPagoRecurrente?"":"opacity-40 pointer-events-none grayscale"),children:[H.jsx("h4",{className:"font-medium text-gray-700 mb-2 border-b pb-2",children:"Frecuencias Permitidas"}),H.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[H.jsxs("label",{className:"flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer",children:[H.jsx("input",{type:"checkbox",checked:e.habilitarFrecuenciaSemanal,onChange:e=>s("habilitarFrecuenciaSemanal",e.target.checked),className:"h-5 w-5 text-hd-orange focus:ring-hd-orange border-gray-300 rounded mr-3"}),H.jsxs("div",{children:[H.jsx("span",{className:"block font-medium text-gray-900",children:"Semanal"}),H.jsx("span",{className:"text-xs text-gray-500",children:"Pagos cada 7 das (ej. Todos los viernes)."})]})]}),H.jsxs("label",{className:"flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer",children:[H.jsx("input",{type:"checkbox",checked:e.habilitarFrecuenciaQuincenal,onChange:e=>s("habilitarFrecuenciaQuincenal",e.target.checked),className:"h-5 w-5 text-hd-orange focus:ring-hd-orange border-gray-300 rounded mr-3"}),H.jsxs("div",{children:[H.jsx("span",{className:"block font-medium text-gray-900",children:"Quincenal"}),H.jsx("span",{className:"text-xs text-gray-500",children:"Pagos cada 15 das."})]})]}),H.jsxs("label",{className:"flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer",children:[H.jsx("input",{type:"checkbox",checked:e.habilitarFrecuenciaMensual,onChange:e=>s("habilitarFrecuenciaMensual",e.target.checked),className:"h-5 w-5 text-hd-orange focus:ring-hd-orange border-gray-300 rounded mr-3"}),H.jsxs("div",{children:[H.jsx("span",{className:"block font-medium text-gray-900",children:"Mensual"}),H.jsx("span",{className:"text-xs text-gray-500",children:"Pagos una vez al mes (ej. da 15 o fin de mes)."})]})]}),H.jsxs("label",{className:"flex items-center p-3 border rounded-lg hover:bg-gray-50 cursor-pointer",children:[H.jsx("input",{type:"checkbox",checked:e.habilitarFechasEspecificas,onChange:e=>s("habilitarFechasEspecificas",e.target.checked),className:"h-5 w-5 text-hd-orange focus:ring-hd-orange border-gray-300 rounded mr-3"}),H.jsxs("div",{children:[H.jsx("span",{className:"block font-medium text-gray-900",children:"Fechas Especficas"}),H.jsx("span",{className:"text-xs text-gray-500",children:"Permitir seleccionar das puntuales (ej. das 5 y 20)."})]})]})]}),H.jsxs("div",{className:"bg-blue-50 p-4 rounded-md flex items-start mt-4",children:[H.jsx(Kr,{className:"h-5 w-5 text-blue-500 mr-2 mt-0.5 flex-shrink-0"}),H.jsx("p",{className:"text-sm text-blue-700",children:"Al habilitar estas opciones, aparecern los selectores correspondientes en la ficha de creacin y edicin de proveedores."})]})]})]})})]})]})},kd="http://localhost:5006/api",Cd=()=>{const[e,t]=W.useState({nombreEmpresa:"",rnc:"",direccion:"",telefono:"",correo:"",sitioWeb:"",logoPath:"",impuestoDefault:18,monedaPrincipal:"DOP"}),[r,a]=W.useState(!0),[n,o]=W.useState(null),[i,s]=W.useState(null),[l,c]=W.useState(null),d=e=>null==e?"":e;W.useEffect(()=>{u()},[]);const u=async()=>{a(!0);try{const e=await fetch(`${kd}/CompanyConfiguration`);if(e.ok){const r=await e.json();t(r),r.logoPath&&c(`${kd.replace("/api","")}${r.logoPath}`)}}catch(Xd){console.error("Error loading Company config:",Xd)}finally{a(!1)}},p=e=>{const{name:r,value:a}=e.target;t(e=>({...e,[r]:a}))};return r?H.jsx("div",{className:"p-8 text-center",children:"Cargando datos de empresa..."}):H.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Configuracin de Compaa"}),n&&H.jsxs("div",{className:"p-4 rounded-md flex items-center gap-2 "+("success"===n.type?"bg-green-50 text-green-700":"bg-red-50 text-red-700"),children:["success"===n.type?H.jsx(vr,{size:20}):H.jsx(Yt,{size:20}),n.text]}),H.jsxs("form",{onSubmit:async r=>{r.preventDefault(),o(null);try{let r=e.logoPath;if(i){const e=new FormData;e.append("file",i);const a=await fetch(`${kd}/CompanyConfiguration/upload-logo`,{method:"POST",body:e});if(a.ok){const e=await a.json();r=e.path,t(e=>({...e,logoPath:r}))}}(await fetch(`${kd}/CompanyConfiguration`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,logoPath:r})})).ok?o({type:"success",text:"Informacin de empresa guardada."}):o({type:"error",text:"Error al guardar informacin."})}catch(Tk){console.error(Tk),o({type:"error",text:"Error de conexin."})}setTimeout(()=>o(null),3e3)},className:"bg-white shadow rounded-lg p-6 space-y-6",children:[H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[H.jsxs("div",{className:"md:col-span-1 flex flex-col items-center space-y-4",children:[H.jsxs("div",{className:"w-48 h-48 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden border-2 border-dashed border-gray-300 relative group hover:border-hd-orange transition-colors",children:[l?H.jsx("img",{src:l,alt:"Logo Preview",className:"w-full h-full object-contain"}):H.jsxs("div",{className:"text-center text-gray-400",children:[H.jsx(Wr,{size:48,className:"mx-auto mb-2"}),H.jsx("span",{className:"text-sm",children:"Sin Logo"})]}),H.jsxs("label",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/50 text-white opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:[H.jsx(_a,{size:24,className:"mb-1"}),H.jsx("span",{className:"text-xs font-medium",children:"Cambiar Logo"}),H.jsx("input",{type:"file",onChange:e=>{const t=e.target.files[0];t&&(s(t),c(URL.createObjectURL(t)))},accept:"image/*",className:"hidden"})]})]}),H.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Formato: PNG, JPG (Max 2MB)"})]}),H.jsxs("div",{className:"md:col-span-2 space-y-4",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre de la Empresa"}),H.jsx("input",{type:"text",name:"nombreEmpresa",value:d(e.nombreEmpresa),onChange:p,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-hd-orange focus:ring-hd-orange",required:!0})]}),H.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"RNC / ID Fiscal"}),H.jsx("input",{type:"text",name:"rnc",value:d(e.rnc),onChange:p,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-hd-orange focus:ring-hd-orange"})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Telfono"}),H.jsx("input",{type:"text",name:"telefono",value:d(e.telefono),onChange:p,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-hd-orange focus:ring-hd-orange"})]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Direccin"}),H.jsx("textarea",{name:"direccion",value:d(e.direccion),onChange:p,rows:2,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-hd-orange focus:ring-hd-orange"})]}),H.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Correo Electrnico"}),H.jsx("input",{type:"email",name:"correo",value:d(e.correo),onChange:p,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-hd-orange focus:ring-hd-orange"})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Sitio Web"}),H.jsx("input",{type:"text",name:"sitioWeb",value:d(e.sitioWeb),onChange:p,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-hd-orange focus:ring-hd-orange"})]})]}),H.jsxs("div",{className:"grid grid-cols-2 gap-4 border-t pt-4",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Moneda Principal"}),H.jsxs("select",{name:"monedaPrincipal",value:d(e.monedaPrincipal),onChange:p,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-hd-orange focus:ring-hd-orange",children:[H.jsx("option",{value:"DOP",children:"Peso Dominicano (DOP)"}),H.jsx("option",{value:"USD",children:"Dlar Estadounidense (USD)"}),H.jsx("option",{value:"EUR",children:"Euro (EUR)"})]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Impuesto Default (%)"}),H.jsx("input",{type:"number",step:"0.01",name:"impuestoDefault",value:d(e.impuestoDefault),onChange:p,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-hd-orange focus:ring-hd-orange"})]})]})]})]}),H.jsx("div",{className:"pt-4 border-t flex justify-end",children:H.jsxs(Za,{type:"submit",className:"bg-hd-orange hover:bg-orange-600 text-white flex items-center gap-2",children:[H.jsx(wa,{size:18}),"Guardar Informacin"]})})]})]})},Sd="http://localhost:5006/api",Ed=()=>{const[e,t]=W.useState({useAutoSequence:!0,prefix:"PAGO-",sequenceLength:6,currentValue:0,separator:"-"}),[r,a]=W.useState(!0),[n,o]=W.useState(null);W.useEffect(()=>{i()},[]);const i=async()=>{a(!0);try{const e=await fetch(`${Sd}/PaymentConfiguration`);if(e.ok){const r=await e.json();t(r)}}catch(Xd){console.error("Error loading CXP config:",Xd)}finally{a(!1)}},s=e=>{const{name:r,value:a,type:n,checked:o}=e.target;t(e=>({...e,[r]:"checkbox"===n?o:"number"===n?parseInt(a)||0:a}))};return r?H.jsx("div",{className:"p-8 text-center",children:"Cargando configuracin..."}):H.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Cuentas por Pagar / Secuencia de Pagos"}),n&&H.jsxs("div",{className:"p-4 rounded-md flex items-center gap-2 "+("success"===n.type?"bg-green-50 text-green-700":"bg-red-50 text-red-700"),children:["success"===n.type?H.jsx(vr,{size:20}):H.jsx(Yt,{size:20}),n.text]}),H.jsxs("form",{onSubmit:async t=>{t.preventDefault();try{(await fetch(`${Sd}/PaymentConfiguration`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok?o({type:"success",text:"Configuracin guardada exitosamente."}):o({type:"error",text:"Error al guardar configuracin."})}catch(Tk){o({type:"error",text:"Error de conexin."})}setTimeout(()=>o(null),3e3)},className:"bg-white shadow rounded-lg p-6 space-y-6",children:[H.jsxs("div",{children:[H.jsx("h2",{className:"text-lg font-semibold text-gray-700 mb-4 border-b pb-2",children:"Secuencia de Pagos"}),H.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[H.jsx("input",{type:"checkbox",id:"useAutoSequence",name:"useAutoSequence",checked:e.useAutoSequence,onChange:s,className:"rounded border-gray-300 text-hd-orange focus:ring-hd-orange"}),H.jsx("label",{htmlFor:"useAutoSequence",className:"text-sm font-medium text-gray-700 select-none cursor-pointer",children:"Generar cdigos de pago automticamente"})]}),e.useAutoSequence&&H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prefijo"}),H.jsx("input",{type:"text",name:"prefix",value:(l=e.prefix,null==l?"":l),onChange:s,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-hd-orange focus:ring-hd-orange sm:text-sm",placeholder:"Ej: PAGO-"})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Longitud de Secuencia"}),H.jsx("input",{type:"number",name:"sequenceLength",value:e.sequenceLength,onChange:s,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-hd-orange focus:ring-hd-orange sm:text-sm",min:"3",max:"20"})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor Actual (ltimo usado)"}),H.jsx("input",{type:"number",name:"currentValue",value:e.currentValue,onChange:s,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-hd-orange focus:ring-hd-orange sm:text-sm"}),H.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Modificar solo si es necesario reiniciar la secuencia."})]}),H.jsxs("div",{className:"bg-gray-50 p-4 rounded-md border border-gray-200 flex flex-col justify-center items-center",children:[H.jsx("span",{className:"text-sm text-gray-500 font-medium mb-2",children:"Vista Previa Prximo Cdigo"}),H.jsx("span",{className:"text-2xl font-mono font-bold text-gray-800 tracking-wider",children:(()=>{const t=(e.currentValue+1).toString().padStart(e.sequenceLength||6,"0");return`${e.prefix}${t}`})()})]})]})]}),H.jsx("div",{className:"pt-4 border-t flex justify-end",children:H.jsxs(Za,{type:"submit",className:"bg-hd-orange hover:bg-orange-600 text-white flex items-center gap-2",children:[H.jsx(wa,{size:18}),"Guardar Cambios"]})})]})]});var l},Pd="http://localhost:5006/api",Od=()=>{const[e,t]=W.useState("resumen"),[r,a]=W.useState({desde:new Date((new Date).getFullYear(),0,1).toISOString().split("T")[0],hasta:(new Date).toISOString().split("T")[0],numero:"",proveedor:"",estado:""}),[n,o]=W.useState([]),[i,s]=W.useState(!1),[l,c]=W.useState(null),[d,u]=W.useState(null),[p,h]=W.useState(!1),[m,g]=W.useState(!1),x=[{id:"resumen",title:"Resumen",icon:H.jsx(ur,{size:18})},{id:"proveedor",title:"Por Proveedor",icon:H.jsx(Ba,{size:18})},{id:"articulo",title:"Por Artculo",icon:H.jsx(ca,{size:18})},{id:"antiguedad",title:"Antigedad (Aging)",icon:H.jsx(Or,{size:18})},{id:"almacen",title:"Por Almacn",icon:H.jsx(ca,{size:18})},{id:"pendientes",title:"Facturas Pendientes",icon:H.jsx(zr,{size:18})},{id:"historico",title:"Histrico Facturas",icon:H.jsx(ja,{size:18})}];W.useEffect(()=>{f()},[e]);const f=async()=>{s(!0);let t="";const a=`?desde=${r.desde}&hasta=${r.hasta}`,n=new URLSearchParams;switch(Object.entries(r).forEach(([e,t])=>{null!=t&&""!==t&&n.append(e,t)}),e){case"resumen":default:t="/ReportesCompras/Resumen"+a;break;case"proveedor":t="/ReportesCompras/PorProveedor"+a;break;case"articulo":t="/ReportesCompras/PorArticulo"+a;break;case"antiguedad":t="/ReportesCompras/AntiguedadSaldos";break;case"almacen":t="/ReportesCompras/PorAlmacen"+a;break;case"pendientes":t="/ReportesCompras/FacturasPendientes";break;case"historico":t="/ReportesCompras/BuscarFacturas?"+n.toString()}try{const e=await fetch(`${Pd}${t}`);if(e.ok){const t=await e.json();o(t)}}catch(i){console.error("Error fetching report data:",i)}finally{s(!1)}},b=e=>{const{name:t,value:r}=e.target;a(e=>({...e,[t]:r}))},v=(e,t="RD$")=>{if("USD"===t||"DOP"===t)return new Intl.NumberFormat("es-DO",{style:"currency",currency:t}).format(e||0);return`${t||"RD$"} ${new Intl.NumberFormat("es-DO",{minimumFractionDigits:2}).format(e||0)}`},y=e=>e?new Date(e).toLocaleDateString("es-DO"):"-";return H.jsxs("div",{className:"p-6 space-y-6",children:[H.jsxs("div",{className:"flex justify-between items-center",children:[H.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[H.jsx(ur,{className:"text-hd-orange"}),"Reportes de Compras"]}),H.jsxs(Za,{onClick:()=>{if(!n||0===n.length)return;const t=Object.keys(n[0]),r=[t.join(","),...n.map(e=>t.map(t=>{let r=e[t];return"string"==typeof r?`"${r.replace(/"/g,'""')}"`:r}).join(","))].join("\n"),a=new Blob(["\ufeff"+r],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a"),i=URL.createObjectURL(a);o.setAttribute("href",i),o.setAttribute("download",`Reporte_${e}_${(new Date).toISOString().split("T")[0]}.csv`),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)},disabled:0===n.length||i,className:"bg-green-600 hover:bg-green-700 text-white flex items-center gap-2",children:[H.jsx(Mr,{size:18}),"Exportar a Excel (CSV)"]})]}),H.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[H.jsx("div",{className:"flex border-b overflow-x-auto",children:x.map(r=>H.jsxs("button",{onClick:()=>t(r.id),className:"px-6 py-3 flex items-center gap-2 text-sm font-medium transition-colors whitespace-nowrap "+(e===r.id?"border-b-2 border-hd-orange text-hd-orange bg-orange-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"),children:[r.icon,r.title]},r.id))}),("resumen"===e||"proveedor"===e||"articulo"===e||"historico"===e)&&H.jsxs("div",{className:"p-4 bg-gray-50 border-b flex flex-wrap gap-4 items-end",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase mb-1",children:"Desde"}),H.jsx("input",{type:"date",name:"desde",value:r.desde,onChange:b,className:"rounded-md border-gray-300 text-sm focus:ring-hd-orange focus:border-hd-orange"})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase mb-1",children:"Hasta"}),H.jsx("input",{type:"date",name:"hasta",value:r.hasta,onChange:b,className:"rounded-md border-gray-300 text-sm focus:ring-hd-orange focus:border-hd-orange"})]}),"historico"===e&&H.jsxs(H.Fragment,{children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase mb-1",children:"Nmero"}),H.jsx("input",{type:"text",name:"numero",placeholder:"Buscar nmero...",onChange:b,className:"rounded-md border-gray-300 text-sm focus:ring-hd-orange focus:border-hd-orange"})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase mb-1",children:"Estado"}),H.jsxs("select",{name:"estado",onChange:b,className:"rounded-md border-gray-300 text-sm focus:ring-hd-orange focus:border-hd-orange",children:[H.jsx("option",{value:"",children:"Todos"}),H.jsx("option",{value:"Pendiente",children:"Pendiente"}),H.jsx("option",{value:"Pagado",children:"Pagado"})]})]})]}),H.jsxs(Za,{onClick:f,className:"bg-hd-orange hover:bg-orange-600 text-white flex items-center gap-2",children:[H.jsx(ja,{size:16}),"Actualizar"]})]}),H.jsx("div",{className:"overflow-x-auto",children:(()=>{if(i)return H.jsx("div",{className:"py-20 text-center text-gray-400",children:"Generando reporte..."});if(0===n.length)return H.jsx("div",{className:"py-20 text-center text-gray-400",children:"No hay datos para este periodo."});switch(e){case"resumen":return H.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[H.jsx("thead",{className:"bg-gray-50",children:H.jsxs("tr",{children:[H.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Moneda"}),H.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Compras"}),H.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"SubTotal"}),H.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Impuesto"}),H.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total"}),H.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total DOP"}),H.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase text-blue-600",children:"Total USD"})]})}),H.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((e,t)=>H.jsxs("tr",{children:[H.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900",children:e.moneda||e.Moneda}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.cantidadCompras||e.CantidadCompras}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:v(e.subTotal||e.SubTotal,e.monedaSimbolo||e.moneda||e.Moneda)}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-hd-orange",children:v(e.impuesto||e.Impuesto||e.Impuestos,e.monedaSimbolo||e.moneda||e.Moneda)}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right font-bold",children:v(e.total||e.Total,e.monedaSimbolo||e.moneda||e.Moneda)}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right font-bold text-hd-orange",children:v(e.totalDOP||e.TotalDOP,"RD$")}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right font-bold text-blue-600",children:v(e.totalUSD||e.TotalUSD,"USD")})]},t))})]});case"proveedor":return H.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[H.jsx("thead",{className:"bg-gray-50",children:H.jsxs("tr",{children:[H.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Proveedor"}),H.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Facturas"}),H.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total DOP"}),H.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total USD"})]})}),H.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((e,t)=>H.jsxs("tr",{children:[H.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-medium text-gray-900",children:e.proveedor||e.Proveedor}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.facturas||e.Facturas}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-hd-orange font-bold",children:v(e.totalDOP||e.TotalDOP,"DOP")}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-blue-600 font-bold",children:v(e.totalUSD||e.TotalUSD,"USD")})]},t))})]});case"historico":return H.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[H.jsx("thead",{className:"bg-gray-50",children:H.jsxs("tr",{children:[H.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Nmero"}),H.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Fecha"}),H.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Proveedor"}),H.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Moneda"}),H.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Total"}),H.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Saldo"}),H.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Estado"}),H.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),H.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((e,t)=>H.jsxs("tr",{className:"hover:bg-gray-50",children:[H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900 font-medium",children:e.numeroCompra||e.NumeroCompra}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y(e.fechaCompra||e.FechaCompra)}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.proveedor||e.Proveedor}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.moneda||e.Moneda}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-medium",children:v(e.total||e.Total,e.monedaSimbolo||e.moneda||e.Moneda)}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-red-600 font-bold",children:v(e.saldo||e.Saldo,e.monedaSimbolo||e.moneda||e.Moneda)}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-left",children:H.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-bold "+("Pagado"===e.estado?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"),children:(e.estado||"Pendiente").toUpperCase()})}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:H.jsx("button",{onClick:()=>(async e=>{h(!0),c(e),g(!0);try{const t=await fetch(`${Pd}/ReportesCompras/Factura/${e}`);if(!t.ok){const e=await t.text();throw new Error(`Failed to fetch invoice details: ${t.status} ${e}`)}const r=await t.json(),a=await fetch(`${Pd}/ReportesCompras/PagosPorFactura/${e}`);if(!a.ok){const e=await a.text();throw new Error(`Failed to fetch payments: ${a.status} ${e}`)}const n=await a.json();u({...r,pagos:n})}catch(t){console.error("Error fetching invoice detail:",t),u(null)}finally{h(!1)}})(e.numeroCompra||e.NumeroCompra),className:"text-hd-orange hover:text-orange-700 transition-colors",title:"Ver Detalle",children:H.jsx(Cr,{size:20})})})]},t))})]});case"articulo":return H.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[H.jsx("thead",{className:"bg-gray-50",children:H.jsxs("tr",{children:[H.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cdigo"}),H.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Artculo"}),H.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Cant."}),H.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Costo Prom."}),H.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Subtotal"})]})}),H.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((e,t)=>H.jsxs("tr",{children:[H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-500 text-sm font-mono",children:e.numeroArticulo||e.NumeroArticulo}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-900",children:e.articulo||e.Articulo||e.descripcion||e.Descripcion}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right font-medium",children:e.cantidadComprada||e.CantidadComprada}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:v(e.costoPromedio||e.CostoPromedio)}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:v(e.totalSinImpuestos||e.TotalSinImpuestos)})]},t))})]});case"antiguedad":return H.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[H.jsx("thead",{className:"bg-gray-50",children:H.jsxs("tr",{children:[H.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Proveedor"}),H.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"0-30 Das"}),H.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"31-60 Das"}),H.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"61-90 Das"}),H.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"+90 Das"}),H.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase font-bold",children:"Total"})]})}),H.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((e,t)=>H.jsxs("tr",{children:[H.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-medium",children:e.proveedor||e.Proveedor}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:v(e["0_30_Dias"]||e["0_30_dias"])}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:v(e["31_60_Dias"]||e["31_60_dias"])}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:v(e["61_90_Dias"]||e["61_90_dias"])}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-red-600",children:v(e.Mas_90_Dias||e.mas_90_dias)}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right font-bold text-hd-orange",children:v(e.saldoTotal||e.SaldoTotal)})]},t))})]});case"pendientes":return H.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[H.jsx("thead",{className:"bg-gray-50",children:H.jsxs("tr",{children:[H.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Referencia"}),H.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Fecha"}),H.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Proveedor"}),H.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Moneda"}),H.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total"}),H.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Saldo"}),H.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Das"})]})}),H.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((e,t)=>H.jsxs("tr",{className:e.diasVencimiento>30?"bg-red-50":"",children:[H.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-mono text-sm",children:e.numeroCompra}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y(e.fechaCompra)}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-medium",children:e.proveedor}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-xs text-gray-400",children:e.moneda}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:v(e.total,e.monedaSimbolo)}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right font-bold text-red-600",children:v(e.saldo,e.monedaSimbolo)}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:H.jsxs("span",{className:"px-2 py-1 rounded-full text-[10px] font-bold "+(e.diasVencimiento>30?"bg-red-100 text-red-800":"bg-green-100 text-green-800"),children:[e.diasVencimiento," das"]})})]},t))})]});case"almacen":return H.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[H.jsx("thead",{className:"bg-gray-50",children:H.jsxs("tr",{children:[H.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Almacn"}),H.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Operaciones"}),H.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Total Valor (RD$)"})]})}),H.jsx("tbody",{className:"bg-white divide-y divide-gray-200 uppercase text-[11px]",children:n.map((e,t)=>H.jsxs("tr",{className:"hover:bg-orange-50 transition-colors",children:[H.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-bold text-gray-800 border-l-2 border-hd-orange",children:e.almacen}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right font-medium",children:e.cantidadCompras}),H.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right font-black text-hd-orange",children:v(e.totalDOP,"RD$")})]},t))})]})}})()})]}),m&&H.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:H.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[H.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-gray-50",children:[H.jsxs("h3",{className:"text-lg font-bold text-gray-800",children:["Detalle de Factura: ",l]}),H.jsx("button",{onClick:()=>g(!1),className:"text-gray-500 hover:text-gray-700",children:H.jsx("span",{className:"text-2xl",children:""})})]}),H.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:p?H.jsx("div",{className:"py-10 text-center text-gray-400 font-medium",children:"Buscando detalles..."}):d?H.jsxs("div",{className:"space-y-6",children:[H.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 bg-orange-50 p-4 rounded-lg border border-orange-100 text-sm",children:[H.jsxs("div",{children:[H.jsx("span",{className:"text-gray-500 block",children:"Proveedor:"})," ",H.jsx("span",{className:"font-bold",children:d.header.proveedor})]}),H.jsxs("div",{children:[H.jsx("span",{className:"text-gray-500 block",children:"Fecha:"})," ",H.jsx("span",{className:"font-bold",children:y(d.header.fechaCompra)})]}),H.jsxs("div",{children:[H.jsx("span",{className:"text-gray-500 block",children:"Almacn:"})," ",H.jsx("span",{className:"font-bold text-blue-600",children:d.header.almacenNombre||"No definido"})]}),H.jsxs("div",{children:[H.jsx("span",{className:"text-gray-500 block",children:"Total:"})," ",H.jsx("span",{className:"font-bold",children:v(d.header.total,d.header.monedaSimbolo)})]}),H.jsxs("div",{children:[H.jsx("span",{className:"text-gray-500 block",children:"Saldo Actual:"})," ",H.jsx("span",{className:"font-black text-red-600",children:v(d.header.saldo,d.header.monedaSimbolo)})]})]}),H.jsxs("div",{children:[H.jsx("h4",{className:"text-md font-bold text-gray-700 mb-2 border-l-4 border-hd-orange pl-2 uppercase tracking-wide",children:"Artculos"}),H.jsx("div",{className:"border rounded-lg overflow-hidden",children:H.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[H.jsx("thead",{className:"bg-gray-50",children:H.jsxs("tr",{children:[H.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-gray-500 uppercase",children:"Articulo"}),H.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-gray-500 uppercase",children:"Cant."}),H.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-gray-500 uppercase",children:"Almacn"}),H.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-gray-500 uppercase",children:"Costo"}),H.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-gray-500 uppercase",children:"Subtotal"})]})}),H.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.items.map((e,t)=>H.jsxs("tr",{children:[H.jsxs("td",{className:"px-4 py-2",children:[H.jsx("span",{className:"text-gray-400 font-mono text-xs mr-2",children:e.numeroArticulo}),e.descripcion]}),H.jsx("td",{className:"px-4 py-2 text-right font-medium",children:e.cantidad}),H.jsx("td",{className:"px-4 py-2 text-left text-[10px] text-gray-500 font-medium italic",children:e.almacenLinea||d.header.almacenNombre}),H.jsx("td",{className:"px-4 py-2 text-right",children:v(e.costoUnitario,d.header.monedaSimbolo)}),H.jsx("td",{className:"px-4 py-2 text-right font-bold",children:v(e.totalLinea,d.header.monedaSimbolo)})]},t))})]})})]}),H.jsxs("div",{children:[H.jsx("h4",{className:"text-md font-bold text-gray-700 mb-2 border-l-4 border-yellow-500 pl-2 uppercase tracking-wide",children:"Notas de Crdito / Dbito"}),d.notas&&d.notas.length>0?H.jsx("div",{className:"border rounded-lg overflow-hidden",children:H.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[H.jsx("thead",{className:"bg-yellow-50",children:H.jsxs("tr",{children:[H.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-gray-500 uppercase",children:"Fecha"}),H.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-gray-500 uppercase",children:"Tipo"}),H.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-gray-500 uppercase",children:"Ref."}),H.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold text-gray-500 uppercase",children:"Monto Aplicado"})]})}),H.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.notas.map((e,t)=>H.jsxs("tr",{children:[H.jsx("td",{className:"px-4 py-2",children:y(e.fecha)}),H.jsx("td",{className:"px-4 py-2",children:H.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-bold "+("Credito"===e.tipo?"bg-blue-100 text-blue-700":"bg-red-100 text-red-700"),children:e.tipo.toUpperCase()})}),H.jsx("td",{className:"px-4 py-2 text-xs text-gray-500",children:e.referencia}),H.jsxs("td",{className:"px-4 py-2 text-right font-bold "+("Credito"===e.tipo?"text-blue-600":"text-red-600"),children:["Credito"===e.tipo?"-":"+",v(e.monto,d.header.monedaSimbolo)]})]},t))})]})}):H.jsx("p",{className:"text-sm text-gray-500 italic p-4 bg-gray-50 rounded-lg",children:"No hay notas aplicadas a esta factura."})]})]}):H.jsx("div",{className:"py-10 text-center text-red-500 font-medium",children:"No se pudo cargar la informacin."})}),H.jsx("div",{className:"p-4 border-t bg-gray-50 flex justify-end",children:H.jsx(Za,{onClick:()=>g(!1),className:"bg-gray-200 hover:bg-gray-300 text-gray-800",children:"Cerrar"})})]})})]})},Id="http://localhost:5006/api/Sequences",Ad=async()=>{try{const e=await fetch(Id);if(!e.ok)throw new Error(`Error fetching sequences: ${e.statusText}`);return await e.json()}catch(e){throw console.error("Error fetching sequences:",e),e}},Dd=async(e,t)=>{try{const r=await fetch(`${Id}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){if(204===r.status)return null;throw new Error(`Error updating sequence: ${r.statusText}`)}const a=await r.text();return a?JSON.parse(a):null}catch(r){throw console.error(`Error updating sequence ${e}:`,r),r}},Md=()=>{const[e,t]=W.useState(null),[r,a]=W.useState(null),[n,o]=W.useState([]),[i,s]=W.useState(!0),[l,c]=W.useState(!1),[d,u]=W.useState(null);W.useEffect(()=>{p()},[]);const p=async()=>{try{s(!0);const e=(await Ad()).find(e=>"TRANSFER"===e.code)||{id:0,code:"TRANSFER",name:"Transferencia de Inventario",prefix:"TR-",currentValue:0,length:6};t(e);const[r,n]=await Promise.all([Xn(),Bo()]);o(r||[]),a(n||{defaultPlanId:"",defaultUnit:""}),u(null)}catch(e){console.error(e),u("Error al cargar la secuencia. Verifique la conexin.")}finally{s(!1)}},h=(e,r)=>{t(t=>({...t,[e]:r}))},m=(e,t)=>{a(r=>({...r,[e]:t}))};return i?H.jsx("div",{className:"p-8 text-center",children:H.jsx(Zr,{className:"animate-spin mx-auto text-hd-orange"})}):d?H.jsx("div",{className:"p-8 text-red-600 font-bold text-center",children:d}):H.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto",children:[H.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-4",children:[H.jsxs("div",{className:"flex items-center space-x-3",children:[H.jsx("div",{className:"p-2 bg-gray-100 rounded-lg text-gray-600",children:H.jsx(ka,{size:24})}),H.jsxs("div",{children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Confg. Transferencias"}),H.jsx("p",{className:"text-sm text-gray-500",children:"Secuencia de documentos"})]})]}),H.jsxs(Za,{onClick:async()=>{if(e&&e.id)try{c(!0),c(!0),await Promise.all([Dd(e.id,e),Vo(r)]),alert("Configuracin guardada correctamente.")}catch(t){console.error(t),alert("Error al guardar cambios.")}finally{c(!1)}else alert("No hay una secuencia vlida para guardar (ID 0). Asegrese de que el backend la haya inicializado.")},disabled:l,className:"bg-hd-orange hover:bg-orange-600",children:[l?H.jsx(Zr,{className:"animate-spin mr-2 h-4 w-4"}):H.jsx(wa,{className:"mr-2 h-4 w-4"}),"Guardar"]})]}),H.jsxs(ln,{className:"border-l-4 border-l-hd-orange",children:[H.jsx(cn,{className:"bg-gray-50/50",children:H.jsxs(dn,{className:"text-lg font-medium text-gray-800 flex items-center gap-2",children:[H.jsx(ba,{size:18}),"Secuencia de Transferencias"]})}),H.jsx(un,{className:"pt-6 space-y-6",children:H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Prefijo"}),H.jsx(en,{value:e.prefix||"",onChange:e=>h("prefix",e.target.value),className:"font-mono uppercase",placeholder:"TR-"})]}),H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Longitud Numrica"}),H.jsx(en,{type:"number",value:e.length,onChange:e=>h("length",parseInt(e.target.value)),className:"font-mono"})]}),H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"ltimo Nmero Usado"}),H.jsx(en,{type:"number",value:e.currentValue,onChange:e=>h("currentValue",parseInt(e.target.value)),className:"font-mono text-right font-bold"})]}),H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Siguiente Nmero"}),H.jsxs("div",{className:"p-2 bg-gray-100 rounded border border-gray-200 text-right font-mono text-gray-700",children:[e.prefix,String(e.currentValue+1).padStart(e.length,"0")]})]})]})})]}),H.jsxs(ln,{className:"border-l-4 border-l-blue-500",children:[H.jsx(cn,{className:"bg-gray-50/50",children:H.jsxs(dn,{className:"text-lg font-medium text-gray-800 flex items-center gap-2",children:[H.jsx(Yr,{size:18}),"Plan de Medida por Defecto"]})}),H.jsxs(un,{className:"pt-6",children:[H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Plan de Medida"}),H.jsxs("select",{className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",value:(null==r?void 0:r.defaultPlanId)||"",onChange:e=>m("defaultPlanId",e.target.value),children:[H.jsx("option",{value:"",children:"(Ninguno / Usar del Artculo)"}),n.map(e=>H.jsx("option",{value:e.planId,children:e.descripcion||e.planId},e.planId))]}),H.jsx("p",{className:"text-sm text-gray-500",children:"Este plan se asignar automticamente a las nuevas lneas en la Transferencia si es compatible."})]}),H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Unidad por Defecto"}),H.jsx(en,{className:"bg-white",placeholder:"Ej. CAJA, UND...",value:(null==r?void 0:r.defaultUnit)||"",onChange:e=>m("defaultUnit",e.target.value)}),H.jsx("p",{className:"text-sm text-gray-500",children:"Si el artculo o su plan tienen esta unidad, se seleccionar automticamente."})]})]})]})]})},Td="http://localhost:5006/api/AjusteConfiguration",Fd=async()=>{try{const e=await fetch(Td);if(!e.ok)throw new Error(`Error fetching ajuste config: ${e.statusText}`);return await e.json()}catch(e){throw console.error("Error fetching ajuste config:",e),e}},zd=async e=>{try{const t=await fetch(Td,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Error updating ajuste config: ${t.statusText}`);return await t.json()}catch(t){throw console.error("Error updating ajuste config:",t),t}},Rd=Object.freeze(Object.defineProperty({__proto__:null,getAjusteConfig:Fd,updateAjusteConfig:zd},Symbol.toStringTag,{value:"Module"})),_d=()=>{const[e,t]=W.useState(null),[r,a]=W.useState(null),[n,o]=W.useState([]),[i,s]=W.useState(!0),[l,c]=W.useState(!1),[d,u]=W.useState(null);W.useEffect(()=>{p()},[]);const p=async()=>{try{s(!0);const e=(await Ad()).find(e=>"AJUSTE"===(e.code||e.Code||"").toUpperCase())||{id:0,code:"AJUSTE",name:"Ajuste de Inventario",prefix:"AJ-",currentValue:0,length:6};t(e);const[r,n]=await Promise.all([Xn(),Fd()]);o(r||[]),a(n||{defaultPlanId:"",defaultUnit:""}),u(null)}catch(e){console.error(e),u("Error al cargar la secuencia o configuracin. Verifique la conexin.")}finally{s(!1)}},h=(e,r)=>{t(t=>({...t,[e]:r}))},m=(e,t)=>{a(r=>({...r,[e]:t}))};return i?H.jsx("div",{className:"p-8 text-center",children:H.jsx(Zr,{className:"animate-spin mx-auto text-hd-orange"})}):d?H.jsx("div",{className:"p-8 text-red-600 font-bold text-center",children:d}):H.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto",children:[H.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-4",children:[H.jsxs("div",{className:"flex items-center space-x-3",children:[H.jsx("div",{className:"p-2 bg-gray-100 rounded-lg text-gray-600",children:H.jsx(ka,{size:24})}),H.jsxs("div",{children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Conf. Ajustes"}),H.jsx("p",{className:"text-sm text-gray-500",children:"Secuencia y preferencias"})]})]}),H.jsxs(Za,{onClick:async()=>{if(e)try{if(c(!0),!(e.id>0))return void alert("Secuencia no inicializada en base de datos. Guarde un ajuste primero o contacte soporte.");await Promise.all([Dd(e.id,e),zd(r)]),alert("Configuracin guardada correctamente.")}catch(t){console.error(t),alert("Error al guardar cambios.")}finally{c(!1)}},disabled:l,className:"bg-hd-orange hover:bg-orange-600",children:[l?H.jsx(Zr,{className:"animate-spin mr-2 h-4 w-4"}):H.jsx(wa,{className:"mr-2 h-4 w-4"}),"Guardar"]})]}),H.jsxs(ln,{className:"border-l-4 border-l-hd-orange",children:[H.jsx(cn,{className:"bg-gray-50/50",children:H.jsxs(dn,{className:"text-lg font-medium text-gray-800 flex items-center gap-2",children:[H.jsx(ba,{size:18}),"Secuencia de Ajustes"]})}),H.jsx(un,{className:"pt-6 space-y-6",children:H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Prefijo"}),H.jsx(en,{value:e.prefix||"",onChange:e=>h("prefix",e.target.value),className:"font-mono uppercase",placeholder:"AJ-"})]}),H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Longitud Numrica"}),H.jsx(en,{type:"number",value:e.length,onChange:e=>h("length",parseInt(e.target.value)),className:"font-mono"})]}),H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"ltimo Nmero Usado"}),H.jsx(en,{type:"number",value:e.currentValue,onChange:e=>h("currentValue",parseInt(e.target.value)),className:"font-mono text-right font-bold"})]}),H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Siguiente Nmero"}),H.jsxs("div",{className:"p-2 bg-gray-100 rounded border border-gray-200 text-right font-mono text-gray-700",children:[e.prefix,String(e.currentValue+1).padStart(e.length,"0")]})]})]})})]}),H.jsxs(ln,{className:"border-l-4 border-l-blue-500",children:[H.jsx(cn,{className:"bg-gray-50/50",children:H.jsxs(dn,{className:"text-lg font-medium text-gray-800 flex items-center gap-2",children:[H.jsx(Yr,{size:18}),"Plan de Medida por Defecto"]})}),H.jsxs(un,{className:"pt-6",children:[H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Plan de Medida"}),H.jsxs("select",{className:"flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",value:(null==r?void 0:r.defaultPlanId)||"",onChange:e=>m("defaultPlanId",e.target.value),children:[H.jsx("option",{value:"",children:"(Ninguno / Usar del Artculo)"}),n.map(e=>H.jsx("option",{value:e.planId,children:e.descripcion||e.planId},e.planId))]}),H.jsx("p",{className:"text-sm text-gray-500",children:"Este plan se asignar a las nuevas lneas en el Ajuste si es compatible con la unidad base del artculo o si se fuerza su uso."})]}),H.jsxs("div",{className:"space-y-2 mt-4",children:[H.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Unidad por Defecto"}),H.jsx(en,{className:"bg-white",placeholder:"Ej. CAJA, UND...",value:(null==r?void 0:r.defaultUnit)||"",onChange:e=>m("defaultUnit",e.target.value)}),H.jsx("p",{className:"text-sm text-gray-500",children:"Si el artculo o su plan tienen esta unidad, se seleccionar automticamente."})]})]})]})]})},Ld=()=>{const e=it(),[t,r]=W.useState(null),[a,n]=W.useState(null),[o,i]=W.useState(""),[s,l]=W.useState([]),[c,d]=W.useState(!1),[u,p]=W.useState({id:0,planId:"",descripcion:"",unidadBase:"UND",decimales:0,detalles:[]}),[h,m]=W.useState(!0);W.useEffect(()=>{r(document.getElementById("header-actions")),n(document.getElementById("header-message")),g()},[]);const g=async()=>{d(!0);try{const e=await Xn();l(e)}catch(e){console.error(e)}finally{d(!1)}},x=async e=>{d(!0);try{const t=await(async e=>{const t=await fetch(`${Yn}/UnidadMedida/Planes/${e}`);if(!t.ok)throw new Error("Error getting plan");return t.json()})(e);p({...t,detalles:t.detalles||[]}),m(!1)}catch(t){console.error(t)}finally{d(!1)}},f=()=>{p({id:0,planId:"",descripcion:"",unidadBase:"UND",decimales:0,detalles:[]}),m(!0)},b=(e,t)=>{p(r=>({...r,[e]:t}))},v=(e,t,r)=>{p(a=>{const n=[...a.detalles];return n[e]={...n[e],[t]:r},{...a,detalles:n}})};return W.useEffect(()=>{p(e=>({...e,detalles:e.detalles.map(t=>({...t,equivalente:e.unidadBase}))}))},[u.unidadBase]),H.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[t&&de.createPortal(H.jsxs("div",{className:"flex items-center space-x-2",children:[H.jsx(Za,{variant:"outline",onClick:()=>e("/configuracion"),className:"mr-2",children:H.jsx("span",{className:"text-gray-600",children:"Cancelar"})}),H.jsxs(Za,{className:"bg-hd-orange hover:bg-orange-600",onClick:async()=>{if(u.planId)try{const e={...u,detalles:u.detalles.map((e,t)=>({...e,planId:u.planId,equivalente:u.unidadBase,orden:t+1}))};await(async e=>{const t=await fetch(`${Yn}/UnidadMedida/Planes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Error saving plan");return t.json()})(e),i("Plan guardado correctamente"),setTimeout(()=>i(""),3e3),g(),h&&m(!1)}catch(e){console.error(e),alert("Error al guardar el plan")}else alert("El ID del plan es obligatorio")},children:[H.jsx(wa,{className:"mr-2 h-4 w-4"}),"Guardar"]}),!h&&H.jsxs(Za,{variant:"ghost",onClick:async()=>{if(confirm("Est seguro de eliminar este plan de unidades de medida?"))try{await(async e=>{const t=await fetch(`${Yn}/UnidadMedida/Planes/${e}`,{method:"DELETE"});if(!t.ok)throw new Error("Error deleting plan");return t.json()})(u.planId),i("Plan eliminado"),setTimeout(()=>i(""),3e3),g(),f()}catch(e){console.error(e),alert("Error al eliminar el plan")}},className:"text-red-600 hover:bg-red-50",children:[H.jsx(Ta,{className:"h-4 w-4 mr-2"}),"Eliminar"]})]}),t),a&&o&&de.createPortal(H.jsx("div",{className:"text-green-600 text-sm font-medium",children:o}),a),H.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[H.jsx("div",{className:"col-span-12 md:col-span-4 h-full",children:H.jsxs(ln,{className:"h-full flex flex-col",children:[H.jsx(cn,{className:"py-4 px-4 border-b",children:H.jsxs("div",{className:"flex justify-between items-center",children:[H.jsx(dn,{className:"text-md",children:"Planes Existentes"}),H.jsxs(Za,{size:"sm",variant:"outline",onClick:f,children:[H.jsx(xa,{className:"h-4 w-4 mr-1"})," Nuevo"]})]})}),H.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2 max-h-[600px]",children:c?H.jsx("p",{className:"text-center text-gray-400 py-4",children:"Cargando..."}):s.map(e=>H.jsxs("div",{onClick:()=>x(e.planId),className:"p-3 rounded-md cursor-pointer border transition-colors "+(u.planId===e.planId?"bg-orange-50 border-orange-200 text-hd-orange":"bg-white border-transparent hover:bg-gray-50 hover:border-gray-200"),children:[H.jsx("div",{className:"font-semibold",children:e.planId}),H.jsx("div",{className:"text-xs text-gray-500 truncate",children:e.descripcion})]},e.planId))})]})}),H.jsx("div",{className:"col-span-12 md:col-span-8",children:H.jsxs(ln,{children:[H.jsx(cn,{children:H.jsx(dn,{children:h?"Nuevo Plan de U de M":`Editando: ${u.planId}`})}),H.jsxs("div",{className:"p-6 space-y-6",children:[H.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg border",children:[H.jsxs("div",{children:[H.jsx("label",{className:"text-xs font-bold text-gray-600",children:"Id. de plan de U de M"}),H.jsx(en,{value:u.planId,onChange:e=>b("planId",e.target.value),disabled:!h,placeholder:"EJ: CAJAS",className:"mt-1"})]}),H.jsxs("div",{children:[H.jsx("label",{className:"text-xs font-bold text-gray-600",children:"Descripcin"}),H.jsx(en,{value:u.descripcion,onChange:e=>b("descripcion",e.target.value),placeholder:"Descripcin del plan",className:"mt-1"})]}),H.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[H.jsxs("div",{children:[H.jsx("label",{className:"text-xs font-bold text-gray-600",children:"U de M Base"}),H.jsx(en,{value:u.unidadBase,onChange:e=>b("unidadBase",e.target.value),placeholder:"UND",className:"mt-1 bg-white"})]}),H.jsxs("div",{children:[H.jsx("label",{className:"text-xs font-bold text-gray-600",children:"Posiciones decimales"}),H.jsx("select",{value:u.decimales,onChange:e=>b("decimales",parseInt(e.target.value)),className:"mt-1 flex h-9 w-full rounded-md border border-gray-300 bg-white px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",children:[0,1,2,3,4,5].map(e=>H.jsx("option",{value:e,children:e},e))})]})]})]}),H.jsxs("div",{children:[H.jsxs("div",{className:"flex justify-between items-center mb-2",children:[H.jsx("label",{className:"text-sm font-semibold",children:"Conversiones"}),H.jsxs(Za,{size:"sm",variant:"outline",onClick:()=>{p(e=>({...e,detalles:[...e.detalles,{id:0,unidadMedida:"",cantidad:1,equivalente:e.unidadBase,orden:e.detalles.length+1}]}))},children:[H.jsx(xa,{className:"h-4 w-4 mr-1"})," Agregar Unidad"]})]}),H.jsx("div",{className:"border rounded-md overflow-hidden",children:H.jsxs(tn,{children:[H.jsx(rn,{className:"bg-gray-100",children:H.jsxs(nn,{children:[H.jsx(on,{className:"w-1/3",children:"U de M"}),H.jsx(on,{className:"w-1/3",children:"Cantidad"}),H.jsx(on,{className:"w-1/4",children:"Equivalente"}),H.jsx(on,{className:"w-10"})]})}),H.jsxs(an,{children:[H.jsxs(nn,{className:"bg-gray-50/50",children:[H.jsx(sn,{className:"font-bold",children:u.unidadBase}),H.jsx(sn,{className:"font-mono",children:"1.00000"}),H.jsx(sn,{className:"text-gray-500",children:u.unidadBase}),H.jsx(sn,{})]}),u.detalles.map((e,t)=>H.jsxs(nn,{children:[H.jsx(sn,{children:H.jsx(en,{value:e.unidadMedida,onChange:e=>v(t,"unidadMedida",e.target.value),placeholder:"Ej: CAJA",className:"h-8"})}),H.jsx(sn,{children:H.jsx(en,{type:"number",value:e.cantidad,onChange:e=>v(t,"cantidad",parseFloat(e.target.value)),className:"h-8 font-mono",step:"0.00001"})}),H.jsx(sn,{className:"text-gray-500 text-sm",children:e.equivalente}),H.jsx(sn,{children:H.jsx(Za,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-gray-400 hover:text-red-500",onClick:()=>{return e=t,void p(t=>{const r=t.detalles.filter((t,r)=>r!==e);return{...t,detalles:r}});var e},children:H.jsx(Ta,{className:"h-3 w-3"})})})]},t)),0===u.detalles.length&&H.jsx(nn,{children:H.jsx(sn,{colSpan:4,className:"text-center text-gray-400 py-8",children:"No hay conversiones adicionales definidas"})})]})]})})]})]})]})})]})]})},$d=()=>{const e=it(),[t,r]=W.useState([]),[a,n]=W.useState(!1),[o,i]=W.useState(""),[s,l]=W.useState(!1),[c,d]=W.useState(null),[u,p]=W.useState(""),h=async()=>{n(!0);try{const e=await An();r(e)}catch(e){console.error(e)}finally{n(!1)}};W.useEffect(()=>{h()},[]);const m=t.filter(e=>(e.nombre||e.Nombre||"").toLowerCase().includes(o.toLowerCase())||(e.codigo||e.Codigo||"").toLowerCase().includes(o.toLowerCase())),g=(e=null)=>{d(e),l(!0),p("")},x=async e=>{if(window.confirm("Est seguro de eliminar este almacn?"))try{await(async e=>{const t=await fetch(`${In}/Almacenes/${e}`,{method:"DELETE"});if(!t.ok)throw new Error("Error al eliminar almacn");return t.ok})(e),h()}catch(t){console.error(t),alert("Error al eliminar")}};return H.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto p-6",children:[H.jsxs("div",{className:"flex items-center justify-between mb-6",children:[H.jsxs("div",{className:"flex items-center space-x-4",children:[H.jsx(Za,{variant:"outline",onClick:()=>e("/configuracion"),children:H.jsx(ar,{className:"h-5 w-5"})}),H.jsxs("div",{children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Almacenes"}),H.jsx("p",{className:"text-sm text-gray-500",children:"Gestin de ubicaciones de inventario"})]})]}),H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx(Za,{variant:"outline",onClick:h,title:"Recargar",children:H.jsx(va,{className:"h-4 w-4 "+(a?"animate-spin":"")})}),H.jsxs(Za,{className:"bg-hd-orange hover:bg-orange-600",onClick:()=>g(),children:[H.jsx(xa,{className:"mr-2 h-4 w-4"})," Nuevo Almacn"]})]})]}),H.jsx(ln,{children:H.jsx("div",{className:"p-4",children:H.jsx(en,{placeholder:"Buscar por cdigo o nombre...",value:o,onChange:e=>i(e.target.value)})})}),H.jsxs(ln,{children:[H.jsx(cn,{children:H.jsxs(dn,{children:["Almacenes Registrados (",m.length,")"]})}),H.jsx("div",{className:"overflow-x-auto",children:H.jsxs(tn,{children:[H.jsx(rn,{children:H.jsxs(nn,{children:[H.jsx(on,{className:"w-32",children:"Cdigo"}),H.jsx(on,{children:"Nombre"}),H.jsx(on,{children:"Direccin"}),H.jsx(on,{className:"w-40",children:"Ciudad"}),H.jsx(on,{className:"w-24 text-center",children:"Estado"}),H.jsx(on,{className:"w-32 text-center",children:"Acciones"})]})}),H.jsx(an,{children:a?H.jsx(nn,{children:H.jsx(sn,{colSpan:6,className:"text-center py-8",children:"Cargando..."})}):0===m.length?H.jsx(nn,{children:H.jsx(sn,{colSpan:6,className:"text-center py-8 text-gray-500",children:"No hay registros"})}):m.map(e=>{const t=e.id||e.Id,r=e.codigo||e.Codigo,a=e.nombre||e.Nombre,n=e.direccion||e.Direccion,o=e.ciudad||e.Ciudad,i=void 0!==e.activo?e.activo:e.Activo;return H.jsxs(nn,{children:[H.jsx(sn,{className:"font-medium",children:r}),H.jsx(sn,{className:"font-semibold",children:H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx(aa,{className:"h-4 w-4 text-gray-400"}),a]})}),H.jsx(sn,{className:"text-gray-600",children:n}),H.jsx(sn,{children:o}),H.jsx(sn,{className:"text-center",children:H.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full "+(i?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:i?"Activo":"Inactivo"})}),H.jsx(sn,{children:H.jsxs("div",{className:"flex items-center justify-center gap-2",children:[H.jsx(Za,{variant:"ghost",size:"sm",onClick:()=>g(e),children:H.jsx(pa,{className:"h-4 w-4"})}),H.jsx(Za,{variant:"ghost",size:"sm",onClick:()=>x(t),className:"hover:bg-red-100 hover:text-red-600",children:H.jsx(Ta,{className:"h-4 w-4"})})]})})]},t)})})]})})]}),H.jsx(xo,{isOpen:s,onClose:()=>l(!1),onSave:async e=>{await Dn(e),await h(),l(!1)},initialData:c,error:u})]})},Ud=()=>{const e=it(),[t,r]=W.useState([]),[a,n]=W.useState(!1),[o,i]=W.useState(""),[s,l]=W.useState(!1),[c,d]=W.useState(null),[u,p]=W.useState(""),h=async()=>{n(!0);try{const e=await co();r(e)}catch(e){console.error(e)}finally{n(!1)}};W.useEffect(()=>{h()},[]);const m=t.filter(e=>e.nombre.toLowerCase().includes(o.toLowerCase())||e.codigo.toLowerCase().includes(o.toLowerCase())),g=(e=null)=>{d(e),l(!0),p("")},x=async e=>{if(window.confirm("Est seguro de eliminar este grupo?"))try{await(async e=>{const t=await fetch(`${lo}/GruposImpuestos/${e}`,{method:"DELETE"});if(!t.ok)throw new Error("Error al eliminar grupo de impuestos");return t.ok})(e),h()}catch(t){console.error(t),alert("Error al eliminar")}};return H.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto p-6",children:[H.jsxs("div",{className:"flex items-center justify-between mb-6",children:[H.jsxs("div",{className:"flex items-center space-x-4",children:[H.jsx(Za,{variant:"outline",onClick:()=>e("/configuracion"),children:H.jsx(ar,{className:"h-5 w-5"})}),H.jsxs("div",{children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Grupos de Impuestos"}),H.jsx("p",{className:"text-sm text-gray-500",children:"Gestin de tasas impositivas para productos"})]})]}),H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx(Za,{variant:"outline",onClick:h,title:"Recargar",children:H.jsx(va,{className:"h-4 w-4 "+(a?"animate-spin":"")})}),H.jsxs(Za,{className:"bg-hd-orange hover:bg-orange-600",onClick:()=>g(),children:[H.jsx(xa,{className:"mr-2 h-4 w-4"})," Nuevo Grupo"]})]})]}),H.jsx(ln,{children:H.jsx("div",{className:"p-4",children:H.jsx(en,{placeholder:"Buscar por cdigo o nombre...",value:o,onChange:e=>i(e.target.value)})})}),H.jsxs(ln,{children:[H.jsx(cn,{children:H.jsxs(dn,{children:["Grupos Registrados (",m.length,")"]})}),H.jsx("div",{className:"overflow-x-auto",children:H.jsxs(tn,{children:[H.jsx(rn,{children:H.jsxs(nn,{children:[H.jsx(on,{className:"w-32",children:"Cdigo"}),H.jsx(on,{children:"Nombre"}),H.jsx(on,{children:"Descripcin"}),H.jsx(on,{className:"w-32 text-right",children:"Tasa (%)"}),H.jsx(on,{className:"w-24 text-center",children:"Estado"}),H.jsx(on,{className:"w-32 text-center",children:"Acciones"})]})}),H.jsx(an,{children:a?H.jsx(nn,{children:H.jsx(sn,{colSpan:6,className:"text-center py-8",children:"Cargando..."})}):0===m.length?H.jsx(nn,{children:H.jsx(sn,{colSpan:6,className:"text-center py-8 text-gray-500",children:"No hay registros"})}):m.map(e=>H.jsxs(nn,{children:[H.jsx(sn,{className:"font-medium",children:e.codigo}),H.jsx(sn,{className:"font-semibold",children:H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx(ma,{className:"h-4 w-4 text-gray-400"}),e.nombre]})}),H.jsx(sn,{className:"text-gray-600",children:e.descripcion}),H.jsx(sn,{className:"text-right",children:H.jsxs("span",{className:"inline-flex px-2 py-1 text-sm font-semibold rounded bg-purple-100 text-purple-800",children:[e.tasa.toFixed(2),"%"]})}),H.jsx(sn,{className:"text-center",children:H.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full "+(e.activo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.activo?"Activo":"Inactivo"})}),H.jsx(sn,{children:H.jsxs("div",{className:"flex items-center justify-center gap-2",children:[H.jsx(Za,{variant:"ghost",size:"sm",onClick:()=>g(e),children:H.jsx(pa,{className:"h-4 w-4"})}),H.jsx(Za,{variant:"ghost",size:"sm",onClick:()=>x(e.id),className:"hover:bg-red-100 hover:text-red-600",children:H.jsx(Ta,{className:"h-4 w-4"})})]})})]},e.id))})]})})]}),H.jsx(fo,{isOpen:s,onClose:()=>l(!1),onSave:async e=>{await uo(e),await h(),l(!1)},initialData:c,error:u})]})},Bd=()=>{it();const[e,t]=W.useState([]),[r,a]=W.useState(!0),[n,o]=W.useState(""),[i,s]=W.useState(!1),[l,c]=W.useState(null);W.useEffect(()=>{d()},[]);const d=async()=>{try{a(!0);const e=await ho();t(e)}catch(e){console.error("Error loading product groups:",e)}finally{a(!1)}},u=async e=>{if(window.confirm("Est seguro de que desea eliminar este grupo?"))try{await(async e=>{try{const t=await fetch(`${po}/GruposProducto/${e}`,{method:"DELETE"});if(!t.ok)throw new Error("Error deleting product group");return await t.json()}catch(t){throw console.error("Error deleting product group:",t),t}})(e),d()}catch(t){console.error("Error deleting group:",t),alert("Error al eliminar el grupo")}},p=e.filter(e=>e.nombre.toLowerCase().includes(n.toLowerCase())||e.codigo.toLowerCase().includes(n.toLowerCase()));return H.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[H.jsxs("div",{className:"flex justify-between items-center",children:[H.jsxs("div",{className:"flex items-center space-x-3",children:[H.jsx("div",{className:"p-2 bg-hd-orange/10 rounded-lg",children:H.jsx(ca,{className:"h-6 w-6 text-hd-orange"})}),H.jsxs("div",{children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Grupos de Producto"}),H.jsx("p",{className:"text-sm text-gray-500",children:"Categorizacin y agrupacin tcnica de artculos."})]})]}),H.jsxs(Za,{className:"bg-hd-orange hover:bg-orange-700 text-white shadow-lg",onClick:()=>{c(null),s(!0)},children:[H.jsx(xa,{className:"mr-2 h-4 w-4"})," Nuevo Grupo"]})]}),H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[H.jsx(ln,{className:"bg-orange-50 border-orange-100",children:H.jsxs(un,{className:"p-4",children:[H.jsx("p",{className:"text-xs font-semibold text-hd-orange uppercase",children:"Total Grupos"}),H.jsx("p",{className:"text-3xl font-bold text-hd-black",children:e.length})]})}),H.jsx(ln,{className:"bg-green-50 border-green-100",children:H.jsxs(un,{className:"p-4",children:[H.jsx("p",{className:"text-xs font-semibold text-green-600 uppercase",children:"Activos"}),H.jsx("p",{className:"text-3xl font-bold text-green-700",children:e.filter(e=>e.activo).length})]})})]}),H.jsxs(ln,{children:[H.jsxs(cn,{className:"flex flex-row items-center justify-between pb-4",children:[H.jsx(dn,{children:"Catlogo de Grupos"}),H.jsxs("div",{className:"relative w-64 text-sm",children:[H.jsx(ja,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),H.jsx(en,{placeholder:"Buscar grupo...",className:"pl-9 h-9",value:n,onChange:e=>o(e.target.value)})]})]}),H.jsx("div",{className:"overflow-x-auto",children:H.jsxs(tn,{children:[H.jsx(rn,{children:H.jsxs(nn,{className:"bg-gray-50/50",children:[H.jsx(on,{className:"w-32 font-bold",children:"Cdigo"}),H.jsx(on,{className:"font-bold",children:"Nombre"}),H.jsx(on,{className:"font-bold",children:"Descripcin"}),H.jsx(on,{className:"w-24 text-center font-bold",children:"Estado"}),H.jsx(on,{className:"w-32 text-center font-bold",children:"Acciones"})]})}),H.jsx(an,{children:r?H.jsx(nn,{children:H.jsx(sn,{colSpan:5,className:"text-center py-8",children:"Cargando grupos..."})}):0===p.length?H.jsx(nn,{children:H.jsx(sn,{colSpan:5,className:"text-center py-8 text-gray-500 font-medium",children:"No se encontraron grupos registrados."})}):p.map(e=>H.jsxs(nn,{className:"hover:bg-gray-50 transition-colors group",children:[H.jsx(sn,{className:"font-mono text-hd-orange font-bold text-sm tracking-widest",children:e.codigo}),H.jsx(sn,{className:"font-bold text-hd-black",children:e.nombre}),H.jsx(sn,{className:"text-gray-500 text-sm italic",children:e.descripcion||"Sin descripcin"}),H.jsx(sn,{className:"text-center",children:H.jsx("span",{className:"inline-flex px-2.5 py-0.5 text-[10px] font-bold uppercase rounded-full tracking-wider "+(e.activo?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.activo?"Activo":"Inactivo"})}),H.jsx(sn,{children:H.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[H.jsx(Za,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-blue-600 hover:bg-blue-50",onClick:()=>(e=>{c(e),s(!0)})(e),children:H.jsx(pa,{className:"h-4 w-4"})}),H.jsx(Za,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-600 hover:bg-red-50",onClick:()=>u(e.id),children:H.jsx(Ta,{className:"h-4 w-4"})})]})})]},e.id))})]})})]}),H.jsx(bo,{isOpen:i,onClose:()=>s(!1),onSave:async e=>{try{await mo(e),s(!1),d()}catch(t){console.error("Error saving group:",t),alert("Error al guardar el grupo")}},grupo:l})]})},Vd=()=>{const e=it(),[t,r]=W.useState([]),[a,n]=W.useState(!0),[o,i]=W.useState(""),[s,l]=W.useState(!1),[c,d]=W.useState(null),[u,p]=W.useState({grupo:"",codigo:"",motivo:"",activo:!0}),[h,m]=W.useState(""),g=async()=>{n(!0);try{const e=await Do();r(e)}catch(e){console.error(e)}finally{n(!1)}};W.useEffect(()=>{g()},[]);const x=t.reduce((e,t)=>{const r=t.grupo||"Sin Grupo";return e[r]||(e[r]=[]),e[r].push(t),e},{}),f=Object.entries(x).reduce((e,[t,r])=>{const a=r.filter(e=>e.motivo.toLowerCase().includes(o.toLowerCase())||e.codigo.toLowerCase().includes(o.toLowerCase()));return a.length>0&&(e[t]=a),e},{}),b=(e=null)=>{m(""),e?(d(e),p({...e})):(d(null),p({grupo:"Conteo Fsico",codigo:"",motivo:"",activo:!0})),l(!0)},v=async e=>{if(window.confirm("Est seguro de eliminar este motivo? Esta accin no se puede deshacer si ya ha sido utilizado."))try{await(async e=>{if(!(await fetch(`${Ao}/${e}`,{method:"DELETE"})).ok)throw new Error("Error al eliminar motivo");return!0})(e),g()}catch(t){console.error(t),alert("Error al eliminar")}};return H.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto p-6",children:[H.jsxs("div",{className:"flex items-center justify-between mb-6",children:[H.jsxs("div",{className:"flex items-center space-x-4",children:[H.jsx(Za,{variant:"outline",onClick:()=>e("/configuracion"),children:H.jsx(ar,{className:"h-5 w-5"})}),H.jsxs("div",{children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Motivos de Ajuste"}),H.jsx("p",{className:"text-sm text-gray-500",children:"Catlogo de razones para movimientos de inventario"})]})]}),H.jsxs(Za,{className:"bg-hd-orange hover:bg-orange-600",onClick:()=>b(),children:[H.jsx(xa,{className:"mr-2 h-4 w-4"})," Nuevo Motivo"]})]}),H.jsx(ln,{className:"mb-6",children:H.jsx("div",{className:"p-4",children:H.jsx(en,{placeholder:"Buscar por cdigo o descripcin...",value:o,onChange:e=>i(e.target.value)})})}),H.jsxs("div",{className:"space-y-6",children:[0===Object.keys(f).length&&!a&&H.jsx("div",{className:"text-center py-10 text-gray-500",children:"No se encontraron resultados"}),Object.entries(f).map(([e,t])=>H.jsxs(ln,{className:"overflow-hidden",children:[H.jsxs("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200 flex items-center gap-2",children:[H.jsx(_r,{className:"h-4 w-4 text-gray-500"}),H.jsx("h3",{className:"font-semibold text-gray-700",children:e}),H.jsx("span",{className:"text-xs bg-gray-200 text-gray-600 px-2 py-0.5 rounded-full",children:t.length})]}),H.jsx("div",{className:"divide-y divide-gray-100",children:t.map(e=>H.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[H.jsxs("div",{className:"flex items-center gap-4",children:[H.jsx("div",{className:"bg-orange-50 text-orange-700 font-mono text-sm px-3 py-1 rounded border border-orange-100 min-w-[80px] text-center",children:e.codigo}),H.jsxs("div",{children:[H.jsx("p",{className:"font-medium text-gray-900",children:e.motivo}),!e.activo&&H.jsx("span",{className:"text-xs text-red-500 font-medium",children:"Inactivo"})]})]}),H.jsxs("div",{className:"flex gap-2",children:[H.jsx(Za,{variant:"ghost",size:"sm",onClick:()=>b(e),children:H.jsx(pa,{className:"h-4 w-4 text-gray-500 hover:text-blue-600"})}),H.jsx(Za,{variant:"ghost",size:"sm",onClick:()=>v(e.id),children:H.jsx(Ta,{className:"h-4 w-4 text-gray-500 hover:text-red-600"})})]})]},e.id))})]},e))]}),s&&H.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:H.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md animate-in fade-in zoom-in duration-200",children:[H.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[H.jsx("h2",{className:"text-lg font-bold text-gray-800",children:c?"Editar Motivo":"Nuevo Motivo"}),H.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600",children:H.jsx(Ha,{size:20})})]}),H.jsxs("form",{onSubmit:async e=>{e.preventDefault(),m("");try{await(async e=>{const t=!!e.id,r=t?`${Ao}/${e.id}`:Ao,a=t?"PUT":"POST",n=await fetch(r,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const e=await n.json();throw new Error(e.message||"Error al guardar motivo")}return 204===n.status||await n.json()})(u),await g(),l(!1)}catch(t){m(t.message)}},className:"p-6 space-y-4",children:[h&&H.jsxs("div",{className:"bg-red-50 text-red-600 p-3 rounded text-sm flex items-center gap-2",children:[H.jsx(Xt,{size:16}),h]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Grupo"}),H.jsx("select",{className:"w-full h-10 rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-hd-orange",value:u.grupo,onChange:e=>p({...u,grupo:e.target.value}),children:["Conteo Fsico","Dao / Merma","Prdida / Robo","Errores Operativos","Produccin / Proceso","Conversin de Unidades","Reclasificacin Interna","Obsolescencia","Ajuste Inicial / Migracin"].map(e=>H.jsx("option",{value:e,children:e},e))})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cdigo"}),H.jsxs("div",{className:"relative",children:[H.jsx(en,{value:u.codigo,onChange:e=>p({...u,codigo:e.target.value}),disabled:!!c,placeholder:"Ej. CF-01",maxLength:10,className:c?"bg-gray-100 pr-8":""}),c&&H.jsx(ea,{className:"absolute right-2.5 top-2.5 h-4 w-4 text-gray-400"})]}),c&&H.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"El cdigo no se puede modificar."})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Motivo / Descripcin"}),H.jsx(en,{value:u.motivo,onChange:e=>p({...u,motivo:e.target.value}),placeholder:"Descripcin del motivo",required:!0})]}),H.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[H.jsx("input",{type:"checkbox",id:"activo",checked:u.activo,onChange:e=>p({...u,activo:e.target.checked}),className:"h-4 w-4 text-hd-orange focus:ring-hd-orange border-gray-300 rounded"}),H.jsx("label",{htmlFor:"activo",className:"text-sm text-gray-700",children:"Activo"})]}),H.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t mt-4",children:[H.jsx(Za,{type:"button",variant:"ghost",onClick:()=>l(!1),children:"Cancelar"}),H.jsxs(Za,{type:"submit",className:"bg-hd-orange hover:bg-orange-600",children:[H.jsx(wa,{className:"mr-2 h-4 w-4"})," Guardar"]})]})]})]})})]})},Gd=({title:e,icon:t,data:r,loading:a,onAdd:n,onEdit:o,onDelete:i})=>{const[s,l]=W.useState(""),c=r.filter(e=>e.nombre.toLowerCase().includes(s.toLowerCase())||e.codigo.toLowerCase().includes(s.toLowerCase()));return H.jsxs(ln,{className:"mb-8",children:[H.jsxs(cn,{className:"flex flex-row items-center justify-between",children:[H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx("div",{className:"p-2 bg-hd-orange/10 rounded-lg",children:H.jsx(t,{className:"h-5 w-5 text-hd-orange"})}),H.jsxs("div",{children:[H.jsx(dn,{children:e}),H.jsxs("p",{className:"text-sm text-gray-500",children:["Gestin de ",e.toLowerCase()]})]})]}),H.jsxs("div",{className:"flex items-center gap-3",children:[H.jsxs("div",{className:"relative",children:[H.jsx(ja,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-400"}),H.jsx(en,{value:s,onChange:e=>l(e.target.value),placeholder:"Buscar...",className:"pl-8 w-64 h-9"})]}),H.jsxs(Za,{size:"sm",className:"bg-hd-orange hover:bg-orange-600",onClick:n,children:[H.jsx(xa,{className:"h-4 w-4 mr-1"}),"Nuevo"]})]})]}),H.jsx("div",{className:"overflow-x-auto",children:H.jsxs(tn,{children:[H.jsx(rn,{children:H.jsxs(nn,{children:[H.jsx(on,{className:"w-32",children:"Cdigo"}),H.jsx(on,{children:"Nombre"}),H.jsx(on,{children:"Descripcin"}),H.jsx(on,{className:"w-24 text-center",children:"Estado"}),H.jsx(on,{className:"w-24 text-center",children:"Acciones"})]})}),H.jsx(an,{children:a?H.jsx(nn,{children:H.jsx(sn,{colSpan:5,className:"text-center py-8",children:"Cargando..."})}):0===c.length?H.jsx(nn,{children:H.jsx(sn,{colSpan:5,className:"text-center py-8 text-gray-500",children:"No hay registros"})}):c.map(e=>H.jsxs(nn,{children:[H.jsx(sn,{className:"font-medium",children:e.codigo}),H.jsx(sn,{className:"font-semibold",children:e.nombre}),H.jsx(sn,{className:"text-gray-600",children:e.descripcion}),H.jsx(sn,{className:"text-center",children:H.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full "+(e.activo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.activo?"Activo":"Inactivo"})}),H.jsx(sn,{children:H.jsxs("div",{className:"flex items-center justify-center gap-2",children:[H.jsx(Za,{variant:"ghost",size:"sm",onClick:()=>o(e),children:H.jsx(pa,{className:"h-4 w-4"})}),H.jsx(Za,{variant:"ghost",size:"sm",onClick:()=>i(e.id),className:"hover:bg-red-100 hover:text-red-600",children:H.jsx(Ta,{className:"h-4 w-4"})})]})})]},e.id))})]})})]})},qd=()=>{const e=it(),[t,r]=W.useState(!1),[a,n]=W.useState([]),[o,i]=W.useState([]),[s,l]=W.useState([]),[c,d]=W.useState(!1),[u,p]=W.useState({title:"",type:""}),[h,m]=W.useState(null),[g,x]=W.useState(""),f={categoria:eo,marca:ao,tipo:io},b={categoria:to,marca:no,tipo:so},v=async()=>{r(!0);try{const[e,t,r]=await Promise.all([Zn(),ro(),oo()]);n(e),i(t),l(r)}catch(e){console.error(e)}finally{r(!1)}};W.useEffect(()=>{v()},[]);const y=(e,t=null)=>{p({title:{categoria:"Categora",marca:"Marca",tipo:"Tipo"}[e],type:e}),m(t),d(!0),x("")},w=async(e,t)=>{if(window.confirm("Est seguro de eliminar este registro?"))try{await b[e](t),v()}catch(r){console.error(r),alert("Error al eliminar")}};return H.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto p-6",children:[H.jsxs("div",{className:"flex items-center justify-between mb-6",children:[H.jsxs("div",{className:"flex items-center space-x-4",children:[H.jsx(Za,{variant:"outline",onClick:()=>e("/configuracion"),children:H.jsx(ar,{className:"h-5 w-5"})}),H.jsxs("div",{children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Atributos de Artculos"}),H.jsx("p",{className:"text-sm text-gray-500",children:"Gestin centralizada de Categoras, Marcas y Tipos"})]})]}),H.jsx(Za,{variant:"outline",onClick:v,title:"Recargar Todo",children:H.jsx(va,{className:"h-4 w-4 "+(t?"animate-spin":"")})})]}),H.jsx(Gd,{title:"Categoras",icon:Yr,data:a,loading:t,onAdd:()=>y("categoria"),onEdit:e=>y("categoria",e),onDelete:e=>w("categoria",e)}),H.jsx(Gd,{title:"Marcas",icon:Ia,data:o,loading:t,onAdd:()=>y("marca"),onEdit:e=>y("marca",e),onDelete:e=>w("marca",e)}),H.jsx(Gd,{title:"Tipos",icon:hr,data:s,loading:t,onAdd:()=>y("tipo"),onEdit:e=>y("tipo",e),onDelete:e=>w("tipo",e)}),H.jsx(go,{isOpen:c,onClose:()=>d(!1),onSave:async e=>{await f[u.type](e),await v(),d(!1)},title:u.title,type:u.type,initialData:h,error:g})]})},Hd="http://localhost:5006/api",Wd=()=>{const e=it(),[t,r]=W.useState(null),[a,n]=W.useState(!1),[o,i]=W.useState(!1),[s,l]=W.useState(!1),[c,d]=W.useState(""),[u,p]=W.useState("all"),[h,m]=W.useState([]),[g,x]=W.useState(!1),[f,b]=W.useState(2),[v,y]=W.useState(["UND"]),[w,j]=W.useState([]),[N,k]=W.useState([]),[C,S]=W.useState(-1),[E,P]=W.useState(!1);W.useEffect(()=>{I(),A(),O()},[]);const O=async()=>{try{const e=await(async()=>{const e=await fetch(`${Sn}/Articulos/NavigationList`);if(!e.ok)throw new Error("Failed to load navigation list");return e.json()})();k(e||[])}catch(Xd){console.error(Xd)}},I=async()=>{try{const e=await Xn(),t=new Set(["UND"]);e.forEach(e=>{t.add(e.unidadBase),e.detalles&&e.detalles.forEach(e=>t.add(e.unidadMedida))}),y(Array.from(t))}catch(Xd){console.error(Xd)}},A=async()=>{try{const e=await mn();j(e)}catch(Xd){console.error(Xd)}};W.useEffect(()=>{null!=t&&t.id&&D(t.id)},[t]);const D=async e=>{x(!0);try{const t=await(async e=>{const t=await fetch(`${Hd}/Articulos/${e}/Precios`);if(!t.ok)throw new Error("Error al obtener precios");return t.json()})(e);t&&t.length>0?m(t):m([])}catch(t){console.error("Error loading prices:",t),alert("Error al cargar lista de precios")}finally{x(!1)}};W.useEffect(()=>{if(t&&N.length>0){const e=N.findIndex(e=>e.id===t.id||e.Id===t.id);S(e)}},[t,N]);const M=e=>{if(e<0||e>=N.length)return;const t=N[e];T(t.id||t.Id)},T=async e=>{try{const t=await En(e);t&&r(t)}catch(Xd){console.error("Nav Error",Xd)}},F=(e,r,a)=>{const n=[...h];n[e]={...n[e],[r]:a};const o=n[e],i=parseFloat(t.costoUnitario)||parseFloat(t.costoEstandar)||0,s=parseFloat(o.cantidadInicial)||1;if(("porcentaje"===r||"cantidadInicial"===r)&&t){const t=i*s*(1+(parseFloat(o.porcentaje)||0)/100);n[e].precio=parseFloat(t.toFixed(2))}if("precio"===r&&t){const t=parseFloat(a)||0,r=i*s;if(r>0){const a=100*(t/r-1);n[e].porcentaje=parseFloat(a.toFixed(2))}else t>0&&(n[e].porcentaje=100)}m(n)},z=(e,t)=>{const r=[...h];"up"===t&&e>0?[r[e],r[e-1]]=[r[e-1],r[e]]:"down"===t&&e<r.length-1&&([r[e],r[e+1]]=[r[e+1],r[e]]),m(r)};return H.jsxs("div",{className:"min-h-screen bg-gray-50/50 p-6 space-y-6",children:[H.jsx("div",{id:"header-message"}),H.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs("div",{className:"flex items-center space-x-4",children:[H.jsx(Za,{variant:"ghost",size:"icon",onClick:()=>e("/productos"),className:"hover:bg-gray-100 rounded-full h-10 w-10",children:H.jsx(ar,{className:"h-6 w-6 text-gray-600"})}),H.jsxs("div",{children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Lista de Precios"}),H.jsx("p",{className:"text-sm text-gray-500",children:"Gestione y configure los niveles de precios por artculo"})]})]}),H.jsxs("div",{className:"flex items-center gap-3",children:[H.jsx(Za,{variant:"outline",onClick:async()=>{try{const r=await(async()=>{const e=await fetch(`${Hd}/Articulos/ReportePrecios`);if(!e.ok)throw new Error("Error al obtener reporte de precios");return e.json()})(),a={};r.forEach(e=>{const t=e.numeroArticulo;a[t]||(a[t]={info:e,precios:[]}),e.nivelPrecio&&a[t].precios.push(e)});let n="\n    < html >\n                <head>\n                    <title>Reporte de Listas de Precios</title>\n                    <style>\n                        body { font-family: sans-serif; padding: 20px; font-size: 12px; }\n                        h1 { text-align: center; color: #333; margin-bottom: 20px; }\n                        .article-card { border: 1px solid #ccc; margin-bottom: 15px; page-break-inside: avoid; border-radius: 4px; overflow: hidden; }\n                        .article-header { background: #f0f0f0; padding: 8px; font-weight: bold; display: flex; justify-content: space-between; border-bottom: 1px solid #ccc; }\n                        .article-details { padding: 8px; font-size: 11px; color: #555; background: #fafafa; border-bottom: 1px solid #eee; display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; }\n                        table { width: 100%; border-collapse: collapse; font-size: 11px; }\n                        th, td { padding: 6px; text-align: left; border-bottom: 1px solid #eee; }\n                        th { background: #fff; border-bottom: 2px solid #ddd; font-weight: 600; }\n                        .price-row:nth-child(even) { background-color: #f9f9f9; }\n                        @media print {\n                            body { -webkit-print-color-adjust: exact; }\n                            .article-header { background: #e0e0e0 !important; }\n                        }\n                    </style>\n                </head>\n                <body>\n                    <h1>Listado General de Precios</h1>\n            ";for(const i in a){var e,t;const r=a[i];n+=`\n                    <div class="article-card">\n                        <div class="article-header">\n                            <span>${r.info.numeroArticulo} - ${r.info.descripcion}</span>\n                            <span>UND: ${r.info.unidadMedida}</span>\n                        </div>\n                        <div class="article-details">\n                            <div><strong>Costo Estndar:</strong> ${null===(e=r.info.costoEstandar)||void 0===e?void 0:e.toFixed(2)}</div>\n                            <div><strong>Costo ltimo:</strong> ${null===(t=r.info.costoUnitario)||void 0===t?void 0:t.toFixed(2)}</div>\n                        </div>\n                        <table>\n                            <thead>\n                                <tr>\n                                    <th>Nivel de Precio</th>\n                                    <th>Unidad</th>\n                                    <th>Precio</th>\n                                    <th>Moneda</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                `,r.precios.length>0?r.precios.forEach(e=>{var t;n+=`\n                            <tr class="price-row">\n                                <td>${e.nivelPrecio}</td>\n                                <td>${e.unidadPrecio}</td>\n                                <td><strong>${null===(t=e.precio)||void 0===t?void 0:t.toFixed(2)}</strong></td>\n                                <td>${e.moneda}</td>\n                            </tr>\n                        `}):n+='<tr><td colspan="4" style="text-align:center; color: #999; font-style: italic;">Sin precios configurados</td></tr>',n+="</tbody></table></div>"}n+="</body></html > ";const o=window.open("","_blank");o.document.write(n),o.document.close(),o.print()}catch(r){console.error(r),alert("Error al generar el reporte")}},className:"bg-white hover:bg-gray-50 text-gray-700 border-gray-200 shadow-sm",children:H.jsxs("span",{className:"flex items-center gap-2",children:[H.jsx(fa,{className:"h-4 w-4"}),H.jsx("span",{children:"Reporte Global"})]})}),H.jsx(Za,{variant:"outline",onClick:()=>{if(t)try{let e=`\n                <html>\n                <head>\n                    <title>Reporte de Artculo - ${t.descripcion}</title>\n                    <style>\n                        body { font-family: sans-serif; padding: 20px; font-size: 14px; }\n                        h1 { text-align: center; color: #333; margin-bottom: 5px; }\n                        h3 { text-align: center; color: #666; margin-top: 0; margin-bottom: 25px; }\n                        .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px; border: 1px solid #ddd; padding: 15px; border-radius: 8px; background: #f9f9f9; }\n                        .info-item { margin-bottom: 5px; }\n                        .label { font-weight: bold; color: #555; }\n                        table { width: 100%; border-collapse: collapse; margin-top: 10px; }\n                        th, td { padding: 8px 12px; text-align: left; border-bottom: 1px solid #eee; }\n                        th { background: #f0f0f0; border-bottom: 2px solid #ccc; font-weight: bold; }\n                        .price-val { font-weight: bold; font-family: monospace; font-size: 1.1em; }\n                    </style>\n                </head>\n                <body>\n                    <h1>${t.descripcion}</h1>\n                    <h3>${t.numeroArticulo}</h3>\n\n                    <div class="info-grid">\n                        <div class="col">\n                            <div class="info-item"><span class="label">Unidad Base:</span> ${t.unidadMedida}</div>\n                            <div class="info-item"><span class="label">Categora:</span> ${t.categoria||"-"}</div>\n                            <div class="info-item"><span class="label">Marca:</span> ${t.marca||"-"}</div>\n                        </div>\n                        <div class="col">\n                            <div class="info-item"><span class="label">Costo Estndar:</span> $${Number(t.costoEstandar||0).toFixed(2)}</div>\n                            <div class="info-item"><span class="label">Costo Actual:</span> $${Number(t.costoUnitario||0).toFixed(2)}</div>\n                        </div>\n                    </div>\n\n                    <h2>Niveles de Precio</h2>\n                    <table>\n                        <thead>\n                            <tr>\n                                <th>Nivel</th>\n                                <th>Unidad</th>\n                                <th>Cant. Inicial</th>\n                                <th>Margen %</th>\n                                <th>Precio Final</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n            `;h.length>0?h.forEach(t=>{var r;t.activo&&(e+=`\n                        <tr>\n                            <td>${t.nivelPrecio}</td>\n                            <td>${t.unidadMedida}</td>\n                            <td>${t.cantidadInicial}</td>\n                            <td>${t.porcentaje}%</td>\n                            <td class="price-val">${null===(r=t.precio)||void 0===r?void 0:r.toFixed(2)} <small>${t.moneda}</small></td>\n                        </tr>\n                    `)}):e+='<tr><td colspan="5" style="text-align:center; padding: 20px; color: #999;">Sin precios configurados</td></tr>',e+="</tbody></table></body></html>";const r=window.open("","_blank");r.document.write(e),r.document.close(),r.print()}catch(e){console.error(e),alert("Error al imprimir artculo")}},disabled:!t,className:"bg-white hover:bg-blue-50 text-blue-700 border-blue-200 shadow-sm",children:H.jsxs("span",{className:"flex items-center gap-2",children:[H.jsx(fa,{className:"h-4 w-4"}),H.jsx("span",{children:"Imprimir Artculo"})]})}),H.jsx(Za,{variant:"outline",onClick:()=>i(!0),disabled:!t,className:"bg-white hover:bg-orange-50 text-gray-700 border-gray-200 hover:border-orange-200 hover:text-orange-600 transition-all duration-200 shadow-sm",children:H.jsxs("span",{className:"flex items-center gap-2",children:[H.jsx(wa,{className:"h-4 w-4"}),H.jsx("span",{children:"Copiar a..."})]})}),H.jsx(Za,{onClick:async()=>{if(t)try{const e=h.map(e=>({...e,id:0}));await(async(e,t)=>{const r=await fetch(`${Hd}/Articulos/${e}/Precios`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("Error al guardar precios");return r.json()})(t.id,e);const r=document.getElementById("header-message");r&&(r.innerHTML='<div class="bg-green-100 border border-green-400 text-green-700 px-4 py-2 rounded flex items-center gap-2">Precios guardados correctamente</div>',setTimeout(()=>r.innerHTML="",3e3))}catch(e){console.error(e),alert("Error al guardar precios")}},disabled:!t,className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white border-0 shadow-md hover:shadow-lg transition-all duration-200 px-6",children:H.jsxs("span",{className:"flex items-center gap-2 font-medium",children:[H.jsx(wa,{className:"h-5 w-5"}),H.jsx("span",{children:"Guardar Cambios"})]})})]})]})}),H.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[H.jsxs("div",{className:"bg-gray-50/80 px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[H.jsx("h2",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wider",children:"Informacin del Artculo"}),H.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-md border border-gray-200 p-1 shadow-sm",children:[H.jsx(Za,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>M(0),disabled:C<=0,title:"Primero",children:H.jsx(jr,{size:16})}),H.jsx(Za,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>M(C-1),disabled:C<=0,title:"Anterior",children:H.jsx(kr,{size:16})}),H.jsx("div",{className:"px-3 py-0.5 bg-gray-50 rounded border border-gray-100 text-xs font-bold min-w-[80px] text-center text-gray-600",children:N.length>0&&C>=0?`${C+1} / ${N.length}`:"0 / 0"}),H.jsx(Za,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>M(C+1),disabled:C>=N.length-1,title:"Siguiente",children:H.jsx(Cr,{size:16})}),H.jsx(Za,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>M(N.length-1),disabled:C>=N.length-1,title:"ltimo",children:H.jsx(Nr,{size:16})})]})]}),H.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-8",children:[H.jsx("div",{className:"space-y-5",children:H.jsxs("div",{className:"bg-blue-50/50 p-4 rounded-lg border border-blue-100 space-y-4",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-xs font-semibold text-blue-900 uppercase tracking-wide mb-1.5",children:"Artculo Seleccionado"}),H.jsxs("div",{className:"flex gap-2",children:[H.jsxs("div",{className:"relative flex-1",children:[H.jsx(en,{value:(null==t?void 0:t.numeroArticulo)||"",className:"bg-white border-blue-200 text-black placeholder:text-gray-500 font-bold h-11",readOnly:!0,placeholder:"Busque un artculo..."}),!t&&H.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none",children:H.jsx("span",{className:"text-xs text-blue-400 italic",children:"Requerido"})})]}),H.jsx(Za,{onClick:()=>n(!0),className:"h-11 w-11 bg-white border border-blue-200 text-blue-600 hover:bg-blue-50 hover:border-blue-300 shadow-sm",children:H.jsx(ja,{className:"h-5 w-5"})})]})]}),H.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Descripcin"}),H.jsx(en,{value:(null==t?void 0:t.descripcion)||"",className:"bg-transparent border-0 border-b border-blue-200 rounded-none px-0 h-8 font-medium text-gray-900 focus:ring-0",readOnly:!0})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Mtodo de Precio"}),H.jsx("div",{className:"h-8 flex items-center text-sm font-medium text-gray-700 border-b border-blue-200",children:"Monto Monetario"})]})]})]})}),H.jsxs("div",{className:"grid grid-cols-3 gap-6 pt-2",children:[H.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-100 text-center",children:[H.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-2",children:"Unidad Base"}),H.jsx("div",{className:"text-lg font-bold text-gray-900",children:(null==t?void 0:t.unidadMedida)||"-"})]}),H.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-100 text-center",children:[H.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-2",children:"Costo Estndar"}),H.jsx("div",{className:"text-lg font-mono text-gray-600",children:Number((null==t?void 0:t.costoEstandar)||0).toFixed(2)})]}),H.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-100 text-center relative overflow-hidden",children:[H.jsx("div",{className:"absolute top-0 right-0 w-8 h-8 bg-orange-100 rounded-bl-full"}),H.jsx("label",{className:"block text-xs font-bold text-orange-800 mb-2",children:"Costo Actual"}),H.jsx("div",{className:"text-xl font-mono font-bold text-orange-600",children:Number((null==t?void 0:t.costoUnitario)||0).toFixed(2)})]})]})]})]}),H.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden min-h-[400px] flex flex-col",children:[H.jsxs("div",{className:"bg-gray-50/80 px-6 py-4 border-b border-gray-200 flex justify-between items-center sticky top-0 z-10",children:[H.jsxs("h3",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wider flex items-center gap-2",children:[H.jsx("span",{className:"w-2 h-2 rounded-full bg-orange-500"}),"Niveles de Precio"]}),H.jsxs("div",{className:"flex items-center gap-4 bg-white p-1.5 rounded-lg border border-gray-200 shadow-sm",children:[H.jsxs("div",{className:"flex items-center px-3 border-r border-gray-200",children:[H.jsx("span",{className:"text-xs font-medium text-gray-500 mr-3",children:"Decimales"}),H.jsx("input",{type:"number",value:f,onChange:e=>b(parseInt(e.target.value)),className:"w-12 text-center text-sm font-bold text-gray-900 border-0 focus:ring-0 p-0"})]}),H.jsxs("div",{className:"flex gap-2 p-1",children:[H.jsxs(Za,{size:"sm",variant:"outline",onClick:()=>l(!0),disabled:!t||0===h.length,className:"h-8 px-3 text-purple-600 border-purple-200 hover:bg-purple-50",title:"Aplicar Margen Masivo",children:[H.jsx(xr,{className:"h-4 w-4 mr-1.5"}),H.jsx("span",{className:"text-xs",children:"Aplicar Margen"})]}),0===h.length&&H.jsxs(Za,{size:"sm",variant:"ghost",onClick:()=>{return m([{id:1,nivelPrecio:"Precio al Detalle",unidadMedida:(null==(e=t)?void 0:e.unidadMedida)||"UND",cantidadInicial:0,porcentaje:0,precio:(null==e?void 0:e.precioUnitario)||0,moneda:"USD",activo:!0},{id:2,nivelPrecio:"Precio al Mayoreo",unidadMedida:(null==e?void 0:e.unidadMedida)||"UND",cantidadInicial:10,porcentaje:0,precio:0,moneda:"USD",activo:!0},{id:3,nivelPrecio:"Precio Distribuidor",unidadMedida:(null==e?void 0:e.unidadMedida)||"UND",cantidadInicial:50,porcentaje:0,precio:0,moneda:"USD",activo:!0}]);var e},disabled:!t,className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 font-medium h-8",children:[H.jsx(xa,{className:"h-4 w-4 mr-1.5"}),"Cargar Sugerencias"]}),H.jsxs(Za,{size:"sm",onClick:()=>{const e={id:Date.now(),nivelPrecio:"",unidadMedida:(null==t?void 0:t.unidadMedida)||"UND",cantidadInicial:0,porcentaje:0,precio:0,moneda:"USD",activo:!0};m([...h,e])},disabled:!t,className:"bg-gray-900 text-white hover:bg-black h-8 px-4",children:[H.jsx(xa,{className:"h-4 w-4 mr-1.5"}),"Agregar Nivel"]})]})]})]}),H.jsx("div",{className:"overflow-x-auto flex-1 p-0",children:H.jsxs(tn,{className:"w-full",children:[H.jsx(rn,{className:"bg-gray-50/50",children:H.jsxs(nn,{className:"border-b border-gray-200",children:[H.jsx(on,{className:"w-16 text-center py-4 font-semibold text-gray-600",children:"Activo"}),H.jsx(on,{className:"py-4 font-semibold text-gray-600 pl-4",children:"Nivel de Precio"}),H.jsx(on,{className:"w-32 py-4 font-semibold text-gray-600",children:"Unidad"}),H.jsx(on,{className:"w-32 text-center py-4 font-semibold text-gray-600",children:"Cant. Inicial"}),H.jsx(on,{className:"w-32 text-center py-4 font-semibold text-gray-600",children:"Margen %"}),H.jsx(on,{className:"w-40 text-right py-4 font-semibold text-gray-600 pr-6",children:"Precio Final"}),H.jsx(on,{className:"w-24 text-center py-4 font-semibold text-gray-600",children:"Moneda"}),H.jsx(on,{className:"w-16"})]})}),H.jsx(an,{children:t?h.map((e,t)=>H.jsxs(nn,{className:"group hover:bg-orange-50/30 transition-colors border-b border-gray-100 last:border-0",children:[H.jsx(sn,{className:"text-center py-3",children:H.jsx("div",{className:"flex justify-center",children:H.jsx("input",{type:"checkbox",checked:e.activo,onChange:e=>F(t,"activo",e.target.checked),className:"w-5 h-5 rounded border-gray-300 text-orange-600 focus:ring-orange-500 cursor-pointer"})})}),H.jsx(sn,{className:"p-2",children:H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsxs("select",{value:e.nivelPrecio,onChange:e=>F(t,"nivelPrecio",e.target.value),className:"w-full bg-transparent border-0 font-medium text-gray-900 focus:ring-0 cursor-pointer hover:bg-gray-100/50 rounded px-2 py-1.5 transition-colors",children:[H.jsx("option",{value:"",children:"Seleccionar Nivel..."}),w.map(e=>H.jsx("option",{value:e.nombre,children:e.nombre},e.id))]}),H.jsx(Jn,{onClick:()=>P(!0),className:"opacity-0 group-hover:opacity-100 transition-opacity"})]})}),H.jsx(sn,{className:"p-2",children:H.jsx("select",{value:e.unidadMedida,onChange:e=>F(t,"unidadMedida",e.target.value),className:"w-full text-sm bg-gray-50 border-0 rounded-md text-gray-600 focus:ring-0 py-1.5 cursor-pointer",children:v.map(e=>H.jsx("option",{value:e,children:e},e))})}),H.jsx(sn,{className:"p-2",children:H.jsx(en,{type:"number",value:e.cantidadInicial,onChange:e=>F(t,"cantidadInicial",""===e.target.value?0:parseFloat(e.target.value)),className:"text-center border-0 bg-transparent hover:bg-gray-100/50 focus:bg-white focus:ring-1 focus:ring-orange-200 rounded font-mono text-sm"})}),H.jsx(sn,{className:"p-2",children:H.jsxs("div",{className:"relative",children:[H.jsx(en,{type:"number",value:e.porcentaje,onChange:e=>F(t,"porcentaje",""===e.target.value?0:parseFloat(e.target.value)),className:"text-center border-0 bg-transparent hover:bg-gray-100/50 focus:bg-white focus:ring-1 focus:ring-orange-200 rounded font-mono text-sm pr-6"}),H.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-gray-400 font-bold",children:"%"})]})}),H.jsx(sn,{className:"p-2",children:H.jsx(en,{type:"number",value:e.precio,onChange:e=>F(t,"precio",""===e.target.value?0:parseFloat(e.target.value)),className:"text-right border border-transparent bg-orange-50/50 text-orange-700 font-bold shadow-sm rounded focus:bg-white focus:border-orange-300 focus:ring-2 focus:ring-orange-100 text-base"})}),H.jsx(sn,{className:"p-2 text-center",children:H.jsxs("select",{value:e.moneda,onChange:e=>F(t,"moneda",e.target.value),className:"text-xs font-bold text-gray-700 bg-gray-100 border-0 rounded px-1 py-1 cursor-pointer focus:ring-2 focus:ring-orange-200",children:[H.jsx("option",{value:"DOP",children:"DOP"}),H.jsx("option",{value:"USD",children:"USD"})]})}),H.jsx(sn,{className:"text-center p-2",children:H.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-100 group-hover:opacity-100 transition-opacity",children:[H.jsxs("div",{className:"flex flex-col gap-0.5 mr-2",children:[H.jsx("button",{onClick:()=>z(t,"up"),disabled:0===t,className:"text-gray-400 hover:text-blue-600 disabled:opacity-20 disabled:cursor-not-allowed hover:bg-gray-100 rounded",children:H.jsx(lr,{className:"h-3 w-3"})}),H.jsx("button",{onClick:()=>z(t,"down"),disabled:t===h.length-1,className:"text-gray-400 hover:text-blue-600 disabled:opacity-20 disabled:cursor-not-allowed hover:bg-gray-100 rounded",children:H.jsx(rr,{className:"h-3 w-3"})})]}),H.jsx("button",{className:"p-1.5 rounded-md text-gray-400 hover:text-red-600 hover:bg-red-50 transition-colors",onClick:()=>(e=>{const t=[...h];t.splice(e,1),m(t)})(t),title:"Eliminar fila",children:H.jsx(Ta,{className:"h-4 w-4"})})]})})]},t)):H.jsx(nn,{children:H.jsx(sn,{colSpan:8,className:"h-64 text-center",children:H.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-400",children:[H.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mb-4",children:H.jsx(ja,{className:"h-8 w-8 text-gray-300"})}),H.jsx("p",{className:"text-lg font-medium text-gray-600",children:"No hay artculo seleccionado"}),H.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Utilice el buscador para cargar un producto y ver sus precios"}),H.jsx(Za,{variant:"outline",className:"mt-6 border-orange-200 text-orange-600 hover:bg-orange-50",onClick:()=>n(!0),children:"Buscar Artculo Ahora"})]})})})})]})})]}),H.jsx($o,{isOpen:a,onClose:()=>n(!1),onSelect:e=>{r(e),n(!1)}}),H.jsx($o,{isOpen:o,onClose:()=>i(!1),onSelect:async e=>{if(t&&e)try{await(async(e,t)=>{const r=await fetch(`${Hd}/Articulos/CopyPrecios`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sourceArticuloId:e,targetArticuloId:t})});if(!r.ok){const e=await r.text();throw new Error(`Error al copiar precios: ${e}`)}return r.json()})(t.id,e.id),i(!1);const r=document.getElementById("header-message");r&&(r.innerHTML=`<div class="bg-blue-100 border border-blue-400 text-blue-700 px-4 py-2 rounded flex items-center gap-2">Precios copiados exitosamente a ${e.descripcion}</div>`,setTimeout(()=>r.innerHTML="",4e3))}catch(r){console.error(r),alert("Error al copiar precios")}}}),H.jsx(Kn,{isOpen:E,onClose:()=>P(!1),onSave:async e=>{try{await gn({nombre:e.nombre,descripcion:e.descripcion});await A(),alert("Nivel de precio creado exitosamente.")}catch(t){console.error(t),alert("Error al crear nivel de precio")}},title:"Nuevo Nivel de Precio",fields:[{name:"nombre",label:"Nombre del Nivel",placeholder:"Ej. Mayorista"},{name:"descripcion",label:"Descripcin",placeholder:"Descripcin opcional"}]}),s&&H.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 backdrop-blur-sm",children:H.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-sm overflow-hidden animate-in fade-in zoom-in duration-200",children:[H.jsxs("div",{className:"bg-purple-600 text-white p-4 flex justify-between items-center",children:[H.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[H.jsx(xr,{size:20}),"Aplicar Margen"]}),H.jsx("button",{onClick:()=>l(!1),className:"text-white/80 hover:text-white",children:H.jsx(Ha,{size:20})})]}),H.jsxs("div",{className:"p-6 space-y-4",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Margen de Ganancia (%)"}),H.jsx(en,{type:"number",autoFocus:!0,placeholder:"Ej: 30",value:c,onChange:e=>d(e.target.value),className:"text-lg font-bold text-center"})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Aplicar a"}),H.jsxs("select",{className:"w-full h-10 rounded-md border-gray-300 bg-gray-50 text-sm focus:ring-purple-500 focus:border-purple-500",value:u,onChange:e=>p(e.target.value),children:[H.jsx("option",{value:"all",children:"Todo (Todos los Niveles)"}),[...new Set(h.map(e=>e.nivelPrecio))].filter(Boolean).map((e,t)=>H.jsx("option",{value:e,children:e},t))]})]}),H.jsxs("div",{className:"pt-2 flex justify-end gap-2",children:[H.jsx(Za,{variant:"ghost",onClick:()=>l(!1),children:"Cancelar"}),H.jsx(Za,{onClick:()=>{if(!c||isNaN(parseFloat(c)))return void alert("Por favor ingrese un margen vlido.");if(!t)return;const e=parseFloat(t.costoUnitario)||parseFloat(t.costoEstandar)||0,r=parseFloat(c),a=h.map(t=>{if("all"!==u&&t.nivelPrecio!==u)return t;const a=parseFloat(t.cantidadInicial)||1,n=e*a*(1+r/100);return{...t,porcentaje:r,precio:parseFloat(n.toFixed(2))}});m(a),l(!1),d("")},className:"bg-purple-600 hover:bg-purple-700 text-white",children:"Aplicar"})]})]})]})})]})};let Kd,Jd,Yd,Xd={data:""},Qd=e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||Xd},Zd=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,eu=/\/\*[^]*?\*\/|  +/g,tu=/\n+/g,ru=(e,t)=>{let r="",a="",n="";for(let o in e){let i=e[o];"@"==o[0]?"i"==o[1]?r=o+" "+i+";":a+="f"==o[1]?ru(i,o):o+"{"+ru(i,"k"==o[1]?"":t)+"}":"object"==typeof i?a+=ru(i,t?t.replace(/([^,])+/g,e=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):o):null!=i&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=ru.p?ru.p(o,i):o+":"+i+";")}return r+(t&&n?t+"{"+n+"}":n)+a},au={},nu=e=>{if("object"==typeof e){let t="";for(let r in e)t+=r+nu(e[r]);return t}return e},ou=(e,t,r,a,n)=>{let o=nu(e),i=au[o]||(au[o]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return"go"+r})(o));if(!au[i]){let t=o!==e?e:(e=>{let t,r,a=[{}];for(;t=Zd.exec(e.replace(eu,""));)t[4]?a.shift():t[3]?(r=t[3].replace(tu," ").trim(),a.unshift(a[0][r]=a[0][r]||{})):a[0][t[1]]=t[2].replace(tu," ").trim();return a[0]})(e);au[i]=ru(n?{["@keyframes "+i]:t}:t,r?"":"."+i)}let s=r&&au.g?au.g:null;return r&&(au.g=au[i]),((e,t,r,a)=>{a?t.data=t.data.replace(a,e):-1===t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e)})(au[i],t,a,s),i};function iu(e){let t=this||{},r=e.call?e(t.p):e;return ou(r.unshift?r.raw?((e,t,r)=>e.reduce((e,a,n)=>{let o=t[n];if(o&&o.call){let e=o(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;o=t?"."+t:e&&"object"==typeof e?e.props?"":ru(e,""):!1===e?"":e}return e+a+(null==o?"":o)},""))(r,[].slice.call(arguments,1),t.p):r.reduce((e,r)=>Object.assign(e,r&&r.call?r(t.p):r),{}):r,Qd(t.target),t.g,t.o,t.k)}iu.bind({g:1});let su=iu.bind({k:1});function lu(e,t){let r=this||{};return function(){let t=arguments;return function a(n,o){let i=Object.assign({},n),s=i.className||a.className;r.p=Object.assign({theme:Jd&&Jd()},i),r.o=/ *go\d+/.test(s),i.className=iu.apply(r,t)+(s?" "+s:"");let l=e;return e[0]&&(l=i.as||e,delete i.as),Yd&&l[0]&&Yd(i),Kd(l,i)}}}var cu=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,du=(()=>{let e=0;return()=>(++e).toString()})(),uu=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),pu="default",hu=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case 2:let{toast:a}=t;return hu(e,{type:e.toasts.find(e=>e.id===a.id)?1:0,toast:a});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,dismissed:!0,visible:!1}:e)};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let o=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+o}))}}},mu=[],gu={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},xu={},fu=(e,t=pu)=>{xu[t]=hu(xu[t]||gu,e),mu.forEach(([e,r])=>{e===t&&r(xu[t])})},bu=e=>Object.keys(xu).forEach(t=>fu(e,t)),vu=(e=pu)=>t=>{fu(t,e)},yu=e=>(t,r)=>{let a=((e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(null==r?void 0:r.id)||du()}))(t,e,r);return vu(a.toasterId||(e=>Object.keys(xu).find(t=>xu[t].toasts.some(t=>t.id===e)))(a.id))({type:2,toast:a}),a.id},wu=(e,t)=>yu("blank")(e,t);wu.error=yu("error"),wu.success=yu("success"),wu.loading=yu("loading"),wu.custom=yu("custom"),wu.dismiss=(e,t)=>{let r={type:3,toastId:e};t?vu(t)(r):bu(r)},wu.dismissAll=e=>wu.dismiss(void 0,e),wu.remove=(e,t)=>{let r={type:4,toastId:e};t?vu(t)(r):bu(r)},wu.removeAll=e=>wu.remove(void 0,e),wu.promise=(e,t,r)=>{let a=wu.loading(t.loading,{...r,...null==r?void 0:r.loading});return"function"==typeof e&&(e=e()),e.then(e=>{let n=t.success?cu(t.success,e):void 0;return n?wu.success(n,{id:a,...r,...null==r?void 0:r.success}):wu.dismiss(a),e}).catch(e=>{let n=t.error?cu(t.error,e):void 0;n?wu.error(n,{id:a,...r,...null==r?void 0:r.error}):wu.dismiss(a)}),e};var ju=su(e||(e=I`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`)),Nu=su(t||(t=I`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`)),ku=su(r||(r=I`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`)),Cu=lu("div")(a||(a=I`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${0};
  position: relative;
  transform: rotate(45deg);

  animation: ${0} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${0} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${0};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${0} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`),e=>e.primary||"#ff4b4b",ju,Nu,e=>e.secondary||"#fff",ku),Su=su(n||(n=I`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`)),Eu=lu("div")(o||(o=I`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${0};
  border-right-color: ${0};
  animation: ${0} 1s linear infinite;
`),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",Su),Pu=su(i||(i=I`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`)),Ou=su(s||(s=I`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`)),Iu=lu("div")(l||(l=I`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${0};
  position: relative;
  transform: rotate(45deg);

  animation: ${0} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${0} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${0};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`),e=>e.primary||"#61d345",Pu,Ou,e=>e.secondary||"#fff"),Au=lu("div")(c||(c=I`
  position: absolute;
`)),Du=lu("div")(d||(d=I`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`)),Mu=su(u||(u=I`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`)),Tu=lu("div")(p||(p=I`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${0} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`),Mu),Fu=({toast:e})=>{let{icon:t,type:r,iconTheme:a}=e;return void 0!==t?"string"==typeof t?W.createElement(Tu,null,t):t:"blank"===r?null:W.createElement(Du,null,W.createElement(Eu,{...a}),"loading"!==r&&W.createElement(Au,null,"error"===r?W.createElement(Cu,{...a}):W.createElement(Iu,{...a})))},zu=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,Ru=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,_u=lu("div")(h||(h=I`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`)),Lu=lu("div")(m||(m=I`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`));W.memo(({toast:e,position:t,style:r,children:a})=>{let n=e.height?((e,t)=>{let r=e.includes("top")?1:-1,[a,n]=uu()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[zu(r),Ru(r)];return{animation:t?`${su(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${su(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(e.position||t||"top-center",e.visible):{opacity:0},o=W.createElement(Fu,{toast:e}),i=W.createElement(Lu,{...e.ariaProps},cu(e.message,e));return W.createElement(_u,{className:e.className,style:{...n,...r,...e.style}},"function"==typeof a?a({icon:o,message:i}):W.createElement(W.Fragment,null,o,i))}),function(e,t,r,a){ru.p=t,Kd=e,Jd=r,Yd=a}(W.createElement),iu(g||(g=I`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`));var $u=wu;const Uu="http://localhost:5006/api",Bu=e=>new Intl.NumberFormat("es-DO",{style:"currency",currency:"DOP"}).format(e),Vu=e=>new Intl.NumberFormat("es-DO").format(e),Gu=()=>{const{articuloId:e}=lt(),t=it(),[r,a]=W.useState(!0),[n,o]=W.useState(null),[i,s]=W.useState({fechaInicio:"",fechaFin:"",tipoMovimiento:""}),[l,c]=W.useState(""),[d,u]=W.useState([]),[p,h]=W.useState(!e),[m,g]=W.useState(!1),[x,f]=W.useState(!1),[b,v]=W.useState(""),[y,w]=W.useState([]),[j,N]=W.useState(""),[k,C]=W.useState(""),S=K.useMemo(()=>{const e=(null==n?void 0:n.movimientos)||[];return m?e.reduce((e,t)=>{const r=t.almacenNombre||"Sin Almacn";return e[r]||(e[r]=[]),e[r].push(t),e},{}):null},[n,m]);W.useEffect(()=>{e?h(!1):(h(!0),a(!1))},[e]);const E=e=>{const t=e.target.value;c(t),(async t=>{if(t)try{const e=(await Pn()).filter(e=>e.descripcion.toLowerCase().includes(t.toLowerCase())||e.numeroArticulo.toLowerCase().includes(t.toLowerCase())).slice(0,10);u(e)}catch(e){$u.error("Error buscando artculos")}else u([])})(t)},P=({title:e,value:t,icon:r,colorClass:a,subtext:n})=>H.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-100 flex items-center justify-between",children:[H.jsxs("div",{children:[H.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:e}),H.jsx("h3",{className:`text-2xl font-bold ${a}`,children:t}),n&&H.jsx("p",{className:"text-xs text-slate-400 mt-1",children:n})]}),H.jsx("div",{className:`p-3 rounded-full ${a.replace("text-","bg-").replace("600","100")}`,children:H.jsx(r,{className:`w-6 h-6 ${a}`})})]}),O=async()=>{try{console.log("[Historial] Fetching data for ID:",e),a(!0);const t=new URLSearchParams;i.fechaInicio&&t.append("fechaInicio",i.fechaInicio),i.fechaFin&&t.append("fechaFin",i.fechaFin),i.tipoMovimiento&&t.append("tipoMovimiento",i.tipoMovimiento);const r=await fetch(`${Uu}/ArticuloHistorial/${e}?${t.toString()}`);if(console.log("[Historial] Fetch Status:",r.status,r.statusText),!r.ok){const e=await r.text();throw console.error("[Historial] Fetch Error Body:",e),new Error("Error al cargar historial: "+r.status)}const n=await r.json();console.log("[Historial] Data Received:",n),o(n)}catch(t){console.error("[Historial] Catch Error:",t),$u.error(t.message)}finally{a(!1)}};if(W.useEffect(()=>{e&&O()},[e,i]),r&&!n)return H.jsx("div",{className:"p-8 text-center",children:"Cargando historial..."});if(!n)return H.jsx("div",{className:"p-8 text-center text-red-500",children:"No se encontraron datos."});const{encabezado:I,kpis:A,movimientos:D}=n||{encabezado:{},kpis:{},movimientos:[]};return p?H.jsx("div",{className:"p-6 bg-slate-50 min-h-screen flex flex-col items-center pt-20",children:H.jsxs("div",{className:"w-full max-w-2xl text-center space-y-8",children:[H.jsxs("div",{children:[H.jsx("h1",{className:"text-4xl font-bold text-slate-800 tracking-tight mb-2",children:"Historial de Artculos"}),H.jsx("p",{className:"text-slate-500",children:"Busca un producto para ver su kardex detallado"})]}),H.jsxs("div",{className:"relative",children:[H.jsx(ja,{className:"absolute left-4 top-4 text-slate-400 w-6 h-6"}),H.jsx("input",{type:"text",className:"w-full h-14 pl-14 pr-4 rounded-2xl border-2 border-slate-200 focus:border-indigo-500 focus:ring-0 text-lg shadow-sm transition-all",placeholder:"Buscar por cdigo o descripcin...",value:l,onChange:E,autoFocus:!0})]}),H.jsxs("div",{className:"space-y-3",children:[d.map(e=>H.jsxs("button",{onClick:()=>t(`/inventario/historial/${e.id}`),className:"w-full bg-white p-4 rounded-xl shadow-sm border border-slate-100 hover:border-indigo-300 hover:shadow-md transition-all flex items-center justify-between group",children:[H.jsxs("div",{className:"text-left",children:[H.jsx("h3",{className:"font-bold text-slate-800 group-hover:text-indigo-600",children:e.descripcion}),H.jsxs("p",{className:"text-xs text-slate-500",children:["Code: ",e.numeroArticulo]})]}),H.jsxs("div",{className:"text-right",children:[H.jsxs("span",{className:"text-sm font-bold text-slate-700 block",children:["Stock: ",e.stockActual]}),H.jsx("span",{className:"text-xs text-slate-400",children:e.unidadMedida})]})]},e.id)),l&&0===d.length&&H.jsx("div",{className:"text-slate-400 py-4",children:"No se encontraron productos"})]})]})}):H.jsxs("div",{className:"p-6 bg-slate-50 min-h-screen",children:[H.jsxs("div",{className:"flex items-center justify-between mb-6",children:[H.jsxs("div",{className:"flex items-center gap-4",children:[H.jsx("button",{onClick:()=>t(-1),className:"p-2 hover:bg-white rounded-full transition-colors",children:H.jsx(ar,{className:"w-6 h-6 text-slate-600"})}),H.jsxs("div",{children:[H.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[(null==I?void 0:I.descripcion)||"Artculo sin nombre",H.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+("Activo"===(null==I?void 0:I.estado)?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:(null==I?void 0:I.estado)||"N/A"})]}),H.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 mt-1",children:[H.jsxs("span",{className:"flex items-center gap-1",children:[H.jsx(Ia,{className:"w-4 h-4"})," ",I.codigo]}),H.jsxs("span",{className:"flex items-center gap-1",children:[H.jsx(mr,{className:"w-4 h-4"})," ",I.categoria]}),H.jsxs("span",{children:["U.M: ",I.unidadMedida]})]})]})]}),H.jsxs("div",{className:"flex gap-2",children:[H.jsxs("button",{onClick:async()=>{if(confirm("Ests seguro de conciliar el stock basndose en el historial completo de todos los almacenes?"))try{const t=await fetch(`${Uu}/Articulos/${e}/RecalculateStock`,{method:"POST"}),r=await t.json();if(t.ok){$u.success(`Stock conciliado: ${r.nuevoStock}`);const e=`\n                                    <html>\n                                    <head>\n                                        <title>Reporte de Conciliacin - ${I.descripcion}</title>\n                                        <style>\n                                            body { font-family: 'Segoe UI', sans-serif; padding: 20px; font-size: 12px; }\n                                            .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 10px; margin-bottom: 20px; }\n                                            .title { font-size: 20px; font-weight: bold; margin-bottom: 5px; }\n                                            .subtitle { color: #555; }\n                                            .section { margin-bottom: 20px; page-break-inside: avoid; }\n                                            .section-title { font-size: 16px; font-weight: bold; color: #4338ca; border-bottom: 1px solid #e5e7eb; padding-bottom: 5px; margin-bottom: 10px; }\n                                            \n                                            .kpi-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 20px; }\n                                            .kpi-card { border: 1px solid #ddd; padding: 10px; border-radius: 6px; background: #f9fafb; text-align: center; }\n                                            .kpi-label { color: #666; font-size: 11px; text-transform: uppercase; }\n                                            .kpi-value { font-size: 18px; font-weight: bold; color: #111; }\n                                            \n                                            .table { width: 100%; border-collapse: collapse; font-size: 11px; }\n                                            .table th, .table td { border: 1px solid #e5e7eb; padding: 6px; text-align: left; }\n                                            .table th { background-color: #f3f4f6; font-weight: bold; color: #374151; }\n                                            .text-right { text-align: right; }\n                                            \n                                            .footer { margin-top: 30px; font-size: 10px; color: #999; text-align: center; border-top: 1px solid #eee; padding-top: 10px; }\n                                        </style>\n                                    </head>\n                                    <body>\n                                        <div class="header">\n                                            <div class="title">Reporte de Conciliacin de Inventario</div>\n                                            <div class="subtitle">${(new Date).toLocaleString()} - Generado tras Reclculo</div>\n                                        </div>\n\n                                        <div class="info" style="display: flex; justify-content: space-between; margin-bottom: 20px; background: #f8fafc; padding: 15px; border-radius: 8px; border: 1px solid #e2e8f0;">\n                                            <div>\n                                                <p><strong>Artculo:</strong> ${I.descripcion}</p>\n                                                <p><strong>Cdigo:</strong> ${I.codigo}</p>\n                                            </div>\n                                            <div class="text-right">\n                                                <p><strong>Categora:</strong> ${I.categoria}</p>\n                                                <p><strong>Unidad:</strong> ${I.unidadMedida}</p>\n                                            </div>\n                                        </div>\n\n                                        \x3c!-- KPIs Conciliados --\x3e\n                                        <div class="section">\n                                            <div class="section-title">Resultados de la Conciliacin</div>\n                                            <div class="kpi-grid">\n                                                <div class="kpi-card">\n                                                    <div class="kpi-label">Stock Anterior</div>\n                                                    <div class="kpi-value">${Vu(void 0!==r.stockAnterior?r.stockAnterior:0)}</div>\n                                                </div>\n                                                <div class="kpi-card">\n                                                    <div class="kpi-label">Stock Nuevo</div>\n                                                    <div class="kpi-value">${Vu(r.nuevoStock||0)}</div>\n                                                </div>\n                                                <div class="kpi-card">\n                                                    <div class="kpi-label">Total Entradas</div>\n                                                    <div class="kpi-value text-green-600">+${Vu(r.totalEntradas||0)}</div>\n                                                </div>\n                                                <div class="kpi-card">\n                                                    <div class="kpi-label">Total Salidas</div>\n                                                    <div class="kpi-value text-red-600">-${Vu(r.totalSalidas||0)}</div>\n                                                </div>\n                                                <div className="kpi-card">\n                                                    <div className="kpi-label">Total Compras</div>\n                                                    <div className="kpi-value text-blue-600">+${Vu(r.totalCompras||r.TotalCompras||0)}</div>\n                                                </div>\n                                                <div className="kpi-card">\n                                                    <div className="kpi-label">Entradas por Recepcin</div>\n                                                    <div className="kpi-value text-green-600">+${Vu(r.entradasRecepcion||r.EntradasRecepcion||0)}</div>\n                                                </div>\n                                            </div>\n                                            <div style="font-size: 14px; text-align: center; padding: 10px; background: ${0===r.diferencia?"#f0fdf4":"#fef2f2"}; color: ${0===r.diferencia?"#15803d":"#b91c1c"}; border-radius: 6px; border: 1px solid currentColor;">\n                                                <strong>Ajuste Realizado: ${r.diferencia>0?"+":""}${Vu(r.diferencia)}</strong>\n                                                ${0===r.diferencia?"(El inventario ya estaba correcto)":"(Se corrigi el inventario re-sumando historial)"}\n                                            </div>\n                                        </div>\n\n                                        \x3c!-- Movements Table --\x3e\n                                        <div class="section">\n                                            <div class="section-title">Historial Completo Utilizado para Clculo</div>\n                                            <table class="table">\n                                                <thead>\n                                                    <tr>\n                                                        <th>Fecha</th>\n                                                        <th>Tipo</th>\n                                                        <th>Doc</th>\n                                                        <th class="text-right">Ctd</th>\n                                                        <th class="text-right">Costo</th>\n                                                        <th>Almacn</th>\n                                                    </tr>\n                                                </thead>\n                                                <tbody>\n                                                    ${(r.movimientos||(null==n?void 0:n.movimientos)||[]).map(e=>`\n                                                        <tr>\n                                                            <td>${new Date(e.fechaMovimiento||e.FechaMovimiento).toLocaleString()}</td>\n                                                            <td>${e.tipoMovimiento||e.TipoMovimiento}</td>\n                                                            <td>${e.referencia||e.Referencia||e.documento||"-"}</td>\n                                                            <td class="text-right" style="color: ${(e.cantidad||e.Cantidad)>0?"#16a34a":"#dc2626"}">\n                                                                ${Vu(e.cantidad||e.Cantidad)}\n                                                            </td>\n                                                            <td class="text-right">${Bu(e.costo||e.Costo||0)}</td>\n                                                            <td>${e.almacenNombre||e.AlmacenId||"-"}</td>\n                                                        </tr>\n                                                    `).join("")}\n                                                </tbody>\n                                            </table>\n                                        </div>\n\n                                        <div class="footer">\n                                            Generado por Sistema Crono POS - Auditora de Inventario\n                                        </div>\n                                    </body>\n                                    </html>\n                                `,t=window.open("","","width=800,height=600");t.document.write(e),t.document.close(),t.focus(),setTimeout(()=>{t.print(),t.close(),window.location.reload()},500)}else $u.error(r.message)}catch(Xd){console.error(Xd),$u.error("Error al conciliar")}},className:"flex items-center gap-2 bg-slate-100 px-3 py-2 rounded-lg shadow-sm text-slate-600 hover:bg-slate-200 font-medium border border-slate-200 text-xs",children:[H.jsx(va,{className:"w-3 h-3"})," Auditar (Reclculo)"]}),H.jsxs("button",{onClick:async()=>{f(!0),v((null==A?void 0:A.existenciaActual)||0);try{const e=await Do();console.log("Motivos loaded:",e);const t=(Array.isArray(e)?e:e.data||[]).filter(e=>e.activo);w(t),t.length>0&&N(t[0].id)}catch(Xd){console.error("Error loading motivos:",Xd),$u.error("Error cargando motivos")}},className:"flex items-center gap-2 bg-hd-orange px-4 py-2 rounded-lg shadow-sm text-white hover:bg-orange-600 font-medium border border-transparent",children:[H.jsx(va,{className:"w-4 h-4"})," Ajustar Stock"]}),H.jsxs("button",{onClick:O,className:"flex items-center gap-2 bg-white px-4 py-2 rounded-lg shadow-sm text-indigo-600 hover:bg-indigo-50 font-medium border border-slate-200",children:[H.jsx(va,{className:"w-4 h-4"})," Actualizar"]})]})]}),x&&H.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:H.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6 animate-in fade-in zoom-in duration-200",children:[H.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Ajuste Rpido de Inventario"}),H.jsxs("div",{className:"space-y-4",children:[H.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-100 flex justify-between items-center",children:[H.jsx("span",{className:"text-sm text-gray-500",children:"Stock Sistema:"}),H.jsx("span",{className:"font-mono font-bold text-lg",children:A.existenciaActual})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Fsico Real"}),H.jsx("input",{type:"number",autoFocus:!0,className:"w-full text-2xl font-bold text-center border-2 border-indigo-100 focus:border-indigo-500 rounded-lg py-2",value:b,onChange:e=>v(e.target.value)})]}),""!==b&&H.jsxs("div",{className:"text-center text-sm font-medium py-2 rounded "+(parseFloat(b)-A.existenciaActual>=0?"bg-green-50 text-green-700":"bg-red-50 text-red-700"),children:["Diferencia: ",parseFloat(b)-A.existenciaActual>0?"+":"",(parseFloat(b)-A.existenciaActual).toFixed(2)]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Motivo"}),H.jsx("select",{className:"w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500",value:j,onChange:e=>N(e.target.value),children:y.map(e=>H.jsx("option",{value:e.id,children:e.motivo},e.id))})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nota"}),H.jsx("input",{className:"w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500",placeholder:"Opcional...",value:k,onChange:e=>C(e.target.value)})]})]}),H.jsxs("div",{className:"mt-6 flex gap-3 justify-end",children:[H.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-medium",children:"Cancelar"}),H.jsx("button",{onClick:async()=>{var e;if(""===b)return;const t=A.existenciaActual,r=parseFloat(b)-t;if(0===r)return $u("El stock es idntico, no se requiere ajuste."),void f(!1);if(!j)return void $u.error("Seleccione un motivo");const a=r>0?"in":"out",n=Math.abs(r),o={fecha:(new Date).toISOString().split("T")[0],tipoAjuste:a,motivoId:parseInt(j),motivoDescripcion:null===(e=y.find(e=>e.id==j))||void 0===e?void 0:e.motivo,almacenId:1,observaciones:`Ajuste Rpido desde Historial: ${k}`,detalles:[{articuloId:I.id,codigo:I.codigo,descripcion:I.descripcion,unidad:I.unidadMedida,cantidad:n,equivalente:1,costo:I.costoUnitario,planUoM:I.planMedida||"N/A"}]};try{console.log("Sending payload:",o);const e=await ko(o);console.log("Response:",e),$u.success(`Ajuste ${e.documento} creado. Stock actualizado.`),f(!1),O()}catch(Xd){console.error("Error creating adjustment:",Xd),$u.error("Error al crear ajuste: "+Xd.message)}},className:"px-4 py-2 bg-indigo-600 text-white hover:bg-indigo-700 rounded-lg font-medium shadow-sm transition-colors",children:"Confirmar Ajuste"})]})]})}),H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[H.jsx(P,{title:"Existencia Actual",value:Vu(A.existenciaActual),icon:mr,colorClass:"text-blue-600",subtext:`Costo uni: ${Bu(I.costoUnitario)}`}),H.jsx(P,{title:"Total Compras",value:Vu(A.totalCompras),icon:Pa,colorClass:"text-emerald-600",subtext:"Entradas por Recepcin"}),H.jsx(P,{title:"Total Ventas",value:Vu(A.totalVentas),icon:za,colorClass:"text-rose-500",subtext:"Salidas por Facturacin"}),H.jsx(P,{title:"Entradas Totales",value:Vu(A.entradasTotales),icon:lr,colorClass:"text-green-600"}),H.jsx(P,{title:"Salidas Totales",value:Vu(A.salidasTotales),icon:rr,colorClass:"text-red-600"}),H.jsx(P,{title:"Balance Neto",value:Vu(A.balanceNeto),icon:Kr,colorClass:A.balanceNeto>=0?"text-slate-600":"text-amber-600",subtext:"En periodo seleccionado"})]}),H.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-100 mb-6 flex flex-wrap gap-4 items-end",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:"Desde"}),H.jsx("input",{type:"date",className:"input-field-sm",value:i.fechaInicio,onChange:e=>s({...i,fechaInicio:e.target.value})})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:"Hasta"}),H.jsx("input",{type:"date",className:"input-field-sm",value:i.fechaFin,onChange:e=>s({...i,fechaFin:e.target.value})})]})]}),H.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-slate-200 mb-8",children:[H.jsxs("div",{className:"flex justify-between items-center mb-4",children:[H.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items-center gap-2",children:[H.jsx(mr,{className:"w-5 h-5"})," Distribucin de Stock por Almacn"]}),H.jsxs("button",{onClick:()=>{const e=`\n                                <html>\n                                <head>\n                                    <title>Reporte de Articulo - ${I.descripcion}</title>\n                                    <style>\n                                        body { font-family: 'Segoe UI', sans-serif; padding: 20px; font-size: 12px; }\n                                        .header { text-align: center; border-bottom: 2px solid #333; padding-bottom: 10px; margin-bottom: 20px; }\n                                        .title { font-size: 20px; font-weight: bold; margin-bottom: 5px; }\n                                        .subtitle { color: #555; }\n                                        .section { margin-bottom: 20px; page-break-inside: avoid; }\n                                        .section-title { font-size: 16px; font-weight: bold; color: #4338ca; border-bottom: 1px solid #e5e7eb; padding-bottom: 5px; margin-bottom: 10px; }\n                                        \n                                        .kpi-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 20px; }\n                                        .kpi-card { border: 1px solid #ddd; padding: 10px; border-radius: 6px; background: #f9fafb; text-align: center; }\n                                        .kpi-label { color: #666; font-size: 11px; text-transform: uppercase; }\n                                        .kpi-value { font-size: 18px; font-weight: bold; color: #111; }\n                                        \n                                        .table { width: 100%; border-collapse: collapse; font-size: 11px; }\n                                        .table th, .table td { border: 1px solid #e5e7eb; padding: 6px; text-align: left; }\n                                        .table th { background-color: #f3f4f6; font-weight: bold; color: #374151; }\n                                        .text-right { text-align: right; }\n                                        .total-row { font-weight: bold; background-color: #f3f4f6; }\n                                        \n                                        .dist-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }\n                                        .dist-item { border: 1px solid #eee; padding: 8px; border-radius: 4px; }\n                                        .dist-bar-bg { height: 8px; background: #eee; border-radius: 4px; margin-top: 4px; overflow: hidden; }\n                                        .dist-bar { height: 100%; background: #4f46e5; }\n                                        \n                                        .footer { margin-top: 30px; font-size: 10px; color: #999; text-align: center; border-top: 1px solid #eee; padding-top: 10px; }\n                                        \n                                        @media print {\n                                            body { padding: 0; }\n                                            .info { display: flex; justify-content: space-between; margin-bottom: 20px; }\n                                            table { page-break-inside: auto; }\n                                            tr { page-break-inside: avoid; page-break-after: auto; }\n                                        }\n                                    </style>\n                                </head>\n                                <body>\n                                    <div class="header">\n                                        <div class="title">Reporte Detallado de Artculo</div>\n                                        <div class="subtitle">${(new Date).toLocaleString()}</div>\n                                    </div>\n\n                                    <div class="info" style="display: flex; justify-content: space-between; margin-bottom: 20px; background: #f8fafc; padding: 15px; border-radius: 8px; border: 1px solid #e2e8f0;">\n                                        <div>\n                                            <p><strong>Artculo:</strong> ${I.descripcion}</p>\n                                            <p><strong>Cdigo:</strong> ${I.codigo}</p>\n                                        </div>\n                                        <div class="text-right">\n                                            <p><strong>Categora:</strong> ${I.categoria}</p>\n                                            <p><strong>Unidad:</strong> ${I.unidadMedida}</p>\n                                        </div>\n                                    </div>\n\n                                    \x3c!-- KPIs --\x3e\n                                    <div class="section">\n                                        <dvi class="section-title">Resumen de Inventario</div>\n                                        <div class="kpi-grid">\n                                            <div class="kpi-card">\n                                                <div class="kpi-label">Existencia Actual</div>\n                                                <div class="kpi-value">${Vu(A.existenciaActual)}</div>\n                                            </div>\n                                            <div class="kpi-card">\n                                                <div class="kpi-label">Total Entradas</div>\n                                                <div class="kpi-value text-green-600">+${Vu(A.entradasTotales)}</div>\n                                            </div>\n                                            <div class="kpi-card">\n                                                <div class="kpi-label">Total Salidas</div>\n                                                <div class="kpi-value text-red-600">-${Vu(A.salidasTotales)}</div>\n                                            </div>\n                                             <div class="kpi-card">\n                                                <div class="kpi-label">Compras (Periodo)</div>\n                                                <div class="kpi-value" style="color: #4f46e5;">+${Vu(A.totalCompras)}</div>\n                                            </div>\n                                             <div class="kpi-card">\n                                                <div class="kpi-label">Ventas (Periodo)</div>\n                                                <div class="kpi-value" style="color: #ea580c;">-${Vu(A.totalVentas)}</div>\n                                            </div>\n                                            <div class="kpi-card">\n                                                <div class="kpi-label">Balance Neto</div>\n                                                <div class="kpi-value">${Vu(A.balanceNeto)}</div>\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    \x3c!-- Distribution --\x3e\n                                    <div class="section">\n                                        <div class="section-title">Distribucin por Almacn</div>\n                                        <div class="dist-grid">\n                                            ${n.stockDistribucion.map(e=>{const t=A.existenciaActual>0?A.existenciaActual:1,r=Math.max(0,Math.min(100,e.stock/t*100));return`\n                                                <div class="dist-item">\n                                                    <div style="display:flex; justify-content:space-between; margin-bottom:2px;">\n                                                        <strong>${e.almacen}</strong>\n                                                        <span>${Vu(e.stock)}</span>\n                                                    </div>\n                                                    <div class="dist-bar-bg">\n                                                        <div class="dist-bar" style="width: ${r}%"></div>\n                                                    </div>\n                                                </div>\n                                                `}).join("")}\n                                        </div>\n                                    </div>\n\n                                    \x3c!-- Movements Table --\x3e\n                                    <div class="section">\n                                        <div class="section-title">Historial de Movimientos</div>\n                                        <table class="table">\n                                            <thead>\n                                                <tr>\n                                                    <th>Fecha</th>\n                                                    <th>Tipo</th>\n                                                    <th>Doc</th>\n                                                    <th class="text-right">Entrada</th>\n                                                    <th class="text-right">Salida</th>\n                                                    <th class="text-right">Balance</th>\n                                                    <th>Almacn</th>\n                                                </tr>\n                                            </thead>\n                                            <tbody>\n                                                ${((null==n?void 0:n.movimientos)||[]).map(e=>`\n                                                    <tr>\n                                                        <td>${new Date(e.fechaMovimiento).toLocaleString()}</td>\n                                                        <td>${e.tipoMovimiento}</td>\n                                                        <td>${e.referencia||e.documento||"-"}</td>\n                                                        <td class="text-right" style="color: ${e.entrada>0?"#16a34a":"inherit"}">\n                                                            ${e.entrada>0?Vu(e.entrada):"-"}\n                                                        </td>\n                                                        <td class="text-right" style="color: ${e.salida>0?"#dc2626":"inherit"}">\n                                                            ${e.salida>0?Vu(e.salida):"-"}\n                                                        </td>\n                                                        <td class="text-right"><b>${Vu(e.balance)}</b></td>\n                                                        <td>${e.almacenNombre}</td>\n                                                    </tr>\n                                                `).join("")}\n                                            </tbody>\n                                        </table>\n                                    </div>\n\n                                    <div class="footer">\n                                        Generado por Sistema Crono POS - Documento Interno\n                                    </div>\n                                </body>\n                                </html>\n                            `,t=window.open("","","width=800,height=600");t.document.write(e),t.document.close(),t.focus(),setTimeout(()=>{t.print(),t.close()},500)},className:"flex items-center gap-2 text-indigo-600 hover:text-indigo-800 bg-indigo-50 px-3 py-1.5 rounded-md text-sm font-medium transition-colors",children:[H.jsx(fa,{className:"w-4 h-4"}),"Imprimir Reporte"]})]}),n.stockDistribucion&&n.stockDistribucion.length>0?H.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.stockDistribucion.map((e,t)=>{const r=n.kpis.existenciaActual>0?n.kpis.existenciaActual:1,a=Math.max(0,Math.min(100,e.stock/r*100));return H.jsxs("div",{className:"relative",children:[H.jsxs("div",{className:"flex justify-between text-xs font-medium text-slate-600 mb-1",children:[H.jsx("span",{children:e.almacen}),H.jsx("span",{className:"text-slate-900 font-bold",children:Vu(e.stock)})]}),H.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2.5 overflow-hidden",children:H.jsx("div",{className:"h-2.5 rounded-full "+(e.stock>0?"bg-indigo-500":"bg-red-400"),style:{width:`${a}%`}})})]},t)})}):H.jsx("p",{className:"text-slate-500 italic text-sm",children:"No hay informacin de distribucin por almacn."})]}),H.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-100 overflow-hidden",children:[H.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 bg-slate-50/50 flex justify-between items-center",children:[H.jsxs("h3",{className:"font-semibold text-slate-800 flex items-center gap-2",children:[H.jsx(fr,{className:"w-5 h-5 text-indigo-500"}),"Historial de Movimientos"]}),H.jsx("div",{className:"flex gap-2",children:H.jsxs("button",{onClick:()=>g(!m),className:"flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors "+(m?"bg-indigo-100 text-indigo-700 border border-indigo-200":"bg-white text-slate-600 border border-slate-300 hover:bg-slate-50"),children:[H.jsx(mr,{className:"w-4 h-4"}),m?"Desagrupar":"Agrupar por Almacn"]})})]}),r?H.jsxs("div",{className:"p-12 text-center text-slate-500 flex flex-col items-center",children:[H.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-indigo-500 mb-4"}),H.jsx("p",{children:"Cargando historial..."})]}):H.jsx("div",{className:"overflow-x-auto",children:H.jsxs("table",{className:"w-full text-sm text-left",children:[H.jsx("thead",{className:"text-xs text-slate-500 uppercase bg-slate-50 border-b border-slate-100",children:H.jsxs("tr",{children:[H.jsx("th",{className:"px-6 py-3",children:"Fecha / Hora"}),H.jsx("th",{className:"px-6 py-3",children:"Tipo"}),H.jsx("th",{className:"px-6 py-3",children:"Documento"}),H.jsx("th",{className:"px-6 py-3 text-right text-green-700 bg-green-50",children:"Entrada"}),H.jsx("th",{className:"px-6 py-3 text-right text-red-700 bg-red-50",children:"Salida"}),H.jsx("th",{className:"px-6 py-3 text-right",children:"Stock"}),H.jsx("th",{className:"px-6 py-3",children:"Almacn"}),H.jsx("th",{className:"px-6 py-3",children:"Usuario"}),H.jsx("th",{className:"px-6 py-3",children:"Info"})]})}),H.jsx("tbody",{className:"divide-y divide-slate-100",children:m&&S?Object.entries(S).map(([e,t])=>H.jsxs(K.Fragment,{children:[H.jsx("tr",{className:"bg-slate-50/80",children:H.jsx("td",{colSpan:"9",className:"px-6 py-2 font-semibold text-slate-700 border-t border-b border-slate-200",children:H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx(mr,{className:"w-4 h-4 text-indigo-500"}),e,H.jsxs("span",{className:"text-xs font-normal text-slate-500 ml-2",children:["(",t.length," movimientos)"]})]})})}),t.map(e=>H.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[H.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-slate-600",children:new Date(e.fechaMovimiento).toLocaleString()}),H.jsx("td",{className:"px-6 py-3 font-medium text-slate-700",children:H.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+(e.entrada>0?"bg-emerald-100 text-emerald-800":e.salida>0?"bg-rose-100 text-rose-800":"bg-slate-100 text-slate-800"),children:e.tipoMovimiento})}),H.jsx("td",{className:"px-6 py-3 text-slate-500 font-mono text-xs",children:e.numeroDocumento||e.referencia||"-"}),H.jsx("td",{className:"px-6 py-3 text-right font-medium text-emerald-600 bg-green-50/30",children:e.entrada>0?`+${Vu(e.entrada)}`:"-"}),H.jsx("td",{className:"px-6 py-3 text-right font-medium text-rose-600 bg-red-50/30",children:e.salida>0?`-${Vu(e.salida)}`:"-"}),H.jsx("td",{className:"px-6 py-3 text-right text-xs text-slate-500 bg-slate-50/50",children:void 0!==e.stockAnterior&&null!==e.stockAnterior?H.jsxs(H.Fragment,{children:[Vu(e.stockAnterior)," ",H.jsx("span",{className:"mx-1",children:""})," ",H.jsx("strong",{className:"text-slate-700 text-sm",children:Vu(e.balance||0)})]}):H.jsx("strong",{className:"text-slate-700 text-sm",children:Vu(e.balance||0)})}),H.jsx("td",{className:"px-6 py-3 text-slate-600",children:e.almacenNombre}),H.jsx("td",{className:"px-6 py-3 text-slate-500 text-xs",children:e.usuario}),H.jsx("td",{className:"px-6 py-3 text-slate-500 text-xs font-mono",children:e.referencia||"-"})]},e.id))]},e)):D.length>0?D.map(e=>H.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[H.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-slate-600",children:new Date(e.fechaMovimiento).toLocaleString()}),H.jsx("td",{className:"px-6 py-3 font-medium text-slate-700",children:H.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+(e.entrada>0?"bg-emerald-100 text-emerald-800":e.salida>0?"bg-rose-100 text-rose-800":"bg-slate-100 text-slate-800"),children:e.tipoMovimiento})}),H.jsx("td",{className:"px-6 py-3 text-slate-500 font-mono text-xs",children:e.numeroDocumento||e.referencia||"-"}),H.jsx("td",{className:"px-6 py-3 text-right font-medium text-emerald-600 bg-green-50/30",children:e.entrada>0?`+${Vu(e.entrada)}`:"-"}),H.jsx("td",{className:"px-6 py-3 text-right font-medium text-rose-600 bg-red-50/30",children:e.salida>0?`-${Vu(e.salida)}`:"-"}),H.jsx("td",{className:"px-6 py-3 text-right text-xs text-slate-500 bg-slate-50/50",children:void 0!==e.stockAnterior&&null!==e.stockAnterior?H.jsxs(H.Fragment,{children:[Vu(e.stockAnterior)," ",H.jsx("span",{className:"mx-1",children:""})," ",H.jsx("strong",{className:"text-slate-700 text-sm",children:Vu(e.balance||0)})]}):H.jsx("strong",{className:"text-slate-700 text-sm",children:Vu(e.balance||0)})}),H.jsx("td",{className:"px-6 py-3 text-slate-600",children:e.almacenNombre}),H.jsx("td",{className:"px-6 py-3 text-slate-500 text-xs",children:e.usuario}),H.jsx("td",{className:"px-6 py-3 text-slate-500 text-xs font-mono",children:e.referencia||"-"})]},e.id)):H.jsx("tr",{children:H.jsx("td",{colSpan:"9",className:"px-6 py-12 text-center text-slate-500",children:"No se encontraron movimientos para el rango seleccionado"})})})]})})]})]})},qu=()=>{const e=it(),[t,r]=W.useState([]),[a,n]=W.useState(!1),[o,i]=W.useState(!1),[s,l]=W.useState({id:0,nombre:"",descripcion:"",activo:!0});W.useEffect(()=>{c()},[]);const c=async()=>{n(!0);try{const e=await mn();r(e)}catch(e){console.error(e)}finally{n(!1)}},d=async e=>{if(window.confirm("Est seguro de eliminar este nivel de precio?"))try{await(async e=>{if(!(await fetch(`${hn}/NivelesPrecio/${e}`,{method:"DELETE"})).ok)throw new Error("Error deleting price level");return!0})(e),c()}catch(t){console.error(t),alert("Error al eliminar")}};return H.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-6",children:[H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs("div",{className:"flex items-center gap-4",children:[H.jsx(Za,{variant:"ghost",onClick:()=>e("/inventario/lista-precios"),children:H.jsx(ar,{className:"h-5 w-5"})}),H.jsxs("div",{children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Niveles de Precio"}),H.jsx("p",{className:"text-gray-500 text-sm",children:"Administre los niveles de precios disponibles para los artculos."})]})]}),H.jsxs(Za,{onClick:()=>{l({id:0,nombre:"",descripcion:"",activo:!0}),i(!0)},className:"bg-hd-orange hover:bg-orange-600",children:[H.jsx(xa,{className:"h-4 w-4 mr-2"}),"Nuevo Nivel"]})]}),H.jsx(ln,{children:H.jsx(un,{className:"p-0",children:H.jsxs(tn,{children:[H.jsx(rn,{children:H.jsxs(nn,{children:[H.jsx(on,{children:"Nombre"}),H.jsx(on,{children:"Descripcin"}),H.jsx(on,{className:"w-24 text-center",children:"Activo"}),H.jsx(on,{className:"w-32 text-center",children:"Acciones"})]})}),H.jsx(an,{children:a?H.jsx(nn,{children:H.jsx(sn,{colSpan:4,className:"text-center py-8",children:"Cargando..."})}):0===t.length?H.jsx(nn,{children:H.jsx(sn,{colSpan:4,className:"text-center py-8 text-gray-500",children:"No hay niveles configurados"})}):t.map(e=>H.jsxs(nn,{children:[H.jsx(sn,{className:"font-medium",children:e.nombre}),H.jsx(sn,{children:e.descripcion}),H.jsx(sn,{className:"text-center",children:H.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold "+(e.activo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.activo?"Activo":"Inactivo"})}),H.jsx(sn,{className:"text-center",children:H.jsxs("div",{className:"flex items-center justify-center gap-2",children:[H.jsx(Za,{variant:"ghost",size:"sm",onClick:()=>(l(e),void i(!0)),children:H.jsx(pa,{className:"h-4 w-4 text-blue-600"})}),H.jsx(Za,{variant:"ghost",size:"sm",onClick:()=>d(e.id),children:H.jsx(Ta,{className:"h-4 w-4 text-red-600"})})]})})]},e.id))})]})})}),o&&H.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:H.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[H.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[H.jsx("h3",{className:"text-lg font-semibold",children:s.id?"Editar Nivel":"Nuevo Nivel"}),H.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600",children:H.jsx(Ha,{className:"h-5 w-5"})})]}),H.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{s.id?await(async(e,t)=>{if(!(await fetch(`${hn}/NivelesPrecio/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)throw new Error("Error updating price level");return!0})(s.id,s):await gn(s),i(!1),c()}catch(t){console.error(t),alert("Error al guardar")}},className:"p-6 space-y-4",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),H.jsx(en,{value:s.nombre,onChange:e=>l({...s,nombre:e.target.value}),placeholder:"Ej: Mayorista",required:!0})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),H.jsx(en,{value:s.descripcion||"",onChange:e=>l({...s,descripcion:e.target.value}),placeholder:"Opcional"})]}),H.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[H.jsx("input",{type:"checkbox",id:"activeCheck",checked:s.activo,onChange:e=>l({...s,activo:e.target.checked}),className:"h-4 w-4 text-hd-orange border-gray-300 rounded focus:ring-hd-orange"}),H.jsx("label",{htmlFor:"activeCheck",className:"text-sm font-medium text-gray-700",children:"Activo"})]}),H.jsxs("div",{className:"pt-4 flex justify-end gap-2",children:[H.jsx(Za,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancelar"}),H.jsx(Za,{type:"submit",className:"bg-hd-orange hover:bg-orange-600",children:"Guardar"})]})]})]})})]})},Hu=()=>{const[e,t]=W.useState([]),[r,a]=W.useState(!0),[n,o]=W.useState("");W.useEffect(()=>{i()},[]);const i=async()=>{try{a(!0);const e=await(async()=>{const e=await fetch("http://localhost:5006/api/ReportesInventario/Valoracion");if(!e.ok)throw new Error(`Failed to get valuation: ${e.status}`);return e.json()})();t(e)}catch(e){console.error("Error loading valuation:",e)}finally{a(!1)}},s=e.filter(e=>(e.numeroArticulo||"").toLowerCase().includes(n.toLowerCase())||(e.descripcion||"").toLowerCase().includes(n.toLowerCase())),l=s.reduce((e,t)=>({promedio:e.promedio+t.totalPromedio,fifo:e.fifo+t.totalFIFO,lifo:e.lifo+t.totalLIFO,estandar:e.estandar+t.totalEstandar}),{promedio:0,fifo:0,lifo:0,estandar:0}),c=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return H.jsxs("div",{className:"space-y-6",children:[H.jsxs("div",{children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Valoracin de Inventario"}),H.jsx("p",{className:"text-sm text-gray-500",children:"Comparativa de mtodos de valuacin (Promedio, FIFO, LIFO, Estndar)."})]}),H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[H.jsx(ln,{className:"bg-blue-50 border-blue-200",children:H.jsx(un,{className:"p-6",children:H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs("div",{children:[H.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Costo Promedio"}),H.jsx("p",{className:"text-2xl font-bold text-blue-900",children:c(l.promedio)})]}),H.jsx(ur,{className:"text-blue-400",size:24})]})})}),H.jsx(ln,{className:"bg-green-50 border-green-200",children:H.jsx(un,{className:"p-6",children:H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs("div",{children:[H.jsx("p",{className:"text-sm font-medium text-green-600",children:"FIFO (PEPS)"}),H.jsx("p",{className:"text-2xl font-bold text-green-900",children:c(l.fifo)})]}),H.jsx(za,{className:"text-green-400",size:24})]})})}),H.jsx(ln,{className:"bg-orange-50 border-orange-200",children:H.jsx(un,{className:"p-6",children:H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs("div",{children:[H.jsx("p",{className:"text-sm font-medium text-orange-600",children:"LIFO (UEPS)"}),H.jsx("p",{className:"text-2xl font-bold text-orange-900",children:c(l.lifo)})]}),H.jsx(Fa,{className:"text-orange-400",size:24})]})})}),H.jsx(ln,{className:"bg-gray-50 border-gray-200",children:H.jsx(un,{className:"p-6",children:H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs("div",{children:[H.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Costo Estndar"}),H.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c(l.estandar)})]}),H.jsx(Dr,{className:"text-gray-400",size:24})]})})})]}),H.jsxs(ln,{children:[H.jsx("div",{className:"p-4 border-b border-gray-200",children:H.jsx(en,{placeholder:"Buscar por cdigo o descripcin...",value:n,onChange:e=>o(e.target.value),className:"max-w-md"})}),H.jsx("div",{className:"overflow-x-auto",children:H.jsxs(tn,{children:[H.jsxs(rn,{children:[H.jsxs(nn,{children:[H.jsx(on,{rowSpan:2,children:"Artculo"}),H.jsx(on,{rowSpan:2,className:"text-right",children:"Stock"}),H.jsx(on,{colSpan:2,className:"text-center bg-blue-50/50",children:"Promedio"}),H.jsx(on,{colSpan:2,className:"text-center bg-green-50/50",children:"FIFO"}),H.jsx(on,{colSpan:2,className:"text-center bg-orange-50/50",children:"LIFO"}),H.jsx(on,{colSpan:2,className:"text-center bg-gray-50/50",children:"Estndar"})]}),H.jsxs(nn,{children:[H.jsx(on,{className:"text-right bg-blue-50/30 text-xs",children:"Costo"}),H.jsx(on,{className:"text-right bg-blue-50/30 text-xs font-bold",children:"Total"}),H.jsx(on,{className:"text-right bg-green-50/30 text-xs",children:"Costo"}),H.jsx(on,{className:"text-right bg-green-50/30 text-xs font-bold",children:"Total"}),H.jsx(on,{className:"text-right bg-orange-50/30 text-xs",children:"Costo"}),H.jsx(on,{className:"text-right bg-orange-50/30 text-xs font-bold",children:"Total"}),H.jsx(on,{className:"text-right bg-gray-50/30 text-xs",children:"Costo"}),H.jsx(on,{className:"text-right bg-gray-50/30 text-xs font-bold",children:"Total"})]})]}),H.jsx(an,{children:r?H.jsx(nn,{children:H.jsx(sn,{colSpan:10,className:"text-center py-8",children:"Cargando valoracin..."})}):0===s.length?H.jsx(nn,{children:H.jsx(sn,{colSpan:10,className:"text-center py-8 text-gray-500",children:"No se encontraron artculos con existencia."})}):s.map(e=>H.jsxs(nn,{children:[H.jsxs(sn,{children:[H.jsx("div",{className:"font-medium",children:e.numeroArticulo}),H.jsx("div",{className:"text-xs text-gray-500",children:e.descripcion})]}),H.jsx(sn,{className:"text-right font-medium",children:e.stockActual.toFixed(2)}),H.jsx(sn,{className:"text-right bg-blue-50/10 text-xs",children:c(e.costoPromedio)}),H.jsx(sn,{className:"text-right bg-blue-50/10 font-medium text-blue-700",children:c(e.totalPromedio)}),H.jsx(sn,{className:"text-right bg-green-50/10 text-xs",children:c(e.costoFIFO)}),H.jsx(sn,{className:"text-right bg-green-50/10 font-medium text-green-700",children:c(e.totalFIFO)}),H.jsx(sn,{className:"text-right bg-orange-50/10 text-xs",children:c(e.costoLIFO)}),H.jsx(sn,{className:"text-right bg-orange-50/10 font-medium text-orange-700",children:c(e.totalLIFO)}),H.jsx(sn,{className:"text-right bg-gray-50/10 text-xs",children:c(e.costoEstandar)}),H.jsx(sn,{className:"text-right bg-gray-50/10 font-medium text-gray-700",children:c(e.totalEstandar)})]},e.id))})]})})]})]})},Wu=()=>{const[e,t]=W.useState([]),[r,a]=W.useState(!0);W.useEffect(()=>{(async()=>{try{const e=await fetch("http://localhost:5006/api/ReportesInventario/Transacciones");if(!e.ok)throw new Error("Error fetching report");const r=await e.json();t(r)}catch(e){console.error(e)}finally{a(!1)}})()},[]);const n=e.reduce((e,t)=>e+t.montoDOP,0),o=e.reduce((e,t)=>e+t.montoUSD,0),[i,s]=W.useState({key:"fecha",direction:"desc"}),[l,c]=W.useState({}),[d,u]=W.useState({}),[p,h]=W.useState({}),[m,g]=W.useState(null),[x,f]=W.useState(""),[b,v]=W.useState({fecha:150,documento:120,proveedor:250,monedaOriginal:90,montoOriginal:120,montoDOP:120,montoUSD:120}),y=Object.values(b).reduce((e,t)=>e+t,0),w=(e,t)=>{v(r=>({...r,[e]:t}))},j=e=>{let t="asc";i.key===e&&"asc"===i.direction&&(t="desc"),s({key:e,direction:t})},N=(e,t)=>{t.stopPropagation(),g(m===e?null:e)},k=(e,t)=>{c(r=>({...r,[e]:t}))},C=(e,t,r)=>{h(a=>({...a,[e]:{...a[e]||{min:"",max:""},[t]:r}}))},S=(e,t)=>{u(r=>{const a=r[e]||[];return a.includes(t)?{...r,[e]:a.filter(e=>e!==t)}:{...r,[e]:[...a,t]}})},E=()=>{const t={children:{}};return e.forEach(e=>{const r=new Date(e.fecha),a=String(r.getFullYear()),n=r.toLocaleDateString("es-DO",{month:"long"}),o=String(r.getDate());t.children[a]||(t.children[a]={children:{}}),t.children[a].children[n]||(t.children[a].children[n]={children:{}}),t.children[a].children[n].children[o]||(t.children[a].children[n].children[o]={count:0}),t.children[a].children[n].children[o].count++}),t},P=t=>{const r=e.map(e=>String(e[t]||""));return[...new Set(r)].sort()},O=(()=>{let t=[...e];return x&&(t=t.filter(e=>Object.keys(e).some(t=>{var r;return("fecha"===t?(r=e[t])?new Date(r).toLocaleDateString("es-DO",{year:"numeric",month:"long",day:"2-digit"}):"":String(e[t])).toLowerCase().includes(x.toLowerCase())}))),Object.keys(l).forEach(e=>{l[e]&&(t=t.filter(t=>{if("fecha"===e){const r=new Date(t[e]);return`${r.getFullYear()} ${r.toLocaleDateString("es-DO",{month:"long"})} ${r.getDate()}`.toLowerCase().includes(l[e].toLowerCase())}return String(t[e]||"").toLowerCase().includes(l[e].toLowerCase())}))}),Object.keys(d).forEach(e=>{d[e]&&d[e].length>0&&(t=t.filter(t=>{if("fecha"===e){const r=new Date(t[e]),a=`${r.getFullYear()}/${r.toLocaleDateString("es-DO",{month:"long"})}/${r.getDate()}`;return d[e].includes(a)}return d[e].includes(String(t[e]))}))}),Object.keys(p).forEach(e=>{const{min:r,max:a}=p[e];""!==r&&(t=t.filter(t=>(t[e]||0)>=parseFloat(r))),""!==a&&(t=t.filter(t=>(t[e]||0)<=parseFloat(a)))}),i.key&&t.sort((e,t)=>{const r=e[i.key],a=t[i.key];return r<a?"asc"===i.direction?-1:1:r>a?"asc"===i.direction?1:-1:0}),t})(),I=E();return H.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[H.jsxs("div",{children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Reporte de Compras Multi-Moneda"}),H.jsx("p",{className:"text-sm text-gray-500",children:"Visualizacin de compras en Pesos y Dlares con filtros avanzados."})]}),H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[H.jsx(ln,{className:"bg-blue-50 border-blue-100",children:H.jsxs("div",{className:"p-4",children:[H.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total en Pesos (DOP)"}),H.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:["RD$ ",n.toLocaleString("es-DO",{minimumFractionDigits:2})]})]})}),H.jsx(ln,{className:"bg-green-50 border-green-100",children:H.jsxs("div",{className:"p-4",children:[H.jsx("p",{className:"text-sm font-medium text-green-600",children:"Total en Dlares (USD)"}),H.jsxs("p",{className:"text-2xl font-bold text-green-900",children:["US$ ",o.toLocaleString("en-US",{minimumFractionDigits:2})]})]})})]}),H.jsxs(ln,{children:[H.jsxs(cn,{className:"flex flex-row justify-between items-center pb-4",children:[H.jsx(dn,{children:"Detalle de Transacciones"}),H.jsxs("div",{className:"flex items-center space-x-2",children:[(Object.keys(l).length>0||Object.keys(d).some(e=>Array.isArray(d[e])&&d[e].length>0)||Object.keys(p).some(e=>""!==p[e].min||""!==p[e].max))&&H.jsxs(Za,{variant:"ghost",size:"sm",onClick:()=>{c({}),u({}),h({}),f("")},className:"text-xs text-hd-orange hover:text-orange-700",children:[H.jsx(Ha,{size:14,className:"mr-1"})," Limpiar Filtros"]}),H.jsxs("div",{className:"relative w-64",children:[H.jsx(ja,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),H.jsx(en,{placeholder:"Buscar...",className:"pl-9",value:x,onChange:e=>f(e.target.value)})]}),H.jsxs(Za,{variant:"outline",size:"sm",children:[H.jsx(Mr,{className:"mr-2 h-4 w-4"})," Exportar"]})]})]}),H.jsx("div",{className:"p-0 overflow-visible relative min-h-[500px]",children:H.jsxs(tn,{className:"table-fixed",style:{width:y},children:[H.jsx(rn,{children:H.jsxs(nn,{children:[H.jsx(Ku,{label:"Fecha",field:"fecha",sortConfig:i,onSort:j,onFilter:N,showFilter:"fecha"===m,filterValue:l.fecha,onFilterChange:k,dateTree:I,selectedValues:d.fecha,onTreeToggle:(e,t,r)=>{u(a=>{let n=[...a[e]||[]];const o=E(),i=(e,t)=>{e.children?Object.keys(e.children).forEach(r=>{i(e.children[r],t?`${t}/${r}`:r)}):s.push(t)},s=[];if(""===t)return r?{...a,[e]:[]}:(i(o,""),{...a,[e]:s});const l=t.split("/").filter(Boolean);let c=o;for(const e of l){var d;if(c=null===(d=c)||void 0===d||null===(d=d.children)||void 0===d?void 0:d[e],!c)break}if(c){const e=[],a=(t,r)=>{t.children?Object.keys(t.children).forEach(e=>{a(t.children[e],`${r}/${e}`)}):e.push(r)};a(c,t),r?n=n.filter(t=>!e.includes(t)):e.forEach(e=>{n.includes(e)||n.push(e)})}return{...a,[e]:n}})},width:b.fecha,onResize:w}),H.jsx(Ku,{label:"Documento",field:"documento",sortConfig:i,onSort:j,onFilter:N,showFilter:"documento"===m,filterValue:l.documento,onFilterChange:k,width:b.documento,onResize:w}),H.jsx(Ku,{label:"Proveedor",field:"proveedor",sortConfig:i,onSort:j,onFilter:N,showFilter:"proveedor"===m,filterValue:l.proveedor,onFilterChange:k,uniqueValues:P("proveedor"),selectedValues:d.proveedor,onValueToggle:S,width:b.proveedor,onResize:w}),H.jsx(Ku,{label:"Moneda Orig",field:"monedaOriginal",sortConfig:i,onSort:j,onFilter:N,showFilter:"monedaOriginal"===m,filterValue:l.monedaOriginal,onFilterChange:k,uniqueValues:P("monedaOriginal"),selectedValues:d.monedaOriginal,onValueToggle:S,width:b.monedaOriginal,onResize:w}),H.jsx(Ku,{label:"Monto Orig",field:"montoOriginal",sortConfig:i,onSort:j,onFilter:N,showFilter:"montoOriginal"===m,numericValue:p.montoOriginal,onNumericFilterChange:C,width:b.montoOriginal,onResize:w,className:"text-right"}),H.jsx(Ku,{label:"Monto DOP",field:"montoDOP",sortConfig:i,onSort:j,onFilter:N,showFilter:"montoDOP"===m,numericValue:p.montoDOP,onNumericFilterChange:C,width:b.montoDOP,onResize:w,className:"text-right bg-blue-50/50 text-blue-800"}),H.jsx(Ku,{label:"Monto USD",field:"montoUSD",sortConfig:i,onSort:j,onFilter:N,showFilter:"montoUSD"===m,numericValue:p.montoUSD,onNumericFilterChange:C,width:b.montoUSD,onResize:w,className:"text-right bg-green-50/50 text-green-800"})]})}),H.jsx(an,{children:r?H.jsx(nn,{children:H.jsx(sn,{colSpan:7,className:"text-center py-8",children:"Cargando..."})}):0===O.length?H.jsx(nn,{children:H.jsx(sn,{colSpan:7,className:"text-center py-8 text-gray-500",children:"No hay transacciones."})}):O.map(e=>{var t,r,a;return H.jsxs(nn,{className:"hover:bg-gray-50",children:[H.jsx(sn,{children:new Date(e.fecha).toLocaleDateString()}),H.jsx(sn,{className:"font-mono text-xs",children:e.documento}),H.jsx(sn,{className:"font-medium text-gray-700",children:e.proveedor}),H.jsx(sn,{children:H.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium "+("USD"===e.monedaOriginal?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.monedaOriginal})}),H.jsxs(sn,{style:{width:b.montoOriginal},className:"text-right font-medium",children:["USD"===e.monedaOriginal?"$":"RD$"," ",null===(t=e.montoOriginal)||void 0===t?void 0:t.toLocaleString(void 0,{minimumFractionDigits:2})]}),H.jsx(sn,{style:{width:b.montoDOP},className:"text-right font-bold text-blue-700 bg-blue-50/30",children:null===(r=e.montoDOP)||void 0===r?void 0:r.toLocaleString("es-DO",{minimumFractionDigits:2})}),H.jsx(sn,{style:{width:b.montoUSD},className:"text-right font-bold text-green-700 bg-green-50/30",children:null===(a=e.montoUSD)||void 0===a?void 0:a.toLocaleString("en-US",{minimumFractionDigits:2})})]},e.id)})})]})})]})]})},Ku=({label:e,field:t,sortConfig:r,onSort:a,onFilter:n,showFilter:o,filterValue:i="",onFilterChange:s,numericValue:l={min:"",max:""},onNumericFilterChange:c,uniqueValues:d=[],selectedValues:u=[],onValueToggle:p,dateTree:h,onTreeToggle:m,className:g="",width:x,onResize:f})=>{const b=r.key===t,v=void 0!==c,y=void 0!==h;i||u&&u.length>0||v&&(""!==l.min||l.max);return H.jsxs(on,{className:`relative group p-0 ${g}`,style:x?{width:`${x}px`,minWidth:`${x}px`,maxWidth:`${x}px`}:{},children:[H.jsx("div",{className:"flex items-center justify-between h-full px-4 py-2 hover:bg-gray-200 cursor-pointer transition-colors "+(f?"pr-2":""),onClick:()=>a(t),children:H.jsxs("div",{className:"flex items-center space-x-1 overflow-hidden",children:[H.jsx("span",{className:"font-bold text-gray-700 truncate",children:e}),b?"asc"===r.direction?H.jsx(lr,{size:14,className:"text-hd-orange"}):H.jsx(rr,{size:14,className:"text-hd-orange"}):H.jsx(ir,{size:14,className:"text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"})]})}),f&&H.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1 cursor-col-resize hover:bg-hd-orange z-10",onMouseDown:e=>{e.preventDefault(),e.stopPropagation();const r=e.pageX,a=x,n=e=>{const n=Math.max(50,a+(e.pageX-r));f(t,n)},o=()=>{document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",o)};document.addEventListener("mousemove",n),document.addEventListener("mouseup",o)},onClick:e=>e.stopPropagation()}),o&&H.jsxs("div",{className:"absolute top-full left-0 mt-1 w-64 bg-white border border-gray-200 shadow-2xl rounded-sm z-[100] animate-in fade-in zoom-in duration-200 overflow-hidden text-xs",onClick:e=>e.stopPropagation(),children:[H.jsxs("div",{className:"p-1 border-b border-gray-100",children:[H.jsxs("div",{className:"flex items-center px-3 py-2 hover:bg-hd-orange/10 cursor-pointer text-gray-700 font-medium",onClick:()=>{a(t),n(t,{stopPropagation:()=>{}})},children:[H.jsx(lr,{size:14,className:"mr-2 text-gray-400"})," ","fecha"===t?"Ms antiguo":"Ascendente"]}),H.jsxs("div",{className:"flex items-center px-3 py-2 hover:bg-hd-orange/10 cursor-pointer text-gray-700 font-medium",onClick:()=>{a(t),n(t,{stopPropagation:()=>{}})},children:[H.jsx(rr,{size:14,className:"mr-2 text-gray-400"})," ","fecha"===t?"Ms reciente":"Descendente"]})]}),H.jsx("div",{className:"p-3 bg-gray-50 border-b border-gray-100",children:v?H.jsxs("div",{className:"space-y-2",children:[H.jsx(en,{type:"number",placeholder:"Min",value:l.min,onChange:e=>c(t,"min",e.target.value),className:"h-8 text-xs font-mono",autoFocus:!0}),H.jsx(en,{type:"number",placeholder:"Max",value:l.max,onChange:e=>c(t,"max",e.target.value),className:"h-8 text-xs font-mono"})]}):H.jsx(en,{placeholder:"Buscar...",value:i,onChange:e=>s(t,e.target.value),className:"h-8 text-xs",autoFocus:!0})}),H.jsx("div",{className:"max-h-64 overflow-y-auto p-2",children:y?H.jsx(Ju,{tree:h,selectedPaths:u,onToggle:(e,r)=>m(t,e,r),allLeafPaths:(()=>{const e=[],t=(r,a)=>{r.children?Object.keys(r.children).forEach(e=>t(r.children[e],a?`${a}/${e}`:e)):e.push(a)};return t(h,""),e})()}):d.length>0?H.jsx("div",{className:"space-y-1",children:d.map(e=>H.jsxs("div",{className:"flex items-center px-2 py-1 hover:bg-gray-100 rounded cursor-pointer group",onClick:()=>p(t,e),children:[H.jsx("input",{type:"checkbox",checked:u.includes(e),readOnly:!0,className:"h-3 w-3 rounded border-gray-300 text-hd-orange focus:ring-hd-orange"}),H.jsx("span",{className:"ml-2 text-xs text-gray-600 truncate",children:e})]},e))}):null}),H.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 border-t border-gray-100",children:[H.jsx(Za,{size:"xs",variant:"ghost",className:"text-[10px]",onClick:()=>n(t,{stopPropagation:()=>{}}),children:"Cerrar"}),H.jsx(Za,{size:"xs",variant:"ghost",className:"text-[10px] text-hd-orange",onClick:()=>{v?(c(t,"min",""),c(t,"max","")):(s(t,""),u.length>0&&(y?u.forEach(e=>m(t,e,!0)):u.forEach(e=>p(t,e))))},children:"Limpiar"})]})]})]})},Ju=({tree:e,selectedPaths:t,onToggle:r,depth:a=0,path:n="",allLeafPaths:o=[]})=>{const[i,s]=W.useState(!0),l=Object.keys(e.children||{}).sort((e,t)=>t.localeCompare(e));return H.jsx("div",{className:a>0?"ml-4 pt-1":"",children:l.map(o=>{const l=n?`${n}/${o}`:o,c=e.children[o],d=!c.children,u=d?[l]:((e,t)=>{const r=[],a=(e,t)=>{e.children?Object.keys(e.children).forEach(r=>a(e.children[r],`${t}/${r}`)):r.push(t)};return a(e,t),r})(c,l),p=u.every(e=>t.includes(e)),h=u.some(e=>t.includes(e));return H.jsxs("div",{children:[H.jsxs("div",{className:"flex items-center py-1 hover:bg-gray-50 rounded cursor-pointer group",onClick:()=>r(l,p),children:[H.jsx("div",{className:"w-4 h-4 flex items-center justify-center mr-1",onClick:e=>{e.stopPropagation(),s(!i)},children:!d&&(i?H.jsx(rr,{size:10}):H.jsx(ArrowRight,{size:10}))}),H.jsx("input",{type:"checkbox",checked:p,ref:e=>{e&&(e.indeterminate=h&&!p)},readOnly:!0,className:"h-3 w-3 rounded border-gray-300 text-hd-orange focus:ring-hd-orange",onClick:e=>e.stopPropagation()}),H.jsx("span",{className:"ml-2 text-[11px] text-gray-700 select-none",children:o})]}),i&&!d&&H.jsx(Ju,{tree:c,selectedPaths:t,onToggle:r,depth:a+1,path:l})]},o)})})},Yu=()=>{const{id:e}=lt(),[t,r]=W.useState(null),[a,n]=W.useState(!0);if(W.useEffect(()=>{e&&(async()=>{try{const t=await Gl(e);r(t)}catch(t){console.error("Error loading purchase for print:",t)}finally{n(!1)}})()},[e]),a)return H.jsx("div",{className:"p-8 text-center",children:"Cargando documento..."});if(!t)return H.jsx("div",{className:"p-8 text-center text-red-600",children:"No se encontr el documento."});const o=(e,t="DOP")=>new Intl.NumberFormat("es-DO",{style:"currency",currency:t}).format(e);return H.jsxs("div",{className:"max-w-4xl mx-auto bg-white p-8 print:p-0 text-gray-900 font-sans",children:[H.jsx("div",{className:"mb-6 flex justify-end print:hidden",children:H.jsx("button",{onClick:()=>window.print(),className:"bg-blue-600 text-white px-4 py-2 rounded shadow hover:bg-blue-700 font-medium",children:" Imprimir Documento"})}),H.jsxs("div",{className:"border-b-2 border-gray-800 pb-4 mb-6 flex justify-between items-start",children:[H.jsxs("div",{children:[H.jsx("h1",{className:"text-3xl font-bold text-gray-900 uppercase tracking-widest",children:(e=>{switch(e){case"OrdenCompra":return"ORDEN DE COMPRA";case"Recepcion":return"RECEPCIN DE MERCANCA";case"Factura":return"FACTURA DE COMPRA";default:return"DOCUMENTO DE COMPRA"}})(t.tipoDocumento)}),H.jsx("p",{className:"text-lg text-gray-600 font-medium mt-1",children:t.numeroCompra}),H.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:[H.jsxs("p",{children:["Estado: ",H.jsx("span",{className:"font-semibold uppercase",children:t.estado})]}),t.documentoReferenciaNumero&&H.jsxs("p",{children:["Ref: ",t.documentoReferenciaNumero]})]})]}),H.jsxs("div",{className:"text-right",children:[H.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"CRONO POS"}),H.jsx("p",{className:"text-sm text-gray-600",children:"Av. Principal #123"}),H.jsx("p",{className:"text-sm text-gray-600",children:"Santo Domingo, SD"}),H.jsx("p",{className:"text-sm text-gray-600",children:"RNC: 1-01-00000-0"}),H.jsx("p",{className:"text-sm text-gray-600",children:"Tel: (809) 555-0123"})]})]}),H.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[H.jsxs("div",{className:"border border-gray-200 rounded p-4 bg-gray-50",children:[H.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Proveedor"}),H.jsx("p",{className:"font-bold text-lg",children:t.proveedorNombre}),H.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["ID: ",t.proveedorId]})]}),H.jsxs("div",{className:"border border-gray-200 rounded p-4 bg-gray-50",children:[H.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-2",children:"Detalles"}),H.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[H.jsx("div",{className:"text-gray-600",children:"Fecha Emisin:"}),H.jsx("div",{className:"font-medium text-right",children:new Date(t.fechaCompra).toLocaleDateString()}),H.jsx("div",{className:"text-gray-600",children:"Trminos Pago:"}),H.jsx("div",{className:"font-medium text-right",children:t.terminosPago||"Contado"}),H.jsx("div",{className:"text-gray-600",children:"Referencia Prov:"}),H.jsx("div",{className:"font-medium text-right",children:t.referenciaProveedor||"-"}),H.jsx("div",{className:"text-gray-600",children:"Moneda:"}),H.jsx("div",{className:"font-medium text-right",children:t.monedaCodigo||"DOP"})]})]})]}),H.jsx("div",{className:"mb-8",children:H.jsxs("table",{className:"w-full border-collapse",children:[H.jsx("thead",{children:H.jsxs("tr",{className:"border-b-2 border-gray-800",children:[H.jsx("th",{className:"py-2 text-left font-bold text-sm text-gray-700",children:"CDIGO"}),H.jsx("th",{className:"py-2 text-left font-bold text-sm text-gray-700",children:"DESCRIPCIN"}),H.jsx("th",{className:"py-2 text-right font-bold text-sm text-gray-700",children:"CANT."}),H.jsx("th",{className:"py-2 text-center font-bold text-sm text-gray-700",children:"U.M."}),H.jsx("th",{className:"py-2 text-right font-bold text-sm text-gray-700",children:"PRECIO"}),H.jsx("th",{className:"py-2 text-right font-bold text-sm text-gray-700",children:"TOTAL"})]})}),H.jsx("tbody",{children:t.detalles.map((e,t)=>H.jsxs("tr",{className:"border-b border-gray-200 text-sm",children:[H.jsx("td",{className:"py-2 font-mono text-gray-600",children:e.numeroArticulo}),H.jsx("td",{className:"py-2",children:e.descripcion}),H.jsx("td",{className:"py-2 text-right font-medium",children:e.cantidad}),H.jsx("td",{className:"py-2 text-center text-gray-500 text-xs",children:e.unidadMedida}),H.jsx("td",{className:"py-2 text-right",children:o(e.costoUnitario)}),H.jsx("td",{className:"py-2 text-right font-bold",children:o(e.totalLinea)})]},t))})]})}),H.jsx("div",{className:"flex justify-end mb-12",children:H.jsxs("div",{className:"w-64",children:[H.jsxs("div",{className:"flex justify-between py-1 text-gray-600 text-sm",children:[H.jsx("span",{children:"Subtotal:"}),H.jsx("span",{children:o(t.subtotal)})]}),H.jsxs("div",{className:"flex justify-between py-1 text-gray-600 text-sm",children:[H.jsx("span",{children:"Impuestos:"}),H.jsx("span",{children:o(t.impuestos)})]}),H.jsx("div",{className:"border-t border-gray-400 my-2"}),H.jsxs("div",{className:"flex justify-between py-1 text-xl font-bold text-gray-900",children:[H.jsx("span",{children:"TOTAL:"}),H.jsx("span",{children:o(t.total)})]})]})}),H.jsxs("div",{className:"grid grid-cols-2 gap-20 pt-12 mt-12 border-t border-gray-100 print:mt-24",children:[H.jsxs("div",{className:"text-center",children:[H.jsx("div",{className:"border-t border-gray-400 w-3/4 mx-auto mb-2"}),H.jsx("p",{className:"text-sm text-gray-500",children:"Autorizado Por"})]}),H.jsxs("div",{className:"text-center",children:[H.jsx("div",{className:"border-t border-gray-400 w-3/4 mx-auto mb-2"}),H.jsx("p",{className:"text-sm text-gray-500",children:"Recibido Conforme"})]})]})]})},Xu=()=>{const[e,t]=W.useState({ventasHoy:12500,ventasMes:458e3,comprasMes:215e3,inventarioValor:125e4,topProductos:[{nombre:"Cemento Gris 42.5kg",cantidad:450,total:225e3},{nombre:"Varilla Corrugada 3/8",cantidad:1200,total:36e4},{nombre:'Block 6"',cantidad:3e3,total:105e3},{nombre:"Pintura Blanca 5gal",cantidad:85,total:34e4},{nombre:"Arena Lavada (m3)",cantidad:120,total:18e4}],ventasPorDia:[{dia:"Lun",valor:45e3},{dia:"Mar",valor:52e3},{dia:"Mie",valor:38e3},{dia:"Jue",valor:65e3},{dia:"Vie",valor:89e3},{dia:"Sab",valor:95e3},{dia:"Dom",valor:25e3}]}),[r,a]=W.useState([]),[n,o]=W.useState(!0);W.useEffect(()=>{setTimeout(()=>{const e=Array.from({length:50},(e,t)=>({id:t+1,fecha:new Date(2025,Math.floor(12*Math.random()),Math.floor(28*Math.random())+1).toISOString(),tipo:Math.random()>.5?"Venta":"Compra",entidad:Math.random()>.5?`Cliente ${t}`:`Proveedor ${t}`,monto:Math.floor(5e4*Math.random())+1e3,estado:Math.random()>.8?"Pendiente":"Completado"}));a(e),o(!1)},1e3)},[]);const i=e=>new Intl.NumberFormat("es-DO",{style:"currency",currency:"DOP",minimumFractionDigits:0}).format(e),[s,l]=W.useState({key:"fecha",direction:"desc"}),[c,d]=W.useState({}),[u,p]=W.useState({}),[h,m]=W.useState({}),[g,x]=W.useState(null),[f,b]=W.useState(""),v=e=>{let t="asc";s.key===e&&"asc"===s.direction&&(t="desc"),l({key:e,direction:t})},y=(e,t)=>{t.stopPropagation(),x(g===e?null:e)},w=(e,t)=>{d(r=>({...r,[e]:t}))},j=(e,t)=>{p(r=>{const a=r[e]||[];return a.includes(t)?{...r,[e]:a.filter(e=>e!==t)}:{...r,[e]:[...a,t]}})},N=()=>{const e={children:{}};return r.forEach(t=>{const r=new Date(t.fecha),a=String(r.getFullYear()),n=r.toLocaleDateString("es-DO",{month:"long"}),o=String(r.getDate());e.children[a]||(e.children[a]={children:{}}),e.children[a].children[n]||(e.children[a].children[n]={children:{}}),e.children[a].children[n].children[o]||(e.children[a].children[n].children[o]={count:0}),e.children[a].children[n].children[o].count++}),e},k=e=>{const t=r.map(t=>String(t[e]||""));return[...new Set(t)].sort()},C=(()=>{let e=[...r];return f&&(e=e.filter(e=>Object.keys(e).some(t=>{var r;return("fecha"===t?(r=e[t])?new Date(r).toLocaleDateString("es-DO",{year:"numeric",month:"long",day:"2-digit"}):"":String(e[t])).toLowerCase().includes(f.toLowerCase())}))),Object.keys(c).forEach(t=>{c[t]&&(e=e.filter(e=>{if("fecha"===t){const r=new Date(e[t]);return`${r.getFullYear()} ${r.toLocaleDateString("es-DO",{month:"long"})} ${r.getDate()}`.toLowerCase().includes(c[t].toLowerCase())}return String(e[t]||"").toLowerCase().includes(c[t].toLowerCase())}))}),Object.keys(u).forEach(t=>{u[t]&&u[t].length>0&&(e=e.filter(e=>{if("fecha"===t){const r=new Date(e[t]),a=`${r.getFullYear()}/${r.toLocaleDateString("es-DO",{month:"long"})}/${r.getDate()}`;return u[t].includes(a)}return u[t].includes(String(e[t]))}))}),Object.keys(h).forEach(t=>{const{min:r,max:a}=h[t];""!==r&&(e=e.filter(e=>(e[t]||0)>=parseFloat(r))),""!==a&&(e=e.filter(e=>(e[t]||0)<=parseFloat(a)))}),s.key&&e.sort((e,t)=>{const r=e[s.key],a=t[s.key];return r<a?"asc"===s.direction?-1:1:r>a?"asc"===s.direction?1:-1:0}),e})(),S=N();return H.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[H.jsxs("div",{className:"flex justify-between items-center",children:[H.jsxs("div",{children:[H.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Manager Dashboard"}),H.jsx("p",{className:"text-gray-500 mt-1",children:"Visin general del rendimiento del negocio."})]}),H.jsxs("div",{className:"flex bg-white rounded-lg border p-1 shadow-sm",children:[H.jsx("button",{className:"px-3 py-1 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded",children:"Hoy"}),H.jsx("button",{className:"px-3 py-1 text-sm font-medium bg-gray-100 text-gray-900 rounded shadow-sm",children:"Este Mes"}),H.jsx("button",{className:"px-3 py-1 text-sm font-medium text-gray-600 hover:bg-gray-50 rounded",children:"Ao"})]})]}),H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[H.jsx(Qu,{title:"Ventas del Mes",value:i(e.ventasMes),icon:Dr,trend:"+12.5%",trendUp:!0,color:"green"}),H.jsx(Qu,{title:"Compras del Mes",value:i(e.comprasMes),icon:Pa,trend:"+5.2%",trendUp:!0,color:"blue"}),H.jsx(Qu,{title:"Valor Inventario",value:i(e.inventarioValor),icon:ca,trend:"-2.1%",trendUp:!1,color:"orange"}),H.jsx(Qu,{title:"Nuevos Clientes",value:"24",icon:Ba,trend:"+4",trendUp:!0,color:"purple"})]}),H.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[H.jsxs(ln,{className:"lg:col-span-2",children:[H.jsx(cn,{children:H.jsx(dn,{children:"Comportamiento de Ventas (Semana Actual)"})}),H.jsx(un,{children:H.jsx("div",{className:"h-64 flex items-end justify-between space-x-2 pt-6",children:e.ventasPorDia.map((e,t)=>{const r=e.valor/1e5*100;return H.jsxs("div",{className:"flex flex-col items-center flex-1 group relative",children:[H.jsx("div",{className:"absolute bottom-full mb-2 opacity-0 group-hover:opacity-100 transition-opacity text-xs font-bold bg-gray-800 text-white px-2 py-1 rounded",children:i(e.valor)}),H.jsx("div",{className:"w-full bg-blue-500 rounded-t-md hover:bg-blue-600 transition-all duration-300",style:{height:`${r}%`,opacity:.7+.05*t}}),H.jsx("span",{className:"text-xs font-medium text-gray-500 mt-2",children:e.dia})]},t)})})})]}),H.jsxs(ln,{children:[H.jsx(cn,{children:H.jsx(dn,{children:"Top Productos"})}),H.jsx(un,{children:H.jsx("div",{className:"space-y-4",children:e.topProductos.map((e,t)=>H.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 last:border-0 pb-3 last:pb-0",children:[H.jsxs("div",{className:"flex items-center space-x-3",children:[H.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center font-bold text-gray-500 text-xs",children:t+1}),H.jsxs("div",{children:[H.jsx("p",{className:"text-sm font-medium text-gray-900 truncate max-w-[150px]",children:e.nombre}),H.jsxs("p",{className:"text-xs text-gray-500",children:[e.cantidad," unidades"]})]})]}),H.jsx("span",{className:"text-sm font-bold text-gray-700",children:i(e.total)})]},t))})})]})]}),H.jsxs(ln,{children:[H.jsxs(cn,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[H.jsx(dn,{children:"Transacciones Recientes"}),H.jsxs("div",{className:"flex items-center space-x-2",children:[(Object.keys(c).length>0||Object.keys(u).some(e=>Array.isArray(u[e])&&u[e].length>0)||Object.keys(h).some(e=>""!==h[e].min||""!==h[e].max))&&H.jsxs(Za,{variant:"ghost",size:"sm",onClick:()=>{d({}),p({}),m({}),b("")},className:"text-xs text-hd-orange hover:text-orange-700",children:[H.jsx(Ha,{size:14,className:"mr-1"})," Limpiar Filtros"]}),H.jsxs("div",{className:"relative w-64",children:[H.jsx(ja,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),H.jsx(en,{placeholder:"Buscar transaccin...",className:"pl-9",value:f,onChange:e=>b(e.target.value)})]})]})]}),H.jsx("div",{className:"p-0 overflow-visible relative min-h-[500px]",children:H.jsxs(tn,{children:[H.jsx(rn,{children:H.jsxs(nn,{children:[H.jsx(Zu,{label:"Fecha",field:"fecha",sortConfig:s,onSort:v,onFilter:y,showFilter:"fecha"===g,filterValue:c.fecha,onFilterChange:w,dateTree:S,selectedValues:u.fecha,onTreeToggle:(e,t,r)=>{p(a=>{let n=[...a[e]||[]];const o=N(),i=(e,t)=>{e.children?Object.keys(e.children).forEach(r=>{i(e.children[r],t?`${t}/${r}`:r)}):s.push(t)},s=[];if(""===t)return r?{...a,[e]:[]}:(i(o,""),{...a,[e]:s});const l=t.split("/").filter(Boolean);let c=o;for(const e of l){var d;if(c=null===(d=c)||void 0===d||null===(d=d.children)||void 0===d?void 0:d[e],!c)break}if(c){const e=[],a=(t,r)=>{t.children?Object.keys(t.children).forEach(e=>{a(t.children[e],`${r}/${e}`)}):e.push(r)};a(c,t),r?n=n.filter(t=>!e.includes(t)):e.forEach(e=>{n.includes(e)||n.push(e)})}return{...a,[e]:n}})}}),H.jsx(Zu,{label:"Tipo",field:"tipo",sortConfig:s,onSort:v,onFilter:y,showFilter:"tipo"===g,filterValue:c.tipo,onFilterChange:w,uniqueValues:k("tipo"),selectedValues:u.tipo,onValueToggle:j}),H.jsx(Zu,{label:"Entidad",field:"entidad",sortConfig:s,onSort:v,onFilter:y,showFilter:"entidad"===g,filterValue:c.entidad,onFilterChange:w,uniqueValues:k("entidad"),selectedValues:u.entidad,onValueToggle:j}),H.jsx(Zu,{label:"Monto",field:"monto",sortConfig:s,onSort:v,onFilter:y,showFilter:"monto"===g,numericValue:h.monto,onNumericFilterChange:(e,t,r)=>{m(a=>({...a,[e]:{...a[e]||{min:"",max:""},[t]:r}}))},className:"text-right"}),H.jsx(Zu,{label:"Estado",field:"estado",sortConfig:s,onSort:v,onFilter:y,showFilter:"estado"===g,filterValue:c.estado,onFilterChange:w,uniqueValues:k("estado"),selectedValues:u.estado,onValueToggle:j})]})}),H.jsx(an,{children:n?H.jsx(nn,{children:H.jsx(sn,{colSpan:5,className:"text-center py-8",children:"Cargando..."})}):0===C.length?H.jsx(nn,{children:H.jsx(sn,{colSpan:5,className:"text-center py-8 text-gray-500",children:"No se encontraron registros."})}):C.map(e=>H.jsxs(nn,{className:"hover:bg-gray-50",children:[H.jsx(sn,{className:"text-gray-600",children:new Date(e.fecha).toLocaleDateString("es-DO")}),H.jsx(sn,{children:H.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium "+("Venta"===e.tipo?"bg-green-50 text-green-700":"bg-blue-50 text-blue-700"),children:e.tipo})}),H.jsx(sn,{className:"font-medium text-gray-900",children:e.entidad}),H.jsx(sn,{className:"text-right font-medium",children:i(e.monto)}),H.jsx(sn,{children:H.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+("Completado"===e.estado?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.estado})})]},e.id))})]})})]})]})},Qu=({title:e,value:t,icon:r,trend:a,trendUp:n,color:o})=>H.jsx(ln,{className:"transform transition-all hover:-translate-y-1 duration-200 shadow-sm hover:shadow-md",children:H.jsxs("div",{className:"p-6",children:[H.jsxs("div",{className:"flex justify-between items-start",children:[H.jsxs("div",{children:[H.jsx("p",{className:"text-sm font-medium text-gray-500",children:e}),H.jsx("h3",{className:"text-2xl font-bold text-gray-900 mt-2",children:t})]}),H.jsx("div",{className:`p-2 rounded-lg ${{green:"bg-green-50 text-green-600",blue:"bg-blue-50 text-blue-600",orange:"bg-orange-50 text-orange-600",purple:"bg-purple-50 text-purple-600"}[o]}`,children:H.jsx(r,{className:"h-6 w-6"})})]}),H.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[n?H.jsx(sr,{className:"h-4 w-4 text-green-500 mr-1"}):H.jsx(tr,{className:"h-4 w-4 text-red-500 mr-1"}),H.jsx("span",{className:n?"text-green-500 font-medium":"text-red-500 font-medium",children:a}),H.jsx("span",{className:"text-gray-400 ml-2",children:"vs mes anterior"})]})]})}),Zu=({label:e,field:t,sortConfig:r,onSort:a,onFilter:n,showFilter:o,filterValue:i="",onFilterChange:s,numericValue:l={min:"",max:""},onNumericFilterChange:c,uniqueValues:d=[],selectedValues:u=[],onValueToggle:p,dateTree:h,onTreeToggle:m,className:g=""})=>{const x=r.key===t,f=void 0!==c,b=void 0!==h,v=i||u&&u.length>0||f&&(""!==l.min||""!==l.max);return H.jsxs(on,{className:`relative group p-0 ${g}`,children:[H.jsxs("div",{className:"flex items-center justify-between h-full px-4 py-2 hover:bg-gray-200 cursor-pointer transition-colors",onClick:()=>a(t),children:[H.jsxs("div",{className:"flex items-center space-x-1",children:[H.jsx("span",{className:"font-bold text-gray-700",children:e}),x?"asc"===r.direction?H.jsx(lr,{size:14,className:"text-hd-orange"}):H.jsx(rr,{size:14,className:"text-hd-orange"}):H.jsx(ir,{size:14,className:"text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"})]}),n&&H.jsx("button",{onClick:e=>n(t,e),className:"p-1 rounded-sm hover:bg-gray-300 transition-colors "+(v?"text-hd-orange":"text-gray-400"),children:H.jsx(Rr,{size:14,fill:v?"currentColor":"none"})})]}),o&&H.jsxs("div",{className:"absolute top-full left-0 mt-1 w-64 bg-white border border-gray-200 shadow-2xl rounded-sm z-[100] animate-in fade-in zoom-in duration-200 overflow-hidden text-xs",onClick:e=>e.stopPropagation(),children:[H.jsxs("div",{className:"p-1 border-b border-gray-100",children:[H.jsxs("div",{className:"flex items-center px-3 py-2 hover:bg-hd-orange/10 cursor-pointer text-gray-700 font-medium",onClick:()=>{a(t),n(t,{stopPropagation:()=>{}})},children:[H.jsx(lr,{size:14,className:"mr-2 text-gray-400"})," ","fecha"===t?"Ms antiguo":"Ascendente"]}),H.jsxs("div",{className:"flex items-center px-3 py-2 hover:bg-hd-orange/10 cursor-pointer text-gray-700 font-medium",onClick:()=>{a(t),n(t,{stopPropagation:()=>{}})},children:[H.jsx(rr,{size:14,className:"mr-2 text-gray-400"})," ","fecha"===t?"Ms reciente":"Descendente"]})]}),H.jsx("div",{className:"p-3 bg-gray-50 border-b border-gray-100",children:f?H.jsxs("div",{className:"space-y-2",children:[H.jsx(en,{type:"number",placeholder:"Min",value:l.min,onChange:e=>c(t,"min",e.target.value),className:"h-8 text-xs font-mono",autoFocus:!0}),H.jsx(en,{type:"number",placeholder:"Max",value:l.max,onChange:e=>c(t,"max",e.target.value),className:"h-8 text-xs font-mono"})]}):H.jsx(en,{placeholder:"Buscar...",value:i,onChange:e=>s(t,e.target.value),className:"h-8 text-xs",autoFocus:!0})}),H.jsx("div",{className:"max-h-64 overflow-y-auto p-2",children:b?H.jsx(ep,{tree:h,selectedPaths:u,onToggle:(e,r)=>m(t,e,r),allLeafPaths:(()=>{const e=[],t=(r,a)=>{r.children?Object.keys(r.children).forEach(e=>t(r.children[e],a?`${a}/${e}`:e)):e.push(a)};return t(h,""),e})()}):d.length>0?H.jsx("div",{className:"space-y-1",children:d.map(e=>H.jsxs("div",{className:"flex items-center px-2 py-1 hover:bg-gray-100 rounded cursor-pointer group",onClick:()=>p(t,e),children:[H.jsx("input",{type:"checkbox",checked:u.includes(e),readOnly:!0,className:"h-3 w-3 rounded border-gray-300 text-hd-orange focus:ring-hd-orange"}),H.jsx("span",{className:"ml-2 text-xs text-gray-600 truncate",children:e})]},e))}):null}),H.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 border-t border-gray-100",children:[H.jsx(Za,{size:"xs",variant:"ghost",className:"text-[10px]",onClick:()=>n(t,{stopPropagation:()=>{}}),children:"Cerrar"}),H.jsx(Za,{size:"xs",variant:"ghost",className:"text-[10px] text-hd-orange",onClick:()=>{f?(c(t,"min",""),c(t,"max","")):(s(t,""),u.length>0&&(b?u.forEach(e=>m(t,e,!0)):u.forEach(e=>p(t,e))))},children:"Limpiar"})]})]})]})},ep=({tree:e,selectedPaths:t,onToggle:r,depth:a=0,path:n="",allLeafPaths:o=[]})=>{const[i,s]=W.useState(!0),l=Object.keys(e.children||{}).sort((e,t)=>t.localeCompare(e));return H.jsx("div",{className:a>0?"ml-4 pt-1":"",children:l.map(o=>{const l=n?`${n}/${o}`:o,c=e.children[o],d=!c.children,u=d?[l]:((e,t)=>{const r=[],a=(e,t)=>{e.children?Object.keys(e.children).forEach(r=>a(e.children[r],`${t}/${r}`)):r.push(t)};return a(e,t),r})(c,l),p=u.every(e=>t.includes(e)),h=u.some(e=>t.includes(e));return H.jsxs("div",{children:[H.jsxs("div",{className:"flex items-center py-1 hover:bg-gray-50 rounded cursor-pointer group",onClick:()=>r(l,p),children:[H.jsx("div",{className:"w-4 h-4 flex items-center justify-center mr-1",onClick:e=>{e.stopPropagation(),s(!i)},children:!d&&(i?H.jsx(rr,{size:10}):H.jsx(ArrowRight,{size:10}))}),H.jsx("input",{type:"checkbox",checked:p,ref:e=>{e&&(e.indeterminate=h&&!p)},readOnly:!0,className:"h-3 w-3 rounded border-gray-300 text-hd-orange focus:ring-hd-orange",onClick:e=>e.stopPropagation()}),H.jsx("span",{className:"ml-2 text-[11px] text-gray-700 select-none",children:o})]}),i&&!d&&H.jsx(ep,{tree:c,selectedPaths:t,onToggle:r,depth:a+1,path:l})]},o)})})},tp="http://localhost:5006/api",rp=({onClose:e,onSuccess:t,initialProveedorId:r})=>{var a,n;const[o,i]=W.useState([]),[s,l]=W.useState([]),[c,d]=W.useState([]),[u,p]=W.useState(!1),[h,m]=W.useState({proveedorId:r||"",tipo:"Credito",fecha:(new Date).toISOString().split("T")[0],monedaId:"",tasaCambio:1,monto:0,referencia:"",comentario:"",allocations:{}});W.useEffect(()=>{g()},[]),W.useEffect(()=>{h.proveedorId&&x(h.proveedorId)},[h.proveedorId]);const g=async()=>{try{const[e,t]=await Promise.all([fetch(`${tp}/Proveedores`),fetch(`${tp}/Monedas`)]);if(e.ok&&i(await e.json()),t.ok){const e=await t.json();l(e);const r=e.find(e=>e.esFuncional);r&&!h.monedaId&&m(e=>({...e,monedaId:r.id}))}}catch(e){console.error("Error loading initial data:",e)}},x=async e=>{try{const t=await fetch(`${tp}/Pagos/FacturasPendientes/${e}`);t.ok&&d(await t.json())}catch(t){console.error("Error loading invoices:",t)}},f=async(e,t)=>{if("monedaId"===e){const e=parseInt(t),r=s.find(t=>t.id===e);let a=1;if(r&&!r.esFuncional)try{const t=(new Date).toISOString().split("T")[0],r=await fetch(`${tp}/Monedas/tasas?monedaId=${e}&fecha=${t}`);if(r.ok){const e=await r.json();a=e.tasa||1}}catch(Xd){console.error("Error fetching rate:",Xd)}m(e=>({...e,monedaId:t,tasaCambio:a,allocations:{},monto:0}))}else m(r=>({...r,[e]:t}))},b=(e,t,r)=>{let a=parseFloat(t)||0;"Credito"===h.tipo&&a>r&&(a=r),a<0&&(a=0);const n={...h.allocations,[e]:a};0===a&&delete n[e];const o=()=>{let e=0;return Object.keys(n).forEach(t=>{e+=n[t]}),e};m(e=>({...e,allocations:n,monto:o()}))},v=c.filter(e=>e.monedaId===parseInt(h.monedaId));return H.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:H.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[H.jsxs("div",{className:"p-4 flex justify-between items-center text-white "+("Credito"===h.tipo?"bg-blue-600":"bg-red-600"),children:[H.jsxs("h2",{className:"text-lg font-bold flex items-center",children:[H.jsx(zr,{className:"mr-2",size:20}),"Nueva Nota de ",h.tipo]}),H.jsx("button",{onClick:e,className:"hover:opacity-80 p-1 rounded transition-colors",children:H.jsx(Ha,{size:20})})]}),H.jsxs("form",{onSubmit:async r=>{if(r.preventDefault(),h.monto<=0)return alert("El monto debe ser mayor a 0");if(!h.referencia)return alert("Debe ingresar una referencia");p(!0);try{const r={proveedorId:parseInt(h.proveedorId),tipo:h.tipo,monedaId:parseInt(h.monedaId),tasaCambio:parseFloat(h.tasaCambio),monto:h.monto,referencia:h.referencia,comentario:h.comentario,allocations:Object.keys(h.allocations).map(e=>{const t=parseInt(e),r=h.allocations[e];var a=r;const n=s.find(e=>e.id===parseInt(h.monedaId));return null!=n&&n.esFuncional||(a=r*h.tasaCambio),{invoiceId:t,monto:r,montoFuncional:a}})},a=await fetch(`${tp}/Notas`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(a.ok)t(),e();else{const e=await a.json();alert(e.message||"Error al crear la nota")}}catch(a){console.error("Error creating note:",a),alert("Error de conexin")}finally{p(!1)}},className:"p-6 space-y-4 max-h-[85vh] overflow-y-auto",children:[H.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Proveedor"}),H.jsxs("select",{className:"w-full rounded-md border border-gray-300 p-2 text-sm focus:ring-blue-500 focus:border-blue-500",value:h.proveedorId,onChange:e=>f("proveedorId",e.target.value),required:!0,disabled:!!r,children:[H.jsx("option",{value:"",children:"Seleccione un proveedor"}),o.map(e=>H.jsx("option",{value:e.id,children:e.razonSocial},e.id))]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Nota"}),H.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-md",children:[H.jsx("button",{type:"button",className:"flex-1 py-1 text-sm font-medium rounded "+("Credito"===h.tipo?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"),onClick:()=>m(e=>({...e,tipo:"Credito"})),children:"Crdito (-)"}),H.jsx("button",{type:"button",className:"flex-1 py-1 text-sm font-medium rounded "+("Debito"===h.tipo?"bg-white text-red-600 shadow-sm":"text-gray-500 hover:text-gray-700"),onClick:()=>m(e=>({...e,tipo:"Debito"})),children:"Dbito (+)"})]})]})]}),H.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Referencia / Factura"}),H.jsx(en,{placeholder:"NC-001",value:h.referencia,onChange:e=>f("referencia",e.target.value),required:!0})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Moneda"}),H.jsx("select",{className:"w-full rounded-md border border-gray-300 p-2 text-sm focus:ring-blue-500 focus:border-blue-500",value:h.monedaId,onChange:e=>f("monedaId",e.target.value),children:s.map(e=>H.jsx("option",{value:e.id,children:e.codigo},e.id))})]}),!1===(null===(a=s.find(e=>e.id===parseInt(h.monedaId)))||void 0===a?void 0:a.esFuncional)&&H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tasa"}),H.jsx(en,{type:"number",step:"0.01",value:h.tasaCambio,onChange:e=>f("tasaCambio",e.target.value)})]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Comentario"}),H.jsx(en,{placeholder:"Motivo de la nota...",value:h.comentario,onChange:e=>f("comentario",e.target.value)})]}),H.jsxs("div",{className:"border rounded-md overflow-hidden",children:[H.jsxs("div",{className:"bg-gray-50 px-4 py-2 border-b flex justify-between items-center text-xs font-bold text-gray-500 uppercase tracking-wider",children:[H.jsx("span",{children:"Facturas Pendientes"}),H.jsx("span",{children:"Monto a Aplicar"})]}),H.jsx("div",{className:"max-h-48 overflow-y-auto divide-y",children:0===v.length?H.jsx("div",{className:"p-4 text-center text-gray-500 text-sm italic",children:"No hay facturas pendientes en esta moneda para este proveedor."}):v.map(e=>H.jsxs("div",{className:"p-3 flex justify-between items-center hover:bg-gray-50 transition-colors",children:[H.jsxs("div",{className:"flex flex-col",children:[H.jsx("span",{className:"text-sm font-medium text-gray-800",children:e.numeroCompra}),H.jsxs("span",{className:"text-[10px] text-gray-500",children:["Saldo: ",e.monedaSimbolo," ",e.saldo.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),H.jsxs("div",{className:"flex items-center space-x-2",children:[H.jsx(en,{type:"number",className:"w-32 h-8 text-right text-sm",placeholder:"0.00",value:h.allocations[e.id]||"",onChange:t=>b(e.id,t.target.value,e.saldo)}),H.jsx(Za,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 text-[10px] text-blue-600 hover:text-blue-700 font-bold",onClick:()=>b(e.id,e.saldo,e.saldo),children:"TODO"})]})]},e.id))})]}),H.jsxs("div",{className:"bg-gray-50 p-4 rounded-md flex justify-between items-center border border-gray-200",children:[H.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Total de la Nota:"}),H.jsxs("div",{className:"text-xl font-bold "+("Credito"===h.tipo?"text-blue-600":"text-red-600"),children:[(null===(n=s.find(e=>e.id===parseInt(h.monedaId)))||void 0===n?void 0:n.simbolo)||"$"," ",h.monto.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),H.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[H.jsx(Za,{type:"button",variant:"outline",onClick:e,disabled:u,children:"Cancelar"}),H.jsxs(Za,{type:"submit",className:("Credito"===h.tipo?"bg-blue-600 hover:bg-blue-700":"bg-red-600 hover:bg-red-700")+" text-white shadow-md",disabled:u||h.monto<=0,children:[u?H.jsx(ba,{className:"mr-2 h-4 w-4 animate-spin"}):H.jsx(wa,{className:"mr-2 h-4 w-4"}),"Registrar Nota"]})]})]})]})})},ap="http://localhost:5006/api",np=({proveedor:e,proveedorId:t})=>{const[r,a]=W.useState("pendientes"),[n,o]=W.useState({pendientes:[],historial:[],pagos:[],notas:[]}),[i,s]=W.useState(!0),[l,c]=W.useState(!1);W.useEffect(()=>{t&&d()},[t]);const d=async()=>{s(!0);try{const e=await fetch(`${ap}/EstadoCuenta/${t}`);if(e.ok){const t=await e.json();o({pendientes:t.pendientes||t.Pendientes||[],historial:t.historial||t.Historial||[],pagos:t.pagos||t.Pagos||[],notas:t.notas||t.Notas||[]})}}catch(Xd){console.error(Xd)}finally{s(!1)}};if(i)return H.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:"Cargando detalles de cuenta..."});const u=e=>e?new Date(e).toLocaleDateString():"-",p=e=>null==e?"0.00":e.toLocaleString("es-DO",{minimumFractionDigits:2});return H.jsxs("div",{className:"p-4 bg-gray-50/80 animate-in slide-in-from-top-2 duration-300",children:[H.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-gray-200",children:[H.jsxs("nav",{className:"-mb-px flex space-x-6","aria-label":"Tabs",children:[H.jsxs("button",{onClick:()=>a("pendientes"),className:"whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm "+("pendientes"===r?"border-hd-orange text-hd-orange":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Pagar (",n.pendientes.length,")"]}),H.jsx("button",{onClick:()=>a("historial"),className:"whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm "+("historial"===r?"border-hd-orange text-hd-orange":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Historial Facturas"}),H.jsx("button",{onClick:()=>a("pagos"),className:"whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm "+("pagos"===r?"border-hd-orange text-hd-orange":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Pagos"}),H.jsxs("button",{onClick:()=>a("notas"),className:"whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm "+("notas"===r?"border-hd-orange text-hd-orange":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Notas (",n.notas.length,")"]})]}),"notas"===r&&H.jsxs(Za,{size:"xs",className:"mb-2 bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>c(!0),children:[H.jsx(xa,{size:14,className:"mr-1"})," Nueva Nota"]})]}),H.jsxs("div",{className:"bg-white rounded-md shadow-sm border border-gray-200 overflow-hidden",children:["pendientes"===r&&H.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs",children:[H.jsx("thead",{className:"bg-red-50",children:H.jsxs("tr",{children:[H.jsx("th",{className:"px-3 py-2 text-left font-medium text-red-800",children:"Fecha"}),H.jsx("th",{className:"px-3 py-2 text-left font-medium text-red-800",children:"Nmero de Documento"}),H.jsx("th",{className:"px-3 py-2 text-right font-medium text-red-800",children:"Total"}),H.jsx("th",{className:"px-3 py-2 text-right font-medium text-red-800",children:"Pagado"}),H.jsx("th",{className:"px-3 py-2 text-right font-medium text-red-800",children:"Pendiente"}),H.jsx("th",{className:"px-3 py-2 text-right font-medium text-red-800 text-[10px]",children:"DOP Equiv."})]})}),H.jsx("tbody",{className:"divide-y divide-gray-100 bg-white",children:0===n.pendientes.length?H.jsx("tr",{children:H.jsx("td",{colSpan:6,className:"p-4 text-center text-gray-400 italic",children:"Todo al da! No hay facturas pendientes."})}):n.pendientes.map(e=>H.jsxs("tr",{className:"hover:bg-red-50/20",children:[H.jsx("td",{className:"px-3 py-2 text-gray-600",children:u(e.FechaCompra)}),H.jsx("td",{className:"px-3 py-2 font-bold text-gray-800",children:e.ReferenciaProveedor||e.NumeroCompra}),H.jsxs("td",{className:"px-3 py-2 text-right font-medium",children:[e.MonedaSimbolo||e.monedaSimbolo||"RD$"," ",p(e.Total)]}),H.jsxs("td",{className:"px-3 py-2 text-right text-green-600",children:[e.MonedaSimbolo||e.monedaSimbolo||"RD$"," ",p(e.Total-(e.Saldo||0))]}),H.jsxs("td",{className:"px-3 py-2 text-right font-bold text-red-600",children:[e.MonedaSimbolo||e.monedaSimbolo||"RD$"," ",p(e.Saldo)]}),H.jsxs("td",{className:"px-3 py-2 text-right text-[10px] text-gray-400 italic",children:["RD$ ",p((e.Saldo||0)*(e.TasaCambio||e.tasaCambio||1))]})]},e.Id))})]}),"historial"===r&&H.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs",children:[H.jsx("thead",{className:"bg-gray-50",children:H.jsxs("tr",{children:[H.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-500",children:"Fecha"}),H.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-500",children:"Nmero de Documento"}),H.jsx("th",{className:"px-3 py-2 text-center font-medium text-gray-500",children:"Estado"}),H.jsx("th",{className:"px-3 py-2 text-right font-medium text-gray-500",children:"Total"})]})}),H.jsx("tbody",{className:"divide-y divide-gray-100",children:n.historial.map(e=>H.jsxs("tr",{className:"hover:bg-gray-50",children:[H.jsx("td",{className:"px-3 py-2",children:u(e.FechaCompra)}),H.jsx("td",{className:"px-3 py-2 font-mono text-gray-600",children:e.ReferenciaProveedor||e.NumeroCompra}),H.jsx("td",{className:"px-3 py-2 text-center",children:H.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] "+("Completado"===e.Estado?"bg-green-100 text-green-800":"Anulado"===e.Estado?"bg-gray-100 text-gray-500":"bg-yellow-100 text-yellow-800"),children:e.Estado||"Abierta"})}),H.jsxs("td",{className:"px-3 py-2 text-right font-medium",children:[e.MonedaSimbolo||e.monedaSimbolo||"RD$"," ",p(e.Total)]})]},e.Id))})]}),"pagos"===r&&H.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs",children:[H.jsx("thead",{className:"bg-blue-50",children:H.jsxs("tr",{children:[H.jsx("th",{className:"px-3 py-2 text-left font-medium text-blue-800",children:"Fecha"}),H.jsx("th",{className:"px-3 py-2 text-left font-medium text-blue-800",children:"Referencia"}),H.jsx("th",{className:"px-3 py-2 text-left font-medium text-blue-800",children:"Facturas Pagadas"}),H.jsx("th",{className:"px-3 py-2 text-left font-medium text-blue-800",children:"Mtodo"}),H.jsx("th",{className:"px-3 py-2 text-right font-medium text-blue-800",children:"Monto"}),H.jsx("th",{className:"px-3 py-2 text-center font-medium text-blue-800",children:"Acciones"})]})}),H.jsx("tbody",{className:"divide-y divide-gray-100",children:0===n.pagos.length?H.jsx("tr",{children:H.jsx("td",{colSpan:6,className:"p-4 text-center text-gray-400 italic",children:"No hay pagos registrados."})}):n.pagos.map(e=>{const t="Anulado"===(e.estado||e.Estado);return H.jsxs("tr",{className:"hover:bg-blue-50/20 "+(t?"opacity-50 line-through bg-gray-50":""),children:[H.jsx("td",{className:"px-3 py-2",children:u(e.fecha||e.Fecha)}),H.jsx("td",{className:"px-3 py-2 font-mono text-blue-600",children:e.referencia||e.Referencia}),H.jsx("td",{className:"px-3 py-2",children:(e.facturasAfectadas||e.FacturasAfectadas)&&(e.facturasAfectadas||e.FacturasAfectadas).length>0?H.jsx("div",{className:"flex flex-col space-y-1",children:(e.facturasAfectadas||e.FacturasAfectadas).map((e,t)=>H.jsxs("span",{className:"bg-blue-100 text-blue-800 text-[10px] px-1.5 py-0.5 rounded w-fit",children:[e.Numero||e.numero," ",H.jsxs("span",{className:"text-blue-500 opacity-75 ml-1",children:["($",p(e.Monto||e.monto),")"]})]},t))}):H.jsx("span",{className:"text-gray-400 italic text-[10px]",children:"Sin detalle"})}),H.jsx("td",{className:"px-3 py-2",children:e.metodo||e.Metodo}),H.jsxs("td",{className:"px-3 py-2 text-right font-bold text-gray-800 text-nowrap",children:[e.MonedaSimbolo||e.monedaSimbolo||"RD$"," ",p(e.monto||e.Monto)]}),H.jsxs("td",{className:"px-3 py-2 text-center",children:[!t&&H.jsx("button",{onClick:()=>(async e=>{if(confirm("Ests seguro de que deseas ANULAR este pago? Esta accin reversar los saldos de las facturas afectadas."))try{const t=await fetch(`${ap}/Pagos/${e}/anular`,{method:"PUT",headers:{"Content-Type":"application/json"}});if(t.ok)alert("Pago anulado exitosamente"),d();else{const e=await t.json();alert("Error al anular: "+(e.message||"Error desconocido"))}}catch(Xd){console.error(Xd),alert("Error de conexin")}})(e.id||e.Id),className:"text-red-500 hover:text-red-700 p-1 rounded hover:bg-red-50",title:"Anular Pago",children:H.jsx(cr,{size:14})}),t&&H.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:"ANULADO"})]})]},e.id||e.Id)})})]}),"notas"===r&&H.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs",children:[H.jsx("thead",{className:"bg-indigo-50",children:H.jsxs("tr",{children:[H.jsx("th",{className:"px-3 py-2 text-left font-medium text-indigo-800",children:"Fecha"}),H.jsx("th",{className:"px-3 py-2 text-left font-medium text-indigo-800",children:"Tipo"}),H.jsx("th",{className:"px-3 py-2 text-left font-medium text-indigo-800",children:"Referencia"}),H.jsx("th",{className:"px-3 py-2 text-left font-medium text-indigo-800",children:"Facturas Afectadas"}),H.jsx("th",{className:"px-3 py-2 text-right font-medium text-indigo-800",children:"Monto"}),H.jsx("th",{className:"px-3 py-2 text-center font-medium text-indigo-800",children:"Estado"}),H.jsx("th",{className:"px-3 py-2 text-center font-medium text-indigo-800",children:"Acciones"})]})}),H.jsx("tbody",{className:"divide-y divide-gray-100",children:0===n.notas.length?H.jsx("tr",{children:H.jsx("td",{colSpan:7,className:"p-4 text-center text-gray-400 italic",children:"No hay notas registradas."})}):n.notas.map(e=>{var t;const r="Anulada"===(e.estado||e.Estado);return H.jsxs("tr",{className:"hover:bg-indigo-50/20 "+(r?"opacity-50 line-through":""),children:[H.jsx("td",{className:"px-3 py-2",children:u(e.fecha||e.Fecha)}),H.jsx("td",{className:"px-3 py-2",children:H.jsx("span",{className:"font-bold "+("Credito"===e.tipo?"text-blue-600":"text-red-600"),children:"Credito"===e.tipo?"CRDITO":"DBITO"})}),H.jsx("td",{className:"px-3 py-2 font-mono",children:e.referencia||e.Referencia}),H.jsx("td",{className:"px-3 py-2",children:null===(t=e.facturasAfectadas||e.FacturasAfectadas)||void 0===t?void 0:t.map((e,t)=>H.jsx("span",{className:"inline-block bg-indigo-100 text-indigo-800 text-[10px] px-1.5 py-0.5 rounded mr-1",children:e.Numero||e.numero},t))}),H.jsxs("td",{className:"px-3 py-2 text-right font-bold",children:[e.monedaSimbolo||e.MonedaSimbolo||"RD$"," ",p(e.monto||e.Monto)]}),H.jsx("td",{className:"px-3 py-2 text-center",children:H.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] "+(r?"bg-gray-100 text-gray-500":"bg-green-100 text-green-800"),children:e.estado||"Completada"})}),H.jsx("td",{className:"px-3 py-2 text-center",children:!r&&H.jsx("button",{onClick:()=>(async e=>{if(confirm("Ests seguro de que deseas ANULAR esta nota? Esta accin reversar los ajustes de saldo en las facturas."))try{const t=await fetch(`${ap}/Notas/${e}/anular`,{method:"PUT",headers:{"Content-Type":"application/json"}});if(t.ok)alert("Nota anulada exitosamente"),d();else{const e=await t.json();alert("Error al anular: "+(e.message||"Error desconocido"))}}catch(Xd){console.error(Xd),alert("Error de conexin")}})(e.id||e.Id),className:"text-red-500 hover:text-red-700 p-1 rounded hover:bg-red-50",title:"Anular Nota",children:H.jsx(cr,{size:14})})})]},e.id||e.Id)})})]})]}),H.jsx("div",{className:"mt-2 text-right",children:H.jsx(Za,{size:"xs",variant:"outline",className:"text-gray-500",onClick:()=>a("pendientes"),children:"Ver todo..."})}),l&&H.jsx(rp,{initialProveedorId:t,onClose:()=>c(!1),onSuccess:()=>{d(),c(!1)}})]})},op="http://localhost:5006/api",ip=()=>{var e;const[t,r]=W.useState([]),[a,n]=W.useState(!0),[o,i]=W.useState([]),[s,l]=W.useState({deudaPendiente:0,pagadoMes:0,vencido:0,deudaTotal:0,cantidadFacturas:0}),[c,d]=W.useState({}),[u,p]=W.useState([]),[h,m]=W.useState([]);W.useEffect(()=>{g()},[]);const g=async()=>{try{n(!0);const e=await wn();i(e),await b(),await f(),await x()}catch(e){console.error("Error loading initial data:",e)}finally{n(!1)}},x=async()=>{try{const e=await fetch(`${op}/Monedas`);if(e.ok){const t=await e.json();p(t)}}catch(e){console.error("Error loading currencies:",e)}},f=async()=>{try{const e=await fetch(`${op}/Pagos/DeudaTotal`);if(e.ok){const t=await e.json();l(e=>({...e,deudaTotal:t.totalDeuda||t.TotalDeuda||0,cantidadFacturas:t.cantidadFacturas||t.CantidadFacturas||0}));const r={};t.porProveedor.forEach(e=>{const t=e.proveedorNombre||e.ProveedorNombre,a=e.saldoTotal||e.SaldoTotal||0;t&&(r[t]=a)}),d(r)}}catch(e){console.error("Error loading total debt:",e)}},b=async()=>{try{const e=await fetch(`${op}/Pagos`);if(e.ok){const t=await e.json();r(t);const a=t.filter(e=>"Completado"===e.estado).reduce((e,t)=>e+t.monto,0),n=t.filter(e=>"Pendiente"===e.estado).reduce((e,t)=>e+t.monto,0);l(e=>({...e,pagadoMes:a,deudaPendiente:n}))}}catch(e){console.error("Error loading payments:",e)}},[v,y]=W.useState({key:"fecha",direction:"desc"}),[w,j]=W.useState({}),[N,k]=W.useState({}),[C,S]=W.useState({}),[E,P]=W.useState(null),[O,I]=W.useState(""),[A,D]=W.useState(!1),[M,T]=W.useState(new Set),F=e=>{let t="asc";v.key===e&&"asc"===v.direction&&(t="desc"),y({key:e,direction:t})},z=(e,t)=>{t&&t.stopPropagation(),P(E===e?null:e)},R=(e,t)=>{j(r=>({...r,[e]:t}))},_=(e,t)=>{k(r=>{const a=r[e]||[];return a.includes(t)?{...r,[e]:a.filter(e=>e!==t)}:{...r,[e]:[...a,t]}})},L=()=>{const e={children:{}};return t.forEach(t=>{const r=new Date(t.fecha),a=String(r.getFullYear()),n=r.toLocaleDateString("es-DO",{month:"long"}),o=String(r.getDate());e.children[a]||(e.children[a]={children:{}}),e.children[a].children[n]||(e.children[a].children[n]={children:{}}),e.children[a].children[n].children[o]||(e.children[a].children[n].children[o]={count:0}),e.children[a].children[n].children[o].count++}),e},$=e=>{const r=t.map(t=>String(t[e]||""));return[...new Set(r)].sort()},U=(()=>{let e=[...t];return O&&(e=e.filter(e=>Object.keys(e).some(t=>{if("facturasAfectadas"===t)return!1;var r;return("fecha"===t?(r=e[t])?new Date(r).toLocaleDateString("es-DO",{year:"numeric",month:"long",day:"2-digit"}):"":String(e[t])).toLowerCase().includes(O.toLowerCase())}))),Object.keys(w).forEach(t=>{w[t]&&(e=e.filter(e=>{if("fecha"===t){const r=new Date(e[t]);return`${r.getFullYear()} ${r.toLocaleDateString("es-DO",{month:"long"})} ${r.getDate()}`.toLowerCase().includes(w[t].toLowerCase())}return String(e[t]||"").toLowerCase().includes(w[t].toLowerCase())}))}),Object.keys(N).forEach(t=>{N[t]&&N[t].length>0&&(e=e.filter(e=>{if("fecha"===t){const r=new Date(e[t]),a=`${r.getFullYear()}/${r.toLocaleDateString("es-DO",{month:"long"})}/${r.getDate()}`;return N[t].includes(a)}return N[t].includes(String(e[t]))}))}),Object.keys(C).forEach(t=>{const{min:r,max:a}=C[t];""!==r&&(e=e.filter(e=>(e[t]||0)>=parseFloat(r))),""!==a&&(e=e.filter(e=>(e[t]||0)<=parseFloat(a)))}),v.key&&e.sort((e,t)=>{const r=e[v.key],a=t[v.key];return r<a?"asc"===v.direction?-1:1:r>a?"asc"===v.direction?1:-1:0}),e})(),B=L(),V=W.useMemo(()=>{if(!A)return null;const e={};return U.forEach(t=>{e[t.proveedorNombre]||(e[t.proveedorNombre]={proveedor:t.proveedorNombre,pagos:[],totalCompletado:0,totalPendiente:0,deudaActual:0}),e[t.proveedorNombre].pagos.push(t);const r=t.montoFuncional||("DOP"===t.monedaCodigo?t.monto:t.monto*(t.tasaCambio||1));"Completado"===t.estado&&(e[t.proveedorNombre].totalCompletado+=r),"Pendiente"===t.estado&&(e[t.proveedorNombre].totalPendiente+=r)}),Object.keys(c).forEach(t=>{(!O||t.toLowerCase().includes(O.toLowerCase()))&&(!e[t]&&c[t]>0?e[t]={proveedor:t,pagos:[],totalCompletado:0,totalPendiente:0,deudaActual:c[t]}:e[t]&&(e[t].deudaActual=c[t]))}),Object.values(e).sort((e,t)=>e.proveedor.localeCompare(t.proveedor))},[U,A,c]),[G,q]=W.useState(!1),[J,Y]=W.useState({proveedorId:"",fecha:(new Date).toISOString().split("T")[0],metodo:"Transferencia",monto:0,nota:"",monedaId:"",tasaCambio:1,allocations:{}});W.useEffect(()=>{if(G&&u.length>0&&!J.monedaId){const e=u.find(e=>e.esFuncional);e&&Y(t=>({...t,monedaId:e.id,tasaCambio:1}))}},[G,u]);const X=async(e,t)=>{if("proveedorId"===e)Y(e=>({...e,proveedorId:t,allocations:{},monto:0})),(async e=>{if(e)try{const t=await fetch(`${op}/Pagos/FacturasPendientes/${e}`);if(t.ok){const e=await t.json();m(e)}}catch(t){console.error("Error loading pending invoices:",t)}else m([])})(t);else if("monedaId"===e){const e=parseInt(t),r=u.find(t=>t.id===e);let a=1;if(r&&!r.esFuncional)try{const t=(new Date).toISOString().split("T")[0],r=await fetch(`${op}/Monedas/tasas?monedaId=${e}&fecha=${t}`);if(r.ok){const e=await r.json();a=e.tasa||1}}catch(Xd){console.error("Error fetching rate:",Xd)}Y(e=>({...e,monedaId:t,tasaCambio:a,allocations:{},monto:0,tasaOficial:a}))}else Y(r=>({...r,[e]:t}))},Q=(e,t,r)=>{let a=parseFloat(t)||0;a>r&&(a=r),a<0&&(a=0);const n={...J.allocations,[e]:a};0===a&&delete n[e];const o=()=>{let e=0;const t=parseInt(J.monedaId),r=u.find(e=>e.id===t);return Object.keys(n).forEach(a=>{const o=h.find(e=>e.id===parseInt(a)),i=n[a];o&&(o.monedaId===t?e+=i:null!=r&&r.esFuncional?e+=i*J.tasaCambio:e+=i/J.tasaCambio)}),e};Y(e=>({...e,allocations:n,monto:o()}))},[Z,ee]=W.useState(null),[te,re]=W.useState(null),[ae,ne]=W.useState("");return H.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 relative",children:[H.jsxs("div",{className:"flex justify-between items-center",children:[H.jsxs("div",{children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Pagos a Proveedores"}),H.jsx("p",{className:"text-sm text-gray-500",children:"Gestin de histrico y nuevos pagos."})]}),H.jsxs("div",{className:"flex space-x-2",children:[H.jsxs(Za,{variant:"outline",className:""+(A?"bg-orange-50 text-hd-orange border-hd-orange":"text-gray-500"),onClick:()=>D(!A),children:[A?H.jsx(Xr,{size:18,className:"mr-2"}):H.jsx(Yr,{size:18,className:"mr-2"}),A?"Vista Lista":"Agrupar por Proveedor"]}),H.jsxs(Za,{className:"bg-hd-orange hover:bg-orange-700 text-white",onClick:()=>q(!0),children:[H.jsx(xa,{className:"mr-2 h-4 w-4"})," Nuevo Pago"]})]})]}),H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[H.jsx(ln,{className:"bg-red-50 border-red-100",children:H.jsxs("div",{className:"p-4 flex items-center justify-between",children:[H.jsxs("div",{children:[H.jsx("p",{className:"text-sm font-medium text-red-600",children:"Deuda en Pagos Pendientes"}),H.jsxs("p",{className:"text-2xl font-bold text-red-900",children:["RD$ ",s.deudaPendiente.toLocaleString("es-DO",{minimumFractionDigits:2})]})]}),H.jsx("div",{className:"p-2 bg-red-100 rounded-full text-red-600",children:H.jsx(Dr,{size:24})})]})}),H.jsx(ln,{className:"bg-blue-50 border-blue-100",children:H.jsxs("div",{className:"p-4 flex items-center justify-between",children:[H.jsxs("div",{children:[H.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Total Pagado"}),H.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:["RD$ ",s.pagadoMes.toLocaleString("es-DO",{minimumFractionDigits:2})]})]}),H.jsx("div",{className:"p-2 bg-blue-100 rounded-full text-blue-600",children:H.jsx(vr,{size:24})})]})}),H.jsx(ln,{className:"bg-hd-black border-hd-orange border-l-4 shadow-md",children:H.jsxs("div",{className:"p-4 flex items-center justify-between",children:[H.jsxs("div",{children:[H.jsx("p",{className:"text-sm font-medium text-hd-orange uppercase tracking-wider text-[10px]",children:"Deuda Total Consolidada"}),H.jsxs("p",{className:"text-2xl font-bold text-white",children:["RD$ ",s.deudaTotal.toLocaleString("es-DO",{minimumFractionDigits:2})]}),H.jsxs("p",{className:"text-[10px] text-gray-400",children:[s.cantidadFacturas," Facturas (Valores en Pesos)"]})]}),H.jsx("div",{className:"p-2 bg-hd-orange/20 rounded-full text-hd-orange",children:H.jsx(Yr,{size:24})})]})})]}),H.jsxs(ln,{children:[H.jsxs(cn,{className:"flex flex-row justify-between items-center pb-4",children:[H.jsx(dn,{children:A?"Resumen por Proveedor":"Historial de Pagos"}),H.jsxs("div",{className:"flex items-center space-x-2",children:[(Object.keys(w).length>0||Object.keys(N).some(e=>Array.isArray(N[e])&&N[e].length>0)||Object.keys(C).some(e=>""!==C[e].min||""!==C[e].max))&&H.jsxs(Za,{variant:"ghost",size:"sm",onClick:()=>{j({}),k({}),S({})},className:"text-xs text-hd-orange hover:text-orange-700",children:[H.jsx(Ha,{size:14,className:"mr-1"})," Limpiar Filtros"]}),H.jsxs("div",{className:"relative w-64",children:[H.jsx(ja,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),H.jsx(en,{placeholder:"Buscar pago...",className:"pl-9",value:O,onChange:e=>I(e.target.value)})]})]})]}),H.jsx("div",{className:"p-0 overflow-visible relative min-h-[500px]",children:H.jsxs(tn,{children:[H.jsx(rn,{children:H.jsxs(nn,{children:[A&&H.jsx(on,{className:"w-10"}),H.jsx(sp,{label:"Fecha",field:"fecha",sortConfig:v,onSort:F,onFilter:z,showFilter:"fecha"===E,filterValue:w.fecha,onFilterChange:R,dateTree:B,selectedValues:N.fecha,onTreeToggle:(e,t,r)=>{k(a=>{let n=[...a[e]||[]];const o=L(),i=(e,t)=>{e.children?Object.keys(e.children).forEach(r=>{i(e.children[r],t?`${t}/${r}`:r)}):s.push(t)},s=[];if(""===t)return r?{...a,[e]:[]}:(i(o,""),{...a,[e]:s});const l=t.split("/").filter(Boolean);let c=o;for(const e of l){var d;if(c=null===(d=c)||void 0===d||null===(d=d.children)||void 0===d?void 0:d[e],!c)break}if(c){const e=[],a=(t,r)=>{t.children?Object.keys(t.children).forEach(e=>{a(t.children[e],`${r}/${e}`)}):e.push(r)};a(c,t),r?n=n.filter(t=>!e.includes(t)):e.forEach(e=>{n.includes(e)||n.push(e)})}return{...a,[e]:n}})}}),H.jsx(sp,{label:"Referencia",field:"referencia",sortConfig:v,onSort:F,onFilter:z,showFilter:"referencia"===E,filterValue:w.referencia,onFilterChange:R,className:"font-mono text-xs"}),H.jsx(sp,{label:"Proveedor",field:"proveedorNombre",sortConfig:v,onSort:F,onFilter:z,showFilter:"proveedorNombre"===E,filterValue:w.proveedorNombre,onFilterChange:R,uniqueValues:$("proveedorNombre"),selectedValues:N.proveedorNombre,onValueToggle:_}),H.jsx(sp,{label:"Mtodo",field:"metodo",sortConfig:v,onSort:F,onFilter:z,showFilter:"metodo"===E,filterValue:w.metodo,onFilterChange:R,uniqueValues:$("metodo"),selectedValues:N.metodo,onValueToggle:_}),H.jsx(sp,{label:"Monto",field:"monto",sortConfig:v,onSort:F,onFilter:z,showFilter:"monto"===E,numericValue:C.monto,onNumericFilterChange:(e,t,r)=>{S(a=>({...a,[e]:{...a[e]||{min:"",max:""},[t]:r}}))},className:"text-right"}),H.jsx(sp,{label:"Estado",field:"estado",sortConfig:v,onSort:F,onFilter:z,showFilter:"estado"===E,filterValue:w.estado,onFilterChange:R,uniqueValues:$("estado"),selectedValues:N.estado,onValueToggle:_}),H.jsx(on,{children:"Acciones"})]})}),H.jsx(an,{children:a?H.jsx(nn,{children:H.jsx(sn,{colSpan:A?8:7,className:"text-center py-8",children:"Cargando..."})}):A?V.map(e=>{var t;return H.jsxs(K.Fragment,{children:[H.jsxs(nn,{className:"bg-gray-50/50 hover:bg-gray-50 cursor-pointer font-medium",onClick:()=>(e=>{const t=new Set(M);t.has(e)?t.delete(e):t.add(e),T(t)})(e.proveedor),children:[H.jsx(sn,{children:M.has(e.proveedor)?H.jsx(wr,{size:14,className:"text-hd-orange"}):H.jsx(Cr,{size:14})}),H.jsx(sn,{className:"text-gray-400 font-sans italic text-[10px]",children:"Mltiples fechas"}),H.jsx(sn,{className:"text-blue-600 font-mono text-[10px]",children:"GRUPO"}),H.jsx(sn,{className:"font-bold text-gray-800",children:e.proveedor}),H.jsx(sn,{className:"text-gray-400 font-sans italic text-[10px]",children:"Mltiples"}),H.jsx(sn,{className:"text-right",children:H.jsxs("div",{className:"flex flex-col items-end",children:[H.jsxs("span",{className:"text-green-600 font-bold",children:["Pagado: RD$ ",e.totalCompletado.toLocaleString(void 0,{minimumFractionDigits:2})]}),e.totalPendiente>0&&H.jsxs("span",{className:"text-yellow-600 text-[10px]",children:["Programado: RD$ ",e.totalPendiente.toLocaleString()]})]})}),H.jsx(sn,{children:H.jsxs("div",{className:"flex flex-col items-center",children:[H.jsxs("span",{className:"text-gray-900 font-bold text-[11px]",children:["Deuda: RD$ ",e.deudaActual.toLocaleString()]}),H.jsxs("span",{className:"text-[10px] text-blue-600",children:[e.pagos.length," Pagos"]})]})}),H.jsx(sn,{})]}),M.has(e.proveedor)&&H.jsx(nn,{className:"bg-white border-l-4 border-hd-orange",children:H.jsx(sn,{colSpan:8,className:"p-0",children:H.jsx(np,{proveedor:e.proveedor,proveedorId:null===(t=e.pagos[0])||void 0===t?void 0:t.proveedorId})})})]},e.proveedor)}):0===U.length?H.jsx(nn,{children:H.jsx(sn,{colSpan:7,className:"text-center py-8 text-gray-500",children:"No se encontraron pagos."})}):U.map(e=>{var t;return H.jsxs(nn,{className:"hover:bg-gray-50 group text-xs font-sans",children:[H.jsx(sn,{className:"font-sans",children:new Date(e.fecha).toLocaleDateString()}),H.jsx(sn,{children:H.jsxs("div",{className:"flex flex-col text-[11px]",children:[H.jsx("span",{className:"font-mono "+("PENDIENTE"===e.referencia?"text-orange-400 italic":"text-blue-600"),children:e.referencia}),(null===(t=e.facturasAfectadas)||void 0===t?void 0:t.length)>0&&H.jsx("span",{className:"text-[10px] text-gray-400",children:e.facturasAfectadas.map(e=>e.numero).join(", ")})]})}),H.jsx(sn,{className:"font-medium text-gray-700",children:e.proveedorNombre}),H.jsx(sn,{children:H.jsxs("div",{className:"flex items-center space-x-2",children:[H.jsx(Ir,{size:14,className:"text-gray-400"}),H.jsx("span",{children:e.metodo})]})}),H.jsxs(sn,{className:"text-right font-medium",children:[e.monedaSimbolo||"RD$"," ",e.monto.toLocaleString("es-DO",{minimumFractionDigits:2})]}),H.jsx(sn,{children:H.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium "+("Completado"===e.estado?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.estado})}),H.jsx(sn,{children:H.jsxs("div",{className:"flex space-x-1",children:[H.jsx(Za,{size:"xs",variant:"ghost",className:"h-7 w-7 p-0 text-gray-500 hover:text-hd-orange hover:bg-orange-50",onClick:()=>re(e),title:"Ver detalles",children:H.jsx(Fr,{size:16})}),"Pendiente"===e.estado&&H.jsx(Za,{size:"xs",className:"h-7 text-[10px] bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>(e=>{ee(e),ne("")})(e),children:"Confirmar"})]})})]},e.id)})})]})})]}),G&&H.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:H.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[H.jsxs("div",{className:"bg-hd-orange p-4 flex justify-between items-center text-white",children:[H.jsxs("h2",{className:"text-lg font-bold flex items-center",children:[H.jsx(Dr,{className:"mr-2",size:20})," Programar Pago a Proveedor"]}),H.jsx("button",{onClick:()=>q(!1),className:"hover:bg-orange-700 p-1 rounded transition-colors",children:H.jsx(Ha,{size:20})})]}),H.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),J.monto<=0)return alert("El monto del pago debe ser mayor a 0");try{const e={proveedorId:parseInt(J.proveedorId),fecha:J.fecha,metodo:J.metodo,monto:J.monto,nota:J.nota,monedaId:parseInt(J.monedaId),tasaCambio:parseFloat(J.tasaCambio),allocations:Object.keys(J.allocations).map(e=>{const t=parseInt(e),r=h.find(e=>e.id===t),a=J.allocations[e],n=u.find(e=>e.id===r.monedaId),o=a*(r.tasaFactura||1);let i=a;null!=n&&n.esFuncional||(i=a*J.tasaCambio);return{invoiceId:t,monto:a,montoFuncional:i,diferenciaCambiaria:i-o}})},t=await fetch(`${op}/Pagos`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)q(!1),Y({proveedorId:"",fecha:(new Date).toISOString().split("T")[0],metodo:"Transferencia",monto:0,nota:"",allocations:{}}),b();else{const e=await t.json();alert(e.message||"Error al registrar pago")}}catch(t){console.error("Error creating payment:",t),alert("Error de conexin")}},className:"p-6 space-y-4",children:[H.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Proveedor"}),H.jsxs("select",{className:"w-full rounded-md border border-gray-300 p-2 text-sm focus:border-hd-orange focus:ring-hd-orange",value:J.proveedorId,onChange:e=>X("proveedorId",e.target.value),required:!0,children:[H.jsx("option",{value:"",children:"Seleccione un proveedor"}),o.map(e=>H.jsx("option",{value:e.id,children:e.razonSocial},e.id))]})]}),H.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha Programada"}),H.jsx(en,{type:"date",value:J.fecha,onChange:e=>X("fecha",e.target.value),required:!0})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mtodo"}),H.jsxs("select",{className:"w-full rounded-md border border-gray-300 p-2 text-sm focus:border-hd-orange focus:ring-hd-orange",value:J.metodo,onChange:e=>X("metodo",e.target.value),children:[H.jsx("option",{value:"Transferencia",children:"Transferencia"}),H.jsx("option",{value:"Cheque",children:"Cheque"}),H.jsx("option",{value:"Efectivo",children:"Efectivo"})]})]})]})]}),H.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-orange-50/50 p-3 rounded-md border border-orange-100",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-xs font-bold text-orange-800 uppercase mb-1 tracking-wider",children:"Moneda de Pago"}),H.jsx("select",{className:"w-full rounded-md border border-orange-200 p-2 text-sm focus:ring-hd-orange focus:border-hd-orange bg-white shadow-sm",value:J.monedaId,onChange:e=>X("monedaId",e.target.value),children:u.map(e=>H.jsxs("option",{value:e.id,children:[e.codigo," - ",e.nombre]},e.id))})]}),!1===(null===(e=u.find(e=>e.id===parseInt(J.monedaId)))||void 0===e?void 0:e.esFuncional)&&H.jsxs("div",{children:[H.jsxs("div",{className:"flex justify-between items-center mb-1",children:[H.jsx("label",{className:"block text-xs font-bold text-orange-800 uppercase tracking-wider",children:"Tasa de Cambio"}),J.tasaOficial>0&&Math.abs(J.tasaCambio-J.tasaOficial)/J.tasaOficial>.05&&H.jsx("span",{className:"text-[9px] bg-red-100 text-red-600 px-1 rounded animate-pulse font-bold",children:"Variacin Inusual"})]}),H.jsx(en,{type:"number",step:"0.01",value:J.tasaCambio,onChange:e=>X("tasaCambio",e.target.value),className:"border-orange-200 bg-white "+(Math.abs(J.tasaCambio-J.tasaOficial)/J.tasaOficial>.05?"ring-1 ring-red-400 border-red-400":"")})]})]}),H.jsxs("div",{className:"bg-gray-50 border border-gray-100 rounded-md p-4",children:[H.jsxs("div",{className:"flex justify-between items-center mb-3",children:[H.jsxs("h3",{className:"text-sm font-bold text-gray-700 flex items-center",children:[H.jsx(fr,{className:"mr-2",size:16})," Facturas Pendientes",J.proveedorId&&H.jsxs("span",{className:"ml-2 px-2 py-0.5 bg-hd-orange/10 text-hd-orange rounded-full text-[10px]",children:[h.length," totales"]})]}),H.jsxs("div",{className:"flex items-center space-x-2",children:[H.jsx("input",{type:"checkbox",id:"showAllCurrencies",className:"rounded border-gray-300 text-hd-orange focus:ring-hd-orange h-3 w-3",checked:J.showAllCurrencies||!1,onChange:e=>Y(t=>({...t,showAllCurrencies:e.target.checked}))}),H.jsx("label",{htmlFor:"showAllCurrencies",className:"text-xs text-gray-600 cursor-pointer select-none",children:"Mostrar todas las monedas"})]})]}),H.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-sm bg-white",children:H.jsxs("table",{className:"w-full text-xs text-left",children:[H.jsx("thead",{className:"bg-gray-100 sticky top-0",children:H.jsxs("tr",{children:[H.jsx("th",{className:"px-3 py-2",children:"Factura #"}),H.jsx("th",{className:"px-3 py-2 text-right",children:"Saldo Original"}),H.jsx("th",{className:"px-3 py-2 text-right w-32",children:"Monto a Aplicar"}),H.jsx("th",{className:"px-3 py-2 text-center w-24",children:"Accin"})]})}),H.jsx("tbody",{className:"divide-y divide-gray-100 font-mono",children:J.proveedorId?(()=>{const e=h.filter(e=>J.showAllCurrencies||!J.monedaId||e.monedaId===parseInt(J.monedaId));return 0===e.length?H.jsx("tr",{children:H.jsx("td",{colSpan:5,className:"p-4 text-center text-gray-400 font-sans",children:"No hay facturas pendientes en esta moneda."})}):e.map(e=>H.jsxs("tr",{className:"hover:bg-blue-50/30",children:[H.jsx("td",{className:"px-3 py-1 font-medium text-[10px]",children:e.numero}),H.jsxs("td",{className:"px-3 py-1 text-right text-gray-500 font-sans",children:[e.monedaSimbolo||"RD$"," ",e.saldo.toLocaleString()]}),H.jsx("td",{className:"px-3 py-1 text-right",children:H.jsxs("div",{className:"flex items-center justify-end",children:[H.jsx("span",{className:"text-[10px] text-gray-400 mr-1",children:e.monedaCodigo}),H.jsx(en,{type:"number",step:"0.01",className:"h-6 w-24 text-right text-[10px]",value:J.allocations[e.id]||"",onChange:t=>Q(e.id,t.target.value,e.saldo)})]})}),H.jsx("td",{className:"px-3 py-1 text-center font-sans",children:H.jsx(Za,{type:"button",size:"xs",variant:"ghost",className:"text-[9px] h-6 text-blue-600 font-bold",onClick:()=>{return t=e.id,r=e.saldo,void Q(t,r,r);var t,r},children:"Saldar"})})]},e.id))})():H.jsx("tr",{children:H.jsx("td",{colSpan:5,className:"p-4 text-center text-gray-400",children:"Seleccione un proveedor."})})})]})})]}),H.jsxs("div",{className:"flex justify-between items-end",children:[H.jsxs("div",{className:"flex-1 mr-4",children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nota / Comentario"}),H.jsx(en,{placeholder:"Opcional...",value:J.nota,onChange:e=>X("nota",e.target.value)})]}),H.jsx("div",{className:"flex flex-col space-y-2",children:(e=>{let t=0,r=0;return Object.keys(J.allocations).forEach(e=>{const a=h.find(t=>t.id===parseInt(e)),n=J.allocations[e],o=n*(a.tasaFactura||1),i=u.find(e=>e.id===parseInt(J.monedaId));let s=n;s=null!=i&&i.esFuncional?a.monedaId!==i.id?n*J.tasaCambio:n:n*J.tasaCambio,t+=s-o,r+=s}),H.jsxs(H.Fragment,{children:[Math.abs(t)>.01&&H.jsxs("div",{className:"text-[10px] px-2 py-1 rounded border "+(t>0?"bg-red-50 text-red-700 border-red-100":"bg-green-50 text-green-700 border-green-100"),children:[H.jsx("span",{className:"font-bold",children:"Diferencia Cambiaria:"})," RD$ ",t.toLocaleString(void 0,{minimumFractionDigits:2}),H.jsx("p",{className:"opacity-70",children:t>0?" Prdida por tasa":" Ganancia por tasa"})]}),H.jsxs("div",{className:"w-48 bg-gray-900 shadow-inner text-white p-3 rounded-md text-right border-l-4 border-hd-orange",children:[H.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-wider",children:"Total a Pagar"}),H.jsxs("p",{className:"text-xl font-bold font-mono",children:[(null===(e=u.find(e=>e.id===parseInt(J.monedaId)))||void 0===e?void 0:e.simbolo)||"RD$"," ",J.monto.toLocaleString(void 0,{minimumFractionDigits:2})]}),H.jsxs("p",{className:"text-[9px] text-gray-500 mt-1 italic",children:["Equivalente: RD$ ",r.toLocaleString()]})]})]})})()})]}),H.jsxs("div",{className:"pt-4 flex justify-end space-x-2 border-t border-gray-100",children:[H.jsx(Za,{type:"button",variant:"outline",onClick:()=>q(!1),children:"Cerrar"}),H.jsx(Za,{type:"submit",className:"bg-hd-orange hover:bg-orange-700 text-white shadow-lg",children:"Registrar como Pendiente"})]})]})]})}),Z&&H.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:H.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 border-t-4 border-blue-600",children:[H.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[H.jsxs("h2",{className:"text-blue-900 font-bold flex items-center",children:[H.jsx(vr,{className:"mr-2",size:20})," Confirmar Ejecucin de Pago"]}),H.jsx("button",{onClick:()=>ee(null),children:H.jsx(Ha,{size:20,className:"text-gray-400 hover:text-gray-600"})})]}),H.jsxs("form",{onSubmit:async e=>{if(e&&e.preventDefault(),!ae&&"Efectivo"!==Z.metodo)return alert("Debe ingresar el nmero de referencia");try{const e=await fetch(`${op}/Pagos/${Z.id}/confirmar`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({referencia:ae||"PAGADO"})});if(e.ok)ee(null),b();else{const t=await e.json();alert(t.message||"Error al confirmar pago")}}catch(t){console.error("Error confirming payment:",t),alert("Error de conexin")}},className:"p-6 space-y-4",children:[H.jsxs("div",{className:"bg-gray-50 p-3 rounded-md border border-gray-200 space-y-2",children:[H.jsxs("div",{className:"flex justify-between text-xs",children:[H.jsx("span",{className:"text-gray-500",children:"Proveedor:"}),H.jsx("span",{className:"font-bold",children:Z.proveedorNombre})]}),H.jsxs("div",{className:"flex justify-between text-xs",children:[H.jsx("span",{className:"text-gray-500",children:"Monto:"}),H.jsxs("span",{className:"font-bold text-blue-700",children:[Z.monedaSimbolo||"RD$"," ",Z.monto.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),H.jsxs("div",{className:"flex justify-between text-xs",children:[H.jsx("span",{className:"text-gray-500",children:"Mtodo:"}),H.jsxs("span",{className:"font-bold flex items-center",children:[H.jsx(Ir,{size:12,className:"mr-1"})," ",Z.metodo]})]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cheque"===Z.metodo?"Nmero de Cheque":"Transferencia"===Z.metodo?"Nmero de Transferencia":"Referencia de Pago"}),H.jsx(en,{className:"border-blue-200 focus:ring-blue-500 focus:border-blue-500",placeholder:"Efectivo"===Z.metodo?"Referencia opcional...":`Ingrese ${"Cheque"===Z.metodo?"No. Cheque":"No. Transferencia"}...`,value:ae,onChange:e=>ne(e.target.value),required:"Efectivo"!==Z.metodo,autoFocus:!0}),"Efectivo"!==Z.metodo&&H.jsx("p",{className:"text-[10px] text-orange-600 mt-1",children:"* Este dato es obligatorio para cerrar el pago."})]}),H.jsxs("div",{className:"pt-2 flex justify-end space-x-2",children:[H.jsx(Za,{type:"button",variant:"outline",size:"sm",onClick:()=>ee(null),children:"Volver"}),H.jsx(Za,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white shadow-md",children:"Marcar como Pagado"})]})]})]})}),te&&H.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:H.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[H.jsxs("div",{className:"bg-gray-100 p-4 flex justify-between items-center border-b border-gray-200",children:[H.jsxs("h2",{className:"text-lg font-bold text-gray-800 flex items-center",children:[H.jsx(zr,{className:"mr-2",size:20})," Detalle de Pago"]}),H.jsx("button",{onClick:()=>re(null),className:"hover:bg-gray-200 p-1 rounded transition-colors",children:H.jsx(Ha,{size:20})})]}),H.jsxs("div",{className:"p-6",children:[H.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[H.jsxs("div",{children:[H.jsx("p",{className:"text-xs text-gray-500",children:"Proveedor"}),H.jsx("p",{className:"font-bold text-gray-800",children:te.proveedorNombre})]}),H.jsxs("div",{children:[H.jsx("p",{className:"text-xs text-gray-500",children:"Fecha"}),H.jsx("p",{className:"font-bold text-gray-800",children:new Date(te.fecha).toLocaleDateString()})]}),H.jsxs("div",{children:[H.jsx("p",{className:"text-xs text-gray-500",children:"Referencia / Mtodo"}),H.jsxs("p",{className:"font-bold text-gray-800",children:[te.referencia," ",H.jsxs("span",{className:"text-xs font-normal text-gray-500",children:["(",te.metodo,")"]})]})]}),H.jsxs("div",{children:[H.jsx("p",{className:"text-xs text-gray-500",children:"Monto Total"}),H.jsxs("p",{className:"font-bold text-blue-600 text-lg",children:[te.monedaSimbolo||"RD$"," ",te.monto.toLocaleString(void 0,{minimumFractionDigits:2})]})]})]}),H.jsx("h3",{className:"text-sm font-bold text-gray-700 mb-2 border-b pb-1",children:"Facturas Afectadas"}),H.jsx("div",{className:"max-h-60 overflow-y-auto",children:H.jsxs(tn,{children:[H.jsx(rn,{children:H.jsxs(nn,{className:"bg-gray-50",children:[H.jsx(on,{className:"py-2 h-8 text-xs",children:"Factura"}),H.jsx(on,{className:"py-2 h-8 text-xs text-right",children:"Monto Aplicado"})]})}),H.jsx(an,{children:te.facturasAfectadas&&te.facturasAfectadas.length>0?te.facturasAfectadas.map((e,t)=>H.jsxs(nn,{className:"hover:bg-gray-50",children:[H.jsx(sn,{className:"py-2 text-xs font-mono",children:e.numero}),H.jsxs(sn,{className:"py-2 text-xs text-right font-medium",children:[te.monedaSimbolo||"RD$"," ",(e.monto||0).toLocaleString(void 0,{minimumFractionDigits:2})]})]},t)):H.jsx(nn,{children:H.jsx(sn,{colSpan:2,className:"text-center py-4 text-gray-400 text-xs",children:"No hay detalles de facturas."})})})]})})]}),H.jsx("div",{className:"bg-gray-50 p-4 border-t border-gray-200 flex justify-end",children:H.jsx(Za,{variant:"outline",onClick:()=>re(null),children:"Cerrar"})})]})})]})},sp=({label:e,field:t,sortConfig:r,onSort:a,onFilter:n,showFilter:o,filterValue:i="",onFilterChange:s,numericValue:l={min:"",max:""},onNumericFilterChange:c,uniqueValues:d=[],selectedValues:u=[],onValueToggle:p,dateTree:h,onTreeToggle:m,className:g=""})=>{const x=r.key===t,f=void 0!==c,b=void 0!==h,v=i||u&&u.length>0||f&&(""!==l.min||""!==l.max);return H.jsxs(on,{className:`relative group p-0 ${g}`,children:[H.jsxs("div",{className:"flex items-center justify-between h-full px-4 py-2 hover:bg-gray-200 cursor-pointer transition-colors",onClick:()=>a(t),children:[H.jsxs("div",{className:"flex items-center space-x-1 text-[11px]",children:[H.jsx("span",{className:"font-bold text-gray-700",children:e}),x?"asc"===r.direction?H.jsx(lr,{size:12,className:"text-hd-orange"}):H.jsx(rr,{size:12,className:"text-hd-orange"}):H.jsx(ir,{size:12,className:"text-gray-400 opacity-0 group-hover:opacity-100"})]}),n&&H.jsx("button",{onClick:e=>n(t,e),className:"p-1 rounded-sm "+(v?"text-hd-orange":"text-gray-400"),children:H.jsx(Rr,{size:12,fill:v?"currentColor":"none"})})]}),o&&H.jsxs("div",{className:"absolute top-full left-0 mt-1 w-64 bg-white border border-gray-200 shadow-2xl rounded-sm z-[100] text-[11px]",onClick:e=>e.stopPropagation(),children:[H.jsxs("div",{className:"p-1 border-b border-gray-100",children:[H.jsxs("div",{className:"flex items-center px-3 py-2 hover:bg-hd-orange/10 cursor-pointer",onClick:()=>{a(t),n(t)},children:[H.jsx(lr,{size:12,className:"mr-2"})," ","fecha"===t?"Antiguo":"Ascendente"]}),H.jsxs("div",{className:"flex items-center px-3 py-2 hover:bg-hd-orange/10 cursor-pointer",onClick:()=>{a(t),n(t)},children:[H.jsx(rr,{size:12,className:"mr-2"})," ","fecha"===t?"Reciente":"Descendente"]})]}),H.jsx("div",{className:"p-3 bg-gray-50 border-b border-gray-100",children:f?H.jsxs("div",{className:"space-y-2",children:[H.jsx(en,{type:"number",placeholder:"Min",value:l.min,onChange:e=>c(t,"min",e.target.value),className:"h-7 text-[10px]"}),H.jsx(en,{type:"number",placeholder:"Max",value:l.max,onChange:e=>c(t,"max",e.target.value),className:"h-7 text-[10px]"})]}):H.jsx(en,{placeholder:"Buscar...",value:i,onChange:e=>s(t,e.target.value),className:"h-7 text-[10px]"})}),H.jsx("div",{className:"max-h-56 overflow-y-auto p-2",children:b?H.jsx(lp,{tree:h,selectedPaths:u,onToggle:(e,r)=>m(t,e,r)}):d.length>0?H.jsx("div",{className:"space-y-0.5",children:d.map(e=>H.jsxs("div",{className:"flex items-center px-2 py-0.5 hover:bg-gray-100 rounded cursor-pointer",onClick:()=>p(t,e),children:[H.jsx("input",{type:"checkbox",checked:u.includes(e),readOnly:!0,className:"h-3 w-3"}),H.jsx("span",{className:"ml-2 truncate",children:e})]},e))}):null}),H.jsxs("div",{className:"flex justify-between p-2 bg-gray-50 border-t",children:[H.jsx(Za,{size:"xs",variant:"ghost",onClick:()=>n(t),children:"Cerrar"}),H.jsx(Za,{size:"xs",variant:"ghost",className:"text-hd-orange",onClick:()=>{f?(c(t,"min",""),c(t,"max","")):(s(t,""),u.length>0&&(b?u.forEach(e=>m(t,e,!0)):u.forEach(e=>p(t,e))))},children:"Limpiar"})]})]})]})},lp=({tree:e,selectedPaths:t,onToggle:r,depth:a=0,path:n=""})=>{const[o,i]=W.useState(a<1),s=Object.keys(e.children||{}).sort((e,t)=>t.localeCompare(e));return H.jsx("div",{className:a>0?"ml-3":"",children:s.map(s=>{const l=n?`${n}/${s}`:s,c=e.children[s],d=!c.children,u=d?[l]:((e,t)=>{const r=[],a=(e,t)=>{e.children?Object.keys(e.children).forEach(r=>a(e.children[r],`${t}/${r}`)):r.push(t)};return a(e,t),r})(c,l),p=u.every(e=>t.includes(e)),h=u.some(e=>t.includes(e));return H.jsxs("div",{children:[H.jsxs("div",{className:"flex items-center py-0.5 hover:bg-gray-50 rounded cursor-pointer",onClick:()=>r(l,p),children:[H.jsx("div",{className:"w-4 h-4 flex items-center justify-center mr-0.5",onClick:e=>{e.stopPropagation(),i(!o)},children:!d&&(o?H.jsx(rr,{size:8}):H.jsx(or,{size:8}))}),H.jsx("input",{type:"checkbox",checked:p,ref:e=>{e&&(e.indeterminate=h&&!p)},readOnly:!0,className:"h-3 w-3"}),H.jsx("span",{className:"ml-1.5",children:s})]}),o&&!d&&H.jsx(lp,{tree:c,selectedPaths:t,onToggle:r,depth:a+1,path:l})]},s)})})},cp="http://localhost:5006/api",dp=()=>{const[e,t]=W.useState([]),[r,a]=W.useState(null),[n,o]=W.useState([]),[i,s]=W.useState(!0),[l,c]=W.useState([]),[d,u]=W.useState({amount:0,date:(new Date).toISOString().split("T")[0],method:"Efectivo",reference:"",monedaId:"",tasaCambio:1,allocations:{}}),[p,h]=W.useState(!1),[m,g]=W.useState(""),[x,f]=W.useState(!1);W.useEffect(()=>{s(!0),Promise.all([li(),fetch(`${cp}/Monedas`).then(e=>{if(!e.ok)throw new Error("Err Monedas: "+e.status);return e.json()})]).then(([e,r])=>{console.log("Data loaded:",e.length,r.length),t(e),c(r);const a=r.find(e=>e.esFuncional);a&&u(e=>({...e,monedaId:a.id,tasaCambio:1}))}).catch(e=>{console.error("Init Error:",e),g("Error carga: "+e.message)}).finally(()=>s(!1))},[]),W.useEffect(()=>{r?(o([]),fetch(`${cp}/Cobros/Pendientes/${r.id}`).then(e=>e.json()).then(e=>o(e)).catch(e=>console.error("Error loading invoices",e))):o([])},[r]);return W.useMemo(()=>n.filter(e=>x||!d.monedaId||e.monedaId==d.monedaId).reduce((e,t)=>e+(parseFloat(t.saldo)||0),0),[n,d.monedaId,x]),H.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-6",children:[H.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[H.jsx(Dr,{className:"mr-2 text-hd-orange"})," Cuentas por Cobrar"]}),H.jsxs("div",{className:"mb-2 text-[10px] text-gray-400",children:["DEBUG: Clients:",e.length," Monedas:",l.length," Loading:",i.toString()," Amount:",d.amount," InvCount:",n.length," Saving:",p.toString()]}),H.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[H.jsx("div",{className:"space-y-4",children:H.jsxs(ln,{children:[H.jsx(cn,{className:"bg-gray-50 pb-2",children:H.jsx(dn,{className:"text-sm uppercase text-gray-500",children:"Seleccionar Cliente"})}),H.jsxs("div",{className:"p-4",children:[H.jsxs("select",{className:"w-full border rounded p-2 text-sm",value:(null==r?void 0:r.id)||"",onChange:t=>{const r=e.find(e=>e.id==t.target.value);a(r)},children:[H.jsx("option",{value:"",children:"-- Seleccionar --"}),e.map(e=>H.jsxs("option",{value:e.id,children:[e.name," - ",e.rnc]},e.id))]}),r&&H.jsxs("div",{className:"mt-4 bg-orange-50 p-4 rounded border border-orange-100",children:[H.jsx("p",{className:"font-bold text-gray-800",children:r.name}),H.jsx("p",{className:"text-xs text-gray-500",children:r.address}),H.jsxs("div",{className:"mt-2 pt-2 border-t border-orange-200",children:[H.jsx("span",{className:"text-sm font-semibold",children:"Deuda Total:"}),H.jsx("div",{className:"flex flex-col mt-1 space-y-1",children:(()=>{const e=(e,t)=>e[t]||e[t.charAt(0).toUpperCase()+t.slice(1)],t=n.reduce((t,r)=>{const a=e(r,"monedaCodigo")||"DOP",n=parseFloat(e(r,"saldo"))||0;return t[a]=(t[a]||0)+n,t},{});return 0===Object.keys(t).length?H.jsx("span",{className:"text-xs text-gray-500",children:"Sin deudas pendientes"}):Object.entries(t).map(([e,t])=>H.jsxs("div",{className:"flex justify-between text-sm",children:[H.jsx("span",{children:e}),H.jsxs("span",{className:"font-bold text-red-600",children:["USD"===e?"$":"RD$"," ",t.toLocaleString("en-US",{minimumFractionDigits:2})]})]},e))})()})]})]})]})]})}),H.jsx("div",{className:"lg:col-span-2",children:r?H.jsxs(ln,{children:[H.jsxs(cn,{className:"flex flex-row justify-between items-center py-3 bg-gray-50",children:[H.jsxs(dn,{className:"text-gray-700 flex items-center gap-2",children:[H.jsx(Ir,{size:18})," Registrar Cobro"]}),m&&H.jsxs("span",{className:"text-green-600 text-sm flex items-center font-bold",children:[H.jsx(vr,{size:14,className:"mr-1"})," ",m]})]}),H.jsx("div",{className:"p-6",children:H.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),r&&!(d.amount<=0)){h(!0);try{const e=parseInt(d.monedaId),t={ClienteId:r.id,Fecha:d.date,Monto:d.amount,MetodoPago:d.method,Referencia:d.reference||"",MonedaId:isNaN(e)?null:e,TasaCambio:parseFloat(d.tasaCambio)||1,Observaciones:"",Detalles:Object.keys(d.allocations).map(e=>({VentaId:parseInt(e)||0,MontoAplicado:parseFloat(d.allocations[e])||0})).filter(e=>e.VentaId>0&&e.MontoAplicado>0)};console.log("Submitting Payload:",t);const a=await fetch(`${cp}/Cobros`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok){const e=await a.json().catch(()=>({}));throw console.error("Server Error:",e),new Error(e.message||"Error al guardar (Server 400/500)")}const n=await a.json();g(`Cobro Registrado: ${n.numero}`),u(e=>({...e,amount:0,reference:"",allocations:{}})),fetch(`${cp}/Cobros/Pendientes/${r.id}`).then(e=>e.json()).then(e=>o(e)),setTimeout(()=>g(""),3e3)}catch(t){console.error(t),alert("Error al guardar cobro")}finally{h(!1)}}},className:"space-y-6",children:[H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fecha"}),H.jsxs("div",{className:"relative",children:[H.jsx(fr,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-400"}),H.jsx(en,{type:"date",className:"pl-8",value:d.date,onChange:e=>u({...d,date:e.target.value})})]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium mb-1",children:"Mtodo Pago"}),H.jsxs("select",{className:"w-full border rounded p-2 h-10 bg-white",value:d.method,onChange:e=>u({...d,method:e.target.value}),children:[H.jsx("option",{children:"Efectivo"}),H.jsx("option",{children:"Cheque"}),H.jsx("option",{children:"Transferencia"}),H.jsx("option",{children:"Tarjeta"})]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium mb-1",children:"Moneda Pago"}),H.jsxs("div",{className:"space-y-1",children:[H.jsx("select",{className:"w-full border rounded p-2 h-10 bg-white text-sm",value:d.monedaId,onChange:e=>{const t=e.target.value,r=l.find(e=>e.id==t);u(e=>({...e,monedaId:t,tasaCambio:r?r.tasa:1,allocations:{}}))},children:l.map(e=>H.jsxs("option",{value:e.id,children:[e.codigo," - ",e.nombre]},e.id))}),H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx("input",{type:"checkbox",id:"chkShowAll",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:x,onChange:e=>f(e.target.checked)}),H.jsx("label",{htmlFor:"chkShowAll",className:"text-xs text-gray-500 cursor-pointer select-none",children:"Ver facturas de todas las monedas"})]})]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium mb-1",children:"Referencia"}),H.jsx(en,{placeholder:"Ref transaccin/cheque...",value:d.reference,onChange:e=>u({...d,reference:e.target.value})})]}),H.jsxs("div",{className:"md:col-span-2",children:[H.jsx("label",{className:"block text-sm font-medium mb-1 text-hd-orange font-bold",children:"Monto a Cobrar"}),H.jsxs("div",{className:"relative",children:[H.jsx("span",{className:"absolute left-3 top-2 text-gray-400",children:"$"}),H.jsx(en,{type:"number",className:"pl-7 font-bold text-lg",value:d.amount,onChange:e=>(e=>{const t=parseFloat(e)||0;u(e=>({...e,amount:t}));let r=t;const a={},o=(e,t)=>void 0===e[t]?e[t.charAt(0).toUpperCase()+t.slice(1)]:e[t],i=n.filter(e=>{const t=o(e,"monedaId");return!d.monedaId||t==d.monedaId}).sort((e,t)=>new Date(o(e,"fecha"))-new Date(o(t,"fecha")));i.forEach(e=>{if(r<=0)return;const t=o(e,"id"),n=parseFloat(o(e,"saldo")||0),i=Math.min(r,n);a[t]=i,r-=i}),u(e=>({...e,amount:t,allocations:a}))})(e.target.value)})]})]})]}),H.jsxs("div",{className:"border rounded-md overflow-hidden bg-gray-50 min-h-[300px] flex flex-col",children:[H.jsxs("div",{className:"bg-gray-100 px-4 py-2 text-xs font-bold text-gray-500 uppercase flex justify-between items-center border-b",children:[H.jsx("span",{children:"Facturas Pendientes"}),H.jsxs("span",{className:"text-gray-400",children:[n.length," FACTURAS"]})]}),H.jsx("div",{className:"flex-1 overflow-auto p-2 space-y-2",children:(()=>{const e=(e,t)=>void 0===e[t]?e[t.charAt(0).toUpperCase()+t.slice(1)]:e[t],t=n.filter(t=>{const r=e(t,"monedaId");return!!x||(!d.monedaId||r==d.monedaId)});return 0===t.length?H.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 opacity-60 text-center p-8",children:[H.jsx(vr,{className:"h-10 w-10 mb-2"}),H.jsx("p",{className:"text-sm",children:"No se encontraron facturas pendientes."})]}):t.map(t=>{const r=e(t,"id"),a=parseFloat(e(t,"saldo")||0),n=d.allocations[r]||0,o=n>=a,i=e(t,"monedaId"),s=e(t,"monedaCodigo"),l=e(t,"monedaSimbolo"),c=e(t,"numeroFactura"),p=e(t,"fecha"),h=e(t,"fechaVencimiento"),m=e(t,"ncf")||e(t,"NCF"),g=!d.monedaId||i==d.monedaId,x=p?new Date(p).toLocaleDateString():"N/A",f=h?new Date(h).toLocaleDateString():"N/A";return H.jsxs("div",{className:`bg-white border rounded p-3 flex justify-between items-center shadow-sm hover:border-hd-orange transition-all cursor-pointer ${o?"border-green-200 ring-1 ring-green-100":""} ${g?"":"bg-gray-50 opacity-90"}`,onClick:()=>{const e=d.allocations[r]||0,t=a-e;let n={...d.allocations},o=d.amount;t>.01?(n[r]=a,o+=t):(o-=e,delete n[r]),u(e=>({...e,amount:parseFloat(o.toFixed(2)),allocations:n}))},children:[H.jsxs("div",{className:"flex flex-col",children:[H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx("span",{className:"font-bold text-gray-800",children:c}),!g&&H.jsx("span",{className:"text-[10px] bg-yellow-100 text-yellow-800 px-1 rounded border border-yellow-200 font-bold",children:s})]}),H.jsxs("span",{className:"text-xs text-gray-500",children:[x," - Vence: ",f]}),H.jsxs("span",{className:"text-xs text-gray-400",children:["NCF: ",m||"N/A"]})]}),H.jsxs("div",{className:"text-right",children:[H.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:["Saldo: ",H.jsxs("span",{className:"font-bold text-gray-900",children:[l," ",a.toLocaleString()]})]}),n>0&&H.jsxs("div",{className:"text-xs text-white bg-green-500 px-2 py-0.5 rounded-full inline-block font-bold shadow-sm",children:["Abono: $",n.toLocaleString()]})]})]},r)})})()})]}),H.jsxs("div",{className:"flex justify-end pt-4 border-t",children:[H.jsx(Za,{type:"submit",disabled:p||d.amount<=0||0===n.length,className:"bg-hd-orange hover:bg-orange-600 text-white w-full md:w-auto md:px-8",children:p?"Procesando...":"Registrar Cobro"}),(p||d.amount<=0||0===n.length)&&H.jsxs("div",{className:"text-[10px] text-red-400 text-center mt-1",children:["Disabled Reason: ",p?"Saving ":""," ",d.amount<=0?"Amount<=0 ":""," ",0===n.length?"NoInv ":""]})]})]})})]}):H.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-10 bg-gray-50 border-2 border-dashed border-gray-200 rounded-lg text-gray-400",children:[H.jsx(Ua,{className:"h-12 w-12 mb-2 opacity-50"}),H.jsx("span",{className:"font-medium",children:"Seleccione un cliente para ver su estado de cuenta"})]})})]})]})},up=[{id:1,nombre:"Juan Prez",empresa:"Ferretera Central",interes:"Equipos POS",origen:"Web",estado:"Nuevo",fecha:"2025-12-19"},{id:2,nombre:"Mara Garca",empresa:"Inmobiliaria S.A.",interes:"Software Contable",origen:"Referido",estado:"Contactado",fecha:"2025-12-18"},{id:3,nombre:"Roberto Soto",empresa:"Comercial Robert",interes:"Mantenimiento",origen:"Llamada Fra",estado:"Calificado",fecha:"2025-12-15"},{id:4,nombre:"Laura Luna",empresa:"Tienda El Sol",interes:"Equipos POS",origen:"Expo Feria",estado:"Perdido",fecha:"2025-12-10"}],pp=()=>{const[e,t]=W.useState(up),[r,a]=W.useState(""),[n,o]=W.useState(!1),[i,s]=W.useState({nombre:"",empresa:"",interes:"Equipos POS",origen:"Web",estado:"Nuevo"}),l=e.filter(e=>e.nombre.toLowerCase().includes(r.toLowerCase())||e.empresa.toLowerCase().includes(r.toLowerCase())),c=e=>{switch(e){case"Nuevo":return"bg-blue-100 text-blue-700 border-blue-200";case"Contactado":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"Calificado":return"bg-green-100 text-green-700 border-green-200";case"Perdido":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}};return H.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[H.jsxs("div",{className:"flex justify-between items-center",children:[H.jsxs("div",{children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:"Prospectos (Leads)"}),H.jsx("p",{className:"text-sm text-gray-500",children:"Clientes potenciales que an no son compradores"})]}),H.jsxs(Za,{onClick:()=>o(!0),className:"bg-hd-orange hover:bg-orange-600 text-white shadow-lg",children:[H.jsx($a,{className:"mr-2 h-4 w-4"})," Nuevo Prospecto"]})]}),H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[H.jsx(ln,{className:"bg-blue-50/50 border-blue-100",children:H.jsxs(un,{className:"p-4",children:[H.jsx("p",{className:"text-xs text-blue-600 font-bold uppercase tracking-wider",children:"Nuevos"}),H.jsx("h3",{className:"text-2xl font-black text-blue-900",children:e.filter(e=>"Nuevo"===e.estado).length})]})}),H.jsx(ln,{className:"bg-yellow-50/50 border-yellow-100",children:H.jsxs(un,{className:"p-4",children:[H.jsx("p",{className:"text-xs text-yellow-600 font-bold uppercase tracking-wider",children:"En Seguimiento"}),H.jsx("h3",{className:"text-2xl font-black text-yellow-900",children:e.filter(e=>"Contactado"===e.estado).length})]})}),H.jsx(ln,{className:"bg-green-50/50 border-green-100",children:H.jsxs(un,{className:"p-4",children:[H.jsx("p",{className:"text-xs text-green-600 font-bold uppercase tracking-wider",children:"Calificados"}),H.jsx("h3",{className:"text-2xl font-black text-green-900",children:e.filter(e=>"Calificado"===e.estado).length})]})}),H.jsx(ln,{className:"bg-orange-50/50 border-orange-100",children:H.jsxs(un,{className:"p-4",children:[H.jsx("p",{className:"text-xs text-orange-600 font-bold uppercase tracking-wider",children:"Origen: Web"}),H.jsx("h3",{className:"text-2xl font-black text-orange-900",children:e.filter(e=>"Web"===e.origen).length})]})})]}),H.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[H.jsx("div",{className:"p-4 border-b border-gray-100 bg-gray-50/50 flex items-center justify-between",children:H.jsxs("div",{className:"relative w-full max-w-xs",children:[H.jsx(ja,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),H.jsx(en,{placeholder:"Buscar prospecto...",className:"pl-9 bg-white border-gray-200 focus:ring-hd-orange",value:r,onChange:e=>a(e.target.value)})]})}),H.jsx("div",{className:"overflow-x-auto",children:H.jsxs(tn,{children:[H.jsx(rn,{className:"bg-gray-50 uppercase text-[10px] font-bold text-gray-500 tracking-widest",children:H.jsxs(nn,{children:[H.jsx(on,{className:"px-6 py-4",children:"Nombre / Empresa"}),H.jsx(on,{className:"px-6 py-4 text-center",children:"Inters"}),H.jsx(on,{className:"px-6 py-4 text-center",children:"Estado"}),H.jsx(on,{className:"px-6 py-4 text-center",children:"Origen"}),H.jsx(on,{className:"px-6 py-4 text-center",children:"Fecha"}),H.jsx(on,{className:"px-6 py-4 text-right",children:"Acciones"})]})}),H.jsx(an,{children:l.map(e=>H.jsxs(nn,{className:"hover:bg-orange-50/30 transition-colors group",children:[H.jsx(sn,{className:"px-6 py-4",children:H.jsxs("div",{className:"flex flex-col",children:[H.jsx("span",{className:"font-bold text-gray-900",children:e.nombre}),H.jsx("span",{className:"text-xs text-gray-500",children:e.empresa})]})}),H.jsx(sn,{className:"px-6 py-4 text-center",children:H.jsx("span",{className:"text-xs font-medium text-gray-600",children:e.interes})}),H.jsx(sn,{className:"px-6 py-4 text-center",children:H.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-bold border ${c(e.estado)}`,children:e.estado.toUpperCase()})}),H.jsx(sn,{className:"px-6 py-4 text-center",children:H.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs text-gray-500",children:[H.jsx(Ia,{size:12,className:"text-orange-400"}),e.origen]})}),H.jsx(sn,{className:"px-6 py-4 text-center text-xs text-gray-400",children:new Date(e.fecha).toLocaleDateString()}),H.jsx(sn,{className:"px-6 py-4 text-right",children:H.jsxs("div",{className:"flex items-center justify-end space-x-1 opacity-10 sm:opacity-100 group-hover:opacity-100 transition-opacity",children:[H.jsx(Za,{variant:"ghost",size:"icon",className:"h-8 w-8 text-blue-600 hover:bg-blue-50",children:H.jsx(ua,{size:16})}),H.jsx(Za,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-600 hover:bg-red-50",children:H.jsx(Ta,{size:16})})]})})]},e.id))})]})})]}),n&&H.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4 animate-in fade-in duration-300",children:H.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden border border-gray-100",children:[H.jsxs("div",{className:"p-4 bg-hd-orange text-white flex justify-between items-center bg-gradient-to-r from-hd-orange to-orange-500",children:[H.jsxs("h2",{className:"text-lg font-bold flex items-center",children:[H.jsx($a,{className:"mr-2",size:20}),"Nuevo Prospecto"]}),H.jsx("button",{onClick:()=>o(!1),className:"hover:bg-white/20 p-1 rounded-full transition-colors",children:H.jsx(Ha,{size:20})})]}),H.jsxs("form",{onSubmit:r=>{r.preventDefault();const a=e.length+1,n=(new Date).toISOString().split("T")[0];t([{...i,id:a,fecha:n},...e]),o(!1),s({nombre:"",empresa:"",interes:"Equipos POS",origen:"Web",estado:"Nuevo"})},className:"p-6 space-y-4",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Nombre Completo"}),H.jsx(en,{required:!0,className:"focus:ring-hd-orange",value:i.nombre,onChange:e=>s({...i,nombre:e.target.value})})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Empresa / Negocio"}),H.jsx(en,{required:!0,className:"focus:ring-hd-orange",value:i.empresa,onChange:e=>s({...i,empresa:e.target.value})})]}),H.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Inters"}),H.jsxs("select",{className:"w-full text-sm rounded-md border border-gray-300 p-2 focus:ring-hd-orange focus:border-hd-orange",value:i.interes,onChange:e=>s({...i,interes:e.target.value}),children:[H.jsx("option",{children:"Equipos POS"}),H.jsx("option",{children:"Software"}),H.jsx("option",{children:"Mantenimiento"})]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-1",children:"Origen"}),H.jsxs("select",{className:"w-full text-sm rounded-md border border-gray-300 p-2 focus:ring-hd-orange focus:border-hd-orange",value:i.origen,onChange:e=>s({...i,origen:e.target.value}),children:[H.jsx("option",{children:"Web"}),H.jsx("option",{children:"Referido"}),H.jsx("option",{children:"Llamada"}),H.jsx("option",{children:"Publicidad"})]})]})]}),H.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[H.jsx(Za,{type:"button",variant:"outline",onClick:()=>o(!1),className:"text-gray-500 border-gray-200",children:"Cancelar"}),H.jsxs(Za,{type:"submit",className:"bg-hd-orange hover:bg-orange-600 text-white shadow-md",children:[H.jsx(wa,{className:"mr-2 h-4 w-4"})," Guardar Prospecto"]})]})]})]})})]})},hp=()=>H.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[H.jsxs("div",{children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:"Dashboard CRM"}),H.jsx("p",{className:"text-sm text-gray-500",children:"Resumen de actividad y rendimiento comercial"})]}),H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[H.jsx(ln,{className:"border-none shadow-sm bg-gradient-to-br from-blue-600 to-blue-700 text-white",children:H.jsxs(un,{className:"p-5 flex justify-between items-center",children:[H.jsxs("div",{children:[H.jsx("p",{className:"text-blue-100 text-xs font-bold uppercase tracking-wider mb-1",children:"Valor Pipeline"}),H.jsx("h3",{className:"text-2xl font-black",children:"$45,200.00"}),H.jsxs("div",{className:"flex items-center mt-2 text-[10px] text-blue-200",children:[H.jsx(sr,{size:12,className:"mr-1"})," +12% vs mes anterior"]})]}),H.jsx("div",{className:"bg-white/20 p-3 rounded-xl backdrop-blur-md",children:H.jsx(Da,{size:24})})]})}),H.jsx(ln,{className:"border-none shadow-sm bg-gradient-to-br from-hd-orange to-orange-600 text-white",children:H.jsxs(un,{className:"p-5 flex justify-between items-center",children:[H.jsxs("div",{children:[H.jsx("p",{className:"text-orange-100 text-xs font-bold uppercase tracking-wider mb-1",children:"Prospectos Nuevos"}),H.jsx("h3",{className:"text-2xl font-black",children:"24"}),H.jsxs("div",{className:"flex items-center mt-2 text-[10px] text-orange-200",children:[H.jsx(sr,{size:12,className:"mr-1"})," +8 esta semana"]})]}),H.jsx("div",{className:"bg-white/20 p-3 rounded-xl backdrop-blur-md",children:H.jsx(Ba,{size:24})})]})}),H.jsx(ln,{className:"border-none shadow-sm bg-gradient-to-br from-green-600 to-green-700 text-white",children:H.jsxs(un,{className:"p-5 flex justify-between items-center",children:[H.jsxs("div",{children:[H.jsx("p",{className:"text-green-100 text-xs font-bold uppercase tracking-wider mb-1",children:"Tasa Conversin"}),H.jsx("h3",{className:"text-2xl font-black",children:"18.5%"}),H.jsxs("div",{className:"flex items-center mt-2 text-[10px] text-green-200",children:[H.jsx(za,{size:12,className:"mr-1"})," Meta: 20%"]})]}),H.jsx("div",{className:"bg-white/20 p-3 rounded-xl backdrop-blur-md",children:H.jsx(Jt,{size:24})})]})}),H.jsx(ln,{className:"border-none shadow-sm bg-gradient-to-br from-purple-600 to-purple-700 text-white",children:H.jsxs(un,{className:"p-5 flex justify-between items-center",children:[H.jsxs("div",{children:[H.jsx("p",{className:"text-purple-100 text-xs font-bold uppercase tracking-wider mb-1",children:"Citas Pendientes"}),H.jsx("h3",{className:"text-2xl font-black",children:"12"}),H.jsxs("div",{className:"flex items-center mt-2 text-[10px] text-purple-200",children:[H.jsx(fr,{size:12,className:"mr-1"})," 4 para hoy"]})]}),H.jsx("div",{className:"bg-white/20 p-3 rounded-xl backdrop-blur-md",children:H.jsx(fr,{size:24})})]})})]}),H.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[H.jsxs(ln,{children:[H.jsx(cn,{className:"border-b bg-gray-50/50",children:H.jsx(dn,{className:"text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Estado del Pipeline"})}),H.jsx(un,{className:"p-6",children:H.jsx("div",{className:"space-y-4",children:[{label:"Prospeccin",count:15,value:"$12,000",color:"bg-blue-500",width:"75%"},{label:"Calificacin",count:8,value:"$8,500",color:"bg-yellow-500",width:"40%"},{label:"Propuesta",count:5,value:"$15,200",color:"bg-hd-orange",width:"25%"},{label:"Negociacin",count:3,value:"$9,500",color:"bg-green-500",width:"15%"}].map((e,t)=>H.jsxs("div",{className:"space-y-1",children:[H.jsxs("div",{className:"flex justify-between text-xs font-bold",children:[H.jsxs("span",{className:"text-gray-600",children:[e.label," (",e.count,")"]}),H.jsx("span",{className:"text-gray-900",children:e.value})]}),H.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2 overflow-hidden",children:H.jsx("div",{className:`${e.color} h-full rounded-full`,style:{width:e.width}})})]},t))})})]}),H.jsxs(ln,{children:[H.jsx(cn,{className:"border-b bg-gray-50/50",children:H.jsx(dn,{className:"text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Actividad Reciente"})}),H.jsx(un,{className:"p-0",children:H.jsx("div",{className:"divide-y max-h-[300px] overflow-y-auto",children:[{user:"Admin",action:"Nuevo prospecto creado",target:"Ferretera Central",time:"Hace 10 min"},{user:"Vendedor 1",action:"Tarea completada",target:"Llamada a Mara Garca",time:"Hace 1 hora"},{user:"Vendedor 2",action:"Oportunidad ganada",target:"Tienda El Sol",time:"Hace 3 horas"},{user:"Admin",action:"Email enviado",target:"Roberto Soto",time:"Hace 5 horas"},{user:"Vendedor 1",action:"Cita agendada",target:"Inmobiliaria S.A.",time:"Ayer"}].map((e,t)=>H.jsxs("div",{className:"p-4 flex items-start space-x-3 hover:bg-gray-50 transition-colors",children:[H.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-[10px] font-bold text-gray-500",children:e.user[0]}),H.jsxs("div",{className:"flex-1",children:[H.jsxs("p",{className:"text-xs text-gray-900",children:[H.jsx("span",{className:"font-bold",children:e.user})," ",e.action," para ",H.jsx("span",{className:"text-hd-orange font-medium",children:e.target})]}),H.jsx("p",{className:"text-[10px] text-gray-400 mt-0.5",children:e.time})]})]},t))})})]})]})]}),mp=({endpoint:e,title:t,columns:r})=>{const[a,n]=W.useState([]),[o,i]=W.useState(!0),[s,l]=W.useState(""),[c,d]=W.useState({key:"",direction:"asc"}),[u,p]=W.useState({}),[h,m]=W.useState({}),[g,x]=W.useState({}),[f,b]=W.useState(null),[v,y]=W.useState(r.reduce((e,t)=>({...e,[t.field]:t.width||150}),{}));W.useEffect(()=>{(async()=>{try{i(!0);const t=await fetch(`http://localhost:5006/api${e}`);if(!t.ok)throw new Error("Error fetching data");const r=await t.json();n(r)}catch(t){console.error(t)}finally{i(!1)}})()},[e]);const w=(e,t)=>{y(r=>({...r,[e]:t}))},j=e=>{let t="asc";c.key===e&&"asc"===c.direction&&(t="desc"),d({key:e,direction:t})},N=(e,t)=>{t.stopPropagation(),b(f===e?null:e)},k=(e,t)=>{p(r=>({...r,[e]:t}))},C=(e,t,r)=>{x(a=>({...a,[e]:{...a[e]||{min:"",max:""},[t]:r}}))},S=(e,t)=>{m(r=>{const a=r[e]||[];return a.includes(t)?{...r,[e]:a.filter(e=>e!==t)}:{...r,[e]:[...a,t]}})},E=e=>{const t=a.map(t=>String(t[e]||""));return[...new Set(t)].sort()},P=(()=>{let e=[...a];return s&&(e=e.filter(e=>Object.keys(e).some(t=>String(e[t]||"").toLowerCase().includes(s.toLowerCase())))),Object.keys(u).forEach(t=>{u[t]&&(e=e.filter(e=>String(e[t]||"").toLowerCase().includes(u[t].toLowerCase())))}),Object.keys(h).forEach(t=>{h[t]&&h[t].length>0&&(e=e.filter(e=>h[t].includes(String(e[t]))))}),Object.keys(g).forEach(t=>{const{min:r,max:a}=g[t];""!==r&&(e=e.filter(e=>(e[t]||0)>=parseFloat(r))),""!==a&&(e=e.filter(e=>(e[t]||0)<=parseFloat(a)))}),c.key&&e.sort((e,t)=>{const r=e[c.key],a=t[c.key];return r<a?"asc"===c.direction?-1:1:r>a?"asc"===c.direction?1:-1:0}),e})(),O=Object.values(v).reduce((e,t)=>e+t,0);return H.jsxs("div",{className:"space-y-4 animate-in fade-in duration-500 p-4",children:[H.jsxs("div",{className:"flex justify-between items-center",children:[H.jsxs("div",{children:[H.jsxs("h1",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[H.jsx(Xr,{className:"text-hd-orange",size:24}),t]}),H.jsx("p",{className:"text-xs text-gray-500",children:"Vista tipo SmartList con filtros avanzados y exportacin."})]}),H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsxs(Za,{variant:"outline",size:"sm",onClick:()=>{if(0===P.length)return;const e=r.map(e=>e.label).join(","),a=P.map(e=>r.map(t=>`"${String(e[t.field]||"").replace(/"/g,'""')}"`).join(",")).join("\n"),n=new Blob(["\ufeff"+`${e}\n${a}`],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(n),i=document.createElement("a");i.setAttribute("href",o),i.setAttribute("download",`${t.replace(/\s+/g,"_")}_${(new Date).toISOString().split("T")[0]}.csv`),document.body.appendChild(i),i.click(),document.body.removeChild(i)},className:"border-green-600 text-green-700 hover:bg-green-50",children:[H.jsx(Mr,{size:16,className:"mr-2"})," Exportar CSV"]}),H.jsxs(Za,{variant:"outline",size:"sm",onClick:()=>{p({}),m({}),x({}),l("")},className:"text-gray-500",children:[H.jsx(Ha,{size:16,className:"mr-2"})," Limpiar"]})]})]}),H.jsxs(ln,{className:"overflow-hidden border-none shadow-lg",children:[H.jsxs(cn,{className:"bg-gray-50 border-b py-3 flex flex-row justify-between items-center",children:[H.jsx("div",{className:"flex items-center gap-4 text-xs font-medium text-gray-500",children:H.jsxs("span",{children:["Total Filas: ",H.jsx("span",{className:"text-hd-orange font-bold text-sm tracking-tight",children:P.length})]})}),H.jsxs("div",{className:"relative w-72",children:[H.jsx(ja,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),H.jsx(en,{placeholder:"Bsqueda rpida...",className:"h-9 pl-10 border-gray-200 focus:border-hd-orange shadow-sm text-sm",value:s,onChange:e=>l(e.target.value)})]})]}),H.jsx("div",{className:"overflow-x-auto overflow-y-visible relative min-h-[600px] bg-white",children:H.jsxs(tn,{className:"table-fixed border-collapse",style:{width:O},children:[H.jsx(rn,{children:H.jsx(nn,{className:"bg-white hover:bg-white border-b-2 border-gray-100",children:r.map(e=>H.jsx(gp,{label:e.label,field:e.field,type:e.type,sortConfig:c,onSort:j,onFilter:N,showFilter:f===e.field,filterValue:u[e.field],onFilterChange:k,numericValue:g[e.field],onNumericFilterChange:C,uniqueValues:E(e.field),selectedValues:h[e.field],onValueToggle:S,width:v[e.field],onResize:w},e.field))})}),H.jsx(an,{children:o?H.jsx(nn,{children:H.jsx(sn,{colSpan:r.length,className:"text-center py-20 text-gray-400",children:"Cargando SmartList..."})}):0===P.length?H.jsx(nn,{children:H.jsx(sn,{colSpan:r.length,className:"text-center py-20 text-gray-500 font-medium italic",children:"No se encontraron registros con los filtros aplicados."})}):P.map((e,t)=>H.jsx(nn,{className:"hover:bg-orange-50/50 transition-colors group",children:r.map(t=>H.jsx(sn,{className:"text-xs py-2.5 border-r border-gray-50 last:border-r-0 "+("number"===t.type||"currency"===t.type?"text-right font-mono":""),children:xp(e[t.field],t.type,e.Simbolo||e.Symbol)},t.field))},t))})]})})]})]})},gp=({label:e,field:t,type:r,sortConfig:a,onSort:n,onFilter:o,showFilter:i,filterValue:s="",onFilterChange:l,numericValue:c={min:"",max:""},onNumericFilterChange:d,uniqueValues:u=[],selectedValues:p=[],onValueToggle:h,width:m,onResize:g})=>{const x=a.key===t,f="number"===r||"currency"===r;return H.jsxs(on,{className:"relative p-0 h-10 border-r border-gray-100 last:border-r-0 group/head",style:{width:`${m}px`,minWidth:`${m}px`,maxWidth:`${m}px`},children:[H.jsxs("div",{className:"flex items-center justify-between h-full px-3 py-2 cursor-pointer hover:bg-gray-100 transition-colors "+(x?"bg-orange-50":""),onClick:()=>n(t),children:[H.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden",children:[H.jsx("span",{className:"text-[11px] font-black uppercase tracking-wider truncate "+(x?"text-hd-orange":"text-gray-500"),children:e}),x?"asc"===a.direction?H.jsx(lr,{size:12,className:"text-hd-orange"}):H.jsx(rr,{size:12,className:"text-hd-orange"}):H.jsx(ir,{size:12,className:"text-gray-300 opacity-0 group-hover/head:opacity-100 transition-opacity"})]}),H.jsx("button",{onClick:e=>o(t,e),className:"p-1 rounded hover:bg-gray-200 transition-colors "+(s||p&&p.length>0?"text-hd-orange":"text-gray-400"),children:H.jsx(Rr,{size:12})})]}),H.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-1.5 cursor-col-resize hover:bg-hd-orange opacity-0 hover:opacity-100 z-10 transition-opacity",onMouseDown:e=>{e.preventDefault(),e.stopPropagation();const r=e.pageX,a=m,n=e=>{const n=Math.max(80,a+(e.pageX-r));g(t,n)},o=()=>{document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",o)};document.addEventListener("mousemove",n),document.addEventListener("mouseup",o)},onClick:e=>e.stopPropagation()}),i&&H.jsxs("div",{className:"absolute top-full left-0 mt-1 w-64 bg-white border border-gray-200 shadow-2xl rounded-sm z-[100] animate-in fade-in zoom-in duration-200 overflow-hidden text-xs",onClick:e=>e.stopPropagation(),children:[H.jsxs("div",{className:"p-1 border-b bg-gray-50",children:[H.jsxs("div",{className:"flex items-center px-4 py-2 hover:bg-hd-orange/10 cursor-pointer text-gray-700 font-bold",onClick:()=>{n(t),o(t,{stopPropagation:()=>{}})},children:[H.jsx(lr,{size:14,className:"mr-2 text-gray-400"})," Orden Ascendente"]}),H.jsxs("div",{className:"flex items-center px-4 py-2 hover:bg-hd-orange/10 cursor-pointer text-gray-700 font-bold",onClick:()=>{n(t),o(t,{stopPropagation:()=>{}})},children:[H.jsx(rr,{size:14,className:"mr-2 text-gray-400"})," Orden Descendente"]})]}),H.jsx("div",{className:"p-3 border-b",children:f?H.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[H.jsx(en,{type:"number",placeholder:"Min",value:c.min,onChange:e=>d(t,"min",e.target.value),className:"h-8 text-xs font-mono"}),H.jsx(en,{type:"number",placeholder:"Max",value:c.max,onChange:e=>d(t,"max",e.target.value),className:"h-8 text-xs font-mono"})]}):H.jsxs("div",{className:"relative",children:[H.jsx(ja,{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400",size:14}),H.jsx(en,{placeholder:"Buscar...",value:s,onChange:e=>l(t,e.target.value),className:"h-8 pl-8 text-xs border-gray-200 shadow-inner",autoFocus:!0})]})}),H.jsx("div",{className:"max-h-56 overflow-y-auto p-1 bg-gray-50",children:H.jsxs("div",{className:"space-y-0.5",children:[u.slice(0,100).map(e=>H.jsxs("label",{className:"flex items-center px-3 py-1.5 hover:bg-white rounded cursor-pointer transition-colors group/item",children:[H.jsx("input",{type:"checkbox",checked:p.includes(e),onChange:()=>h(t,e),className:"h-3.5 w-3.5 rounded border-gray-300 text-hd-orange focus:ring-hd-orange"}),H.jsx("span",{className:"ml-2 text-[11px] text-gray-600 truncate group-hover/item:text-black",children:e})]},e)),u.length>100&&H.jsx("div",{className:"p-2 text-[10px] text-gray-400 text-center",children:"Mostrando primeros 100..."})]})}),H.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-100 border-t",children:[H.jsx(Za,{size:"xs",variant:"ghost",className:"text-[10px] h-7",onClick:()=>o(t,{stopPropagation:()=>{}}),children:"Cerrar"}),H.jsx(Za,{size:"xs",variant:"ghost",className:"text-[10px] h-7 text-hd-orange font-bold uppercase",onClick:()=>{f?(d(t,"min",""),d(t,"max","")):(l(t,""),p.forEach(e=>h(t,e)))},children:"Limpiar"})]})]})]})},xp=(e,t,r="RD$")=>null==e?"-":"date"===t?new Date(e).toLocaleDateString("es-DO",{year:"numeric",month:"2-digit",day:"2-digit"}):"currency"===t?`${r||"RD$"} ${new Intl.NumberFormat("es-DO",{minimumFractionDigits:2}).format(e)}`:"number"===t?new Intl.NumberFormat("es-DO").format(e):String(e),fp=()=>H.jsx(mp,{endpoint:"/SmartList/Facturas",title:"SmartList: Facturas de Compra",columns:[{field:"Numero",label:"No. Factura",type:"text",width:120},{field:"Fecha",label:"Fecha",type:"date",width:100},{field:"Proveedor",label:"Proveedor",type:"text",width:250},{field:"Moneda",label:"Moneda",type:"text",width:80},{field:"Total",label:"Total",type:"currency",width:120},{field:"Saldo",label:"Saldo Pend.",type:"currency",width:120},{field:"Estado",label:"Estado",type:"text",width:100},{field:"Almacen",label:"Almacn Dest.",type:"text",width:150},{field:"Antiguedad",label:"Antigedad (das)",type:"number",width:100}]}),bp=()=>H.jsx(mp,{endpoint:"/SmartList/Articulos",title:"SmartList: Detalle de Compras por Artculo",columns:[{field:"Fecha",label:"Fecha",type:"date",width:100},{field:"Factura",label:"No. Factura",type:"text",width:120},{field:"Proveedor",label:"Proveedor",type:"text",width:220},{field:"Cod_Articulo",label:"Cdigo",type:"text",width:100},{field:"Articulo",label:"Descripcin Artculo",type:"text",width:300},{field:"Cantidad",label:"Cant.",type:"number",width:80},{field:"Unidad",label:"UM",type:"text",width:60},{field:"Costo",label:"Costo Unit.",type:"currency",width:110},{field:"Total_Linea",label:"Total Lnea",type:"currency",width:130},{field:"Almacen",label:"Almacn",type:"text",width:140}]}),vp=()=>H.jsx(mp,{endpoint:"/SmartList/Proveedores",title:"SmartList: Maestro de Proveedores y Balances",columns:[{field:"Codigo",label:"Cdigo",type:"text",width:100},{field:"Proveedor",label:"Razn Social",type:"text",width:280},{field:"RNC",label:"RNC/Cdula",type:"text",width:120},{field:"Total_Comprado",label:"Total Comprado (RD$)",type:"currency",width:150},{field:"Saldo_Pendiente",label:"Saldo Actual (RD$)",type:"currency",width:150},{field:"Cant_Facturas",label:"Facturas",type:"number",width:100},{field:"Telefono",label:"Telfono",type:"text",width:120},{field:"Email",label:"Correo Electrnico",type:"text",width:200}]}),yp=()=>H.jsx(mp,{endpoint:"/SmartList/Pagos",title:"SmartList: Histrico de Pagos Aplicados",columns:[{field:"Fecha",label:"Fecha Pago",type:"date",width:110},{field:"No_Pago",label:"No. Recibo",type:"text",width:120},{field:"Proveedor",label:"Proveedor",type:"text",width:250},{field:"Monto_A_Factura",label:"Monto Aplicado",type:"currency",width:130},{field:"Factura_Afectada",label:"Factura Pagada",type:"text",width:130},{field:"Metodo",label:"Mtodo",type:"text",width:100},{field:"Referencia",label:"Referencia",type:"text",width:180},{field:"Estado_Pago",label:"Estado",type:"text",width:100}]}),wp=()=>H.jsx(mp,{endpoint:"/SmartList/StockAlmacen",title:"SmartList: Inventario y Valoracin por Almacn",columns:[{field:"Almacen",label:"Ubicacin / Almacn",type:"text",width:200},{field:"Codigo",label:"Cdigo Art.",type:"text",width:120},{field:"Articulo",label:"Descripcin del Artculo",type:"text",width:350},{field:"Unidad",label:"Unidad",type:"text",width:80},{field:"Stock_Total",label:"Existencia",type:"number",width:100},{field:"Costo_Ultimo",label:"Costo Unit.",type:"currency",width:120},{field:"Valor_Inventario",label:"Valor Total",type:"currency",width:140}]}),jp=()=>H.jsx(mp,{endpoint:"/SmartList/Cobros",title:"SmartList: Cobros y Mtodos de Pago",columns:[{field:"Fecha",label:"Fecha",type:"date",width:110},{field:"No_Factura",label:"No. Factura",type:"text",width:130},{field:"Cliente",label:"Cliente",type:"text",width:200},{field:"NCF",label:"NCF",type:"text",width:140},{field:"Metodo_Pago",label:"Mtodo de Pago",type:"text",width:130},{field:"Monto_Recibido",label:"Monto Recibido",type:"currency",width:130},{field:"Cambio",label:"Cambio",type:"currency",width:100},{field:"Total",label:"Total",type:"currency",width:120},{field:"Estado",label:"Estado",type:"text",width:100}]});var Np=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function kp(e){return"string"==typeof e&&Np.includes(e)}var Cp=new Set(["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"]);function Sp(e){return"string"==typeof e&&Cp.has(e)}function Ep(e){return"string"==typeof e&&e.startsWith("data-")}function Pp(e){if("object"!=typeof e||null===e)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(Sp(r)||Ep(r))&&(t[r]=e[r]);return t}function Op(e){return null==e?null:W.isValidElement(e)&&"object"==typeof e.props&&null!==e.props?Pp(e.props):"object"!=typeof e||Array.isArray(e)?null:Pp(e)}function Ip(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(Sp(r)||Ep(r)||kp(r))&&(t[r]=e[r]);return t}var Ap=["children","width","height","viewBox","className","style","title","desc"];function Dp(){return Dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Dp.apply(null,arguments)}var Mp=W.forwardRef((e,t)=>{var{children:r,width:a,height:n,viewBox:o,className:i,style:s,title:l,desc:c}=e,d=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,Ap),u=o||{width:a,height:n,x:0,y:0},p=ws("recharts-surface",i);return W.createElement("svg",Dp({},Ip(d),{className:p,width:a,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height),ref:t}),W.createElement("title",null,l),W.createElement("desc",null,c),r)}),Tp=["children","className"];function Fp(){return Fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Fp.apply(null,arguments)}var zp=W.forwardRef((e,t)=>{var{children:r,className:a}=e,n=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,Tp),o=ws("recharts-layer",a);return W.createElement("g",Fp({className:o},Ip(n),{ref:t}),r)}),Rp=W.createContext(null);function _p(e){return function(){return e}}const Lp=Math.cos,$p=Math.sin,Up=Math.sqrt,Bp=Math.PI,Vp=2*Bp,Gp=Math.PI,qp=2*Gp,Hp=1e-6,Wp=qp-Hp;function Kp(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class Jp{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?Kp:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Kp;const r=10**t;return function(e){this._+=e[0];for(let t=1,a=e.length;t<a;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append(x||(x=I`M${0},${0}`),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(f||(f=I`Z`)))}lineTo(e,t){this._append(b||(b=I`L${0},${0}`),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,r,a){this._append(v||(v=I`Q${0},${0},${0},${0}`),+e,+t,this._x1=+r,this._y1=+a)}bezierCurveTo(e,t,r,a,n,o){this._append(y||(y=I`C${0},${0},${0},${0},${0},${0}`),+e,+t,+r,+a,this._x1=+n,this._y1=+o)}arcTo(e,t,r,a,n){if(e=+e,t=+t,r=+r,a=+a,(n=+n)<0)throw new Error(`negative radius: ${n}`);let o=this._x1,i=this._y1,s=r-e,l=a-t,c=o-e,d=i-t,u=c*c+d*d;if(null===this._x1)this._append(w||(w=I`M${0},${0}`),this._x1=e,this._y1=t);else if(u>Hp)if(Math.abs(d*s-l*c)>Hp&&n){let p=r-o,h=a-i,m=s*s+l*l,g=p*p+h*h,x=Math.sqrt(m),f=Math.sqrt(u),b=n*Math.tan((Gp-Math.acos((m+u-g)/(2*x*f)))/2),v=b/f,y=b/x;Math.abs(v-1)>Hp&&this._append(N||(N=I`L${0},${0}`),e+v*c,t+v*d),this._append(k||(k=I`A${0},${0},0,0,${0},${0},${0}`),n,n,+(d*p>c*h),this._x1=e+y*s,this._y1=t+y*l)}else this._append(j||(j=I`L${0},${0}`),this._x1=e,this._y1=t);else;}arc(e,t,r,a,n,o){if(e=+e,t=+t,o=!!o,(r=+r)<0)throw new Error(`negative radius: ${r}`);let i=r*Math.cos(a),s=r*Math.sin(a),l=e+i,c=t+s,d=1^o,u=o?a-n:n-a;null===this._x1?this._append(C||(C=I`M${0},${0}`),l,c):(Math.abs(this._x1-l)>Hp||Math.abs(this._y1-c)>Hp)&&this._append(S||(S=I`L${0},${0}`),l,c),r&&(u<0&&(u=u%qp+qp),u>Wp?this._append(E||(E=I`A${0},${0},0,1,${0},${0},${0}A${0},${0},0,1,${0},${0},${0}`),r,r,d,e-i,t-s,r,r,d,this._x1=l,this._y1=c):u>Hp&&this._append(P||(P=I`A${0},${0},0,${0},${0},${0},${0}`),r,r,+(u>=Gp),d,this._x1=e+r*Math.cos(n),this._y1=t+r*Math.sin(n)))}rect(e,t,r,a){this._append(O||(O=I`M${0},${0}h${0}v${0}h${0}Z`),this._x0=this._x1=+e,this._y0=this._y1=+t,r=+r,+a,-r)}toString(){return this._}}function Yp(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError(`invalid digits: ${r}`);t=e}return e},()=>new Jp(t)}function Xp(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Qp(e){this._context=e}function Zp(e){return new Qp(e)}function eh(e){return e[0]}function th(e){return e[1]}function rh(e,t){var r=_p(!0),a=null,n=Zp,o=null,i=Yp(s);function s(s){var l,c,d,u=(s=Xp(s)).length,p=!1;for(null==a&&(o=n(d=i())),l=0;l<=u;++l)!(l<u&&r(c=s[l],l,s))===p&&((p=!p)?o.lineStart():o.lineEnd()),p&&o.point(+e(c,l,s),+t(c,l,s));if(d)return o=null,d+""||null}return e="function"==typeof e?e:void 0===e?eh:_p(e),t="function"==typeof t?t:void 0===t?th:_p(t),s.x=function(t){return arguments.length?(e="function"==typeof t?t:_p(+t),s):e},s.y=function(e){return arguments.length?(t="function"==typeof e?e:_p(+e),s):t},s.defined=function(e){return arguments.length?(r="function"==typeof e?e:_p(!!e),s):r},s.curve=function(e){return arguments.length?(n=e,null!=a&&(o=n(a)),s):n},s.context=function(e){return arguments.length?(null==e?a=o=null:o=n(a=e),s):a},s}function ah(e,t,r){var a=null,n=_p(!0),o=null,i=Zp,s=null,l=Yp(c);function c(c){var d,u,p,h,m,g=(c=Xp(c)).length,x=!1,f=new Array(g),b=new Array(g);for(null==o&&(s=i(m=l())),d=0;d<=g;++d){if(!(d<g&&n(h=c[d],d,c))===x)if(x=!x)u=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=d-1;p>=u;--p)s.point(f[p],b[p]);s.lineEnd(),s.areaEnd()}x&&(f[d]=+e(h,d,c),b[d]=+t(h,d,c),s.point(a?+a(h,d,c):f[d],r?+r(h,d,c):b[d]))}if(m)return s=null,m+""||null}function d(){return rh().defined(n).curve(i).context(o)}return e="function"==typeof e?e:void 0===e?eh:_p(+e),t="function"==typeof t?t:_p(void 0===t?0:+t),r="function"==typeof r?r:void 0===r?th:_p(+r),c.x=function(t){return arguments.length?(e="function"==typeof t?t:_p(+t),a=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:_p(+t),c):e},c.x1=function(e){return arguments.length?(a=null==e?null:"function"==typeof e?e:_p(+e),c):a},c.y=function(e){return arguments.length?(t="function"==typeof e?e:_p(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:_p(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:_p(+e),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(a).y(t)},c.defined=function(e){return arguments.length?(n="function"==typeof e?e:_p(!!e),c):n},c.curve=function(e){return arguments.length?(i=e,null!=o&&(s=i(o)),c):i},c.context=function(e){return arguments.length?(null==e?o=s=null:s=i(o=e),c):o},c}Qp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class nh{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}const oh={draw(e,t){const r=Up(t/Bp);e.moveTo(r,0),e.arc(0,0,r,0,Vp)}},ih={draw(e,t){const r=Up(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},sh=Up(1/3),lh=2*sh,ch={draw(e,t){const r=Up(t/lh),a=r*sh;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},dh={draw(e,t){const r=Up(t),a=-r/2;e.rect(a,a,r,r)}},uh=$p(Bp/10)/$p(7*Bp/10),ph=$p(Vp/10)*uh,hh=-Lp(Vp/10)*uh,mh={draw(e,t){const r=Up(.8908130915292852*t),a=ph*r,n=hh*r;e.moveTo(0,-r),e.lineTo(a,n);for(let o=1;o<5;++o){const t=Vp*o/5,i=Lp(t),s=$p(t);e.lineTo(s*r,-i*r),e.lineTo(i*a-s*n,s*a+i*n)}e.closePath()}},gh=Up(3),xh={draw(e,t){const r=-Up(t/(3*gh));e.moveTo(0,2*r),e.lineTo(-gh*r,-r),e.lineTo(gh*r,-r),e.closePath()}},fh=-.5,bh=Up(3)/2,vh=1/Up(12),yh=3*(vh/2+1),wh={draw(e,t){const r=Up(t/yh),a=r/2,n=r*vh,o=a,i=r*vh+r,s=-o,l=i;e.moveTo(a,n),e.lineTo(o,i),e.lineTo(s,l),e.lineTo(fh*a-bh*n,bh*a+fh*n),e.lineTo(fh*o-bh*i,bh*o+fh*i),e.lineTo(fh*s-bh*l,bh*s+fh*l),e.lineTo(fh*a+bh*n,fh*n-bh*a),e.lineTo(fh*o+bh*i,fh*i-bh*o),e.lineTo(fh*s+bh*l,fh*l-bh*s),e.closePath()}};function jh(){}function Nh(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function kh(e){this._context=e}function Ch(e){this._context=e}function Sh(e){this._context=e}function Eh(e){this._context=e}function Ph(e){return e<0?-1:1}function Oh(e,t,r){var a=e._x1-e._x0,n=t-e._x1,o=(e._y1-e._y0)/(a||n<0&&-0),i=(r-e._y1)/(n||a<0&&-0),s=(o*n+i*a)/(a+n);return(Ph(o)+Ph(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(s))||0}function Ih(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ah(e,t,r){var a=e._x0,n=e._y0,o=e._x1,i=e._y1,s=(o-a)/3;e._context.bezierCurveTo(a+s,n+s*t,o-s,i-s*r,o,i)}function Dh(e){this._context=e}function Mh(e){this._context=new Th(e)}function Th(e){this._context=e}function Fh(e){this._context=e}function zh(e){var t,r,a=e.length-1,n=new Array(a),o=new Array(a),i=new Array(a);for(n[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<a-1;++t)n[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(n[a-1]=2,o[a-1]=7,i[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)r=n[t]/o[t-1],o[t]-=r,i[t]-=r*i[t-1];for(n[a-1]=i[a-1]/o[a-1],t=a-2;t>=0;--t)n[t]=(i[t]-n[t+1])/o[t];for(o[a-1]=(e[a]+n[a-1])/2,t=0;t<a-1;++t)o[t]=2*e[t+1]-n[t+1];return[n,o]}function Rh(e,t){this._context=e,this._t=t}function _h(e,t){if((n=e.length)>1)for(var r,a,n,o=1,i=e[t[0]],s=i.length;o<n;++o)for(a=i,i=e[t[o]],r=0;r<s;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function Lh(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function $h(e,t){return e[t]}function Uh(e){const t=[];return t.key=e,t}kh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nh(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Ch.prototype={areaStart:jh,areaEnd:jh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Nh(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Sh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:Nh(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Eh.prototype={areaStart:jh,areaEnd:jh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Dh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ah(this,this._t0,Ih(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ah(this,Ih(this,r=Oh(this,e,t)),r);break;default:Ah(this,this._t0,r=Oh(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(Mh.prototype=Object.create(Dh.prototype)).point=function(e,t){Dh.prototype.point.call(this,t,e)},Th.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,n,o){this._context.bezierCurveTo(t,e,a,r,o,n)}},Fh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var a=zh(e),n=zh(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(a[0][o],n[0][o],a[1][o],n[1][o],e[i],t[i]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Rh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};var Bh,Vh={},Gh={};function qh(){return Bh||(Bh=1,e=Gh,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isUnsafeProperty=function(e){return"__proto__"===e}),Gh;var e}var Hh,Wh={};function Kh(){return Hh||(Hh=1,e=Wh,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}),Wh;var e}var Jh,Yh={};function Xh(){return Jh||(Jh=1,e=Yh,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toKey=function(e){var t;return"string"==typeof e||"symbol"==typeof e?e:Object.is(null==e||null===(t=e.valueOf)||void 0===t?void 0:t.call(e),-0)?"-0":String(e)}),Yh;var e}var Qh,Zh,em,tm,rm,am={},nm={};function om(){return Qh||(Qh=1,e=nm,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toString=function e(t){if(null==t)return"";if("string"==typeof t)return t;if(Array.isArray(t))return t.map(e).join(",");const r=String(t);return"0"===r&&Object.is(Number(t),-0)?"-0":r}),nm;var e}function im(){return Zh||(Zh=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=om(),r=Xh();e.toPath=function(e){if(Array.isArray(e))return e.map(r.toKey);if("symbol"==typeof e)return[e];const a=[],n=(e=t.toString(e)).length;if(0===n)return a;let o=0,i="",s="",l=!1;for(46===e.charCodeAt(0)&&(a.push(""),o++);o<n;){const t=e[o];s?"\\"===t&&o+1<n?(o++,i+=e[o]):t===s?s="":i+=t:l?'"'===t||"'"===t?s=t:"]"===t?(l=!1,a.push(i),i=""):i+=t:"["===t?(l=!0,i&&(a.push(i),i="")):"."===t?i&&(a.push(i),i=""):i+=t,o++}return i&&a.push(i),a}}(am)),am}function sm(){return em||(em=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qh(),r=Kh(),a=Xh(),n=im();e.get=function e(o,i,s){if(null==o)return s;switch(typeof i){case"string":{if(t.isUnsafeProperty(i))return s;const a=o[i];return void 0===a?r.isDeepKey(i)?e(o,n.toPath(i),s):s:a}case"number":case"symbol":{"number"==typeof i&&(i=a.toKey(i));const e=o[i];return void 0===e?s:e}default:{var l;if(Array.isArray(i))return function(e,r,a){if(0===r.length)return a;let n=e;for(let o=0;o<r.length;o++){if(null==n)return a;if(t.isUnsafeProperty(r[o]))return a;n=n[r[o]]}if(void 0===n)return a;return n}(o,i,s);if(i=Object.is(null===(l=i)||void 0===l?void 0:l.valueOf(),-0)?"-0":String(i),t.isUnsafeProperty(i))return s;const e=o[i];return void 0===e?s:e}}}}(Vh)),Vh}function lm(){return rm?tm:(rm=1,tm=sm().get)}const cm=F(lm());function dm(e){var t=10**(arguments.length>1&&void 0!==arguments[1]?arguments[1]:4),r=Math.round(e*t)/t;return Object.is(r,-0)?0:r}function um(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return e.reduce((e,t,a)=>{var n=r[a-1];return"string"==typeof n?e+n+t:void 0!==n?e+dm(n)+t:e+t},"")}var pm=e=>0===e?0:e>0?1:-1,hm=e=>"number"==typeof e&&e!=+e,mm=e=>"string"==typeof e&&e.indexOf("%")===e.length-1,gm=e=>("number"==typeof e||e instanceof Number)&&!hm(e),xm=e=>gm(e)||"string"==typeof e,fm=0,bm=e=>{var t=++fm;return"".concat(e||"").concat(t)},vm=function(e,t){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!gm(e)&&"string"!=typeof e)return a;if(mm(e)){if(null==t)return a;var o=e.indexOf("%");r=t*parseFloat(e.slice(0,o))/100}else r=+e;return hm(r)&&(r=a),n&&null!=t&&r>t&&(r=t),r},ym=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},a=0;a<t;a++){if(r[String(e[a])])return!0;r[String(e[a])]=!0}return!1};function wm(e,t,r){return gm(e)&&gm(t)?dm(e+r*(t-e)):t}function jm(e,t,r){if(e&&e.length)return e.find(e=>e&&("function"==typeof t?t(e):cm(e,t))===r)}var Nm=e=>null==e,km=e=>Nm(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Cm(e){return null!=e}function Sm(){}var Em=["type","size","sizeType"];function Pm(){return Pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Pm.apply(null,arguments)}function Om(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Im(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Om(Object(r),!0).forEach(function(t){Am(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Om(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Am(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Dm={symbolCircle:oh,symbolCross:ih,symbolDiamond:ch,symbolSquare:dh,symbolStar:mh,symbolTriangle:xh,symbolWye:wh},Mm=Math.PI/180,Tm=e=>{var{type:t="circle",size:r=64,sizeType:a="area"}=e,n=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,Em),o=Im(Im({},n),{},{type:t,size:r,sizeType:a}),i="circle";"string"==typeof t&&(i=t);var{className:s,cx:l,cy:c}=o,d=Ip(o);return gm(l)&&gm(c)&&gm(r)?W.createElement("path",Pm({},d,{className:ws("recharts-symbols",s),transform:"translate(".concat(l,", ").concat(c,")"),d:(()=>{var e=(e=>{var t="symbol".concat(km(e));return Dm[t]||oh})(i),t=function(e,t){let r=null,a=Yp(n);function n(){let n;if(r||(r=n=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),n)return r=null,n+""||null}return e="function"==typeof e?e:_p(e||oh),t="function"==typeof t?t:_p(void 0===t?64:+t),n.type=function(t){return arguments.length?(e="function"==typeof t?t:_p(t),n):e},n.size=function(e){return arguments.length?(t="function"==typeof e?e:_p(+e),n):t},n.context=function(e){return arguments.length?(r=null==e?null:e,n):r},n}().type(e).size(((e,t,r)=>{if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var a=18*Mm;return 1.25*e*e*(Math.tan(a)-Math.tan(2*a)*Math.tan(a)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(r,a,i)),n=t();if(null!==n)return n})()})):null};Tm.registerSymbol=(e,t)=>{Dm["symbol".concat(km(e))]=t};var Fm=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,zm=(e,t)=>{if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if(W.isValidElement(e)&&(r=e.props),"object"!=typeof r&&"function"!=typeof r)return null;var a={};return Object.keys(r).forEach(e=>{kp(e)&&(a[e]=t=>r[e](r,t))}),a},Rm=(e,t,r)=>{if(null===e||"object"!=typeof e&&"function"!=typeof e)return null;var a=null;return Object.keys(e).forEach(n=>{var o=e[n];kp(n)&&"function"==typeof o&&(a||(a={}),a[n]=((e,t,r)=>a=>(e(t,r,a),null))(o,t,r))}),a};function _m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Lm(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $m(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_m(Object(r),!0).forEach(function(t){Lm(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e),a=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==a[t]&&(e[t]=a[t]),e),r)}var Um,Bm={},Vm={};function Gm(){return Um||(Um=1,e=Vm,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.uniqBy=function(e,t){const r=new Map;for(let a=0;a<e.length;a++){const n=e[a],o=t(n);r.has(o)||r.set(o,n)}return Array.from(r.values())}),Vm;var e}var qm,Hm={};function Wm(){return qm||(qm=1,e=Hm,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.identity=function(e){return e}),Hm;var e}var Km,Jm,Ym={},Xm={},Qm={};function Zm(){return Km||(Km=1,e=Qm,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}),Qm;var e}function eg(){return Jm||(Jm=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zm();e.isArrayLike=function(e){return null!=e&&"function"!=typeof e&&t.isLength(e.length)}}(Xm)),Xm}var tg,rg,ag={};function ng(){return tg||(tg=1,e=ag,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isObjectLike=function(e){return"object"==typeof e&&null!==e}),ag;var e}function og(){return rg||(rg=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eg(),r=ng();e.isArrayLikeObject=function(e){return r.isObjectLike(e)&&t.isArrayLike(e)}}(Ym)),Ym}var ig,sg={},lg={};function cg(){return ig||(ig=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sm();e.property=function(e){return function(r){return t.get(r,e)}}}(lg)),lg}var dg,ug={},pg={},hg={},mg={};function gg(){return dg||(dg=1,e=mg,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isObject=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)}),mg;var e}var xg,fg={};function bg(){return xg||(xg=1,e=fg,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isPrimitive=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e}),fg;var e}var vg,yg,wg,jg={};function Ng(){return vg||(vg=1,e=jg,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}),jg;var e}function kg(){return yg||(yg=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gg(),r=bg(),a=Ng();function n(e,s,l,c){if(s===e)return!0;switch(typeof s){case"object":return function(e,t,a,n){if(null==t)return!0;if(Array.isArray(t))return o(e,t,a,n);if(t instanceof Map)return function(e,t,r,a){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[n,o]of t.entries()){if(!1===r(e.get(n),o,n,e,t,a))return!1}return!0}(e,t,a,n);if(t instanceof Set)return i(e,t,a,n);const s=Object.keys(t);if(null==e||r.isPrimitive(e))return 0===s.length;if(0===s.length)return!0;if(null!=n&&n.has(t))return n.get(t)===e;null==n||n.set(t,e);try{for(let o=0;o<s.length;o++){const i=s[o];if(!r.isPrimitive(e)&&!(i in e))return!1;if(void 0===t[i]&&void 0!==e[i])return!1;if(null===t[i]&&null!==e[i])return!1;if(!a(e[i],t[i],i,e,t,n))return!1}return!0}finally{null==n||n.delete(t)}}(e,s,l,c);case"function":return Object.keys(s).length>0?n(e,{...s},l,c):a.eq(e,s);default:return t.isObject(e)?"string"!=typeof s||""===s:a.eq(e,s)}}function o(e,t,r,a){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const n=new Set;for(let o=0;o<t.length;o++){const i=t[o];let s=!1;for(let l=0;l<e.length;l++){if(n.has(l))continue;let c=!1;if(r(e[l],i,o,e,t,a)&&(c=!0),c){n.add(l),s=!0;break}}if(!s)return!1}return!0}function i(e,t,r,a){return 0===t.size||e instanceof Set&&o([...e],[...t],r,a)}e.isMatchWith=function e(t,r,a){return"function"!=typeof a?e(t,r,()=>{}):n(t,r,function e(t,r,o,i,s,l){const c=a(t,r,o,i,s,l);return void 0!==c?Boolean(c):n(t,r,e,l)},new Map)},e.isSetMatch=i}(hg)),hg}function Cg(){return wg||(wg=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kg();e.isMatch=function(e,r){return t.isMatchWith(e,r,()=>{})}}(pg)),pg}var Sg,Eg={},Pg={},Og={};function Ig(){return Sg||(Sg=1,e=Og,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}),Og;var e}var Ag,Dg={};function Mg(){return Ag||(Ag=1,e=Dg,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}),Dg;var e}var Tg,Fg={};function zg(){return Tg||(Tg=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});e.argumentsTag="[object Arguments]",e.arrayBufferTag="[object ArrayBuffer]",e.arrayTag="[object Array]",e.bigInt64ArrayTag="[object BigInt64Array]",e.bigUint64ArrayTag="[object BigUint64Array]",e.booleanTag="[object Boolean]",e.dataViewTag="[object DataView]",e.dateTag="[object Date]",e.errorTag="[object Error]",e.float32ArrayTag="[object Float32Array]",e.float64ArrayTag="[object Float64Array]",e.functionTag="[object Function]",e.int16ArrayTag="[object Int16Array]",e.int32ArrayTag="[object Int32Array]",e.int8ArrayTag="[object Int8Array]",e.mapTag="[object Map]",e.numberTag="[object Number]",e.objectTag="[object Object]",e.regexpTag="[object RegExp]",e.setTag="[object Set]",e.stringTag="[object String]",e.symbolTag="[object Symbol]",e.uint16ArrayTag="[object Uint16Array]",e.uint32ArrayTag="[object Uint32Array]",e.uint8ArrayTag="[object Uint8Array]",e.uint8ClampedArrayTag="[object Uint8ClampedArray]"}(Fg)),Fg}var Rg,_g,Lg,$g,Ug={};function Bg(){return Rg||(Rg=1,e=Ug,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}),Ug;var e}function Vg(){return _g||(_g=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ig(),r=Mg(),a=zg(),n=bg(),o=Bg();function i(e,t,l,c=new Map,d=void 0){const u=null==d?void 0:d(e,t,l,c);if(void 0!==u)return u;if(n.isPrimitive(e))return e;if(c.has(e))return c.get(e);if(Array.isArray(e)){const t=new Array(e.length);c.set(e,t);for(let r=0;r<e.length;r++)t[r]=i(e[r],r,l,c,d);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;c.set(e,t);for(const[r,a]of e)t.set(r,i(a,r,l,c,d));return t}if(e instanceof Set){const t=new Set;c.set(e,t);for(const r of e)t.add(i(r,void 0,l,c,d));return t}if("undefined"!=typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(o.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);c.set(e,t);for(let r=0;r<e.length;r++)t[r]=i(e[r],r,l,c,d);return t}if(e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return c.set(e,t),s(t,e,l,c,d),t}if("undefined"!=typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return c.set(e,t),s(t,e,l,c,d),t}if("undefined"!=typeof Blob&&e instanceof Blob){const t=new Blob([e],{type:e.type});return c.set(e,t),s(t,e,l,c,d),t}if(e instanceof Error){const t=new e.constructor;return c.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,s(t,e,l,c,d),t}if(e instanceof Boolean){const t=new Boolean(e.valueOf());return c.set(e,t),s(t,e,l,c,d),t}if(e instanceof Number){const t=new Number(e.valueOf());return c.set(e,t),s(t,e,l,c,d),t}if(e instanceof String){const t=new String(e.valueOf());return c.set(e,t),s(t,e,l,c,d),t}if("object"==typeof e&&function(e){switch(r.getTag(e)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return c.set(e,t),s(t,e,l,c,d),t}return e}function s(e,r,a=e,n,o){const s=[...Object.keys(r),...t.getSymbols(r)];for(let t=0;t<s.length;t++){const l=s[t],c=Object.getOwnPropertyDescriptor(e,l);(null==c||c.writable)&&(e[l]=i(r[l],l,a,n,o))}}e.cloneDeepWith=function(e,t){return i(e,void 0,e,new Map,t)},e.cloneDeepWithImpl=i,e.copyProperties=s}(Pg)),Pg}function Gg(){return Lg||(Lg=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vg();e.cloneDeep=function(e){return t.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}}(Eg)),Eg}function qg(){return $g||($g=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cg(),r=Gg();e.matches=function(e){return e=r.cloneDeep(e),r=>t.isMatch(r,e)}}(ug)),ug}var Hg,Wg,Kg={},Jg={},Yg={};function Xg(){return Hg||(Hg=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vg(),r=zg();e.cloneDeepWith=function(e,a){return t.cloneDeepWith(e,(n,o,i,s)=>{const l=null==a?void 0:a(n,o,i,s);if(void 0!==l)return l;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case r.numberTag:case r.stringTag:case r.booleanTag:{const r=new e.constructor(null==e?void 0:e.valueOf());return t.copyProperties(r,e),r}case r.argumentsTag:{const r={};return t.copyProperties(r,e),r.length=e.length,r[Symbol.iterator]=e[Symbol.iterator],r}default:return}})}}(Yg)),Yg}function Qg(){return Wg||(Wg=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xg();e.cloneDeep=function(e){return t.cloneDeepWith(e)}}(Jg)),Jg}var Zg,ex={},tx={};function rx(){return Zg||(Zg=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;e.isIndex=function(e,r=Number.MAX_SAFE_INTEGER){switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<r;case"symbol":return!1;case"string":return t.test(e)}}}(tx)),tx}var ax,nx,ox,ix,sx,lx,cx,dx={};function ux(){return ax||(ax=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mg();e.isArguments=function(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===t.getTag(e)}}(dx)),dx}function px(){return nx||(nx=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kh(),r=rx(),a=ux(),n=im();e.has=function(e,o){let i;if(i=Array.isArray(o)?o:"string"==typeof o&&t.isDeepKey(o)&&null==(null==e?void 0:e[o])?n.toPath(o):[o],0===i.length)return!1;let s=e;for(let t=0;t<i.length;t++){const e=i[t];if(null==s||!Object.hasOwn(s,e)){if(!((Array.isArray(s)||a.isArguments(s))&&r.isIndex(e)&&e<s.length))return!1}s=s[e]}return!0}}(ex)),ex}function hx(){return ox||(ox=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cg(),r=Xh(),a=Qg(),n=sm(),o=px();e.matchesProperty=function(e,i){switch(typeof e){case"object":var s;Object.is(null===(s=e)||void 0===s?void 0:s.valueOf(),-0)&&(e="-0");break;case"number":e=r.toKey(e)}return i=a.cloneDeep(i),function(r){const a=n.get(r,e);return void 0===a?o.has(r,e):void 0===i?void 0===a:t.isMatch(a,i)}}}(Kg)),Kg}function mx(){return ix||(ix=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wm(),r=cg(),a=qg(),n=hx();e.iteratee=function(e){if(null==e)return t.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?n.matchesProperty(e[0],e[1]):a.matches(e);case"string":case"symbol":case"number":return r.property(e)}}}(sg)),sg}function gx(){return sx||(sx=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gm(),r=Wm(),a=og(),n=mx();e.uniqBy=function(e,o=r.identity){return a.isArrayLikeObject(e)?t.uniqBy(Array.from(e),n.iteratee(o)):[]}}(Bm)),Bm}function xx(){return cx?lx:(cx=1,lx=gx().uniqBy)}const fx=F(xx());var bx,vx,yx,wx,jx={exports:{}},Nx={},kx={exports:{}},Cx={};function Sx(){return vx||(vx=1,kx.exports=function(){if(bx)return Cx;bx=1;var e=q(),t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=e.useState,a=e.useEffect,n=e.useLayoutEffect,o=e.useDebugValue;function i(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!t(e,a)}catch(n){return!0}}var s="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var s=t(),l=r({inst:{value:s,getSnapshot:t}}),c=l[0].inst,d=l[1];return n(function(){c.value=s,c.getSnapshot=t,i(c)&&d({inst:c})},[e,s,t]),a(function(){return i(c)&&d({inst:c}),e(function(){i(c)&&d({inst:c})})},[e]),o(s),s};return Cx.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:s,Cx}()),kx.exports}
/**
			 * @license React
			 * use-sync-external-store-shim/with-selector.production.js
			 *
			 * Copyright (c) Meta Platforms, Inc. and affiliates.
			 *
			 * This source code is licensed under the MIT license found in the
			 * LICENSE file in the root directory of this source tree.
			 */var Ex=(wx||(wx=1,jx.exports=function(){if(yx)return Nx;yx=1;var e=q(),t=Sx(),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=t.useSyncExternalStore,n=e.useRef,o=e.useEffect,i=e.useMemo,s=e.useDebugValue;return Nx.useSyncExternalStoreWithSelector=function(e,t,l,c,d){var u=n(null);if(null===u.current){var p={hasValue:!1,value:null};u.current=p}else p=u.current;u=i(function(){function e(e){if(!o){if(o=!0,a=e,e=c(e),void 0!==d&&p.hasValue){var t=p.value;if(d(t,e))return n=t}return n=e}if(t=n,r(a,e))return t;var i=c(e);return void 0!==d&&d(t,i)?(a=e,t):(a=e,n=i)}var a,n,o=!1,i=void 0===l?null:l;return[function(){return e(t())},null===i?void 0:function(){return e(i())}]},[t,l,c,d]);var h=a(e,u[0],u[1]);return o(function(){p.hasValue=!0,p.value=h},[h]),s(h),h},Nx}()),jx.exports),Px=W.createContext(null),Ox=e=>e,Ix=()=>{var e=W.useContext(Px);return e?e.store.dispatch:Ox},Ax=()=>{},Dx=()=>Ax,Mx=(e,t)=>e===t;function Tx(e){var t=W.useContext(Px);return Ex.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Dx,t?t.store.getState:Ax,t?t.store.getState:Ax,t?e:Ax,Mx)}var Fx=e=>Array.isArray(e)?e:[e];function zx(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(e=>"function"==typeof e)){const r=e.map(e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw new TypeError(`${t}[${r}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}var Rx="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function _x(){return{s:0,v:void 0,o:null,p:null}}function Lx(e,t={}){let r={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:a}=t;let n,o=0;function i(){let t=r;const{length:i}=arguments;for(let e=0,r=i;e<r;e++){const r=arguments[e];if("function"==typeof r||"object"==typeof r&&null!==r){let e=t.o;null===e&&(t.o=e=new WeakMap);const a=e.get(r);void 0===a?(t=_x(),e.set(r,t)):t=a}else{let e=t.p;null===e&&(t.p=e=new Map);const a=e.get(r);void 0===a?(t=_x(),e.set(r,t)):t=a}}const s=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),o++,a){var c,d,u;const e=null!==(c=null===(d=n)||void 0===d||null===(u=d.deref)||void 0===u?void 0:u.call(d))&&void 0!==c?c:n;null!=e&&a(e,l)&&(l=e,0!==o&&o--);n="object"==typeof l&&null!==l||"function"==typeof l?new Rx(l):l}return s.s=1,s.v=l,l}return i.clearCache=()=>{r={s:0,v:void 0,o:null,p:null},i.resetResultsCount()},i.resultsCount=()=>o,i.resetResultsCount=()=>{o=0},i}function $x(e,...t){const r="function"==typeof e?{memoize:e,memoizeOptions:t}:e,a=(...e)=>{let t,a=0,n=0,o={},i=e.pop();"object"==typeof i&&(o=i,i=e.pop()),function(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}(i,`createSelector expects an output function after the inputs, but received: [${typeof i}]`);const s={...r,...o},{memoize:l,memoizeOptions:c=[],argsMemoize:d=Lx,argsMemoizeOptions:u=[]}=s,p=Fx(c),h=Fx(u),m=zx(e),g=l(function(){return a++,i.apply(null,arguments)},...p),x=d(function(){n++;const e=function(e,t){const r=[],{length:a}=e;for(let n=0;n<a;n++)r.push(e[n].apply(null,t));return r}(m,arguments);return t=g.apply(null,e),t},...h);return Object.assign(x,{resultFunc:i,memoizedResultFunc:g,dependencies:m,dependencyRecomputations:()=>n,resetDependencyRecomputations:()=>{n=0},lastResult:()=>t,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:l,argsMemoize:d})};return Object.assign(a,{withTypes:()=>a}),a}var Ux,Bx=$x(Lx),Vx=Object.assign((e,t=Bx)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const r=Object.keys(e);return t(r.map(t=>e[t]),(...e)=>e.reduce((e,t,a)=>(e[r[a]]=t,e),{}))},{withTypes:()=>Vx}),Gx={},qx={},Hx={};function Wx(){return Ux||(Ux=1,function(e){function t(e){return"symbol"==typeof e?1:null===e?2:void 0===e?3:e!=e?4:0}Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});e.compareValues=(e,r,a)=>{if(e!==r){const n=t(e),o=t(r);if(n===o&&0===n){if(e<r)return"desc"===a?1:-1;if(e>r)return"desc"===a?-1:1}return"desc"===a?o-n:n-o}return 0}}(Hx)),Hx}var Kx,Jx,Yx,Xx={},Qx={};function Zx(){return Kx||(Kx=1,e=Qx,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isSymbol=function(e){return"symbol"==typeof e||e instanceof Symbol}),Qx;var e}function ef(){return Jx||(Jx=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zx(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.isKey=function(e,n){return!Array.isArray(e)&&(!("number"!=typeof e&&"boolean"!=typeof e&&null!=e&&!t.isSymbol(e))||("string"==typeof e&&(a.test(e)||!r.test(e))||null!=n&&Object.hasOwn(n,e)))}}(Xx)),Xx}function tf(){return Yx||(Yx=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wx(),r=ef(),a=im();e.orderBy=function(e,n,o,i){if(null==e)return[];o=i?void 0:o,Array.isArray(e)||(e=Object.values(e)),Array.isArray(n)||(n=null==n?[null]:[n]),0===n.length&&(n=[null]),Array.isArray(o)||(o=null==o?[]:[o]),o=o.map(e=>String(e));const s=(e,t)=>{let r=e;for(let a=0;a<t.length&&null!=r;++a)r=r[t[a]];return r},l=n.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"==typeof e||Array.isArray(e)||r.isKey(e)?e:{key:e,path:a.toPath(e)})),c=e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"==typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:s(t,e.path):"function"==typeof e?e(t):Array.isArray(e)?s(t,e):"object"==typeof t?t[e]:t)(t,e))}));return c.slice().sort((e,r)=>{for(let a=0;a<l.length;a++){const n=t.compareValues(e.criteria[a],r.criteria[a],o[a]);if(0!==n)return n}return 0}).map(e=>e.original)}}(qx)),qx}var rf,af={};function nf(){return rf||(rf=1,e=af,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.flatten=function(e,t=1){const r=[],a=Math.floor(t),n=(e,t)=>{for(let o=0;o<e.length;o++){const i=e[o];Array.isArray(i)&&t<a?n(i,t+1):r.push(i)}};return n(e,0),r}),af;var e}var of,sf,lf,cf,df={};function uf(){return of||(of=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rx(),r=eg(),a=gg(),n=Ng();e.isIterateeCall=function(e,o,i){return!!a.isObject(i)&&(!!("number"==typeof o&&r.isArrayLike(i)&&t.isIndex(o)&&o<i.length||"string"==typeof o&&o in i)&&n.eq(i[o],e))}}(df)),df}function pf(){return sf||(sf=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tf(),r=nf(),a=uf();e.sortBy=function(e,...n){const o=n.length;return o>1&&a.isIterateeCall(e,n[0],n[1])?n=[]:o>2&&a.isIterateeCall(n[0],n[1],n[2])&&(n=[n[0]]),t.orderBy(e,r.flatten(n),["asc"])}}(Gx)),Gx}function hf(){return cf?lf:(cf=1,lf=pf().sortBy)}const mf=F(hf());var gf=e=>e.legend.settings;Bx([e=>e.legend.payload,gf],(e,t)=>{var{itemSorter:r}=t,a=e.flat(1);return r?mf(a,r):a});function xf(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ff=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),bf=()=>Math.random().toString(36).substring(7).split("").join("."),vf={INIT:`@@redux/INIT${bf()}`,REPLACE:`@@redux/REPLACE${bf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${bf()}`};function yf(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function wf(e,t,r){if("function"!=typeof e)throw new Error(xf(2));if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(xf(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error(xf(1));return r(wf)(e,t)}let a=e,n=t,o=new Map,i=o,s=0,l=!1;function c(){i===o&&(i=new Map,o.forEach((e,t)=>{i.set(t,e)}))}function d(){if(l)throw new Error(xf(3));return n}function u(e){if("function"!=typeof e)throw new Error(xf(4));if(l)throw new Error(xf(5));let t=!0;c();const r=s++;return i.set(r,e),function(){if(t){if(l)throw new Error(xf(6));t=!1,c(),i.delete(r),o=null}}}function p(e){if(!yf(e))throw new Error(xf(7));if(void 0===e.type)throw new Error(xf(8));if("string"!=typeof e.type)throw new Error(xf(17));if(l)throw new Error(xf(9));try{l=!0,n=a(n,e)}finally{l=!1}return(o=i).forEach(e=>{e()}),e}p({type:vf.INIT});return{dispatch:p,subscribe:u,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw new Error(xf(10));a=e,p({type:vf.REPLACE})},[ff]:function(){const e=u;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(xf(11));function r(){const e=t;e.next&&e.next(d())}r();return{unsubscribe:e(r)}},[ff](){return this}}}}}function jf(e){const t=Object.keys(e),r={};for(let o=0;o<t.length;o++){const a=t[o];"function"==typeof e[a]&&(r[a]=e[a])}const a=Object.keys(r);let n;try{!function(e){Object.keys(e).forEach(t=>{const r=e[t];if(void 0===r(void 0,{type:vf.INIT}))throw new Error(xf(12));if(void 0===r(void 0,{type:vf.PROBE_UNKNOWN_ACTION()}))throw new Error(xf(13))})}(r)}catch(Xd){n=Xd}return function(e={},t){if(n)throw n;let o=!1;const i={};for(let n=0;n<a.length;n++){const s=a[n],l=r[s],c=e[s],d=l(c,t);if(void 0===d)throw t&&t.type,new Error(xf(14));i[s]=d,o=o||d!==c}return o=o||a.length!==Object.keys(e).length,o?i:e}}function Nf(e,t){return function(...r){return t(e.apply(this,r))}}function kf(e,t){if("function"==typeof e)return Nf(e,t);if("object"!=typeof e||null===e)throw new Error(xf(16));const r={};for(const a in e){const n=e[a];"function"==typeof n&&(r[a]=Nf(n,t))}return r}function Cf(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...r)=>e(t(...r)))}function Sf(...e){return t=>(r,a)=>{const n=t(r,a);let o=()=>{throw new Error(xf(15))};const i={getState:n.getState,dispatch:(e,...t)=>o(e,...t)},s=e.map(e=>e(i));return o=Cf(...s)(n.dispatch),{...n,dispatch:o}}}function Ef(e){return yf(e)&&"type"in e&&"string"==typeof e.type}var Pf=Symbol.for("immer-nothing"),Of=Symbol.for("immer-draftable"),If=Symbol.for("immer-state");function Af(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Df=Object,Mf=Df.getPrototypeOf,Tf="constructor",Ff="prototype",zf="configurable",Rf="enumerable",_f="writable",Lf="value",$f=e=>!!e&&!!e[If];function Uf(e){var t;return!!e&&(Gf(e)||Yf(e)||!!e[Of]||!(null===(t=e[Tf])||void 0===t||!t[Of])||Xf(e)||Qf(e))}var Bf=Df[Ff][Tf].toString(),Vf=new WeakMap;function Gf(e){if(!e||!Zf(e))return!1;const t=Mf(e);if(null===t||t===Df[Ff])return!0;const r=Df.hasOwnProperty.call(t,Tf)&&t[Tf];if(r===Object)return!0;if(!eb(r))return!1;let a=Vf.get(r);return void 0===a&&(a=Function.toString.call(r),Vf.set(r,a)),a===Bf}function qf(e,t,r=!0){if(0===Hf(e)){(r?Reflect.ownKeys(e):Df.keys(e)).forEach(r=>{t(r,e[r],e)})}else e.forEach((r,a)=>t(a,r,e))}function Hf(e){const t=e[If];return t?t.type_:Yf(e)?1:Xf(e)?2:Qf(e)?3:0}var Wf=(e,t,r=Hf(e))=>2===r?e.has(t):Df[Ff].hasOwnProperty.call(e,t),Kf=(e,t,r=Hf(e))=>2===r?e.get(t):e[t],Jf=(e,t,r,a=Hf(e))=>{2===a?e.set(t,r):3===a?e.add(r):e[t]=r};var Yf=Array.isArray,Xf=e=>e instanceof Map,Qf=e=>e instanceof Set,Zf=e=>"object"==typeof e,eb=e=>"function"==typeof e,tb=e=>"boolean"==typeof e;var rb=e=>e.copy_||e.base_,ab=e=>e.modified_?e.copy_:e.base_;function nb(e,t){if(Xf(e))return new Map(e);if(Qf(e))return new Set(e);if(Yf(e))return Array[Ff].slice.call(e);const r=Gf(e);if(!0===t||"class_only"===t&&!r){const t=Df.getOwnPropertyDescriptors(e);delete t[If];let r=Reflect.ownKeys(t);for(let a=0;a<r.length;a++){const n=r[a],o=t[n];!1===o[_f]&&(o[_f]=!0,o[zf]=!0),(o.get||o.set)&&(t[n]={[zf]:!0,[_f]:!0,[Rf]:o[Rf],[Lf]:e[n]})}return Df.create(Mf(e),t)}{const t=Mf(e);if(null!==t&&r)return{...e};const a=Df.create(t);return Df.assign(a,e)}}function ob(e,t=!1){return sb(e)||$f(e)||!Uf(e)||(Hf(e)>1&&Df.defineProperties(e,{set:ib,add:ib,clear:ib,delete:ib}),Df.freeze(e),t&&qf(e,(e,t)=>{ob(t,!0)},!1)),e}var ib={[Lf]:function(){Af(2)}};function sb(e){return null===e||!Zf(e)||Df.isFrozen(e)}var lb="MapSet",cb="Patches",db="ArrayMethods",ub={};function pb(e){const t=ub[e];return t||Af(0),t}var hb,mb=e=>!!ub[e],gb=()=>hb;function xb(e,t){t&&(e.patchPlugin_=pb(cb),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function fb(e){bb(e),e.drafts_.forEach(yb),e.drafts_=null}function bb(e){e===hb&&(hb=e.parent_)}var vb=e=>hb={drafts_:[],parent_:hb,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:mb(lb)?pb(lb):void 0,arrayMethodsPlugin_:mb(db)?pb(db):void 0};function yb(e){const t=e[If];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function wb(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(void 0!==e&&e!==r){r[If].modified_&&(fb(t),Af(4)),Uf(e)&&(e=jb(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[If].base_,e,t)}else e=jb(t,r);return function(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ob(t,r)}(t,e,!0),fb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Pf?e:void 0}function jb(e,t){if(sb(t))return t;const r=t[If];if(!r){return Pb(t,e.handledSet_,e)}if(!kb(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:t}=r;if(t)for(;t.length>0;){t.pop()(e)}Eb(r,e)}return r.copy_}function Nb(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var kb=(e,t)=>e.scope_===t,Cb=[];function Sb(e,t,r,a){var n;const o=rb(e),i=e.type_;if(void 0!==a){if(Kf(o,a,i)===t)return void Jf(o,a,r,i)}if(!e.draftLocations_){const t=e.draftLocations_=new Map;qf(o,(e,r)=>{if($f(r)){const a=t.get(r)||[];a.push(e),t.set(r,a)}})}const s=null!==(n=e.draftLocations_.get(t))&&void 0!==n?n:Cb;for(const l of s)Jf(o,l,r,i)}function Eb(e,t){var r,a;if(e.modified_&&!e.finalized_&&(3===e.type_||1===e.type_&&e.allIndicesReassigned_||(null!==(r=null===(a=e.assigned_)||void 0===a?void 0:a.size)&&void 0!==r?r:0)>0)){const{patchPlugin_:r}=t;if(r){const a=r.getPath(e);a&&r.generatePatches_(e,a,t)}Nb(e)}}function Pb(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||$f(e)||t.has(e)||!Uf(e)||sb(e)||(t.add(e),qf(e,(a,n)=>{if($f(n)){const t=n[If];if(kb(t,r)){const r=ab(t);Jf(e,a,r,e.type_),Nb(t)}}else Uf(n)&&Pb(n,t,r)})),e}var Ob={get(e,t){if(t===If)return e;let r=e.scope_.arrayMethodsPlugin_;const a=1===e.type_&&"string"==typeof t;if(a&&null!=r&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const n=rb(e);if(!Wf(n,t,e.type_))return function(e,t,r){var a;const n=Db(t,r);return n?Lf in n?n[Lf]:null===(a=n.get)||void 0===a?void 0:a.call(e.draft_):void 0}(e,n,t);const o=n[t];if(e.finalized_||!Uf(o))return o;if(a&&e.operationMethod&&null!=r&&r.isMutatingArrayMethod(e.operationMethod)&&function(e){const t=+e;return Number.isInteger(t)&&String(t)===e}(t))return o;if(o===Ab(e.base_,t)){Tb(e);const r=1===e.type_?+t:t,a=Fb(e.scope_,o,e,r);return e.copy_[r]=a}return o},has:(e,t)=>t in rb(e),ownKeys:e=>Reflect.ownKeys(rb(e)),set(e,t,r){const a=Db(rb(e),t);if(null!=a&&a.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const a=Ab(rb(e),t),n=null==a?void 0:a[If];if(n&&n.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,a)&&(void 0!==r||Wf(e.base_,t,e.type_)))return!0;Tb(e),Mb(e)}return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),function(e,t,r){const{scope_:a}=e;if($f(r)){const n=r[If];kb(n,a)&&n.callbacks_.push(function(){Tb(e);const a=ab(n);Sb(e,r,a,t)})}else Uf(r)&&e.callbacks_.push(function(){const n=rb(e);var o;Kf(n,t,e.type_)===r&&a.drafts_.length>1&&!0===(null!==(o=e.assigned_.get(t))&&void 0!==o&&o)&&e.copy_&&Pb(Kf(e.copy_,t,e.type_),a.handledSet_,a)})}(e,t,r)),!0},deleteProperty:(e,t)=>(Tb(e),void 0!==Ab(e.base_,t)||t in e.base_?(e.assigned_.set(t,!1),Mb(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=rb(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a?{[_f]:!0,[zf]:1!==e.type_||"length"!==t,[Rf]:a[Rf],[Lf]:r[t]}:a},defineProperty(){Af(11)},getPrototypeOf:e=>Mf(e.base_),setPrototypeOf(){Af(12)}},Ib={};function Ab(e,t){const r=e[If];return(r?rb(r):e)[t]}function Db(e,t){if(!(t in e))return;let r=Mf(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=Mf(r)}}function Mb(e){e.modified_||(e.modified_=!0,e.parent_&&Mb(e.parent_))}function Tb(e){e.copy_||(e.assigned_=new Map,e.copy_=nb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}qf(Ob,(e,t)=>{Ib[e]=function(){const e=arguments;return e[0]=e[0][0],t.apply(this,e)}}),Ib.deleteProperty=function(e,t){return Ib.set.call(this,e,t,void 0)},Ib.set=function(e,t,r){return Ob.set.call(this,e[0],t,r,e[0])};function Fb(e,t,r,a){var n,o;const[i,s]=Xf(t)?pb(lb).proxyMap_(t,r):Qf(t)?pb(lb).proxySet_(t,r):function(e,t){const r=Yf(e),a={type_:r?1:0,scope_:t?t.scope_:gb(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let n=a,o=Ob;r&&(n=[a],o=Ib);const{revoke:i,proxy:s}=Proxy.revocable(n,o);return a.draft_=s,a.revoke_=i,[s,a]}(t,r);return(null!==(n=null==r?void 0:r.scope_)&&void 0!==n?n:gb()).drafts_.push(i),s.callbacks_=null!==(o=null==r?void 0:r.callbacks_)&&void 0!==o?o:[],s.key_=a,r&&void 0!==a?function(e,t,r){e.callbacks_.push(function(a){var n,o;const i=t;if(!i||!kb(i,a))return;null===(n=a.mapSetPlugin_)||void 0===n||n.fixSetContents(i);const s=ab(i);Sb(e,null!==(o=i.draft_)&&void 0!==o?o:i,s,r),Eb(i,a)})}(r,s,a):s.callbacks_.push(function(e){var t;null===(t=e.mapSetPlugin_)||void 0===t||t.fixSetContents(s);const{patchPlugin_:r}=e;s.modified_&&r&&r.generatePatches_(s,[],e)}),i}function zb(e){return $f(e)||Af(10),Rb(e)}function Rb(e){if(!Uf(e)||sb(e))return e;const t=e[If];let r,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=nb(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else r=nb(e,!0);return qf(r,(e,t)=>{Jf(r,e,Rb(t))},a),t&&(t.finalized_=!1),r}var _b=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,r)=>{if(eb(e)&&!eb(t)){const r=t;t=e;const a=this;return function(e=r,...n){return a.produce(e,e=>t.call(this,e,...n))}}let a;if(eb(t)||Af(6),void 0===r||eb(r)||Af(7),Uf(e)){const n=vb(this),o=Fb(n,e,void 0);let i=!0;try{a=t(o),i=!1}finally{i?fb(n):bb(n)}return xb(n,r),wb(a,n)}if(!e||!Zf(e)){if(a=t(e),void 0===a&&(a=e),a===Pf&&(a=void 0),this.autoFreeze_&&ob(a,!0),r){const t=[],n=[];pb(cb).generateReplacementPatches_(e,a,{patches_:t,inversePatches_:n}),r(t,n)}return a}Af(1)},this.produceWithPatches=(e,t)=>{if(eb(e))return(t,...r)=>this.produceWithPatches(t,t=>e(t,...r));let r,a;const n=this.produce(e,t,(e,t)=>{r=e,a=t});return[n,r,a]},tb(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),tb(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),tb(null==e?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Uf(e)||Af(8),$f(e)&&(e=zb(e));const t=vb(this),r=Fb(t,e,void 0);return r[If].isManual_=!0,bb(t),r}finishDraft(e,t){const r=e&&e[If];r&&r.isManual_||Af(9);const{scope_:a}=r;return xb(a,t),wb(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(0===a.path.length&&"replace"===a.op){e=a.value;break}}r>-1&&(t=t.slice(r+1));const a=pb(cb).applyPatches_;return $f(e)?a(e,t):this.produce(e,e=>a(e,t))}},Lb=_b.produce;function $b(e){return({dispatch:t,getState:r})=>a=>n=>"function"==typeof n?n(t,r,e):a(n)}var Ub=$b(),Bb=$b,Vb="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?Cf:Cf.apply(null,arguments)};function Gb(e,t){function r(...r){if(t){let a=t(...r);if(!a)throw new Error(_v(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=t=>Ef(t)&&t.type===e,r}var qb=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function Hb(e){return Uf(e)?Lb(e,()=>{}):e}function Wb(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}var Kb="RTK_autoBatch",Jb=()=>e=>({payload:e,meta:{[Kb]:!0}}),Yb=e=>t=>{setTimeout(t,e)},Xb=(e={type:"raf"})=>t=>(...r)=>{const a=t(...r);let n=!0,o=!1,i=!1;const s=new Set,l="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Yb(10):"callback"===e.type?e.queueNotification:Yb(e.timeout),c=()=>{i=!1,o&&(o=!1,s.forEach(e=>e()))};return Object.assign({},a,{subscribe(e){const t=a.subscribe(()=>n&&e());return s.add(e),()=>{t(),s.delete(e)}},dispatch(e){try{var t;return n=!(null!=e&&null!==(t=e.meta)&&void 0!==t&&t[Kb]),o=!n,o&&(i||(i=!0,l(c))),a.dispatch(e)}finally{n=!0}}})};function Qb(e){const t=function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:n=!0}=null!=e?e:{};let o=new qb;return t&&(function(e){return"boolean"==typeof e}(t)?o.push(Ub):o.push(Bb(t.extraArgument))),o},{reducer:r,middleware:a,devTools:n=!0,preloadedState:o,enhancers:i}=e||{};let s,l;if("function"==typeof r)s=r;else{if(!yf(r))throw new Error(_v(1));s=jf(r)}l="function"==typeof a?a(t):t();let c=Cf;n&&(c=Vb({trace:!1,..."object"==typeof n&&n}));const d=(e=>function(t){const{autoBatch:r=!0}=null!=t?t:{};let a=new qb(e);return r&&a.push(Xb("object"==typeof r?r:void 0)),a})(Sf(...l));return wf(s,o,c(..."function"==typeof i?i(d):d()))}function Zb(e){const t={},r=[];let a;const n={addCase(e,r){const a="string"==typeof e?e:e.type;if(!a)throw new Error(_v(28));if(a in t)throw new Error(_v(29));return t[a]=r,n},addAsyncThunk:(e,a)=>(a.pending&&(t[e.pending.type]=a.pending),a.rejected&&(t[e.rejected.type]=a.rejected),a.fulfilled&&(t[e.fulfilled.type]=a.fulfilled),a.settled&&r.push({matcher:e.settled,reducer:a.settled}),n),addMatcher:(e,t)=>(r.push({matcher:e,reducer:t}),n),addDefaultCase:e=>(a=e,n)};return e(n),[t,r,a]}var ev=(e=21)=>{let t="",r=e;for(;r--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},tv=Symbol.for("rtk-slice-createasyncthunk");function rv(e,t){return`${e}/${t}`}function av({creators:e}={}){var t;const r=null==e||null===(t=e.asyncThunk)||void 0===t?void 0:t[tv];return function(e){const{name:t,reducerPath:a=t}=e;if(!t)throw new Error(_v(11));const n=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},o=Object.keys(n),i={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},s={addCase(e,t){const r="string"==typeof e?e:e.type;if(!r)throw new Error(_v(12));if(r in i.sliceCaseReducersByType)throw new Error(_v(13));return i.sliceCaseReducersByType[r]=t,s},addMatcher:(e,t)=>(i.sliceMatchers.push({matcher:e,reducer:t}),s),exposeAction:(e,t)=>(i.actionCreators[e]=t,s),exposeCaseReducer:(e,t)=>(i.sliceCaseReducersByName[e]=t,s)};function l(){const[t={},r=[],a]="function"==typeof e.extraReducers?Zb(e.extraReducers):[e.extraReducers],n={...t,...i.sliceCaseReducersByType};return function(e,t){let r,[a,n,o]=Zb(t);if(function(e){return"function"==typeof e}(e))r=()=>Hb(e());else{const t=Hb(e);r=()=>t}function i(e=r(),t){let i=[a[t.type],...n.filter(({matcher:e})=>e(t)).map(({reducer:e})=>e)];return 0===i.filter(e=>!!e).length&&(i=[o]),i.reduce((e,r)=>{if(r){if($f(e)){const a=r(e,t);return void 0===a?e:a}if(Uf(e))return Lb(e,e=>r(e,t));{const a=r(e,t);if(void 0===a){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return a}}return e},e)}return i.getInitialState=r,i}(e.initialState,e=>{for(let t in n)e.addCase(t,n[t]);for(let t of i.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of r)e.addMatcher(t.matcher,t.reducer);a&&e.addDefaultCase(a)})}o.forEach(a=>{const o=n[a],i={reducerName:a,type:rv(t,a),createNotation:"function"==typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(o)?function({type:e,reducerName:t,createNotation:r},a,n){let o,i;if("reducer"in a){if(r&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(a))throw new Error(_v(17));o=a.reducer,i=a.prepare}else o=a;n.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,i?Gb(e,i):Gb(e))}(i,o,s):function({type:e,reducerName:t},r,a,n){if(!n)throw new Error(_v(18));const{payloadCreator:o,fulfilled:i,pending:s,rejected:l,settled:c,options:d}=r,u=n(e,o,d);a.exposeAction(t,u),i&&a.addCase(u.fulfilled,i);s&&a.addCase(u.pending,s);l&&a.addCase(u.rejected,l);c&&a.addMatcher(u.settled,c);a.exposeCaseReducer(t,{fulfilled:i||iv,pending:s||iv,rejected:l||iv,settled:c||iv})}(i,o,s,r)});const c=e=>e,d=new Map,u=new WeakMap;let p;function h(e,t){return p||(p=l()),p(e,t)}function m(){return p||(p=l()),p.getInitialState()}function g(t,r=!1){function a(e){let n=e[t];return void 0===n&&r&&(n=Wb(u,a,m)),n}function n(t=c){const a=Wb(d,r,()=>new WeakMap);return Wb(a,t,()=>{const a={};for(const[o,i]of Object.entries(null!==(n=e.selectors)&&void 0!==n?n:{})){var n;a[o]=nv(i,t,()=>Wb(u,t,m),r)}return a})}return{reducerPath:t,getSelectors:n,get selectors(){return n(a)},selectSlice:a}}const x={name:t,reducer:h,actions:i.actionCreators,caseReducers:i.sliceCaseReducersByName,getInitialState:m,...g(a),injectInto(e,{reducerPath:t,...r}={}){const n=null!=t?t:a;return e.inject({reducerPath:n,reducer:h},r),{...x,...g(n,!0)}}};return x}}function nv(e,t,r,a){function n(n,...o){let i=t(n);return void 0===i&&a&&(i=r()),e(i,...o)}return n.unwrapped=e,n}var ov=av();function iv(){}var sv="listener",lv="completed",cv="cancelled",dv=`task-${cv}`,uv=`task-${lv}`,pv=`${sv}-${cv}`,hv=`${sv}-${lv}`,mv=class{constructor(e){A(this,"name","TaskAbortError"),A(this,"message",void 0),this.code=e,this.message=`task ${cv} (reason: ${e})`}},gv=(e,t)=>{if("function"!=typeof e)throw new TypeError(_v(32))},xv=()=>{},fv=(e,t=xv)=>(e.catch(t),e),bv=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),vv=e=>{if(e.aborted)throw new mv(e.reason)};function yv(e,t){let r=xv;return new Promise((a,n)=>{const o=()=>n(new mv(e.reason));e.aborted?o():(r=bv(e,o),t.finally(()=>r()).then(a,n))}).finally(()=>{r=xv})}var wv=e=>t=>fv(yv(e,t).then(t=>(vv(e),t))),jv=e=>{const t=wv(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:Nv}=Object,kv={},Cv="listenerMiddleware",Sv=(e,t)=>(r,a)=>{gv(r);const n=new AbortController;var o;o=n,bv(e,()=>o.abort(e.reason));const i=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof mv?"cancelled":"rejected",error:r}}finally{null==t||t()}})(async()=>{vv(e),vv(n.signal);const t=await r({pause:wv(n.signal),delay:jv(n.signal),signal:n.signal});return vv(n.signal),t},()=>n.abort(uv));return null!=a&&a.autoJoin&&t.push(i.catch(xv)),{result:wv(e)(i),cancel(){n.abort(dv)}}},Ev=(e,t)=>(r,a)=>fv((async(r,a)=>{vv(t);let n=()=>{};const o=[new Promise((t,a)=>{let o=e({predicate:r,effect:(e,r)=>{r.unsubscribe(),t([e,r.getState(),r.getOriginalState()])}});n=()=>{o(),a()}})];null!=a&&o.push(new Promise(e=>setTimeout(e,a,null)));try{const e=await yv(t,Promise.race(o));return vv(t),e}finally{n()}})(r,a)),Pv=e=>{let{type:t,actionCreator:r,matcher:a,predicate:n,effect:o}=e;if(t)n=Gb(t).match;else if(r)t=r.type,n=r.match;else if(a)n=a;else if(!n)throw new Error(_v(21));return gv(o),{predicate:n,type:t,effect:o}},Ov=Nv(e=>{const{type:t,predicate:r,effect:a}=Pv(e);return{id:ev(),effect:a,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(_v(22))}}},{withTypes:()=>Ov}),Iv=(e,t)=>{const{type:r,effect:a,predicate:n}=Pv(t);return Array.from(e.values()).find(e=>("string"==typeof r?e.type===r:e.predicate===n)&&e.effect===a)},Av=e=>{e.pending.forEach(e=>{e.abort(pv)})},Dv=(e,t,r)=>{try{e(t,r)}catch(a){setTimeout(()=>{throw a},0)}},Mv=Nv(Gb(`${Cv}/add`),{withTypes:()=>Mv}),Tv=Gb(`${Cv}/removeAll`),Fv=Nv(Gb(`${Cv}/remove`),{withTypes:()=>Fv}),zv=(...e)=>{console.error(`${Cv}/error`,...e)},Rv=(e={})=>{const t=new Map,r=new Map,{extra:a,onError:n=zv}=e;gv(n);const o=e=>{var r;return(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),null!=t&&t.cancelActive&&Av(e)}))(null!==(r=Iv(t,e))&&void 0!==r?r:Ov(e))};Nv(o,{withTypes:()=>o});const i=e=>{const r=Iv(t,e);return r&&(r.unsubscribe(),e.cancelActive&&Av(r)),!!r};Nv(i,{withTypes:()=>i});const s=async(e,i,s,l)=>{const c=new AbortController,d=Ev(o,c.signal),u=[];try{e.pending.add(c),(e=>{var t;const a=null!==(t=r.get(e))&&void 0!==t?t:0;r.set(e,a+1)})(e),await Promise.resolve(e.effect(i,Nv({},s,{getOriginalState:l,condition:(e,t)=>d(e,t).then(Boolean),take:d,delay:jv(c.signal),pause:wv(c.signal),extra:a,signal:c.signal,fork:Sv(c.signal,u),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,r)=>{e!==c&&(e.abort(pv),r.delete(e))})},cancel:()=>{c.abort(pv),e.pending.delete(c)},throwIfCancelled:()=>{vv(c.signal)}})))}catch(p){p instanceof mv||Dv(n,p,{raisedBy:"effect"})}finally{await Promise.all(u),c.abort(hv),(e=>{var t;const a=null!==(t=r.get(e))&&void 0!==t?t:1;1===a?r.delete(e):r.set(e,a-1)})(e),e.pending.delete(c)}},l=((e,t)=>()=>{for(const e of t.keys())Av(e);e.clear()})(t,r);return{middleware:e=>r=>a=>{if(!Ef(a))return r(a);if(Mv.match(a))return o(a.payload);if(Tv.match(a))return void l();if(Fv.match(a))return i(a.payload);let c=e.getState();const d=()=>{if(c===kv)throw new Error(_v(23));return c};let u;try{if(u=r(a),t.size>0){const r=e.getState(),o=Array.from(t.values());for(const t of o){let o=!1;try{o=t.predicate(a,r,c)}catch(p){o=!1,Dv(n,p,{raisedBy:"predicate"})}o&&s(t,a,e,d)}}}finally{c=kv}return u},startListening:o,stopListening:i,clearListeners:l}};function _v(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Lv=ov({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,a,n,o;e.margin.top=null!==(r=t.payload.top)&&void 0!==r?r:0,e.margin.right=null!==(a=t.payload.right)&&void 0!==a?a:0,e.margin.bottom=null!==(n=t.payload.bottom)&&void 0!==n?n:0,e.margin.left=null!==(o=t.payload.left)&&void 0!==o?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:$v,setLayout:Uv,setChartSize:Bv,setScale:Vv}=Lv.actions,Gv=Lv.reducer;function qv(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Hv(e){return Number.isFinite(e)}function Wv(e){return"number"==typeof e&&e>0&&Number.isFinite(e)}function Kv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Jv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kv(Object(r),!0).forEach(function(t){Yv(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kv(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Yv(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xv(e,t,r){return Nm(e)||Nm(t)?r:xm(t)?cm(e,t,r):"function"==typeof t?t(e):r}var Qv=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,Zv=(e,t,r,a)=>{if(a)return e.map(e=>e.coordinate);var n,o,i=e.map(e=>(e.coordinate===t&&(n=!0),e.coordinate===r&&(o=!0),e.coordinate));return n||i.push(t),o||i.push(r),i},ey=(e,t,r)=>{if(!e)return null;var{duplicateDomain:a,type:n,range:o,scale:i,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:u,niceTicks:p,axisType:h}=e;if(!i)return null;var m="scaleBand"===s&&i.bandwidth?i.bandwidth()/2:2,g="category"===n&&i.bandwidth?i.bandwidth()/m:0;return g="angleAxis"===h&&o&&o.length>=2?2*pm(o[0]-o[1])*g:g,u||p?(u||p||[]).map((e,t)=>{var r=a?a.indexOf(e):e;return{coordinate:i(r)+g,value:e,offset:g,index:t}}).filter(e=>!hm(e.coordinate)):l&&c?c.map((e,t)=>({coordinate:i(e)+g,value:e,index:t,offset:g})):i.ticks&&null!=d?i.ticks(d).map((e,t)=>({coordinate:i(e)+g,value:e,offset:g,index:t})):i.domain().map((e,t)=>({coordinate:i(e)+g,value:a?a[e]:e,index:t,offset:g}))},ty=1e-4,ry={sign:e=>{var t,r=e.length;if(!(r<=0)){var a=null===(t=e[0])||void 0===t?void 0:t.length;if(!(null==a||a<=0))for(var n=0;n<a;++n)for(var o=0,i=0,s=0;s<r;++s){var l=e[s],c=null==l?void 0:l[n];if(null!=c){var d=c[1],u=c[0],p=hm(d)?u:d;p>=0?(c[0]=o,c[1]=o+p,o=d):(c[0]=i,c[1]=i+p,i=d)}}}},expand:function(e,t){if((a=e.length)>0){for(var r,a,n,o=0,i=e[0].length;o<i;++o){for(n=r=0;r<a;++r)n+=e[r][o][1]||0;if(n)for(r=0;r<a;++r)e[r][o][1]/=n}_h(e,t)}},none:_h,silhouette:function(e,t){if((r=e.length)>0){for(var r,a=0,n=e[t[0]],o=n.length;a<o;++a){for(var i=0,s=0;i<r;++i)s+=e[i][a][1]||0;n[a][1]+=n[a][0]=-s/2}_h(e,t)}},wiggle:function(e,t){if((n=e.length)>0&&(a=(r=e[t[0]]).length)>0){for(var r,a,n,o=0,i=1;i<a;++i){for(var s=0,l=0,c=0;s<n;++s){for(var d=e[t[s]],u=d[i][1]||0,p=(u-(d[i-1][1]||0))/2,h=0;h<s;++h){var m=e[t[h]];p+=(m[i][1]||0)-(m[i-1][1]||0)}l+=u,c+=p*u}r[i-1][1]+=r[i-1][0]=o,l&&(o-=c/l)}r[i-1][1]+=r[i-1][0]=o,_h(e,t)}},positive:e=>{var t,r=e.length;if(!(r<=0)){var a=null===(t=e[0])||void 0===t?void 0:t.length;if(!(null==a||a<=0))for(var n=0;n<a;++n)for(var o=0,i=0;i<r;++i){var s=e[i],l=null==s?void 0:s[n];if(null!=l){var c=hm(l[1])?l[0]:l[1];c>=0?(l[0]=o,l[1]=o+c,o=l[1]):(l[0]=0,l[1]=0)}}}}},ay=(e,t,r)=>{var a,n=null!==(a=ry[r])&&void 0!==a?a:_h,o=function(){var e=_p([]),t=Lh,r=_h,a=$h;function n(n){var o,i,s=Array.from(e.apply(this,arguments),Uh),l=s.length,c=-1;for(const e of n)for(o=0,++c;o<l;++o)(s[o][c]=[0,+a(e,s[o].key,c,n)]).data=e;for(o=0,i=Xp(t(s));o<l;++o)s[i[o]].index=o;return r(s,i),s}return n.keys=function(t){return arguments.length?(e="function"==typeof t?t:_p(Array.from(t)),n):e},n.value=function(e){return arguments.length?(a="function"==typeof e?e:_p(+e),n):a},n.order=function(e){return arguments.length?(t=null==e?Lh:"function"==typeof e?e:_p(Array.from(e)),n):t},n.offset=function(e){return arguments.length?(r=null==e?_h:e,n):r},n}().keys(t).value((e,t)=>Number(Xv(e,t,0))).order(Lh).offset(n),i=o(e);return i.forEach((r,a)=>{r.forEach((r,n)=>{var o=Xv(e[n],t[a],0);Array.isArray(o)&&2===o.length&&gm(o[0])&&gm(o[1])&&(r[0]=o[0],r[1]=o[1])})}),i};function ny(e){var{axis:t,ticks:r,bandSize:a,entry:n,index:o,dataKey:i}=e;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Nm(n[t.dataKey])){var s=jm(r,"value",n[t.dataKey]);if(s)return s.coordinate+a/2}return r[o]?r[o].coordinate+a/2:null}var l=Xv(n,Nm(i)?t.dataKey:i);return Nm(l)?null:t.scale(l)}var oy=(e,t,r)=>{var a;if(null!=e)return a=Object.keys(e).reduce((a,n)=>{var o=e[n];if(!o)return a;var{stackedData:i}=o,s=i.reduce((e,a)=>{var n=(e=>{var t=e.flat(2).filter(gm);return[Math.min(...t),Math.max(...t)]})(qv(a,t,r));return Hv(n[0])&&Hv(n[1])?[Math.min(e[0],n[0]),Math.max(e[1],n[1])]:e},[1/0,-1/0]);return[Math.min(s[0],a[0]),Math.max(s[1],a[1])]},[1/0,-1/0]),[a[0]===1/0?0:a[0],a[1]===-1/0?0:a[1]]},iy=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sy=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ly=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!r||a>0)return a}if(e&&t&&t.length>=2){for(var n=mf(t,e=>e.coordinate),o=1/0,i=1,s=n.length;i<s;i++){var l=n[i],c=n[i-1];o=Math.min(((null==l?void 0:l.coordinate)||0)-((null==c?void 0:c.coordinate)||0),o)}return o===1/0?0:o}return r?void 0:0};function cy(e){var{tooltipEntrySettings:t,dataKey:r,payload:a,value:n,name:o}=e;return Jv(Jv({},t),{},{dataKey:r,payload:a,value:n,name:o})}function dy(e,t){return e?String(e):"string"==typeof t?t:void 0}var uy=e=>e.layout.width,py=e=>e.layout.height,hy=e=>e.layout.scale,my=e=>e.layout.margin,gy=Bx(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),xy=Bx(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),fy="data-recharts-item-index",by="data-recharts-item-id";function vy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function yy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vy(Object(r),!0).forEach(function(t){wy(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vy(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function wy(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jy,Ny,ky,Cy,Sy,Ey=Bx([uy,py,my,e=>e.brush.height,function(e){return xy(e).reduce((e,t)=>"left"!==t.orientation||t.mirror||t.hide?e:e+("number"==typeof t.width?t.width:60),0)},function(e){return xy(e).reduce((e,t)=>"right"!==t.orientation||t.mirror||t.hide?e:e+("number"==typeof t.width?t.width:60),0)},function(e){return gy(e).reduce((e,t)=>"top"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},function(e){return gy(e).reduce((e,t)=>"bottom"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},gf,e=>e.legend.size],(e,t,r,a,n,o,i,s,l,c)=>{var d={left:(r.left||0)+n,right:(r.right||0)+o},u=yy(yy({},{top:(r.top||0)+i,bottom:(r.bottom||0)+s}),d),p=u.bottom;u.bottom+=a,u=((e,t,r)=>{if(t&&r){var{width:a,height:n}=r,{align:o,verticalAlign:i,layout:s}=t;if(("vertical"===s||"horizontal"===s&&"middle"===i)&&"center"!==o&&gm(e[o]))return Jv(Jv({},e),{},{[o]:e[o]+(a||0)});if(("horizontal"===s||"vertical"===s&&"center"===o)&&"middle"!==i&&gm(e[i]))return Jv(Jv({},e),{},{[i]:e[i]+(n||0)})}return e})(u,l,c);var h=e-u.left-u.right,m=t-u.top-u.bottom;return yy(yy({brushBottom:p},u),{},{width:Math.max(h,0),height:Math.max(m,0)})}),Py=Bx(Ey,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Oy=Bx(uy,py,(e,t)=>({x:0,y:0,width:e,height:t})),Iy=W.createContext(null),Ay=()=>null!=W.useContext(Iy),Dy=e=>e.brush,My=Bx([Dy,Ey,my],(e,t,r)=>({height:e.height,x:gm(e.x)?e.x:t.left,y:gm(e.y)?e.y:t.top+t.height+t.brushBottom-((null==r?void 0:r.bottom)||0),width:gm(e.width)?e.width:t.width})),Ty={},Fy={},zy={};function Ry(){return jy||(jy=1,e=zy,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.debounce=function(e,t,{signal:r,edges:a}={}){let n,o=null;const i=null!=a&&a.includes("leading"),s=null==a||a.includes("trailing"),l=()=>{null!==o&&(e.apply(n,o),n=void 0,o=null)};let c=null;const d=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,s&&l(),u()},t)},u=()=>{null!==c&&(clearTimeout(c),c=null),n=void 0,o=null},p=function(...e){if(null!=r&&r.aborted)return;n=this,o=e;const t=null==c;d(),i&&t&&l()};return p.schedule=d,p.cancel=u,p.flush=()=>{l()},null==r||r.addEventListener("abort",u,{once:!0}),p}),zy;var e}function _y(){return Ny||(Ny=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ry();e.debounce=function(e,r=0,a={}){"object"!=typeof a&&(a={});const{leading:n=!1,trailing:o=!0,maxWait:i}=a,s=Array(2);let l;n&&(s[0]="leading"),o&&(s[1]="trailing");let c=null;const d=t.debounce(function(...t){l=e.apply(this,t),c=null},r,{edges:s}),u=function(...t){return null!=i&&(null===c&&(c=Date.now()),Date.now()-c>=i)?(l=e.apply(this,t),c=Date.now(),d.cancel(),d.schedule(),l):(d.apply(this,t),l)};return u.cancel=d.cancel,u.flush=()=>(d.flush(),l),u}}(Fy)),Fy}function Ly(){return ky||(ky=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_y();e.throttle=function(e,r=0,a={}){const{leading:n=!0,trailing:o=!0}=a;return t.debounce(e,r,{leading:n,maxWait:r,trailing:o})}}(Ty)),Ty}function $y(){return Sy?Cy:(Sy=1,Cy=Ly().throttle)}const Uy=F($y());var By=function(e,t){for(var r=arguments.length,a=new Array(r>2?r-2:0),n=2;n<r;n++)a[n-2]=arguments[n];if("undefined"!=typeof console&&console.warn&&(void 0===t&&console.warn("LogUtils requires an error message argument"),!e))if(void 0===t)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(t.replace(/%s/g,()=>a[o++]))}},Vy=(e,t,r)=>{var{width:a="100%",height:n="100%",aspect:o,maxHeight:i}=r,s=mm(a)?e:Number(a),l=mm(n)?t:Number(n);return o&&o>0&&(s?l=s/o:l&&(s=l*o),i&&null!=l&&l>i&&(l=i)),{calculatedWidth:s,calculatedHeight:l}},Gy={width:0,height:0,overflow:"visible"},qy={width:0,overflowX:"visible"},Hy={height:0,overflowY:"visible"},Wy={},Ky=e=>{var{width:t,height:r}=e,a=mm(t),n=mm(r);return a&&n?Gy:a?qy:n?Hy:Wy};function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Jy.apply(null,arguments)}function Yy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Xy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yy(Object(r),!0).forEach(function(t){Qy(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yy(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Qy(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Zy=W.createContext({width:-1,height:-1});function ew(e){var{children:t,width:r,height:a}=e,n=W.useMemo(()=>({width:r,height:a}),[r,a]);return function(e){return Wv(e.width)&&Wv(e.height)}(n)?W.createElement(Zy.Provider,{value:n},t):null}var tw=()=>W.useContext(Zy),rw=W.forwardRef((e,t)=>{var{aspect:r,initialDimension:a={width:-1,height:-1},width:n,height:o,minWidth:i=0,minHeight:s,maxHeight:l,children:c,debounce:d=0,id:u,className:p,onResize:h,style:m={}}=e,g=W.useRef(null),x=W.useRef();x.current=h,W.useImperativeHandle(t,()=>g.current);var[f,b]=W.useState({containerWidth:a.width,containerHeight:a.height}),v=W.useCallback((e,t)=>{b(r=>{var a=Math.round(e),n=Math.round(t);return r.containerWidth===a&&r.containerHeight===n?r:{containerWidth:a,containerHeight:n}})},[]);W.useEffect(()=>{if(null==g.current||"undefined"==typeof ResizeObserver)return Sm;var e=e=>{var t,{width:r,height:a}=e[0].contentRect;v(r,a),null===(t=x.current)||void 0===t||t.call(x,r,a)};d>0&&(e=Uy(e,d,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:r,height:a}=g.current.getBoundingClientRect();return v(r,a),t.observe(g.current),()=>{t.disconnect()}},[v,d]);var{containerWidth:y,containerHeight:w}=f;By(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:j,calculatedHeight:N}=Vy(y,w,{width:n,height:o,aspect:r,maxHeight:l});return By(null!=j&&j>0||null!=N&&N>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",j,N,n,o,i,s,r),W.createElement("div",{id:u?"".concat(u):void 0,className:ws("recharts-responsive-container",p),style:Xy(Xy({},m),{},{width:n,height:o,minWidth:i,minHeight:s,maxHeight:l}),ref:g},W.createElement("div",{style:Ky({width:n,height:o})},W.createElement(ew,{width:j,height:N},c)))}),aw=W.forwardRef((e,t)=>{var r=tw();if(Wv(r.width)&&Wv(r.height))return e.children;var{width:a,height:n}=function(e){var{width:t,height:r,aspect:a}=e,n=t,o=r;return void 0===n&&void 0===o?(n="100%",o="100%"):void 0===n?n=a&&a>0?void 0:"100%":void 0===o&&(o=a&&a>0?void 0:"100%"),{width:n,height:o}}({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:i}=Vy(void 0,void 0,{width:a,height:n,aspect:e.aspect,maxHeight:e.maxHeight});return gm(o)&&gm(i)?W.createElement(ew,{width:o,height:i},e.children):W.createElement(rw,Jy({},e,{width:a,height:n,ref:t}))});function nw(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var ow=()=>{var e,t=Ay(),r=Tx(Py),a=Tx(My),n=null===(e=Tx(Dy))||void 0===e?void 0:e.padding;return t&&a&&n?{width:a.width-n.left-n.right,height:a.height-n.top-n.bottom,x:n.left,y:n.top}:r},iw={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},sw=()=>{var e;return null!==(e=Tx(Ey))&&void 0!==e?e:iw},lw=()=>Tx(uy),cw=()=>Tx(py),dw=e=>e.layout.layoutType,uw=()=>Tx(dw),pw=e=>{var t=Ix(),r=Ay(),{width:a,height:n}=e,o=tw(),i=a,s=n;return o&&(i=o.width>0?o.width:a,s=o.height>0?o.height:n),W.useEffect(()=>{!r&&Wv(i)&&Wv(s)&&t(Bv({width:i,height:s}))},[t,r,i,s]),null},hw=Symbol.for("immer-nothing"),mw=Symbol.for("immer-draftable"),gw=Symbol.for("immer-state");function xw(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var fw=Object.getPrototypeOf;function bw(e){return!!e&&!!e[gw]}function vw(e){var t;return!!e&&(jw(e)||Array.isArray(e)||!!e[mw]||!(null===(t=e.constructor)||void 0===t||!t[mw])||Ew(e)||Pw(e))}var yw=Object.prototype.constructor.toString(),ww=new WeakMap;function jw(e){if(!e||"object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);if(null===t||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if("function"!=typeof r)return!1;let a=ww.get(r);return void 0===a&&(a=Function.toString.call(r),ww.set(r,a)),a===yw}function Nw(e,t,r=!0){if(0===kw(e)){(r?Reflect.ownKeys(e):Object.keys(e)).forEach(r=>{t(r,e[r],e)})}else e.forEach((r,a)=>t(a,r,e))}function kw(e){const t=e[gw];return t?t.type_:Array.isArray(e)?1:Ew(e)?2:Pw(e)?3:0}function Cw(e,t){return 2===kw(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Sw(e,t,r){const a=kw(e);2===a?e.set(t,r):3===a?e.add(r):e[t]=r}function Ew(e){return e instanceof Map}function Pw(e){return e instanceof Set}function Ow(e){return e.copy_||e.base_}function Iw(e,t){if(Ew(e))return new Map(e);if(Pw(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=jw(e);if(!0===t||"class_only"===t&&!r){const t=Object.getOwnPropertyDescriptors(e);delete t[gw];let r=Reflect.ownKeys(t);for(let a=0;a<r.length;a++){const n=r[a],o=t[n];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[n]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[n]})}return Object.create(fw(e),t)}{const t=fw(e);if(null!==t&&r)return{...e};const a=Object.create(t);return Object.assign(a,e)}}function Aw(e,t=!1){return Mw(e)||bw(e)||!vw(e)||(kw(e)>1&&Object.defineProperties(e,{set:Dw,add:Dw,clear:Dw,delete:Dw}),Object.freeze(e),t&&Object.values(e).forEach(e=>Aw(e,!0))),e}var Dw={value:function(){xw(2)}};function Mw(e){return null===e||"object"!=typeof e||Object.isFrozen(e)}var Tw,Fw={};function zw(e){const t=Fw[e];return t||xw(0),t}function Rw(){return Tw}function _w(e,t){t&&(zw("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Lw(e){$w(e),e.drafts_.forEach(Bw),e.drafts_=null}function $w(e){e===Tw&&(Tw=e.parent_)}function Uw(e){return Tw={drafts_:[],parent_:Tw,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Bw(e){const t=e[gw];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Vw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return void 0!==e&&e!==r?(r[gw].modified_&&(Lw(t),xw(4)),vw(e)&&(e=Gw(t,e),t.parent_||Hw(t,e)),t.patches_&&zw("Patches").generateReplacementPatches_(r[gw].base_,e,t.patches_,t.inversePatches_)):e=Gw(t,r,[]),Lw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==hw?e:void 0}function Gw(e,t,r){if(Mw(t))return t;const a=e.immer_.shouldUseStrictIteration(),n=t[gw];if(!n)return Nw(t,(a,o)=>qw(e,n,t,a,o,r),a),t;if(n.scope_!==e)return t;if(!n.modified_)return Hw(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const t=n.copy_;let o=t,i=!1;3===n.type_&&(o=new Set(t),t.clear(),i=!0),Nw(o,(a,o)=>qw(e,n,t,a,o,r,i),a),Hw(e,t,!1),r&&e.patches_&&zw("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function qw(e,t,r,a,n,o,i){if(null==n)return;if("object"!=typeof n&&!i)return;const s=Mw(n);if(!s||i){if(bw(n)){const i=Gw(e,n,o&&t&&3!==t.type_&&!Cw(t.assigned_,a)?o.concat(a):void 0);if(Sw(r,a,i),!bw(i))return;e.canAutoFreeze_=!1}else i&&r.add(n);if(vw(n)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;if(t&&t.base_&&t.base_[a]===n&&s)return;Gw(e,n),t&&t.scope_.parent_||"symbol"==typeof a||!(Ew(r)?r.has(a):Object.prototype.propertyIsEnumerable.call(r,a))||Hw(e,n)}}}function Hw(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Aw(t,r)}var Ww={get(e,t){if(t===gw)return e;const r=Ow(e);if(!Cw(r,t))return function(e,t,r){var a;const n=Yw(t,r);return n?"value"in n?n.value:null===(a=n.get)||void 0===a?void 0:a.call(e.draft_):void 0}(e,r,t);const a=r[t];return e.finalized_||!vw(a)?a:a===Jw(e.base_,t)?(Qw(e),e.copy_[t]=Zw(a,e)):a},has:(e,t)=>t in Ow(e),ownKeys:e=>Reflect.ownKeys(Ow(e)),set(e,t,r){const a=Yw(Ow(e),t);if(null!=a&&a.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const a=Jw(Ow(e),t),n=null==a?void 0:a[gw];if(n&&n.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,a)&&(void 0!==r||Cw(e.base_,t)))return!0;Qw(e),Xw(e)}return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Jw(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Qw(e),Xw(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=Ow(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:a.enumerable,value:r[t]}:a},defineProperty(){xw(11)},getPrototypeOf:e=>fw(e.base_),setPrototypeOf(){xw(12)}},Kw={};function Jw(e,t){const r=e[gw];return(r?Ow(r):e)[t]}function Yw(e,t){if(!(t in e))return;let r=fw(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=fw(r)}}function Xw(e){e.modified_||(e.modified_=!0,e.parent_&&Xw(e.parent_))}function Qw(e){e.copy_||(e.copy_=Iw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Nw(Ww,(e,t)=>{Kw[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Kw.deleteProperty=function(e,t){return Kw.set.call(this,e,t,void 0)},Kw.set=function(e,t,r){return Ww.set.call(this,e[0],t,r,e[0])};function Zw(e,t){const r=Ew(e)?zw("MapSet").proxyMap_(e,t):Pw(e)?zw("MapSet").proxySet_(e,t):function(e,t){const r=Array.isArray(e),a={type_:r?1:0,scope_:t?t.scope_:Rw(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=a,o=Ww;r&&(n=[a],o=Kw);const{revoke:i,proxy:s}=Proxy.revocable(n,o);return a.draft_=s,a.revoke_=i,s}(e,t);return(t?t.scope_:Rw()).drafts_.push(r),r}function ej(e){if(!vw(e)||Mw(e))return e;const t=e[gw];let r,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Iw(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else r=Iw(e,!0);return Nw(r,(e,t)=>{Sw(r,e,ej(t))},a),t&&(t.finalized_=!1),r}var tj=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,r)=>{if("function"==typeof e&&"function"!=typeof t){const r=t;t=e;const a=this;return function(e=r,...n){return a.produce(e,e=>t.call(this,e,...n))}}let a;if("function"!=typeof t&&xw(6),void 0!==r&&"function"!=typeof r&&xw(7),vw(e)){const n=Uw(this),o=Zw(e,void 0);let i=!0;try{a=t(o),i=!1}finally{i?Lw(n):$w(n)}return _w(n,r),Vw(a,n)}if(!e||"object"!=typeof e){if(a=t(e),void 0===a&&(a=e),a===hw&&(a=void 0),this.autoFreeze_&&Aw(a,!0),r){const t=[],n=[];zw("Patches").generateReplacementPatches_(e,a,t,n),r(t,n)}return a}xw(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...r)=>this.produceWithPatches(t,t=>e(t,...r));let r,a;const n=this.produce(e,t,(e,t)=>{r=e,a=t});return[n,r,a]},"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),"boolean"==typeof(null==e?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){vw(e)||xw(8),bw(e)&&(e=function(e){bw(e)||xw(10);return ej(e)}(e));const t=Uw(this),r=Zw(e,void 0);return r[gw].isManual_=!0,$w(t),r}finishDraft(e,t){const r=e&&e[gw];r&&r.isManual_||xw(9);const{scope_:a}=r;return _w(a,t),Vw(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(0===a.path.length&&"replace"===a.op){e=a.value;break}}r>-1&&(t=t.slice(r+1));const a=zw("Patches").applyPatches_;return bw(e)?a(e,t):this.produce(e,e=>a(e,t))}};tj.produce;var rj=ov({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Jb()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:a}=t.payload,n=zb(e).payload.indexOf(r);n>-1&&(e.payload[n]=a)},prepare:Jb()},removeLegendPayload:{reducer(e,t){var r=zb(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Jb()}}}),{setLegendSize:aj,setLegendSettings:nj,addLegendPayload:oj,replaceLegendPayload:ij,removeLegendPayload:sj}=rj.actions,lj=rj.reducer;function cj(){return cj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},cj.apply(null,arguments)}function dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function uj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dj(Object(r),!0).forEach(function(t){pj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function pj(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hj(e){return Array.isArray(e)&&xm(e[0])&&xm(e[1])?e.join(" ~ "):e}var mj=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:a={},labelStyle:n={},payload:o,formatter:i,itemSorter:s,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:u,accessibilityLayer:p=!1}=e,h=uj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),m=uj({margin:0},n),g=!Nm(d),x=g?d:"",f=ws("recharts-default-tooltip",l),b=ws("recharts-tooltip-label",c);g&&u&&null!=o&&(x=u(d,o));var v=p?{role:"status","aria-live":"assertive"}:{};return W.createElement("div",cj({className:f,style:h},v),W.createElement("p",{className:b,style:m},W.isValidElement(x)?x:"".concat(x)),(()=>{if(o&&o.length){var e=(s?mf(o,s):o).map((e,r)=>{if("none"===e.type)return null;var n=e.formatter||i||hj,{value:s,name:l}=e,c=s,d=l;if(n){var u=n(s,l,e,r,o);if(Array.isArray(u))[c,d]=u;else{if(null==u)return null;c=u}}var p=uj({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},a);return W.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(r),style:p},xm(d)?W.createElement("span",{className:"recharts-tooltip-item-name"},d):null,xm(d)?W.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,W.createElement("span",{className:"recharts-tooltip-item-value"},c),W.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return W.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},gj="recharts-tooltip-wrapper",xj={visibility:"hidden"};function fj(e){var{coordinate:t,translateX:r,translateY:a}=e;return ws(gj,{["".concat(gj,"-right")]:gm(r)&&t&&gm(t.x)&&r>=t.x,["".concat(gj,"-left")]:gm(r)&&t&&gm(t.x)&&r<t.x,["".concat(gj,"-bottom")]:gm(a)&&t&&gm(t.y)&&a>=t.y,["".concat(gj,"-top")]:gm(a)&&t&&gm(t.y)&&a<t.y})}function bj(e){var{allowEscapeViewBox:t,coordinate:r,key:a,offsetTopLeft:n,position:o,reverseDirection:i,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(o&&gm(o[a]))return o[a];var d=r[a]-s-(n>0?n:0),u=r[a]+n;if(t[a])return i[a]?d:u;var p=l[a];return null==p?0:i[a]?d<p?Math.max(u,p):Math.max(d,p):null==c?0:u+s>p+c?Math.max(d,p):Math.max(u,p)}function vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function yj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vj(Object(r),!0).forEach(function(t){wj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function wj(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class jj extends W.PureComponent{constructor(){super(...arguments),wj(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),wj(this,"handleKeyDown",e=>{var t,r,a,n;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(r=this.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==t?t:0,y:null!==(a=null===(n=this.props.coordinate)||void 0===n?void 0:n.y)&&void 0!==a?a:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:t,animationDuration:r,animationEasing:a,children:n,coordinate:o,hasPayload:i,isAnimationActive:s,offset:l,position:c,reverseDirection:d,useTranslate3d:u,viewBox:p,wrapperStyle:h,lastBoundingBox:m,innerRef:g,hasPortalFromProps:x}=this.props,{cssClasses:f,cssProperties:b}=function(e){var t,r,a,{allowEscapeViewBox:n,coordinate:o,offsetTopLeft:i,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:d,viewBox:u}=e;return t=c.height>0&&c.width>0&&o?function(e){var{translateX:t,translateY:r,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:r=bj({allowEscapeViewBox:n,coordinate:o,key:"x",offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:u,viewBoxDimension:u.width}),translateY:a=bj({allowEscapeViewBox:n,coordinate:o,key:"y",offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:d}):xj,{cssProperties:t,cssClasses:fj({translateX:r,translateY:a,coordinate:o})}}({allowEscapeViewBox:t,coordinate:o,offsetTopLeft:l,position:c,reverseDirection:d,tooltipBox:{height:m.height,width:m.width},useTranslate3d:u,viewBox:p}),v=x?{}:yj(yj({transition:s&&e?"transform ".concat(r,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&i?"visible":"hidden",position:"absolute",top:0,left:0}),y=yj(yj({},v),{},{visibility:!this.state.dismissed&&e&&i?"visible":"hidden"},h);return W.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:f,style:y,ref:g},n)}}var Nj=()=>{var e;return null===(e=Tx(e=>e.rootProps.accessibilityLayer))||void 0===e||e};function kj(){return kj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},kj.apply(null,arguments)}function Cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Sj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cj(Object(r),!0).forEach(function(t){Ej(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ej(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Pj={curveBasisClosed:function(e){return new Ch(e)},curveBasisOpen:function(e){return new Sh(e)},curveBasis:function(e){return new kh(e)},curveBumpX:function(e){return new nh(e,!0)},curveBumpY:function(e){return new nh(e,!1)},curveLinearClosed:function(e){return new Eh(e)},curveLinear:Zp,curveMonotoneX:function(e){return new Dh(e)},curveMonotoneY:function(e){return new Mh(e)},curveNatural:function(e){return new Fh(e)},curveStep:function(e){return new Rh(e,.5)},curveStepAfter:function(e){return new Rh(e,1)},curveStepBefore:function(e){return new Rh(e,0)}},Oj=e=>Hv(e.x)&&Hv(e.y),Ij=e=>null!=e.base&&Oj(e.base)&&Oj(e),Aj=e=>e.x,Dj=e=>e.y,Mj=e=>{var t,{type:r="linear",points:a=[],baseLine:n,layout:o,connectNulls:i=!1}=e,s=((e,t)=>{if("function"==typeof e)return e;var r="curve".concat(km(e));return"curveMonotone"!==r&&"curveBump"!==r||!t?Pj[r]||Zp:Pj["".concat(r).concat("vertical"===t?"Y":"X")]})(r,o),l=i?a.filter(Oj):a;if(Array.isArray(n)){var c=a.map((e,t)=>Sj(Sj({},e),{},{base:n[t]}));return t="vertical"===o?ah().y(Dj).x1(Aj).x0(e=>e.base.x):ah().x(Aj).y1(Dj).y0(e=>e.base.y),t.defined(Ij).curve(s)(i?c.filter(Ij):c)}return(t="vertical"===o&&gm(n)?ah().y(Dj).x1(Aj).x0(n):gm(n)?ah().x(Aj).y1(Dj).y0(n):rh().x(Aj).y(Dj)).defined(Oj).curve(s)(l)},Tj=e=>{var{className:t,points:r,path:a,pathRef:n}=e,o=uw();if(!(r&&r.length||a))return null;var i={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||o,connectNulls:e.connectNulls},s=r&&r.length?Mj(i):a;return W.createElement("path",kj({},Pp(e),zm(e),{className:ws("recharts-curve",t),d:null===s?void 0:s,ref:n}))},Fj=["x","y","top","left","width","height","className"];function zj(){return zj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},zj.apply(null,arguments)}function Rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function _j(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Lj=(e,t,r,a,n,o)=>"M".concat(e,",").concat(n,"v").concat(a,"M").concat(o,",").concat(t,"h").concat(r),$j=e=>{var{x:t=0,y:r=0,top:a=0,left:n=0,width:o=0,height:i=0,className:s}=e,l=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,Fj),c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rj(Object(r),!0).forEach(function(t){_j(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({x:t,y:r,top:a,left:n,width:o,height:i},l);return gm(t)&&gm(r)&&gm(o)&&gm(i)&&gm(a)&&gm(n)?W.createElement("path",zj({},Ip(c),{className:ws("recharts-cross",s),d:Lj(t,r,o,i,a,n)})):null};function Uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Bj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uj(Object(r),!0).forEach(function(t){Vj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Vj(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Gj=(e,t,r)=>e.map(e=>{return"".concat((a=e,a.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(r);var a}).join(","),qj=(e,t)=>Object.keys(t).reduce((r,a)=>Bj(Bj({},r),{},{[a]:e(a,t[a])}),{});function Hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Wj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hj(Object(r),!0).forEach(function(t){Kj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Kj(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Jj=(e,t,r)=>e+(t-e)*r,Yj=e=>{var{from:t,to:r}=e;return t!==r},Xj=(e,t,r)=>{var a=qj((t,r)=>{if(Yj(r)){var[a,n]=e(r.from,r.to,r.velocity);return Wj(Wj({},r),{},{from:a,velocity:n})}return r},t);return r<1?qj((e,t)=>Yj(t)&&null!=a[e]?Wj(Wj({},t),{},{velocity:Jj(t.velocity,a[e].velocity,r),from:Jj(t.from,a[e].from,r)}):t,t):Xj(e,a,r-1)};function Qj(e,t,r,a,n,o){var i,s=a.reduce((r,a)=>Wj(Wj({},r),{},{[a]:{from:e[a],velocity:0,to:t[a]}}),{}),l=null,c=a=>{i||(i=a);var d=(a-i)/r.dt;s=Xj(r,s,d),n(Wj(Wj(Wj({},e),t),qj((e,t)=>t.from,s))),i=a,Object.values(s).filter(Yj).length&&(l=o.setTimeout(c))};return()=>(l=o.setTimeout(c),()=>{var e;null===(e=l)||void 0===e||e()})}const Zj=(e,t,r,a,n,o)=>{var i,s,l=(i=e,s=t,[Object.keys(i),Object.keys(s)].reduce((e,t)=>e.filter(e=>t.includes(e))));return null==r?()=>(n(Wj(Wj({},e),t)),()=>{}):!0===r.isStepper?Qj(e,t,r,l,n,o):function(e,t,r,a,n,o,i){var s,l=null,c=n.reduce((r,a)=>{var n=e[a],o=t[a];return null==n||null==o?r:Wj(Wj({},r),{},{[a]:[n,o]})},{}),d=n=>{s||(s=n);var u=(n-s)/a,p=qj((e,t)=>Jj(...t,r(u)),c);if(o(Wj(Wj(Wj({},e),t),p)),u<1)l=i.setTimeout(d);else{var h=qj((e,t)=>Jj(...t,r(1)),c);o(Wj(Wj(Wj({},e),t),h))}};return()=>(l=i.setTimeout(d),()=>{var e;null===(e=l)||void 0===e||e()})}(e,t,r,a,l,n,o)};var eN=1e-4,tN=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],rN=(e,t)=>e.map((e,r)=>e*t**r).reduce((e,t)=>e+t),aN=(e,t)=>r=>{var a=tN(e,t);return rN(a,r)},nN=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(1===t.length)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:var a=(e=>{var t,r=e.split("(");if(2!==r.length||"cubic-bezier"!==r[0])return null;var a=null===(t=r[1])||void 0===t||null===(t=t.split(")")[0])||void 0===t?void 0:t.split(",");if(null==a||4!==a.length)return null;var n=a.map(e=>parseFloat(e));return[n[0],n[1],n[2],n[3]]})(t[0]);if(a)return a}return 4===t.length?t:[0,0,1,1]},oN=(e,t,r,a)=>{var n,o,i=aN(e,r),s=aN(t,a),l=(n=e,o=r,e=>{var t=[...tN(n,o).map((e,t)=>e*t).slice(1),0];return rN(t,e)}),c=e=>e>1?1:e<0?0:e,d=e=>{for(var t=e>1?1:e,r=t,a=0;a<8;++a){var n=i(r)-t,o=l(r);if(Math.abs(n-t)<eN||o<eN)return s(r);r=c(r-n/o)}return s(r)};return d.isStepper=!1,d},iN=function(){return oN(...nN(...arguments))},sN=e=>{if("string"==typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return iN(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:r=8,dt:a=17}=e,n=(e,n,o)=>{var i=o+(-(e-n)*t-o*r)*a/1e3,s=o*a/1e3+e;return Math.abs(s-n)<eN&&Math.abs(i)<eN?[n,0]:[s,i]};return n.isStepper=!0,n.dt=a,n}();default:if("cubic-bezier"===e.split("(")[0])return iN(e)}return"function"==typeof e?e:null};class lN{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=performance.now(),a=null,n=o=>{o-r>=t?e(o):"function"==typeof requestAnimationFrame&&(a=requestAnimationFrame(n))};return a=requestAnimationFrame(n),()=>{null!=a&&cancelAnimationFrame(a)}}}function cN(){return function(e){var t=()=>null,r=!1,a=null,n=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var i=o,[s,...l]=i;return"number"==typeof s?void(a=e.setTimeout(n.bind(null,l),s)):(n(s),void(a=e.setTimeout(n.bind(null,l))))}"string"==typeof o&&t(o),"object"==typeof o&&t(o),"function"==typeof o&&o()}};return{stop:()=>{r=!0},start:e=>{r=!1,a&&(a(),a=null),n(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}(new lN)}var dN=W.createContext(cN);var uN=!("undefined"!=typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout),pN={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},hN={t:0},mN={t:1};function gN(e){var t,r,a,n=$m(e,pN),{isActive:o,canBegin:i,duration:s,easing:l,begin:c,onAnimationEnd:d,onAnimationStart:u,children:p}=n,h="auto"===o?!uN:o,m=(t=n.animationId,r=n.animationManager,a=W.useContext(dN),W.useMemo(()=>null!=r?r:a(t),[t,r,a])),[g,x]=W.useState(h?hN:mN),f=W.useRef(null);return W.useEffect(()=>{h||x(mN)},[h]),W.useEffect(()=>{if(!h||!i)return Sm;var e=Zj(hN,mN,sN(l),s,x,m.getTimeoutController());return m.start([u,c,()=>{f.current=e()},s,d]),()=>{m.stop(),f.current&&f.current(),d()}},[h,i,s,l,c,u,d,m]),p(g.t)}function xN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",r=W.useRef(bm(t)),a=W.useRef(e);return a.current!==e&&(r.current=bm(t),a.current=e),r.current}var fN,bN,vN,yN,wN,jN,NN,kN,CN,SN,EN=["radius"],PN=["radius"];function ON(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function IN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ON(Object(r),!0).forEach(function(t){AN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ON(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function AN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DN(){return DN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},DN.apply(null,arguments)}function MN(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function TN(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var FN=(e,t,r,a,n)=>{var o,i=dm(r),s=dm(a),l=Math.min(Math.abs(i)/2,Math.abs(s)/2),c=s>=0?1:-1,d=i>=0?1:-1,u=s>=0&&i>=0||s<0&&i<0?1:0;if(l>0&&n instanceof Array){for(var p=[0,0,0,0],h=0;h<4;h++)p[h]=n[h]>l?l:n[h];o=um(fN||(fN=TN(["M",",",""])),e,t+c*p[0]),p[0]>0&&(o+=um(bN||(bN=TN(["A ",",",",0,0,",",",",",""])),p[0],p[0],u,e+d*p[0],t)),o+=um(vN||(vN=TN(["L ",",",""])),e+r-d*p[1],t),p[1]>0&&(o+=um(yN||(yN=TN(["A ",",",",0,0,",",\n        ",",",""])),p[1],p[1],u,e+r,t+c*p[1])),o+=um(wN||(wN=TN(["L ",",",""])),e+r,t+a-c*p[2]),p[2]>0&&(o+=um(jN||(jN=TN(["A ",",",",0,0,",",\n        ",",",""])),p[2],p[2],u,e+r-d*p[2],t+a)),o+=um(NN||(NN=TN(["L ",",",""])),e+d*p[3],t+a),p[3]>0&&(o+=um(kN||(kN=TN(["A ",",",",0,0,",",\n        ",",",""])),p[3],p[3],u,e,t+a-c*p[3])),o+="Z"}else if(l>0&&n===+n&&n>0){var m=Math.min(l,n);o=um(CN||(CN=TN(["M ",",","\n            A ",",",",0,0,",",",",","\n            L ",",","\n            A ",",",",0,0,",",",",","\n            L ",",","\n            A ",",",",0,0,",",",",","\n            L ",",","\n            A ",",",",0,0,",",",","," Z"])),e,t+c*m,m,m,u,e+d*m,t,e+r-d*m,t,m,m,u,e+r,t+c*m,e+r,t+a-c*m,m,m,u,e+r-d*m,t+a,e+d*m,t+a,m,m,u,e,t+a-c*m)}else o=um(SN||(SN=TN(["M ",","," h "," v "," h "," Z"])),e,t,r,a,-r);return o},zN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RN=e=>{var t=$m(e,zN),r=W.useRef(null),[a,n]=W.useState(-1);W.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&n(e)}catch(t){}},[]);var{x:o,y:i,width:s,height:l,radius:c,className:d}=t,{animationEasing:u,animationDuration:p,animationBegin:h,isAnimationActive:m,isUpdateAnimationActive:g}=t,x=W.useRef(s),f=W.useRef(l),b=W.useRef(o),v=W.useRef(i),y=xN(W.useMemo(()=>({x:o,y:i,width:s,height:l,radius:c}),[o,i,s,l,c]),"rectangle-");if(o!==+o||i!==+i||s!==+s||l!==+l||0===s||0===l)return null;var w=ws("recharts-rectangle",d);if(!g){var j=Ip(t),{radius:N}=j,k=MN(j,EN);return W.createElement("path",DN({},k,{x:dm(o),y:dm(i),width:dm(s),height:dm(l),radius:"number"==typeof c?c:void 0,className:w,d:FN(o,i,s,l,c)}))}var C=x.current,S=f.current,E=b.current,P=v.current,O="0px ".concat(-1===a?1:a,"px"),I="".concat(a,"px 0px"),A=Gj(["strokeDasharray"],p,"string"==typeof u?u:zN.animationEasing);return W.createElement(gN,{animationId:y,key:y,canBegin:a>0,duration:p,easing:u,isActive:g,begin:h},e=>{var a,n=wm(C,s,e),d=wm(S,l,e),u=wm(E,o,e),p=wm(P,i,e);r.current&&(x.current=n,f.current=d,b.current=u,v.current=p),a=m?e>0?{transition:A,strokeDasharray:I}:{strokeDasharray:O}:{strokeDasharray:I};var h=Ip(t),{radius:g}=h,y=MN(h,PN);return W.createElement("path",DN({},y,{radius:"number"==typeof c?c:void 0,className:w,d:FN(u,p,n,d,c),ref:r,style:IN(IN({},a),t.style)}))})};function _N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function LN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_N(Object(r),!0).forEach(function(t){$N(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $N(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var UN,BN,VN,GN,qN,HN,WN,KN=Math.PI/180,JN=e=>180*e/Math.PI,YN=(e,t,r,a)=>({x:e+Math.cos(-KN*a)*r,y:t+Math.sin(-KN*a)*r}),XN=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},QN=(e,t)=>{var{x:r,y:a}=e,{cx:n,cy:o}=t,i=((e,t)=>{var{x:r,y:a}=e,{x:n,y:o}=t;return Math.sqrt((r-n)**2+(a-o)**2)})({x:r,y:a},{x:n,y:o});if(i<=0)return{radius:i,angle:0};var s=(r-n)/i,l=Math.acos(s);return a>o&&(l=2*Math.PI-l),{radius:i,angle:JN(l),angleInRadian:l}},ZN=(e,t)=>{var{startAngle:r,endAngle:a}=t,n=Math.floor(r/360),o=Math.floor(a/360);return e+360*Math.min(n,o)},ek=(e,t)=>{var{chartX:r,chartY:a}=e,{radius:n,angle:o}=QN({x:r,y:a},t),{innerRadius:i,outerRadius:s}=t;if(n<i||n>s)return null;if(0===n)return null;var l,{startAngle:c,endAngle:d}=(e=>{var{startAngle:t,endAngle:r}=e,a=Math.floor(t/360),n=Math.floor(r/360),o=Math.min(a,n);return{startAngle:t-360*o,endAngle:r-360*o}})(t),u=o;if(c<=d){for(;u>d;)u-=360;for(;u<c;)u+=360;l=u>=c&&u<=d}else{for(;u>c;)u-=360;for(;u<d;)u+=360;l=u>=d&&u<=c}return l?LN(LN({},t),{},{radius:n,angle:ZN(u,t)}):null};function tk(e){var{cx:t,cy:r,radius:a,startAngle:n,endAngle:o}=e;return{points:[YN(t,r,a,n),YN(t,r,a,o)],cx:t,cy:r,radius:a,startAngle:n,endAngle:o}}function rk(){return rk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},rk.apply(null,arguments)}function ak(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var nk=e=>{var{cx:t,cy:r,radius:a,angle:n,sign:o,isExternal:i,cornerRadius:s,cornerIsExternal:l}=e,c=s*(i?1:-1)+a,d=Math.asin(s/c)/KN,u=l?n:n+o*d,p=l?n-o*d:n;return{center:YN(t,r,c,u),circleTangency:YN(t,r,a,u),lineTangency:YN(t,r,c*Math.cos(d*KN),p),theta:d}},ok=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:n,startAngle:o,endAngle:i}=e,s=((e,t)=>pm(t-e)*Math.min(Math.abs(t-e),359.999))(o,i),l=o+s,c=YN(t,r,n,o),d=YN(t,r,n,l),u=um(UN||(UN=ak(["M ",",","\n    A ",",",",0,\n    ",",",",\n    ",",","\n  "])),c.x,c.y,n,n,+(Math.abs(s)>180),+(o>l),d.x,d.y);if(a>0){var p=YN(t,r,a,o),h=YN(t,r,a,l);u+=um(BN||(BN=ak(["L ",",","\n            A ",",",",0,\n            ",",",",\n            ",","," Z"])),h.x,h.y,a,a,+(Math.abs(s)>180),+(o<=l),p.x,p.y)}else u+=um(VN||(VN=ak(["L ",","," Z"])),t,r);return u},ik={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},sk=e=>{var t=$m(e,ik),{cx:r,cy:a,innerRadius:n,outerRadius:o,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:d,className:u}=t;if(o<n||c===d)return null;var p,h=ws("recharts-sector",u),m=o-n,g=vm(i,m,0,!0);return p=g>0&&Math.abs(c-d)<360?(e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:n,cornerRadius:o,forceCornerRadius:i,cornerIsExternal:s,startAngle:l,endAngle:c}=e,d=pm(c-l),{circleTangency:u,lineTangency:p,theta:h}=nk({cx:t,cy:r,radius:n,angle:l,sign:d,cornerRadius:o,cornerIsExternal:s}),{circleTangency:m,lineTangency:g,theta:x}=nk({cx:t,cy:r,radius:n,angle:c,sign:-d,cornerRadius:o,cornerIsExternal:s}),f=s?Math.abs(l-c):Math.abs(l-c)-h-x;if(f<0)return i?um(GN||(GN=ak(["M ",",","\n        a",",",",0,0,1,",",0\n        a",",",",0,0,1,",",0\n      "])),p.x,p.y,o,o,2*o,o,o,2*-o):ok({cx:t,cy:r,innerRadius:a,outerRadius:n,startAngle:l,endAngle:c});var b=um(qN||(qN=ak(["M ",",","\n    A",",",",0,0,",",",",","\n    A",",",",0,",",",",",",","\n    A",",",",0,0,",",",",","\n  "])),p.x,p.y,o,o,+(d<0),u.x,u.y,n,n,+(f>180),+(d<0),m.x,m.y,o,o,+(d<0),g.x,g.y);if(a>0){var{circleTangency:v,lineTangency:y,theta:w}=nk({cx:t,cy:r,radius:a,angle:l,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),{circleTangency:j,lineTangency:N,theta:k}=nk({cx:t,cy:r,radius:a,angle:c,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),C=s?Math.abs(l-c):Math.abs(l-c)-w-k;if(C<0&&0===o)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+=um(HN||(HN=ak(["L",",","\n      A",",",",0,0,",",",",","\n      A",",",",0,",",",",",",","\n      A",",",",0,0,",",",",","Z"])),N.x,N.y,o,o,+(d<0),j.x,j.y,a,a,+(C>180),+(d>0),v.x,v.y,o,o,+(d<0),y.x,y.y)}else b+=um(WN||(WN=ak(["L",",","Z"])),t,r);return b})({cx:r,cy:a,innerRadius:n,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:d}):ok({cx:r,cy:a,innerRadius:n,outerRadius:o,startAngle:c,endAngle:d}),W.createElement("path",rk({},Ip(t),{className:h,d:p}))};function lk(e,t,r){if("horizontal"===e)return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if("vertical"===e)return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(Fm(t)){if("centric"===e){var{cx:a,cy:n,innerRadius:o,outerRadius:i,angle:s}=t,l=YN(a,n,o,s),c=YN(a,n,i,s);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return tk(t)}}var ck,dk,uk,pk,hk,mk={},gk={},xk={};function fk(){return ck||(ck=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zx();e.toNumber=function(e){return t.isSymbol(e)?NaN:Number(e)}}(xk)),xk}function bk(){return dk||(dk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fk();e.toFinite=function(e){if(!e)return 0===e?e:0;if((e=t.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e==e?e:0}}(gk)),gk}function vk(){return uk||(uk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uf(),r=bk();e.range=function(e,a,n){n&&"number"!=typeof n&&t.isIterateeCall(e,a,n)&&(a=n=void 0),e=r.toFinite(e),void 0===a?(a=e,e=0):a=r.toFinite(a),n=void 0===n?e<a?1:-1:r.toFinite(n);const o=Math.max(Math.ceil((a-e)/(n||1)),0),i=new Array(o);for(let t=0;t<o;t++)i[t]=e,e+=n;return i}}(mk)),mk}function yk(){return hk?pk:(hk=1,pk=vk().range)}const wk=F(yk());function jk(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Nk(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function kk(e){let t,r,a;function n(e,a,n=0,o=e.length){if(n<o){if(0!==t(a,a))return o;do{const t=n+o>>>1;r(e[t],a)<0?n=t+1:o=t}while(n<o)}return n}return 2!==e.length?(t=jk,r=(t,r)=>jk(e(t),r),a=(t,r)=>e(t)-r):(t=e===jk||e===Nk?e:Ck,r=e,a=e),{left:n,center:function(e,t,r=0,o=e.length){const i=n(e,t,r,o-1);return i>r&&a(e[i-1],t)>-a(e[i],t)?i-1:i},right:function(e,a,n=0,o=e.length){if(n<o){if(0!==t(a,a))return o;do{const t=n+o>>>1;r(e[t],a)<=0?n=t+1:o=t}while(n<o)}return n}}}function Ck(){return 0}function Sk(e){return null===e?NaN:+e}const Ek=kk(jk).right;kk(Sk).center;class Pk extends Map{constructor(e,t=Ik){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(Ok(this,e))}has(e){return super.has(Ok(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},r){const a=t(r);e.has(a)&&(r=e.get(a),e.delete(a));return r}(this,e))}}function Ok({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function Ik(e){return null!==e&&"object"==typeof e?e.valueOf():e}function Ak(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}const Dk=Math.sqrt(50),Mk=Math.sqrt(10),Tk=Math.sqrt(2);function Fk(e,t,r){const a=(t-e)/Math.max(0,r),n=Math.floor(Math.log10(a)),o=a/Math.pow(10,n),i=o>=Dk?10:o>=Mk?5:o>=Tk?2:1;let s,l,c;return n<0?(c=Math.pow(10,-n)/i,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,n)*i,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?Fk(e,t,2*r):[s,l,c]}function zk(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const a=t<e,[n,o,i]=a?Fk(t,e,r):Fk(e,t,r);if(!(o>=n))return[];const s=o-n+1,l=new Array(s);if(a)if(i<0)for(let c=0;c<s;++c)l[c]=(o-c)/-i;else for(let c=0;c<s;++c)l[c]=(o-c)*i;else if(i<0)for(let c=0;c<s;++c)l[c]=(n+c)/-i;else for(let c=0;c<s;++c)l[c]=(n+c)*i;return l}function Rk(e,t,r){return Fk(e=+e,t=+t,r=+r)[2]}function _k(e,t,r){r=+r;const a=(t=+t)<(e=+e),n=a?Rk(t,e,r):Rk(e,t,r);return(a?-1:1)*(n<0?1/-n:n)}function Lk(e,t){let r;for(const a of e)null!=a&&(r<a||void 0===r&&a>=a)&&(r=a);return r}function $k(e,t){let r;for(const a of e)null!=a&&(r>a||void 0===r&&a>=a)&&(r=a);return r}function Uk(e,t,r=0,a=1/0,n){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(n=void 0===n?Ak:function(e=jk){if(e===jk)return Ak;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||0===a?a:(0===e(r,r))-(0===e(t,t))}}(n);a>r;){if(a-r>600){const o=a-r+1,i=t-r+1,s=Math.log(o),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(o-l)/o)*(i-o/2<0?-1:1);Uk(e,t,Math.max(r,Math.floor(t-i*l/o+c)),Math.min(a,Math.floor(t+(o-i)*l/o+c)),n)}const o=e[t];let i=r,s=a;for(Bk(e,r,t),n(e[a],o)>0&&Bk(e,r,a);i<s;){for(Bk(e,i,s),++i,--s;n(e[i],o)<0;)++i;for(;n(e[s],o)>0;)--s}0===n(e[r],o)?Bk(e,r,s):(++s,Bk(e,s,a)),s<=t&&(r=s+1),t<=s&&(a=s-1)}return e}function Bk(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function Vk(e,t,r=Sk){if((a=e.length)&&!isNaN(t=+t)){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,n=(a-1)*t,o=Math.floor(n),i=+r(e[o],o,e);return i+(+r(e[o+1],o+1,e)-i)*(n-o)}}function Gk(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function qk(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const Hk=Symbol("implicit");function Wk(){var e=new Pk,t=[],r=[],a=Hk;function n(n){let o=e.get(n);if(void 0===o){if(a!==Hk)return a;e.set(n,o=t.push(n)-1)}return r[o%r.length]}return n.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new Pk;for(const a of r)e.has(a)||e.set(a,t.push(a)-1);return n},n.range=function(e){return arguments.length?(r=Array.from(e),n):r.slice()},n.unknown=function(e){return arguments.length?(a=e,n):a},n.copy=function(){return Wk(t,r).unknown(a)},Gk.apply(n,arguments),n}function Kk(){var e,t,r=Wk().unknown(void 0),a=r.domain,n=r.range,o=0,i=1,s=!1,l=0,c=0,d=.5;function u(){var r=a().length,u=i<o,p=u?i:o,h=u?o:i;e=(h-p)/Math.max(1,r-l+2*c),s&&(e=Math.floor(e)),p+=(h-p-e*(r-l))*d,t=e*(1-l),s&&(p=Math.round(p),t=Math.round(t));var m=function(e,t,r){e=+e,t=+t,r=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+r;for(var a=-1,n=0|Math.max(0,Math.ceil((t-e)/r)),o=new Array(n);++a<n;)o[a]=e+a*r;return o}(r).map(function(t){return p+e*t});return n(u?m.reverse():m)}return delete r.unknown,r.domain=function(e){return arguments.length?(a(e),u()):a()},r.range=function(e){return arguments.length?([o,i]=e,o=+o,i=+i,u()):[o,i]},r.rangeRound=function(e){return[o,i]=e,o=+o,i=+i,s=!0,u()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(s=!!e,u()):s},r.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),u()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),u()):l},r.paddingOuter=function(e){return arguments.length?(c=+e,u()):c},r.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),u()):d},r.copy=function(){return Kk(a(),[o,i]).round(s).paddingInner(l).paddingOuter(c).align(d)},Gk.apply(u(),arguments)}function Jk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Jk(t())},e}function Yk(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Xk(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function Qk(){}var Zk=.7,eC=1/Zk,tC="\\s*([+-]?\\d+)\\s*",rC="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",aC="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nC=/^#([0-9a-f]{3,8})$/,oC=new RegExp(`^rgb\\(${tC},${tC},${tC}\\)$`),iC=new RegExp(`^rgb\\(${aC},${aC},${aC}\\)$`),sC=new RegExp(`^rgba\\(${tC},${tC},${tC},${rC}\\)$`),lC=new RegExp(`^rgba\\(${aC},${aC},${aC},${rC}\\)$`),cC=new RegExp(`^hsl\\(${rC},${aC},${aC}\\)$`),dC=new RegExp(`^hsla\\(${rC},${aC},${aC},${rC}\\)$`),uC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function pC(){return this.rgb().formatHex()}function hC(){return this.rgb().formatRgb()}function mC(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=nC.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?gC(t):3===r?new bC(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?xC(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?xC(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=oC.exec(e))?new bC(t[1],t[2],t[3],1):(t=iC.exec(e))?new bC(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=sC.exec(e))?xC(t[1],t[2],t[3],t[4]):(t=lC.exec(e))?xC(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=cC.exec(e))?kC(t[1],t[2]/100,t[3]/100,1):(t=dC.exec(e))?kC(t[1],t[2]/100,t[3]/100,t[4]):uC.hasOwnProperty(e)?gC(uC[e]):"transparent"===e?new bC(NaN,NaN,NaN,0):null}function gC(e){return new bC(e>>16&255,e>>8&255,255&e,1)}function xC(e,t,r,a){return a<=0&&(e=t=r=NaN),new bC(e,t,r,a)}function fC(e,t,r,a){return 1===arguments.length?function(e){return e instanceof Qk||(e=mC(e)),e?new bC((e=e.rgb()).r,e.g,e.b,e.opacity):new bC}(e):new bC(e,t,r,null==a?1:a)}function bC(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}function vC(){return`#${NC(this.r)}${NC(this.g)}${NC(this.b)}`}function yC(){const e=wC(this.opacity);return`${1===e?"rgb(":"rgba("}${jC(this.r)}, ${jC(this.g)}, ${jC(this.b)}${1===e?")":`, ${e})`}`}function wC(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function jC(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function NC(e){return((e=jC(e))<16?"0":"")+e.toString(16)}function kC(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new SC(e,t,r,a)}function CC(e){if(e instanceof SC)return new SC(e.h,e.s,e.l,e.opacity);if(e instanceof Qk||(e=mC(e)),!e)return new SC;if(e instanceof SC)return e;var t=(e=e.rgb()).r/255,r=e.g/255,a=e.b/255,n=Math.min(t,r,a),o=Math.max(t,r,a),i=NaN,s=o-n,l=(o+n)/2;return s?(i=t===o?(r-a)/s+6*(r<a):r===o?(a-t)/s+2:(t-r)/s+4,s/=l<.5?o+n:2-o-n,i*=60):s=l>0&&l<1?0:i,new SC(i,s,l,e.opacity)}function SC(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}function EC(e){return(e=(e||0)%360)<0?e+360:e}function PC(e){return Math.max(0,Math.min(1,e||0))}function OC(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}Yk(Qk,mC,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:pC,formatHex:pC,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return CC(this).formatHsl()},formatRgb:hC,toString:hC}),Yk(bC,fC,Xk(Qk,{brighter(e){return e=null==e?eC:Math.pow(eC,e),new bC(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Zk:Math.pow(Zk,e),new bC(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new bC(jC(this.r),jC(this.g),jC(this.b),wC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vC,formatHex:vC,formatHex8:function(){return`#${NC(this.r)}${NC(this.g)}${NC(this.b)}${NC(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:yC,toString:yC})),Yk(SC,function(e,t,r,a){return 1===arguments.length?CC(e):new SC(e,t,r,null==a?1:a)},Xk(Qk,{brighter(e){return e=null==e?eC:Math.pow(eC,e),new SC(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Zk:Math.pow(Zk,e),new SC(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,n=2*r-a;return new bC(OC(e>=240?e-240:e+120,n,a),OC(e,n,a),OC(e<120?e+240:e-120,n,a),this.opacity)},clamp(){return new SC(EC(this.h),PC(this.s),PC(this.l),wC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=wC(this.opacity);return`${1===e?"hsl(":"hsla("}${EC(this.h)}, ${100*PC(this.s)}%, ${100*PC(this.l)}%${1===e?")":`, ${e})`}`}}));const IC=e=>()=>e;function AC(e){return 1===(e=+e)?DC:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}(t,r,e):IC(isNaN(t)?r:t)}}function DC(e,t){var r=t-e;return r?function(e,t){return function(r){return e+r*t}}(e,r):IC(isNaN(e)?t:e)}const MC=function e(t){var r=AC(t);function a(e,t){var a=r((e=fC(e)).r,(t=fC(t)).r),n=r(e.g,t.g),o=r(e.b,t.b),i=DC(e.opacity,t.opacity);return function(t){return e.r=a(t),e.g=n(t),e.b=o(t),e.opacity=i(t),e+""}}return a.gamma=e,a}(1);function TC(e,t){t||(t=[]);var r,a=e?Math.min(t.length,e.length):0,n=t.slice();return function(o){for(r=0;r<a;++r)n[r]=e[r]*(1-o)+t[r]*o;return n}}function FC(e,t){var r,a=t?t.length:0,n=e?Math.min(a,e.length):0,o=new Array(n),i=new Array(a);for(r=0;r<n;++r)o[r]=BC(e[r],t[r]);for(;r<a;++r)i[r]=t[r];return function(e){for(r=0;r<n;++r)i[r]=o[r](e);return i}}function zC(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function RC(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function _C(e,t){var r,a={},n={};for(r in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)r in e?a[r]=BC(e[r],t[r]):n[r]=t[r];return function(e){for(r in a)n[r]=a[r](e);return n}}var LC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$C=new RegExp(LC.source,"g");function UC(e,t){var r,a,n,o=LC.lastIndex=$C.lastIndex=0,i=-1,s=[],l=[];for(e+="",t+="";(r=LC.exec(e))&&(a=$C.exec(t));)(n=a.index)>o&&(n=t.slice(o,n),s[i]?s[i]+=n:s[++i]=n),(r=r[0])===(a=a[0])?s[i]?s[i]+=a:s[++i]=a:(s[++i]=null,l.push({i:i,x:RC(r,a)})),o=$C.lastIndex;return o<t.length&&(n=t.slice(o),s[i]?s[i]+=n:s[++i]=n),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,a=0;a<t;++a)s[(r=l[a]).i]=r.x(e);return s.join("")})}function BC(e,t){var r,a=typeof t;return null==t||"boolean"===a?IC(t):("number"===a?RC:"string"===a?(r=mC(t))?(t=r,MC):UC:t instanceof mC?MC:t instanceof Date?zC:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?TC:Array.isArray(t)?FC:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?_C:RC)(e,t)}function VC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function GC(e,t){void 0===t&&(t=e,e=BC);for(var r=0,a=t.length-1,n=t[0],o=new Array(a<0?0:a);r<a;)o[r]=e(n,n=t[++r]);return function(e){var t=Math.max(0,Math.min(a-1,Math.floor(e*=a)));return o[t](e-t)}}function qC(e){return+e}var HC=[0,1];function WC(e){return e}function KC(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function JC(e,t,r){var a=e[0],n=e[1],o=t[0],i=t[1];return n<a?(a=KC(n,a),o=r(i,o)):(a=KC(a,n),o=r(o,i)),function(e){return o(a(e))}}function YC(e,t,r){var a=Math.min(e.length,t.length)-1,n=new Array(a),o=new Array(a),i=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<a;)n[i]=KC(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(t){var r=Ek(e,t,1,a)-1;return o[r](n[r](t))}}function XC(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function QC(){var e,t,r,a,n,o,i=HC,s=HC,l=BC,c=WC;function d(){var e=Math.min(i.length,s.length);return c!==WC&&(c=function(e,t){var r;return e>t&&(r=e,e=t,t=r),function(r){return Math.max(e,Math.min(t,r))}}(i[0],i[e-1])),a=e>2?YC:JC,n=o=null,u}function u(t){return null==t||isNaN(t=+t)?r:(n||(n=a(i.map(e),s,l)))(e(c(t)))}return u.invert=function(r){return c(t((o||(o=a(s,i.map(e),RC)))(r)))},u.domain=function(e){return arguments.length?(i=Array.from(e,qC),d()):i.slice()},u.range=function(e){return arguments.length?(s=Array.from(e),d()):s.slice()},u.rangeRound=function(e){return s=Array.from(e),l=VC,d()},u.clamp=function(e){return arguments.length?(c=!!e||WC,d()):c!==WC},u.interpolate=function(e){return arguments.length?(l=e,d()):l},u.unknown=function(e){return arguments.length?(r=e,u):r},function(r,a){return e=r,t=a,d()}}function ZC(){return QC()(WC,WC)}function eS(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function tS(e){return(e=eS(Math.abs(e)))?e[1]:NaN}var rS,aS=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nS(e){if(!(t=aS.exec(e)))throw new Error("invalid format: "+e);var t;return new oS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function oS(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function iS(e,t){var r=eS(e,t);if(!r)return e+"";var a=r[0],n=r[1];return n<0?"0."+new Array(-n).join("0")+a:a.length>n+1?a.slice(0,n+1)+"."+a.slice(n+1):a+new Array(n-a.length+2).join("0")}nS.prototype=oS.prototype,oS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const sS={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>iS(100*e,t),r:iS,s:function(e,t){var r=eS(e,t);if(!r)return e+"";var a=r[0],n=r[1],o=n-(rS=3*Math.max(-8,Math.min(8,Math.floor(n/3))))+1,i=a.length;return o===i?a:o>i?a+new Array(o-i+1).join("0"):o>0?a.slice(0,o)+"."+a.slice(o):"0."+new Array(1-o).join("0")+eS(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function lS(e){return e}var cS,dS,uS,pS=Array.prototype.map,hS=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function mS(e){var t,r,a=void 0===e.grouping||void 0===e.thousands?lS:(t=pS.call(e.grouping,Number),r=e.thousands+"",function(e,a){for(var n=e.length,o=[],i=0,s=t[0],l=0;n>0&&s>0&&(l+s+1>a&&(s=Math.max(1,a-l)),o.push(e.substring(n-=s,n+s)),!((l+=s+1)>a));)s=t[i=(i+1)%t.length];return o.reverse().join(r)}),n=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?lS:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(pS.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function u(e){var t=(e=nS(e)).fill,r=e.align,u=e.sign,p=e.symbol,h=e.zero,m=e.width,g=e.comma,x=e.precision,f=e.trim,b=e.type;"n"===b?(g=!0,b="g"):sS[b]||(void 0===x&&(x=12),f=!0,b="g"),(h||"0"===t&&"="===r)&&(h=!0,t="0",r="=");var v="$"===p?n:"#"===p&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",y="$"===p?o:/[%p]/.test(b)?l:"",w=sS[b],j=/[defgprs%]/.test(b);function N(e){var n,o,l,p=v,N=y;if("c"===b)N=w(e)+N,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?d:w(Math.abs(e),x),f&&(e=function(e){e:for(var t,r=e.length,a=1,n=-1;a<r;++a)switch(e[a]){case".":n=t=a;break;case"0":0===n&&(n=a),t=a;break;default:if(!+e[a])break e;n>0&&(n=0)}return n>0?e.slice(0,n)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==u&&(k=!1),p=(k?"("===u?u:c:"-"===u||"("===u?"":u)+p,N=("s"===b?hS[8+rS/3]:"")+N+(k&&"("===u?")":""),j)for(n=-1,o=e.length;++n<o;)if(48>(l=e.charCodeAt(n))||l>57){N=(46===l?i+e.slice(n+1):e.slice(n))+N,e=e.slice(0,n);break}}g&&!h&&(e=a(e,1/0));var C=p.length+e.length+N.length,S=C<m?new Array(m-C+1).join(t):"";switch(g&&h&&(e=a(S+e,S.length?m-N.length:1/0),S=""),r){case"<":e=p+e+N+S;break;case"=":e=p+S+e+N;break;case"^":e=S.slice(0,C=S.length>>1)+p+e+N+S.slice(C);break;default:e=S+p+e+N}return s(e)}return x=void 0===x?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x)),N.toString=function(){return e+""},N}return{format:u,formatPrefix:function(e,t){var r=u(((e=nS(e)).type="f",e)),a=3*Math.max(-8,Math.min(8,Math.floor(tS(t)/3))),n=Math.pow(10,-a),o=hS[8+a/3];return function(e){return r(n*e)+o}}}}function gS(e,t,r,a){var n,o=_k(e,t,r);switch((a=nS(null==a?",f":a)).type){case"s":var i=Math.max(Math.abs(e),Math.abs(t));return null!=a.precision||isNaN(n=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(tS(t)/3)))-tS(Math.abs(e)))}(o,i))||(a.precision=n),uS(a,i);case"":case"e":case"g":case"p":case"r":null!=a.precision||isNaN(n=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,tS(t)-tS(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(a.precision=n-("e"===a.type));break;case"f":case"%":null!=a.precision||isNaN(n=function(e){return Math.max(0,-tS(Math.abs(e)))}(o))||(a.precision=n-2*("%"===a.type))}return dS(a)}function xS(e){var t=e.domain;return e.ticks=function(e){var r=t();return zk(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var a=t();return gS(a[0],a[a.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var a,n,o=t(),i=0,s=o.length-1,l=o[i],c=o[s],d=10;for(c<l&&(n=l,l=c,c=n,n=i,i=s,s=n);d-- >0;){if((n=Rk(l,c,r))===a)return o[i]=l,o[s]=c,t(o);if(n>0)l=Math.floor(l/n)*n,c=Math.ceil(c/n)*n;else{if(!(n<0))break;l=Math.ceil(l*n)/n,c=Math.floor(c*n)/n}a=n}return e},e}function fS(e,t){var r,a=0,n=(e=e.slice()).length-1,o=e[a],i=e[n];return i<o&&(r=a,a=n,n=r,r=o,o=i,i=r),e[a]=t.floor(o),e[n]=t.ceil(i),e}function bS(e){return Math.log(e)}function vS(e){return Math.exp(e)}function yS(e){return-Math.log(-e)}function wS(e){return-Math.exp(-e)}function jS(e){return isFinite(e)?+("1e"+e):e<0?0:e}function NS(e){return(t,r)=>-e(-t,r)}function kS(e){const t=e(bS,vS),r=t.domain;let a,n,o=10;function i(){return a=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),n=function(e){return 10===e?jS:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),r()[0]<0?(a=NS(a),n=NS(n),e(yS,wS)):e(bS,vS),t}return t.base=function(e){return arguments.length?(o=+e,i()):o},t.domain=function(e){return arguments.length?(r(e),i()):r()},t.ticks=e=>{const t=r();let i=t[0],s=t[t.length-1];const l=s<i;l&&([i,s]=[s,i]);let c,d,u=a(i),p=a(s);const h=null==e?10:+e;let m=[];if(!(o%1)&&p-u<h){if(u=Math.floor(u),p=Math.ceil(p),i>0){for(;u<=p;++u)for(c=1;c<o;++c)if(d=u<0?c/n(-u):c*n(u),!(d<i)){if(d>s)break;m.push(d)}}else for(;u<=p;++u)for(c=o-1;c>=1;--c)if(d=u>0?c/n(-u):c*n(u),!(d<i)){if(d>s)break;m.push(d)}2*m.length<h&&(m=zk(i,s,h))}else m=zk(u,p,Math.min(p-u,h)).map(n);return l?m.reverse():m},t.tickFormat=(e,r)=>{if(null==e&&(e=10),null==r&&(r=10===o?"s":","),"function"!=typeof r&&(o%1||null!=(r=nS(r)).precision||(r.trim=!0),r=dS(r)),e===1/0)return r;const i=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/n(Math.round(a(e)));return t*o<o-.5&&(t*=o),t<=i?r(e):""}},t.nice=()=>r(fS(r(),{floor:e=>n(Math.floor(a(e))),ceil:e=>n(Math.ceil(a(e)))})),t}function CS(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function SS(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ES(e){var t=1,r=e(CS(t),SS(t));return r.constant=function(r){return arguments.length?e(CS(t=+r),SS(t)):t},xS(r)}function PS(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function OS(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function IS(e){return e<0?-e*e:e*e}function AS(e){var t=e(WC,WC),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?e(WC,WC):.5===r?e(OS,IS):e(PS(r),PS(1/r)):r},xS(t)}function DS(){var e=AS(QC());return e.copy=function(){return XC(e,DS()).exponent(e.exponent())},Gk.apply(e,arguments),e}function MS(e){return Math.sign(e)*e*e}cS=mS({thousands:",",grouping:[3],currency:["$",""]}),dS=cS.format,uS=cS.formatPrefix;const TS=new Date,FS=new Date;function zS(e,t,r,a){function n(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return n.floor=t=>(e(t=new Date(+t)),t),n.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),n.round=e=>{const t=n(e),r=n.ceil(e);return e-t<r-e?t:r},n.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),n.range=(r,a,o)=>{const i=[];if(r=n.ceil(r),o=null==o?1:Math.floor(o),!(r<a&&o>0))return i;let s;do{i.push(s=new Date(+r)),t(r,o),e(r)}while(s<r&&r<a);return i},n.filter=r=>zS(t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},(e,a)=>{if(e>=e)if(a<0)for(;++a<=0;)for(;t(e,-1),!r(e););else for(;--a>=0;)for(;t(e,1),!r(e););}),r&&(n.count=(t,a)=>(TS.setTime(+t),FS.setTime(+a),e(TS),e(FS),Math.floor(r(TS,FS))),n.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?n.filter(a?t=>a(t)%e===0:t=>n.count(0,t)%e===0):n:null)),n}const RS=zS(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);RS.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?zS(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):RS:null),RS.range;const _S=1e3,LS=6e4,$S=36e5,US=864e5,BS=6048e5,VS=2592e6,GS=31536e6,qS=zS(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*_S)},(e,t)=>(t-e)/_S,e=>e.getUTCSeconds());qS.range;const HS=zS(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_S)},(e,t)=>{e.setTime(+e+t*LS)},(e,t)=>(t-e)/LS,e=>e.getMinutes());HS.range;const WS=zS(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*LS)},(e,t)=>(t-e)/LS,e=>e.getUTCMinutes());WS.range;const KS=zS(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_S-e.getMinutes()*LS)},(e,t)=>{e.setTime(+e+t*$S)},(e,t)=>(t-e)/$S,e=>e.getHours());KS.range;const JS=zS(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*$S)},(e,t)=>(t-e)/$S,e=>e.getUTCHours());JS.range;const YS=zS(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*LS)/US,e=>e.getDate()-1);YS.range;const XS=zS(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/US,e=>e.getUTCDate()-1);XS.range;const QS=zS(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/US,e=>Math.floor(e/US));function ZS(e){return zS(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*LS)/BS)}QS.range;const eE=ZS(0),tE=ZS(1),rE=ZS(2),aE=ZS(3),nE=ZS(4),oE=ZS(5),iE=ZS(6);function sE(e){return zS(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/BS)}eE.range,tE.range,rE.range,aE.range,nE.range,oE.range,iE.range;const lE=sE(0),cE=sE(1),dE=sE(2),uE=sE(3),pE=sE(4),hE=sE(5),mE=sE(6);lE.range,cE.range,dE.range,uE.range,pE.range,hE.range,mE.range;const gE=zS(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth());gE.range;const xE=zS(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth());xE.range;const fE=zS(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());fE.every=e=>isFinite(e=Math.floor(e))&&e>0?zS(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null,fE.range;const bE=zS(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function vE(e,t,r,a,n,o){const i=[[qS,1,_S],[qS,5,5e3],[qS,15,15e3],[qS,30,3e4],[o,1,LS],[o,5,3e5],[o,15,9e5],[o,30,18e5],[n,1,$S],[n,3,108e5],[n,6,216e5],[n,12,432e5],[a,1,US],[a,2,1728e5],[r,1,BS],[t,1,VS],[t,3,7776e6],[e,1,GS]];function s(t,r,a){const n=Math.abs(r-t)/a,o=kk(([,,e])=>e).right(i,n);if(o===i.length)return e.every(_k(t/GS,r/GS,a));if(0===o)return RS.every(Math.max(_k(t,r,a),1));const[s,l]=i[n/i[o-1][2]<i[o][2]/n?o-1:o];return s.every(l)}return[function(e,t,r){const a=t<e;a&&([e,t]=[t,e]);const n=r&&"function"==typeof r.range?r:s(e,t,r),o=n?n.range(e,+t+1):[];return a?o.reverse():o},s]}bE.every=e=>isFinite(e=Math.floor(e))&&e>0?zS(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null,bE.range;const[yE,wE]=vE(bE,xE,lE,QS,JS,WS),[jE,NE]=vE(fE,gE,eE,YS,KS,HS);function kE(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function CE(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function SE(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var EE,PE,OE,IE={"-":"",_:" ",0:"0"},AE=/^\s*\d+/,DE=/^%/,ME=/[\\^$*+?|[\]().{}]/g;function TE(e,t,r){var a=e<0?"-":"",n=(a?-e:e)+"",o=n.length;return a+(o<r?new Array(r-o+1).join(t)+n:n)}function FE(e){return e.replace(ME,"\\$&")}function zE(e){return new RegExp("^(?:"+e.map(FE).join("|")+")","i")}function RE(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function _E(e,t,r){var a=AE.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function LE(e,t,r){var a=AE.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function $E(e,t,r){var a=AE.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function UE(e,t,r){var a=AE.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function BE(e,t,r){var a=AE.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function VE(e,t,r){var a=AE.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function GE(e,t,r){var a=AE.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function qE(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function HE(e,t,r){var a=AE.exec(t.slice(r,r+1));return a?(e.q=3*a[0]-3,r+a[0].length):-1}function WE(e,t,r){var a=AE.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function KE(e,t,r){var a=AE.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function JE(e,t,r){var a=AE.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function YE(e,t,r){var a=AE.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function XE(e,t,r){var a=AE.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function QE(e,t,r){var a=AE.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function ZE(e,t,r){var a=AE.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function eP(e,t,r){var a=AE.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function tP(e,t,r){var a=DE.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function rP(e,t,r){var a=AE.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function aP(e,t,r){var a=AE.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function nP(e,t){return TE(e.getDate(),t,2)}function oP(e,t){return TE(e.getHours(),t,2)}function iP(e,t){return TE(e.getHours()%12||12,t,2)}function sP(e,t){return TE(1+YS.count(fE(e),e),t,3)}function lP(e,t){return TE(e.getMilliseconds(),t,3)}function cP(e,t){return lP(e,t)+"000"}function dP(e,t){return TE(e.getMonth()+1,t,2)}function uP(e,t){return TE(e.getMinutes(),t,2)}function pP(e,t){return TE(e.getSeconds(),t,2)}function hP(e){var t=e.getDay();return 0===t?7:t}function mP(e,t){return TE(eE.count(fE(e)-1,e),t,2)}function gP(e){var t=e.getDay();return t>=4||0===t?nE(e):nE.ceil(e)}function xP(e,t){return e=gP(e),TE(nE.count(fE(e),e)+(4===fE(e).getDay()),t,2)}function fP(e){return e.getDay()}function bP(e,t){return TE(tE.count(fE(e)-1,e),t,2)}function vP(e,t){return TE(e.getFullYear()%100,t,2)}function yP(e,t){return TE((e=gP(e)).getFullYear()%100,t,2)}function wP(e,t){return TE(e.getFullYear()%1e4,t,4)}function jP(e,t){var r=e.getDay();return TE((e=r>=4||0===r?nE(e):nE.ceil(e)).getFullYear()%1e4,t,4)}function NP(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+TE(t/60|0,"0",2)+TE(t%60,"0",2)}function kP(e,t){return TE(e.getUTCDate(),t,2)}function CP(e,t){return TE(e.getUTCHours(),t,2)}function SP(e,t){return TE(e.getUTCHours()%12||12,t,2)}function EP(e,t){return TE(1+XS.count(bE(e),e),t,3)}function PP(e,t){return TE(e.getUTCMilliseconds(),t,3)}function OP(e,t){return PP(e,t)+"000"}function IP(e,t){return TE(e.getUTCMonth()+1,t,2)}function AP(e,t){return TE(e.getUTCMinutes(),t,2)}function DP(e,t){return TE(e.getUTCSeconds(),t,2)}function MP(e){var t=e.getUTCDay();return 0===t?7:t}function TP(e,t){return TE(lE.count(bE(e)-1,e),t,2)}function FP(e){var t=e.getUTCDay();return t>=4||0===t?pE(e):pE.ceil(e)}function zP(e,t){return e=FP(e),TE(pE.count(bE(e),e)+(4===bE(e).getUTCDay()),t,2)}function RP(e){return e.getUTCDay()}function _P(e,t){return TE(cE.count(bE(e)-1,e),t,2)}function LP(e,t){return TE(e.getUTCFullYear()%100,t,2)}function $P(e,t){return TE((e=FP(e)).getUTCFullYear()%100,t,2)}function UP(e,t){return TE(e.getUTCFullYear()%1e4,t,4)}function BP(e,t){var r=e.getUTCDay();return TE((e=r>=4||0===r?pE(e):pE.ceil(e)).getUTCFullYear()%1e4,t,4)}function VP(){return"+0000"}function GP(){return"%"}function qP(e){return+e}function HP(e){return Math.floor(+e/1e3)}function WP(e){return new Date(e)}function KP(e){return e instanceof Date?+e:+new Date(+e)}function JP(e,t,r,a,n,o,i,s,l,c){var d=ZC(),u=d.invert,p=d.domain,h=c(".%L"),m=c(":%S"),g=c("%I:%M"),x=c("%I %p"),f=c("%a %d"),b=c("%b %d"),v=c("%B"),y=c("%Y");function w(e){return(l(e)<e?h:s(e)<e?m:i(e)<e?g:o(e)<e?x:a(e)<e?n(e)<e?f:b:r(e)<e?v:y)(e)}return d.invert=function(e){return new Date(u(e))},d.domain=function(e){return arguments.length?p(Array.from(e,KP)):p().map(WP)},d.ticks=function(t){var r=p();return e(r[0],r[r.length-1],null==t?10:t)},d.tickFormat=function(e,t){return null==t?w:c(t)},d.nice=function(e){var r=p();return e&&"function"==typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?p(fS(r,e)):d},d.copy=function(){return XC(d,JP(e,t,r,a,n,o,i,s,l,c))},d}function YP(){var e,t,r,a,n,o=0,i=1,s=WC,l=!1;function c(t){return null==t||isNaN(t=+t)?n:s(0===r?.5:(t=(a(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function d(e){return function(t){var r,a;return arguments.length?([r,a]=t,s=e(r,a),c):[s(0),s(1)]}}return c.domain=function(n){return arguments.length?([o,i]=n,e=a(o=+o),t=a(i=+i),r=e===t?0:1/(t-e),c):[o,i]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=d(BC),c.rangeRound=d(VC),c.unknown=function(e){return arguments.length?(n=e,c):n},function(n){return a=n,e=n(o),t=n(i),r=e===t?0:1/(t-e),c}}function XP(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function QP(){var e=AS(YP());return e.copy=function(){return XP(e,QP()).exponent(e.exponent())},qk.apply(e,arguments)}function ZP(){var e,t,r,a,n,o,i,s=0,l=.5,c=1,d=1,u=WC,p=!1;function h(e){return isNaN(e=+e)?i:(e=.5+((e=+o(e))-t)*(d*e<d*t?a:n),u(p?Math.max(0,Math.min(1,e)):e))}function m(e){return function(t){var r,a,n;return arguments.length?([r,a,n]=t,u=GC(e,[r,a,n]),h):[u(0),u(.5),u(1)]}}return h.domain=function(i){return arguments.length?([s,l,c]=i,e=o(s=+s),t=o(l=+l),r=o(c=+c),a=e===t?0:.5/(t-e),n=t===r?0:.5/(r-t),d=t<e?-1:1,h):[s,l,c]},h.clamp=function(e){return arguments.length?(p=!!e,h):p},h.interpolator=function(e){return arguments.length?(u=e,h):u},h.range=m(BC),h.rangeRound=m(VC),h.unknown=function(e){return arguments.length?(i=e,h):i},function(i){return o=i,e=i(s),t=i(l),r=i(c),a=e===t?0:.5/(t-e),n=t===r?0:.5/(r-t),d=t<e?-1:1,h}}function eO(){var e=AS(ZP());return e.copy=function(){return XP(e,eO()).exponent(e.exponent())},qk.apply(e,arguments)}!function(e){EE=function(e){var t=e.dateTime,r=e.date,a=e.time,n=e.periods,o=e.days,i=e.shortDays,s=e.months,l=e.shortMonths,c=zE(n),d=RE(n),u=zE(o),p=RE(o),h=zE(i),m=RE(i),g=zE(s),x=RE(s),f=zE(l),b=RE(l),v={a:function(e){return i[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:nP,e:nP,f:cP,g:yP,G:jP,H:oP,I:iP,j:sP,L:lP,m:dP,M:uP,p:function(e){return n[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:qP,s:HP,S:pP,u:hP,U:mP,V:xP,w:fP,W:bP,x:null,X:null,y:vP,Y:wP,Z:NP,"%":GP},y={a:function(e){return i[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:kP,e:kP,f:OP,g:$P,G:BP,H:CP,I:SP,j:EP,L:PP,m:IP,M:AP,p:function(e){return n[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:qP,s:HP,S:DP,u:MP,U:TP,V:zP,w:RP,W:_P,x:null,X:null,y:LP,Y:UP,Z:VP,"%":GP},w={a:function(e,t,r){var a=h.exec(t.slice(r));return a?(e.w=m.get(a[0].toLowerCase()),r+a[0].length):-1},A:function(e,t,r){var a=u.exec(t.slice(r));return a?(e.w=p.get(a[0].toLowerCase()),r+a[0].length):-1},b:function(e,t,r){var a=f.exec(t.slice(r));return a?(e.m=b.get(a[0].toLowerCase()),r+a[0].length):-1},B:function(e,t,r){var a=g.exec(t.slice(r));return a?(e.m=x.get(a[0].toLowerCase()),r+a[0].length):-1},c:function(e,r,a){return k(e,t,r,a)},d:KE,e:KE,f:eP,g:GE,G:VE,H:YE,I:YE,j:JE,L:ZE,m:WE,M:XE,p:function(e,t,r){var a=c.exec(t.slice(r));return a?(e.p=d.get(a[0].toLowerCase()),r+a[0].length):-1},q:HE,Q:rP,s:aP,S:QE,u:LE,U:$E,V:UE,w:_E,W:BE,x:function(e,t,a){return k(e,r,t,a)},X:function(e,t,r){return k(e,a,t,r)},y:GE,Y:VE,Z:qE,"%":tP};function j(e,t){return function(r){var a,n,o,i=[],s=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++s<c;)37===e.charCodeAt(s)&&(i.push(e.slice(l,s)),null!=(n=IE[a=e.charAt(++s)])?a=e.charAt(++s):n="e"===a?" ":"0",(o=t[a])&&(a=o(r,n)),i.push(a),l=s+1);return i.push(e.slice(l,s)),i.join("")}}function N(e,t){return function(r){var a,n,o=SE(1900,void 0,1);if(k(o,e,r+="",0)!=r.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(n=(a=CE(SE(o.y,0,1))).getUTCDay(),a=n>4||0===n?cE.ceil(a):cE(a),a=XS.offset(a,7*(o.V-1)),o.y=a.getUTCFullYear(),o.m=a.getUTCMonth(),o.d=a.getUTCDate()+(o.w+6)%7):(n=(a=kE(SE(o.y,0,1))).getDay(),a=n>4||0===n?tE.ceil(a):tE(a),a=YS.offset(a,7*(o.V-1)),o.y=a.getFullYear(),o.m=a.getMonth(),o.d=a.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),n="Z"in o?CE(SE(o.y,0,1)).getUTCDay():kE(SE(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(n+5)%7:o.w+7*o.U-(n+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,CE(o)):kE(o)}}function k(e,t,r,a){for(var n,o,i=0,s=t.length,l=r.length;i<s;){if(a>=l)return-1;if(37===(n=t.charCodeAt(i++))){if(n=t.charAt(i++),!(o=w[n in IE?t.charAt(i++):n])||(a=o(e,r,a))<0)return-1}else if(n!=r.charCodeAt(a++))return-1}return a}return v.x=j(r,v),v.X=j(a,v),v.c=j(t,v),y.x=j(r,y),y.X=j(a,y),y.c=j(t,y),{format:function(e){var t=j(e+="",v);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",y);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),PE=EE.format,EE.parse,OE=EE.utcFormat,EE.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const tO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Kk,scaleDiverging:function e(){var t=xS(ZP()(WC));return t.copy=function(){return XP(t,e())},qk.apply(t,arguments)},scaleDivergingLog:function e(){var t=kS(ZP()).domain([.1,1,10]);return t.copy=function(){return XP(t,e()).base(t.base())},qk.apply(t,arguments)},scaleDivergingPow:eO,scaleDivergingSqrt:function(){return eO.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function e(){var t=ES(ZP());return t.copy=function(){return XP(t,e()).constant(t.constant())},qk.apply(t,arguments)},scaleIdentity:function e(t){var r;function a(e){return null==e||isNaN(e=+e)?r:e}return a.invert=a,a.domain=a.range=function(e){return arguments.length?(t=Array.from(e,qC),a):t.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return e(t).unknown(r)},t=arguments.length?Array.from(t,qC):[0,1],xS(a)},scaleImplicit:Hk,scaleLinear:function e(){var t=ZC();return t.copy=function(){return XC(t,e())},Gk.apply(t,arguments),xS(t)},scaleLog:function e(){const t=kS(QC()).domain([1,10]);return t.copy=()=>XC(t,e()).base(t.base()),Gk.apply(t,arguments),t},scaleOrdinal:Wk,scalePoint:function(){return Jk(Kk.apply(null,arguments).paddingInner(1))},scalePow:DS,scaleQuantile:function e(){var t,r=[],a=[],n=[];function o(){var e=0,t=Math.max(1,a.length);for(n=new Array(t-1);++e<t;)n[e-1]=Vk(r,e/t);return i}function i(e){return null==e||isNaN(e=+e)?t:a[Ek(n,e)]}return i.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:[t>0?n[t-1]:r[0],t<n.length?n[t]:r[r.length-1]]},i.domain=function(e){if(!arguments.length)return r.slice();r=[];for(let t of e)null==t||isNaN(t=+t)||r.push(t);return r.sort(jk),o()},i.range=function(e){return arguments.length?(a=Array.from(e),o()):a.slice()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.quantiles=function(){return n.slice()},i.copy=function(){return e().domain(r).range(a).unknown(t)},Gk.apply(i,arguments)},scaleQuantize:function e(){var t,r=0,a=1,n=1,o=[.5],i=[0,1];function s(e){return null!=e&&e<=e?i[Ek(o,e,0,n)]:t}function l(){var e=-1;for(o=new Array(n);++e<n;)o[e]=((e+1)*a-(e-n)*r)/(n+1);return s}return s.domain=function(e){return arguments.length?([r,a]=e,r=+r,a=+a,l()):[r,a]},s.range=function(e){return arguments.length?(n=(i=Array.from(e)).length-1,l()):i.slice()},s.invertExtent=function(e){var t=i.indexOf(e);return t<0?[NaN,NaN]:t<1?[r,o[0]]:t>=n?[o[n-1],a]:[o[t-1],o[t]]},s.unknown=function(e){return arguments.length?(t=e,s):s},s.thresholds=function(){return o.slice()},s.copy=function(){return e().domain([r,a]).range(i).unknown(t)},Gk.apply(xS(s),arguments)},scaleRadial:function e(){var t,r=ZC(),a=[0,1],n=!1;function o(e){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(r(e));return isNaN(a)?t:n?Math.round(a):a}return o.invert=function(e){return r.invert(MS(e))},o.domain=function(e){return arguments.length?(r.domain(e),o):r.domain()},o.range=function(e){return arguments.length?(r.range((a=Array.from(e,qC)).map(MS)),o):a.slice()},o.rangeRound=function(e){return o.range(e).round(!0)},o.round=function(e){return arguments.length?(n=!!e,o):n},o.clamp=function(e){return arguments.length?(r.clamp(e),o):r.clamp()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e(r.domain(),a).round(n).clamp(r.clamp()).unknown(t)},Gk.apply(o,arguments),xS(o)},scaleSequential:function e(){var t=xS(YP()(WC));return t.copy=function(){return XP(t,e())},qk.apply(t,arguments)},scaleSequentialLog:function e(){var t=kS(YP()).domain([1,10]);return t.copy=function(){return XP(t,e()).base(t.base())},qk.apply(t,arguments)},scaleSequentialPow:QP,scaleSequentialQuantile:function e(){var t=[],r=WC;function a(e){if(null!=e&&!isNaN(e=+e))return r((Ek(t,e,1)-1)/(t.length-1))}return a.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let r of e)null==r||isNaN(r=+r)||t.push(r);return t.sort(jk),a},a.interpolator=function(e){return arguments.length?(r=e,a):r},a.range=function(){return t.map((e,a)=>r(a/(t.length-1)))},a.quantiles=function(e){return Array.from({length:e+1},(r,a)=>function(e,t){if((r=(e=Float64Array.from(function*(e){for(let t of e)null!=t&&(t=+t)>=t&&(yield t)}(e))).length)&&!isNaN(t=+t)){if(t<=0||r<2)return $k(e);if(t>=1)return Lk(e);var r,a=(r-1)*t,n=Math.floor(a),o=Lk(Uk(e,n).subarray(0,n+1));return o+($k(e.subarray(n+1))-o)*(a-n)}}(t,a/e))},a.copy=function(){return e(r).domain(t)},qk.apply(a,arguments)},scaleSequentialSqrt:function(){return QP.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function e(){var t=ES(YP());return t.copy=function(){return XP(t,e()).constant(t.constant())},qk.apply(t,arguments)},scaleSqrt:function(){return DS.apply(null,arguments).exponent(.5)},scaleSymlog:function e(){var t=ES(QC());return t.copy=function(){return XC(t,e()).constant(t.constant())},Gk.apply(t,arguments)},scaleThreshold:function e(){var t,r=[.5],a=[0,1],n=1;function o(e){return null!=e&&e<=e?a[Ek(r,e,0,n)]:t}return o.domain=function(e){return arguments.length?(r=Array.from(e),n=Math.min(r.length,a.length-1),o):r.slice()},o.range=function(e){return arguments.length?(a=Array.from(e),n=Math.min(r.length,a.length-1),o):a.slice()},o.invertExtent=function(e){var t=a.indexOf(e);return[r[t-1],r[t]]},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e().domain(r).range(a).unknown(t)},Gk.apply(o,arguments)},scaleTime:function(){return Gk.apply(JP(jE,NE,fE,gE,eE,YS,KS,HS,qS,PE).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return Gk.apply(JP(yE,wE,bE,xE,lE,XS,JS,WS,qS,OE).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:gS},Symbol.toStringTag,{value:"Module"}));var rO=e=>e.chartData,aO=Bx([rO],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),nO=(e,t,r,a)=>a?aO(e):rO(e);function oO(e){if(Array.isArray(e)&&2===e.length){var[t,r]=e;if(Hv(t)&&Hv(r))return!0}return!1}function iO(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function sO(e,t){if(t&&"function"!=typeof e&&Array.isArray(e)&&2===e.length){var r,a,[n,o]=e;if(Hv(n))r=n;else if("function"==typeof n)return;if(Hv(o))a=o;else if("function"==typeof o)return;var i=[r,a];if(oO(i))return i}}var lO,cO=1e9,dO=!0,uO="[DecimalError] ",pO=uO+"Invalid argument: ",hO=uO+"Exponent out of range: ",mO=Math.floor,gO=Math.pow,xO=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fO=1e7,bO=9007199254740991,vO=mO(1286742750677284.5),yO={};function wO(e,t){var r,a,n,o,i,s,l,c,d=e.constructor,u=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),dO?AO(t,u):t;if(l=e.d,c=t.d,i=e.e,n=t.e,l=l.slice(),o=i-n){for(o<0?(a=l,o=-o,s=c.length):(a=c,n=i,s=l.length),o>(s=(i=Math.ceil(u/7))>s?i+1:s+1)&&(o=s,a.length=1),a.reverse();o--;)a.push(0);a.reverse()}for((s=l.length)-(o=c.length)<0&&(o=s,a=c,c=l,l=a),r=0;o;)r=(l[--o]=l[o]+c[o]+r)/fO|0,l[o]%=fO;for(r&&(l.unshift(r),++n),s=l.length;0==l[--s];)l.pop();return t.d=l,t.e=n,dO?AO(t,u):t}function jO(e,t,r){if(e!==~~e||e<t||e>r)throw Error(pO+e)}function NO(e){var t,r,a,n=e.length-1,o="",i=e[0];if(n>0){for(o+=i,t=1;t<n;t++)(r=7-(a=e[t]+"").length)&&(o+=PO(r)),o+=a;(r=7-(a=(i=e[t])+"").length)&&(o+=PO(r))}else if(0===i)return"0";for(;i%10==0;)i/=10;return o+i}yO.absoluteValue=yO.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},yO.comparedTo=yO.cmp=function(e){var t,r,a,n,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,r=(a=o.d.length)<(n=e.d.length)?a:n;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return a===n?0:a>n^o.s<0?1:-1},yO.decimalPlaces=yO.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},yO.dividedBy=yO.div=function(e){return kO(this,new this.constructor(e))},yO.dividedToIntegerBy=yO.idiv=function(e){var t=this.constructor;return AO(kO(this,new t(e),0,1),t.precision)},yO.equals=yO.eq=function(e){return!this.cmp(e)},yO.exponent=function(){return SO(this)},yO.greaterThan=yO.gt=function(e){return this.cmp(e)>0},yO.greaterThanOrEqualTo=yO.gte=function(e){return this.cmp(e)>=0},yO.isInteger=yO.isint=function(){return this.e>this.d.length-2},yO.isNegative=yO.isneg=function(){return this.s<0},yO.isPositive=yO.ispos=function(){return this.s>0},yO.isZero=function(){return 0===this.s},yO.lessThan=yO.lt=function(e){return this.cmp(e)<0},yO.lessThanOrEqualTo=yO.lte=function(e){return this.cmp(e)<1},yO.logarithm=yO.log=function(e){var t,r=this,a=r.constructor,n=a.precision,o=n+5;if(void 0===e)e=new a(10);else if((e=new a(e)).s<1||e.eq(lO))throw Error(uO+"NaN");if(r.s<1)throw Error(uO+(r.s?"NaN":"-Infinity"));return r.eq(lO)?new a(0):(dO=!1,t=kO(OO(r,o),OO(e,o),o),dO=!0,AO(t,n))},yO.minus=yO.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?DO(t,e):wO(t,(e.s=-e.s,e))},yO.modulo=yO.mod=function(e){var t,r=this,a=r.constructor,n=a.precision;if(!(e=new a(e)).s)throw Error(uO+"NaN");return r.s?(dO=!1,t=kO(r,e,0,1).times(e),dO=!0,r.minus(t)):AO(new a(r),n)},yO.naturalExponential=yO.exp=function(){return CO(this)},yO.naturalLogarithm=yO.ln=function(){return OO(this)},yO.negated=yO.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},yO.plus=yO.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?wO(t,e):DO(t,(e.s=-e.s,e))},yO.precision=yO.sd=function(e){var t,r,a,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(pO+e);if(t=SO(n)+1,r=7*(a=n.d.length-1)+1,a=n.d[a]){for(;a%10==0;a/=10)r--;for(a=n.d[0];a>=10;a/=10)r++}return e&&t>r?t:r},yO.squareRoot=yO.sqrt=function(){var e,t,r,a,n,o,i,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(uO+"NaN")}for(e=SO(s),dO=!1,0==(n=Math.sqrt(+s))||n==1/0?(((t=NO(s.d)).length+e)%2==0&&(t+="0"),n=Math.sqrt(t),e=mO((e+1)/2)-(e<0||e%2),a=new l(t=n==1/0?"5e"+e:(t=n.toExponential()).slice(0,t.indexOf("e")+1)+e)):a=new l(n.toString()),n=i=(r=l.precision)+3;;)if(a=(o=a).plus(kO(s,o,i+2)).times(.5),NO(o.d).slice(0,i)===(t=NO(a.d)).slice(0,i)){if(t=t.slice(i-3,i+1),n==i&&"4999"==t){if(AO(o,r+1,0),o.times(o).eq(s)){a=o;break}}else if("9999"!=t)break;i+=4}return dO=!0,AO(a,r)},yO.times=yO.mul=function(e){var t,r,a,n,o,i,s,l,c,d=this,u=d.constructor,p=d.d,h=(e=new u(e)).d;if(!d.s||!e.s)return new u(0);for(e.s*=d.s,r=d.e+e.e,(l=p.length)<(c=h.length)&&(o=p,p=h,h=o,i=l,l=c,c=i),o=[],a=i=l+c;a--;)o.push(0);for(a=c;--a>=0;){for(t=0,n=l+a;n>a;)s=o[n]+h[a]*p[n-a-1]+t,o[n--]=s%fO|0,t=s/fO|0;o[n]=(o[n]+t)%fO|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,dO?AO(e,u.precision):e},yO.toDecimalPlaces=yO.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),void 0===e?r:(jO(e,0,cO),void 0===t?t=a.rounding:jO(t,0,8),AO(r,e+SO(r)+1,t))},yO.toExponential=function(e,t){var r,a=this,n=a.constructor;return void 0===e?r=MO(a,!0):(jO(e,0,cO),void 0===t?t=n.rounding:jO(t,0,8),r=MO(a=AO(new n(a),e+1,t),!0,e+1)),r},yO.toFixed=function(e,t){var r,a,n=this,o=n.constructor;return void 0===e?MO(n):(jO(e,0,cO),void 0===t?t=o.rounding:jO(t,0,8),r=MO((a=AO(new o(n),e+SO(n)+1,t)).abs(),!1,e+SO(a)+1),n.isneg()&&!n.isZero()?"-"+r:r)},yO.toInteger=yO.toint=function(){var e=this,t=e.constructor;return AO(new t(e),SO(e)+1,t.rounding)},yO.toNumber=function(){return+this},yO.toPower=yO.pow=function(e){var t,r,a,n,o,i,s=this,l=s.constructor,c=+(e=new l(e));if(!e.s)return new l(lO);if(!(s=new l(s)).s){if(e.s<1)throw Error(uO+"Infinity");return s}if(s.eq(lO))return s;if(a=l.precision,e.eq(lO))return AO(s,a);if(i=(t=e.e)>=(r=e.d.length-1),o=s.s,i){if((r=c<0?-c:c)<=bO){for(n=new l(lO),t=Math.ceil(a/7+4),dO=!1;r%2&&TO((n=n.times(s)).d,t),0!==(r=mO(r/2));)TO((s=s.times(s)).d,t);return dO=!0,e.s<0?new l(lO).div(n):AO(n,a)}}else if(o<0)throw Error(uO+"NaN");return o=o<0&&1&e.d[Math.max(t,r)]?-1:1,s.s=1,dO=!1,n=e.times(OO(s,a+12)),dO=!0,(n=CO(n)).s=o,n},yO.toPrecision=function(e,t){var r,a,n=this,o=n.constructor;return void 0===e?a=MO(n,(r=SO(n))<=o.toExpNeg||r>=o.toExpPos):(jO(e,1,cO),void 0===t?t=o.rounding:jO(t,0,8),a=MO(n=AO(new o(n),e,t),e<=(r=SO(n))||r<=o.toExpNeg,e)),a},yO.toSignificantDigits=yO.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(jO(e,1,cO),void 0===t?t=r.rounding:jO(t,0,8)),AO(new r(this),e,t)},yO.toString=yO.valueOf=yO.val=yO.toJSON=yO[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=SO(e),r=e.constructor;return MO(e,t<=r.toExpNeg||t>=r.toExpPos)};var kO=function(){function e(e,t){var r,a=0,n=e.length;for(e=e.slice();n--;)r=e[n]*t+a,e[n]=r%fO|0,a=r/fO|0;return a&&e.unshift(a),e}function t(e,t,r,a){var n,o;if(r!=a)o=r>a?1:-1;else for(n=o=0;n<r;n++)if(e[n]!=t[n]){o=e[n]>t[n]?1:-1;break}return o}function r(e,t,r){for(var a=0;r--;)e[r]-=a,a=e[r]<t[r]?1:0,e[r]=a*fO+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(a,n,o,i){var s,l,c,d,u,p,h,m,g,x,f,b,v,y,w,j,N,k,C=a.constructor,S=a.s==n.s?1:-1,E=a.d,P=n.d;if(!a.s)return new C(a);if(!n.s)throw Error(uO+"Division by zero");for(l=a.e-n.e,N=P.length,w=E.length,m=(h=new C(S)).d=[],c=0;P[c]==(E[c]||0);)++c;if(P[c]>(E[c]||0)&&--l,(b=null==o?o=C.precision:i?o+(SO(a)-SO(n))+1:o)<0)return new C(0);if(b=b/7+2|0,c=0,1==N)for(d=0,P=P[0],b++;(c<w||d)&&b--;c++)v=d*fO+(E[c]||0),m[c]=v/P|0,d=v%P|0;else{for((d=fO/(P[0]+1)|0)>1&&(P=e(P,d),E=e(E,d),N=P.length,w=E.length),y=N,x=(g=E.slice(0,N)).length;x<N;)g[x++]=0;(k=P.slice()).unshift(0),j=P[0],P[1]>=fO/2&&++j;do{d=0,(s=t(P,g,N,x))<0?(f=g[0],N!=x&&(f=f*fO+(g[1]||0)),(d=f/j|0)>1?(d>=fO&&(d=fO-1),1==(s=t(u=e(P,d),g,p=u.length,x=g.length))&&(d--,r(u,N<p?k:P,p))):(0==d&&(s=d=1),u=P.slice()),(p=u.length)<x&&u.unshift(0),r(g,u,x),-1==s&&(s=t(P,g,N,x=g.length))<1&&(d++,r(g,N<x?k:P,x)),x=g.length):0===s&&(d++,g=[0]),m[c++]=d,s&&g[0]?g[x++]=E[y]||0:(g=[E[y]],x=1)}while((y++<w||void 0!==g[0])&&b--)}return m[0]||m.shift(),h.e=l,AO(h,i?o+SO(h)+1:o)}}();function CO(e,t){var r,a,n,o,i,s=0,l=0,c=e.constructor,d=c.precision;if(SO(e)>16)throw Error(hO+SO(e));if(!e.s)return new c(lO);for(dO=!1,i=d,o=new c(.03125);e.abs().gte(.1);)e=e.times(o),l+=5;for(i+=Math.log(gO(2,l))/Math.LN10*2+5|0,r=a=n=new c(lO),c.precision=i;;){if(a=AO(a.times(e),i),r=r.times(++s),NO((o=n.plus(kO(a,r,i))).d).slice(0,i)===NO(n.d).slice(0,i)){for(;l--;)n=AO(n.times(n),i);return c.precision=d,null==t?(dO=!0,AO(n,d)):n}n=o}}function SO(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function EO(e,t,r){if(t>e.LN10.sd())throw dO=!0,r&&(e.precision=r),Error(uO+"LN10 precision limit exceeded");return AO(new e(e.LN10),t)}function PO(e){for(var t="";e--;)t+="0";return t}function OO(e,t){var r,a,n,o,i,s,l,c,d,u=1,p=e,h=p.d,m=p.constructor,g=m.precision;if(p.s<1)throw Error(uO+(p.s?"NaN":"-Infinity"));if(p.eq(lO))return new m(0);if(null==t?(dO=!1,c=g):c=t,p.eq(10))return null==t&&(dO=!0),EO(m,c);if(c+=10,m.precision=c,a=(r=NO(h)).charAt(0),o=SO(p),!(Math.abs(o)<15e14))return l=EO(m,c+2,g).times(o+""),p=OO(new m(a+"."+r.slice(1)),c-10).plus(l),m.precision=g,null==t?(dO=!0,AO(p,g)):p;for(;a<7&&1!=a||1==a&&r.charAt(1)>3;)a=(r=NO((p=p.times(e)).d)).charAt(0),u++;for(o=SO(p),a>1?(p=new m("0."+r),o++):p=new m(a+"."+r.slice(1)),s=i=p=kO(p.minus(lO),p.plus(lO),c),d=AO(p.times(p),c),n=3;;){if(i=AO(i.times(d),c),NO((l=s.plus(kO(i,new m(n),c))).d).slice(0,c)===NO(s.d).slice(0,c))return s=s.times(2),0!==o&&(s=s.plus(EO(m,c+2,g).times(o+""))),s=kO(s,new m(u),c),m.precision=g,null==t?(dO=!0,AO(s,g)):s;s=l,n+=2}}function IO(e,t){var r,a,n;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;48===t.charCodeAt(a);)++a;for(n=t.length;48===t.charCodeAt(n-1);)--n;if(t=t.slice(a,n)){if(n-=a,r=r-a-1,e.e=mO(r/7),e.d=[],a=(r+1)%7,r<0&&(a+=7),a<n){for(a&&e.d.push(+t.slice(0,a)),n-=7;a<n;)e.d.push(+t.slice(a,a+=7));a=7-(t=t.slice(a)).length}else a-=n;for(;a--;)t+="0";if(e.d.push(+t),dO&&(e.e>vO||e.e<-vO))throw Error(hO+r)}else e.s=0,e.e=0,e.d=[0];return e}function AO(e,t,r){var a,n,o,i,s,l,c,d,u=e.d;for(i=1,o=u[0];o>=10;o/=10)i++;if((a=t-i)<0)a+=7,n=t,c=u[d=0];else{if((d=Math.ceil((a+1)/7))>=(o=u.length))return e;for(c=o=u[d],i=1;o>=10;o/=10)i++;n=(a%=7)-7+i}if(void 0!==r&&(s=c/(o=gO(10,i-n-1))%10|0,l=t<0||void 0!==u[d+1]||c%o,l=r<4?(s||l)&&(0==r||r==(e.s<0?3:2)):s>5||5==s&&(4==r||l||6==r&&(a>0?n>0?c/gO(10,i-n):0:u[d-1])%10&1||r==(e.s<0?8:7))),t<1||!u[0])return l?(o=SO(e),u.length=1,t=t-o-1,u[0]=gO(10,(7-t%7)%7),e.e=mO(-t/7)||0):(u.length=1,u[0]=e.e=e.s=0),e;if(0==a?(u.length=d,o=1,d--):(u.length=d+1,o=gO(10,7-a),u[d]=n>0?(c/gO(10,i-n)%gO(10,n)|0)*o:0),l)for(;;){if(0==d){(u[0]+=o)==fO&&(u[0]=1,++e.e);break}if(u[d]+=o,u[d]!=fO)break;u[d--]=0,o=1}for(a=u.length;0===u[--a];)u.pop();if(dO&&(e.e>vO||e.e<-vO))throw Error(hO+SO(e));return e}function DO(e,t){var r,a,n,o,i,s,l,c,d,u,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),dO?AO(t,h):t;if(l=e.d,u=t.d,a=t.e,c=e.e,l=l.slice(),i=c-a){for((d=i<0)?(r=l,i=-i,s=u.length):(r=u,a=c,s=l.length),i>(n=Math.max(Math.ceil(h/7),s)+2)&&(i=n,r.length=1),r.reverse(),n=i;n--;)r.push(0);r.reverse()}else{for((d=(n=l.length)<(s=u.length))&&(s=n),n=0;n<s;n++)if(l[n]!=u[n]){d=l[n]<u[n];break}i=0}for(d&&(r=l,l=u,u=r,t.s=-t.s),s=l.length,n=u.length-s;n>0;--n)l[s++]=0;for(n=u.length;n>i;){if(l[--n]<u[n]){for(o=n;o&&0===l[--o];)l[o]=fO-1;--l[o],l[n]+=fO}l[n]-=u[n]}for(;0===l[--s];)l.pop();for(;0===l[0];l.shift())--a;return l[0]?(t.d=l,t.e=a,dO?AO(t,h):t):new p(0)}function MO(e,t,r){var a,n=SO(e),o=NO(e.d),i=o.length;return t?(r&&(a=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+PO(a):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(n<0?"e":"e+")+n):n<0?(o="0."+PO(-n-1)+o,r&&(a=r-i)>0&&(o+=PO(a))):n>=i?(o+=PO(n+1-i),r&&(a=r-n-1)>0&&(o=o+"."+PO(a))):((a=n+1)<i&&(o=o.slice(0,a)+"."+o.slice(a)),r&&(a=r-i)>0&&(n+1===i&&(o+="."),o+=PO(a))),e.s<0?"-"+o:o}function TO(e,t){if(e.length>t)return e.length=t,!0}function FO(e){if(!e||"object"!=typeof e)throw Error(uO+"Object expected");var t,r,a,n=["precision",1,cO,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<n.length;t+=3)if(void 0!==(a=e[r=n[t]])){if(!(mO(a)===a&&a>=n[t+1]&&a<=n[t+2]))throw Error(pO+r+": "+a);this[r]=a}if(void 0!==(a=e[r="LN10"])){if(a!=Math.LN10)throw Error(pO+r+": "+a);this[r]=new this(a)}return this}var zO=function e(t){var r,a,n;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(pO+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):IO(t,e.toString())}if("string"!=typeof e)throw Error(pO+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!xO.test(e))throw Error(pO+e);IO(t,e)}if(o.prototype=yO,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=FO,void 0===t&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<n.length;)t.hasOwnProperty(a=n[r++])||(t[a]=this[a]);return o.config(t),o}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});lO=new zO(1);const RO=zO;var _O,LO=e=>e,$O={},UO=e=>e===$O,BO=e=>function t(){return 0===arguments.length||1===arguments.length&&UO(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},VO=(e,t)=>1===e?t:BO(function(){for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];var o=a.filter(e=>e!==$O).length;return o>=e?t(...a):VO(e-o,BO(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var o=a.map(e=>UO(e)?r.shift():e);return t(...o,...r)}))}),GO=(e,t)=>{for(var r=[],a=e;a<t;++a)r[a-e]=a;return r},qO=VO((_O=(e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)).length,_O);function HO(e){return 0===e?1:Math.floor(new RO(e).abs().log(10).toNumber())+1}function WO(e,t,r){for(var a=new RO(e),n=0,o=[];a.lt(t)&&n<1e5;)o.push(a.toNumber()),a=a.add(r),n++;return o}var KO=e=>{var[t,r]=e,[a,n]=[t,r];return t>r&&([a,n]=[r,t]),[a,n]},JO=(e,t,r)=>{if(e.lte(0))return new RO(0);var a=HO(e.toNumber()),n=new RO(10).pow(a),o=e.div(n),i=1!==a?.05:.1,s=new RO(Math.ceil(o.div(i).toNumber())).add(r).mul(i).mul(n);return new RO(t?s.toNumber():Math.ceil(s.toNumber()))},YO=(e,t,r)=>{var a=new RO(1),n=new RO(e);if(!n.isint()&&r){var o=Math.abs(e);o<1?(a=new RO(10).pow(HO(e)-1),n=new RO(Math.floor(n.div(a).toNumber())).mul(a)):o>1&&(n=new RO(Math.floor(e)))}else 0===e?n=new RO(Math.floor((t-1)/2)):r||(n=new RO(Math.floor(e)));var i=Math.floor((t-1)/2),s=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return LO;var a=t.reverse(),n=a[0],o=a.slice(1);return function(){return o.reduce((e,t)=>t(e),n(...arguments))}}(qO(e=>n.add(new RO(e-i).mul(a)).toNumber()),GO);return s(0,t)},XO=function(e,t,r,a){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new RO(0),tickMin:new RO(0),tickMax:new RO(0)};var o,i=JO(new RO(t).sub(e).div(r-1),a,n);o=e<=0&&t>=0?new RO(0):(o=new RO(e).add(t).div(2)).sub(new RO(o).mod(i));var s=Math.ceil(o.sub(e).div(i).toNumber()),l=Math.ceil(new RO(t).sub(o).div(i).toNumber()),c=s+l+1;return c>r?XO(e,t,r,a,n+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:i,tickMin:o.sub(new RO(s).mul(i)),tickMax:o.add(new RO(l).mul(i))})},QO=e=>e.rootProps.stackOffset,ZO=e=>e.rootProps.reverseStackOrder,eI=e=>e.options.chartName,tI=e=>e.rootProps.syncId,rI=e=>e.rootProps.syncMethod,aI=e=>e.options.eventEmitter,nI={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},oI=0,iI="auto",sI=!0,lI=!1,cI=!0,dI=0,uI="auto",pI=!0,hI=5,mI=(e,t)=>{if(e&&t)return null!=e&&e.reversed?[t[1],t[0]]:t},gI={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:oI,includeHidden:!1,name:void 0,reversed:!1,scale:iI,tick:sI,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},xI={allowDataOverflow:lI,allowDecimals:!1,allowDuplicatedCategory:cI,dataKey:void 0,domain:void 0,id:dI,includeHidden:!1,name:void 0,reversed:!1,scale:uI,tick:pI,tickCount:hI,ticks:void 0,type:"number",unit:void 0},fI={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:oI,includeHidden:!1,name:void 0,reversed:!1,scale:iI,tick:sI,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},bI={allowDataOverflow:lI,allowDecimals:!1,allowDuplicatedCategory:cI,dataKey:void 0,domain:void 0,id:dI,includeHidden:!1,name:void 0,reversed:!1,scale:uI,tick:pI,tickCount:hI,ticks:void 0,type:"category",unit:void 0},vI=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?fI:gI,yI=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?bI:xI,wI=e=>e.polarOptions,jI=Bx([uy,py,Ey],XN),NI=Bx([wI,jI],(e,t)=>{if(null!=e)return vm(e.innerRadius,t,0)}),kI=Bx([wI,jI],(e,t)=>{if(null!=e)return vm(e.outerRadius,t,.8*t)}),CI=Bx([wI],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]});Bx([vI,CI],mI);var SI=Bx([jI,NI,kI],(e,t,r)=>{if(null!=e&&null!=t&&null!=r)return[t,r]});Bx([yI,SI],mI);var EI=Bx([dw,wI,NI,kI,uy,py],(e,t,r,a,n,o)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=r&&null!=a){var{cx:i,cy:s,startAngle:l,endAngle:c}=t;return{cx:vm(i,n,n/2),cy:vm(s,o,o/2),innerRadius:r,outerRadius:a,startAngle:l,endAngle:c,clockWise:!1}}}),PI=(e,t)=>t,OI=(e,t,r)=>r;function II(e){return null==e?void 0:e.id}function AI(e,t,r){var{chartData:a=[]}=t,{allowDuplicatedCategory:n,dataKey:o}=r,i=new Map;return e.forEach(e=>{var t,r=null!==(t=e.data)&&void 0!==t?t:a;if(null!=r&&0!==r.length){var s=II(e);r.forEach((t,r)=>{var a,l=null==o||n?r:String(Xv(t,o,null)),c=Xv(t,e.dataKey,0);a=i.has(l)?i.get(l):{},Object.assign(a,{[s]:c}),i.set(l,a)})}}),Array.from(i.values())}function DI(e){return"stackId"in e&&null!=e.stackId&&null!=e.dataKey}var MI=(e,t)=>e===t||null!=e&&null!=t&&(e[0]===t[0]&&e[1]===t[1]);function TI(e,t){return!(!Array.isArray(e)||!Array.isArray(t)||0!==e.length||0!==t.length)||e===t}var FI=e=>{var t=dw(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},zI=e=>e.tooltip.settings.axisId;function RI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function _I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?RI(Object(r),!0).forEach(function(t){LI(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function LI(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $I=[0,"auto"],UI={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},BI=(e,t)=>e.cartesianAxis.xAxis[t],VI=(e,t)=>{var r=BI(e,t);return null==r?UI:r},GI={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:$I,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},qI=(e,t)=>e.cartesianAxis.yAxis[t],HI=(e,t)=>{var r=qI(e,t);return null==r?GI:r},WI={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},KI=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return null==r?WI:r},JI=(e,t,r)=>{switch(t){case"xAxis":return VI(e,r);case"yAxis":return HI(e,r);case"zAxis":return KI(e,r);case"angleAxis":return vI(e,r);case"radiusAxis":return yI(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},YI=(e,t,r)=>{switch(t){case"xAxis":return VI(e,r);case"yAxis":return HI(e,r);case"angleAxis":return vI(e,r);case"radiusAxis":return yI(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},XI=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function QI(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var ZI=e=>e.graphicalItems.cartesianItems,eA=Bx([PI,OI],QI),tA=(e,t,r)=>e.filter(r).filter(e=>!0===(null==t?void 0:t.includeHidden)||!e.hide),rA=Bx([ZI,JI,eA],tA,{memoizeOptions:{resultEqualityCheck:TI}}),aA=Bx([rA],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(DI)),nA=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),oA=Bx([rA],nA),iA=e=>e.map(e=>e.data).filter(Boolean).flat(1),sA=Bx([rA],iA,{memoizeOptions:{resultEqualityCheck:TI}}),lA=(e,t)=>{var{chartData:r=[],dataStartIndex:a,dataEndIndex:n}=t;return e.length>0?e:r.slice(a,n+1)},cA=Bx([sA,nO],lA),dA=(e,t,r)=>null!=(null==t?void 0:t.dataKey)?e.map(e=>({value:Xv(e,t.dataKey)})):r.length>0?r.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:Xv(e,t)}))):e.map(e=>({value:e})),uA=Bx([cA,JI,rA],dA);function pA(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function hA(e){if(xm(e)||e instanceof Date){var t=Number(e);if(Hv(t))return t}}function mA(e){if(Array.isArray(e)){var t=[hA(e[0]),hA(e[1])];return oO(t)?t:void 0}var r=hA(e);if(null!=r)return[r,r]}function gA(e){return e.map(hA).filter(Cm)}var xA=e=>{var t=FI(e),r=zI(e);return YI(e,t,r)},fA=Bx([xA],e=>null==e?void 0:e.dataKey),bA=Bx([aA,nO,xA],AI),vA=(e,t,r,a)=>{var n=t.reduce((e,t)=>{if(null==t.stackId)return e;var r=e[t.stackId];return null==r&&(r=[]),r.push(t),e[t.stackId]=r,e},{});return Object.fromEntries(Object.entries(n).map(t=>{var[n,o]=t,i=a?[...o].reverse():o,s=i.map(II);return[n,{stackedData:ay(e,s,r),graphicalItems:i}]}))},yA=Bx([bA,aA,QO,ZO],vA),wA=(e,t,r,a)=>{var{dataStartIndex:n,dataEndIndex:o}=t;if(null==a&&"zAxis"!==r){var i=oy(e,n,o);if(null==i||0!==i[0]||0!==i[1])return i}},jA=Bx([JI],e=>e.allowDataOverflow),NA=e=>{var t;if(null==e||!("domain"in e))return $I;if(null!=e.domain)return e.domain;if("ticks"in e&&null!=e.ticks){if("number"===e.type){var r=gA(e.ticks);return[Math.min(...r),Math.max(...r)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null==e?void 0:e.domain)&&void 0!==t?t:$I},kA=Bx([JI],NA),CA=Bx([kA,jA],sO),SA=Bx([yA,rO,PI,CA],wA,{memoizeOptions:{resultEqualityCheck:MI}}),EA=e=>e.errorBars,PA=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=t.filter(Boolean);if(0!==a.length){var n=a.flat();return[Math.min(...n),Math.max(...n)]}},OA=(e,t,r,a,n)=>{var o,i;if(r.length>0&&e.forEach(e=>{r.forEach(r=>{var s,l,c=null===(s=a[r.id])||void 0===s?void 0:s.filter(e=>pA(n,e)),d=Xv(e,null!==(l=t.dataKey)&&void 0!==l?l:r.dataKey),u=function(e,t,r){return!r||"number"!=typeof t||hm(t)?[]:r.length?gA(r.flatMap(r=>{var a,n,o=Xv(e,r.dataKey);if(Array.isArray(o)?[a,n]=o:a=n=o,Hv(a)&&Hv(n))return[t-a,t+n]})):[]}(e,d,c);if(u.length>=2){var p=Math.min(...u),h=Math.max(...u);(null==o||p<o)&&(o=p),(null==i||h>i)&&(i=h)}var m=mA(d);null!=m&&(o=null==o?m[0]:Math.min(o,m[0]),i=null==i?m[1]:Math.max(i,m[1]))})}),null!=(null==t?void 0:t.dataKey)&&e.forEach(e=>{var r=mA(Xv(e,t.dataKey));null!=r&&(o=null==o?r[0]:Math.min(o,r[0]),i=null==i?r[1]:Math.max(i,r[1]))}),Hv(o)&&Hv(i))return[o,i]},IA=Bx([cA,JI,oA,EA,PI],OA,{memoizeOptions:{resultEqualityCheck:MI}});function AA(e){var{value:t}=e;if(xm(t)||t instanceof Date)return t}var DA=e=>e.referenceElements.dots,MA=(e,t,r)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===r:e.yAxisId===r),TA=Bx([DA,PI,OI],MA),FA=e=>e.referenceElements.areas,zA=Bx([FA,PI,OI],MA),RA=e=>e.referenceElements.lines,_A=Bx([RA,PI,OI],MA),LA=(e,t)=>{if(null!=e){var r=gA(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==r.length)return[Math.min(...r),Math.max(...r)]}},$A=Bx(TA,PI,LA),UA=(e,t)=>{if(null!=e){var r=gA(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==r.length)return[Math.min(...r),Math.max(...r)]}},BA=Bx([zA,PI],UA);var VA=(e,t)=>{if(null!=e){var r=e.flatMap(e=>"xAxis"===t?function(e){var t;if(null!=e.x)return gA([e.x]);var r=null===(t=e.segment)||void 0===t?void 0:t.map(e=>e.x);return null==r||0===r.length?[]:gA(r)}(e):function(e){var t;if(null!=e.y)return gA([e.y]);var r=null===(t=e.segment)||void 0===t?void 0:t.map(e=>e.y);return null==r||0===r.length?[]:gA(r)}(e));if(0!==r.length)return[Math.min(...r),Math.max(...r)]}},GA=Bx([_A,PI],VA),qA=Bx($A,GA,BA,(e,t,r)=>PA(e,r,t)),HA=(e,t,r,a,n,o,i,s)=>null!=r?r:function(e,t,r){if(r||null!=t){if("function"==typeof e&&null!=t)try{var a=e(t,r);if(oO(a))return iO(a,t,r)}catch(h){}if(Array.isArray(e)&&2===e.length){var n,o,[i,s]=e;if("auto"===i)null!=t&&(n=Math.min(...t));else if(gm(i))n=i;else if("function"==typeof i)try{null!=t&&(n=i(null==t?void 0:t[0]))}catch(m){}else if("string"==typeof i&&iy.test(i)){var l=iy.exec(i);if(null==l||null==l[1]||null==t)n=void 0;else{var c=+l[1];n=t[0]-c}}else n=null==t?void 0:t[0];if("auto"===s)null!=t&&(o=Math.max(...t));else if(gm(s))o=s;else if("function"==typeof s)try{null!=t&&(o=s(null==t?void 0:t[1]))}catch(g){}else if("string"==typeof s&&sy.test(s)){var d=sy.exec(s);if(null==d||null==d[1]||null==t)o=void 0;else{var u=+d[1];o=t[1]+u}}else o=null==t?void 0:t[1];var p=[n,o];if(oO(p))return null==t?p:iO(p,t,r)}}}(t,"vertical"===i&&"xAxis"===s||"horizontal"===i&&"yAxis"===s?PA(a,o,n):PA(o,n),e.allowDataOverflow),WA=Bx([JI,kA,CA,SA,IA,qA,dw,PI],HA,{memoizeOptions:{resultEqualityCheck:MI}}),KA=[0,1],JA=(e,t,r,a,n,o,i)=>{if(null!=e&&null!=r&&0!==r.length||void 0!==i){var s,{dataKey:l,type:c}=e,d=Qv(t,o);return d&&null==l?wk(0,null!==(s=null==r?void 0:r.length)&&void 0!==s?s:0):"category"===c?((e,t,r)=>{var a=e.map(AA).filter(e=>null!=e);return r&&(null==t.dataKey||t.allowDuplicatedCategory&&ym(a))?wk(0,e.length):t.allowDuplicatedCategory?a:Array.from(new Set(a))})(a,e,d):"expand"===n?KA:i}},YA=Bx([JI,dw,cA,uA,QO,PI,WA],JA),XA=(e,t,r,a,n)=>{if(null!=e){var{scale:o,type:i}=e;if("auto"===o)return"radial"===t&&"radiusAxis"===n?"band":"radial"===t&&"angleAxis"===n?"linear":"category"===i&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!r)?"point":"category"===i?"band":"linear";if("string"==typeof o){var s="scale".concat(km(o));return s in tO?s:"point"}}},QA=Bx([JI,dw,XI,eI,PI],XA);function ZA(e,t,r,a){if(null!=r&&null!=a){if("function"==typeof e.scale)return e.scale.copy().domain(r).range(a);var n=function(e){if(null!=e){if(e in tO)return tO[e]();var t="scale".concat(km(e));return t in tO?tO[t]():void 0}}(t);if(null!=n){var o=n.domain(r).range(a);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,a=e.range(),n=Math.min(a[0],a[1])-ty,o=Math.max(a[0],a[1])+ty,i=e(t[0]),s=e(t[r-1]);(i<n||i>o||s<n||s>o)&&e.domain([t[0],t[r-1]])}})(o),o}}}var eD=(e,t,r)=>{var a=NA(t);if("auto"===r||"linear"===r)return null!=t&&t.tickCount&&Array.isArray(a)&&("auto"===a[0]||"auto"===a[1])&&oO(e)?function(e){var[t,r]=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(a,2),[i,s]=KO([t,r]);if(i===-1/0||s===1/0){var l=s===1/0?[i,...GO(0,a-1).map(()=>1/0)]:[...GO(0,a-1).map(()=>-1/0),s];return t>r?l.reverse():l}if(i===s)return YO(i,a,n);var{step:c,tickMin:d,tickMax:u}=XO(i,s,o,n,0),p=WO(d,u.add(new RO(.1).mul(c)),c);return t>r?p.reverse():p}(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&oO(e)?function(e,t){var[r,a]=e,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[o,i]=KO([r,a]);if(o===-1/0||i===1/0)return[r,a];if(o===i)return[o];var s=Math.max(t,2),l=JO(new RO(i).sub(o).div(s-1),n,0),c=[...WO(new RO(o),new RO(i),l),i];return!1===n&&(c=c.map(e=>Math.round(e))),r>a?c.reverse():c}(e,t.tickCount,t.allowDecimals):void 0},tD=Bx([YA,YI,QA],eD),rD=(e,t,r,a)=>{if("angleAxis"!==a&&"number"===(null==e?void 0:e.type)&&oO(t)&&Array.isArray(r)&&r.length>0){var n=t[0],o=r[0],i=t[1],s=r[r.length-1];return[Math.min(n,o),Math.max(i,s)]}return t},aD=Bx([JI,YA,tD,PI],rD),nD=Bx(uA,JI,(e,t)=>{if(t&&"number"===t.type){var r=1/0,a=Array.from(gA(e.map(e=>e.value))).sort((e,t)=>e-t),n=a[0],o=a[a.length-1];if(null==n||null==o)return 1/0;var i=o-n;if(0===i)return 1/0;for(var s=0;s<a.length-1;s++){var l=a[s],c=a[s+1];if(null!=l&&null!=c){var d=c-l;r=Math.min(r,d)}}return r/i}}),oD=Bx(nD,dw,e=>e.rootProps.barCategoryGap,Ey,(e,t,r,a,n)=>n,(e,t,r,a,n)=>{if(!Hv(e))return 0;var o="vertical"===t?a.height:a.width;if("gap"===n)return e*o/2;if("no-gap"===n){var i=vm(r,e*o),s=e*o/2;return s-i-(s-i)/o*i}return 0}),iD=Bx(VI,(e,t,r)=>{var a=VI(e,t);return null==a||"string"!=typeof a.padding?0:oD(e,"xAxis",t,r,a.padding)},(e,t)=>{var r,a;if(null==e)return{left:0,right:0};var{padding:n}=e;return"string"==typeof n?{left:t,right:t}:{left:(null!==(r=n.left)&&void 0!==r?r:0)+t,right:(null!==(a=n.right)&&void 0!==a?a:0)+t}}),sD=Bx(HI,(e,t,r)=>{var a=HI(e,t);return null==a||"string"!=typeof a.padding?0:oD(e,"yAxis",t,r,a.padding)},(e,t)=>{var r,a;if(null==e)return{top:0,bottom:0};var{padding:n}=e;return"string"==typeof n?{top:t,bottom:t}:{top:(null!==(r=n.top)&&void 0!==r?r:0)+t,bottom:(null!==(a=n.bottom)&&void 0!==a?a:0)+t}}),lD=Bx([Ey,iD,My,Dy,(e,t,r)=>r],(e,t,r,a,n)=>{var{padding:o}=a;return n?[o.left,r.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),cD=Bx([Ey,dw,sD,My,Dy,(e,t,r)=>r],(e,t,r,a,n,o)=>{var{padding:i}=n;return o?[a.height-i.bottom,i.top]:"horizontal"===t?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),dD=(e,t,r,a)=>{var n;switch(t){case"xAxis":return lD(e,r,a);case"yAxis":return cD(e,r,a);case"zAxis":return null===(n=KI(e,r))||void 0===n?void 0:n.range;case"angleAxis":return CI(e);case"radiusAxis":return SI(e,r);default:return}},uD=Bx([JI,dD],mI),pD=Bx([JI,QA,aD,uD],ZA);function hD(e,t){return e.id<t.id?-1:e.id>t.id?1:0}Bx([rA,EA,PI],(e,t,r)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>pA(r,e)));var mD=(e,t)=>t,gD=(e,t,r)=>r,xD=Bx(gy,mD,gD,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(hD)),fD=Bx(xy,mD,gD,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(hD)),bD=(e,t)=>({width:e.width,height:t.height}),vD=Bx(Ey,VI,bD),yD=Bx(py,Ey,xD,mD,gD,(e,t,r,a,n)=>{var o,i={};return r.forEach(r=>{var s=bD(t,r);null==o&&(o=((e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}})(t,a,e));var l="top"===a&&!n||"bottom"===a&&n;i[r.id]=o-Number(l)*s.height,o+=(l?-1:1)*s.height}),i}),wD=Bx(uy,Ey,fD,mD,gD,(e,t,r,a,n)=>{var o,i={};return r.forEach(r=>{var s=((e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height}))(t,r);null==o&&(o=((e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}})(t,a,e));var l="left"===a&&!n||"right"===a&&n;i[r.id]=o-Number(l)*s.width,o+=(l?-1:1)*s.width}),i}),jD=Bx([Ey,VI,(e,t)=>{var r=VI(e,t);if(null!=r)return yD(e,r.orientation,r.mirror)},(e,t)=>t],(e,t,r,a)=>{if(null!=t){var n=null==r?void 0:r[a];return null==n?{x:e.left,y:0}:{x:e.left,y:n}}}),ND=Bx([Ey,HI,(e,t)=>{var r=HI(e,t);if(null!=r)return wD(e,r.orientation,r.mirror)},(e,t)=>t],(e,t,r,a)=>{if(null!=t){var n=null==r?void 0:r[a];return null==n?{x:0,y:e.top}:{x:n,y:e.top}}}),kD=Bx(Ey,HI,(e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height})),CD=(e,t,r,a)=>{if(null!=r){var{allowDuplicatedCategory:n,type:o,dataKey:i}=r,s=Qv(e,a),l=t.map(e=>e.value);return i&&s&&"category"===o&&n&&ym(l)?l:void 0}},SD=Bx([dw,uA,JI,PI],CD),ED=(e,t,r,a)=>{if(null!=r&&null!=r.dataKey){var{type:n,scale:o}=r;return!Qv(e,a)||"number"!==n&&"auto"===o?void 0:t.map(e=>e.value)}},PD=Bx([dw,uA,YI,PI],ED),OD=Bx([dw,(e,t,r)=>{switch(t){case"xAxis":return VI(e,r);case"yAxis":return HI(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},QA,pD,SD,PD,dD,tD,PI],(e,t,r,a,n,o,i,s,l)=>{if(null!=t){var c=Qv(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:o,duplicateDomain:n,isCategorical:c,niceTicks:s,range:i,realScaleType:r,scale:a}}}),ID=Bx([dw,YI,QA,pD,tD,dD,SD,PD,PI],(e,t,r,a,n,o,i,s,l)=>{if(null!=t&&null!=a){var c=Qv(e,l),{type:d,ticks:u,tickCount:p}=t,h="scaleBand"===r&&"function"==typeof a.bandwidth?a.bandwidth()/2:2,m="category"===d&&a.bandwidth?a.bandwidth()/h:0;m="angleAxis"===l&&null!=o&&o.length>=2?2*pm(o[0]-o[1])*m:m;var g=u||n;return g?g.map((e,t)=>{var r=i?i.indexOf(e):e;return{index:t,coordinate:a(r)+m,value:e,offset:m}}).filter(e=>Hv(e.coordinate)):c&&s?s.map((e,t)=>({coordinate:a(e)+m,value:e,index:t,offset:m})).filter(e=>Hv(e.coordinate)):a.ticks?a.ticks(p).map(e=>({coordinate:a(e)+m,value:e,offset:m})):a.domain().map((e,t)=>({coordinate:a(e)+m,value:i?i[e]:e,index:t,offset:m}))}}),AD=Bx([dw,YI,pD,dD,SD,PD,PI],(e,t,r,a,n,o,i)=>{if(null!=t&&null!=r&&null!=a&&a[0]!==a[1]){var s=Qv(e,i),{tickCount:l}=t,c=0;return c="angleAxis"===i&&(null==a?void 0:a.length)>=2?2*pm(a[0]-a[1])*c:c,s&&o?o.map((e,t)=>({coordinate:r(e)+c,value:e,index:t,offset:c})):r.ticks?r.ticks(l).map(e=>({coordinate:r(e)+c,value:e,offset:c})):r.domain().map((e,t)=>({coordinate:r(e)+c,value:n?n[e]:e,index:t,offset:c}))}}),DD=Bx(JI,pD,(e,t)=>{if(null!=e&&null!=t)return _I(_I({},e),{},{scale:t})}),MD=Bx([JI,QA,YA,uD],ZA);Bx((e,t,r)=>KI(e,r),MD,(e,t)=>{if(null!=e&&null!=t)return _I(_I({},e),{},{scale:t})});var TD=Bx([dw,gy,xy],(e,t,r)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),FD=e=>e.options.defaultTooltipEventType,zD=e=>e.options.validateTooltipEventTypes;function RD(e,t,r){if(null==e)return t;var a=e?"axis":"item";return null==r?t:r.includes(a)?a:t}function _D(e,t){return RD(t,FD(e),zD(e))}var LD=(e,t)=>{var r,a=Number(t);if(!hm(a)&&null!=t)return a>=0?null==e||null===(r=e[a])||void 0===r?void 0:r.value:void 0},$D={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},UD=ov({name:"tooltip",initialState:{itemInteraction:{click:$D,hover:$D},axisInteraction:{click:$D,hover:$D},keyboardInteraction:$D,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Jb()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:a}=t.payload,n=zb(e).tooltipItemPayloads.indexOf(r);n>-1&&(e.tooltipItemPayloads[n]=a)},prepare:Jb()},removeTooltipEntrySettings:{reducer(e,t){var r=zb(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Jb()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:BD,replaceTooltipEntrySettings:VD,removeTooltipEntrySettings:GD,setTooltipSettingsState:qD,setActiveMouseOverItemIndex:HD,mouseLeaveItem:WD,mouseLeaveChart:KD,setActiveClickItemIndex:JD,setMouseOverAxisIndex:YD,setMouseClickAxisIndex:XD,setSyncInteraction:QD,setKeyboardInteraction:ZD}=UD.actions,eM=UD.reducer;function tM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function rM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tM(Object(r),!0).forEach(function(t){aM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function aM(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var nM=(e,t,r,a)=>{if(null==t)return $D;var n=function(e,t,r){return"axis"===t?"click"===r?e.axisInteraction.click:e.axisInteraction.hover:"click"===r?e.itemInteraction.click:e.itemInteraction.hover}(e,t,r);if(null==n)return $D;if(n.active)return n;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var o=!0===e.settings.active;if(null!=n.index){if(o)return rM(rM({},n),{},{active:!0})}else if(null!=a)return{active:!0,coordinate:void 0,dataKey:void 0,index:a,graphicalItemId:void 0};return rM(rM({},$D),{},{coordinate:n.coordinate})};function oM(e,t){var r=function(e){if("number"==typeof e)return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}(e),a=t[0],n=t[1];if(void 0===r)return!1;var o=Math.min(a,n),i=Math.max(a,n);return r>=o&&r<=i}var iM=(e,t,r,a)=>{var n=null==e?void 0:e.index;if(null==n)return null;var o=Number(n);if(!Hv(o))return n;var i=1/0;t.length>0&&(i=t.length-1);var s=Math.max(0,Math.min(o,i)),l=t[s];return null==l||function(e,t,r){if(null==r||null==t)return!0;var a=Xv(e,t);return null==a||!oO(r)||oM(a,r)}(l,r,a)?String(s):null},sM=(e,t,r,a,n,o,i,s)=>{if(null!=o&&null!=s){var l=i[0],c=null==l?void 0:s(l.positions,o);if(null!=c)return c;var d=null==n?void 0:n[Number(o)];if(d)return"horizontal"===r?{x:d.coordinate,y:(a.top+t)/2}:{x:(a.left+e)/2,y:d.coordinate}}},lM=(e,t,r,a)=>{if("axis"===t)return e.tooltipItemPayloads;if(0===e.tooltipItemPayloads.length)return[];var n;if(null==(n="hover"===r?e.itemInteraction.hover.graphicalItemId:e.itemInteraction.click.graphicalItemId)&&null!=a){var o=e.tooltipItemPayloads[0];return null!=o?[o]:[]}return e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.graphicalItemId)===n})},cM=e=>e.options.tooltipPayloadSearcher,dM=e=>e.tooltip;function uM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function pM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uM(Object(r),!0).forEach(function(t){hM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function hM(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mM=(e,t,r,a,n,o,i)=>{if(null!=t&&null!=o){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:d}=r;return e.reduce((e,r)=>{var u,p,h,{dataDefinedOnItem:m,settings:g}=r,x=function(e,t){return null!=e?e:t}(m,s),f=Array.isArray(x)?qv(x,c,d):x,b=null!==(u=null==g?void 0:g.dataKey)&&void 0!==u?u:a,v=null==g?void 0:g.nameKey;(p=a&&Array.isArray(f)&&!Array.isArray(f[0])&&"axis"===i?jm(f,a,n):o(f,t,l,v),Array.isArray(p))?p.forEach(t=>{var r=pM(pM({},g),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(cy({tooltipEntrySettings:r,dataKey:t.dataKey,payload:t.payload,value:Xv(t.payload,t.dataKey),name:t.name}))}):e.push(cy({tooltipEntrySettings:g,dataKey:b,payload:p,value:Xv(p,b),name:null!==(h=Xv(p,v))&&void 0!==h?h:null==g?void 0:g.name}));return e},[])}},gM=Bx([xA,dw,XI,eI,FI],XA),xM=Bx([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),fM=Bx([FI,zI],QI),bM=Bx([xM,xA,fM],tA,{memoizeOptions:{resultEqualityCheck:TI}}),vM=Bx([bM],e=>e.filter(DI)),yM=Bx([bM],iA,{memoizeOptions:{resultEqualityCheck:TI}}),wM=Bx([yM,rO],lA),jM=Bx([vM,rO,xA],AI),NM=Bx([wM,xA,bM],dA),kM=Bx([xA],NA),CM=Bx([xA],e=>e.allowDataOverflow),SM=Bx([kM,CM],sO),EM=Bx([bM],e=>e.filter(DI)),PM=Bx([jM,EM,QO,ZO],vA),OM=Bx([PM,rO,FI,SM],wA),IM=Bx([bM],nA),AM=Bx([wM,xA,IM,EA,FI],OA,{memoizeOptions:{resultEqualityCheck:MI}}),DM=Bx([DA,FI,zI],MA),MM=Bx([DM,FI],LA),TM=Bx([FA,FI,zI],MA),FM=Bx([TM,FI],UA),zM=Bx([RA,FI,zI],MA),RM=Bx([zM,FI],VA),_M=Bx([MM,RM,FM],PA),LM=Bx([xA,kM,SM,OM,AM,_M,dw,FI],HA),$M=Bx([xA,dw,wM,NM,QO,FI,LM],JA),UM=Bx([$M,xA,gM],eD),BM=Bx([xA,$M,UM,FI],rD),VM=e=>{var t=FI(e),r=zI(e);return dD(e,t,r,!1)},GM=Bx([xA,VM],mI),qM=Bx([xA,gM,BM,GM],ZA),HM=Bx([dw,NM,xA,FI],CD),WM=Bx([dw,NM,xA,FI],ED),KM=Bx([dw,xA,gM,qM,VM,HM,WM,FI],(e,t,r,a,n,o,i,s)=>{if(t){var{type:l}=t,c=Qv(e,s);if(a){var d="scaleBand"===r&&a.bandwidth?a.bandwidth()/2:2,u="category"===l&&a.bandwidth?a.bandwidth()/d:0;return u="angleAxis"===s&&null!=n&&(null==n?void 0:n.length)>=2?2*pm(n[0]-n[1])*u:u,c&&i?i.map((e,t)=>({coordinate:a(e)+u,value:e,index:t,offset:u})):a.domain().map((e,t)=>({coordinate:a(e)+u,value:o?o[e]:e,index:t,offset:u}))}}}),JM=Bx([FD,zD,e=>e.tooltip.settings],(e,t,r)=>RD(r.shared,e,t)),YM=e=>e.tooltip.settings.trigger,XM=e=>e.tooltip.settings.defaultIndex,QM=Bx([dM,JM,YM,XM],nM),ZM=Bx([QM,wM,fA,$M],iM),eT=Bx([KM,ZM],LD),tT=Bx([QM],e=>{if(e)return e.dataKey}),rT=Bx([QM],e=>{if(e)return e.graphicalItemId}),aT=Bx([dM,JM,YM,XM],lM),nT=Bx([uy,py,dw,Ey,KM,XM,aT,cM],sM),oT=Bx([QM,nT],(e,t)=>null!=e&&e.coordinate?e.coordinate:t),iT=Bx([QM],e=>{var t;return null!==(t=null==e?void 0:e.active)&&void 0!==t&&t}),sT=Bx([aT,ZM,rO,fA,eT,cM,JM],mM),lT=Bx([sT],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}});function cT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function dT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cT(Object(r),!0).forEach(function(t){uT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function uT(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pT=()=>{var e=Tx(xA),t=Tx(KM),r=Tx(qM);return ly(e&&r?dT(dT({},e),{},{scale:r}):void 0,t)};function hT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function mT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hT(Object(r),!0).forEach(function(t){gT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function gT(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xT=(e,t,r,a,n)=>{var o,i=null!==(o=null==t?void 0:t.length)&&void 0!==o?o:0;if(i<=1||null==e)return 0;if("angleAxis"===a&&null!=n&&Math.abs(Math.abs(n[1]-n[0])-360)<=1e-6)for(var s=0;s<i;s++){var l,c,d,u,p,h=s>0?null===(l=r[s-1])||void 0===l?void 0:l.coordinate:null===(c=r[i-1])||void 0===c?void 0:c.coordinate,m=null===(d=r[s])||void 0===d?void 0:d.coordinate,g=s>=i-1?null===(u=r[0])||void 0===u?void 0:u.coordinate:null===(p=r[s+1])||void 0===p?void 0:p.coordinate,x=void 0;if(null!=h&&null!=m&&null!=g)if(pm(m-h)!==pm(g-m)){var f=[];if(pm(g-m)===pm(n[1]-n[0])){x=g;var b=m+n[1]-n[0];f[0]=Math.min(b,(b+h)/2),f[1]=Math.max(b,(b+h)/2)}else{x=h;var v=g+n[1]-n[0];f[0]=Math.min(m,(v+m)/2),f[1]=Math.max(m,(v+m)/2)}var y,w=[Math.min(m,(x+m)/2),Math.max(m,(x+m)/2)];if(e>w[0]&&e<=w[1]||e>=f[0]&&e<=f[1])return null===(y=r[s])||void 0===y?void 0:y.index}else{var j,N=Math.min(h,g),k=Math.max(h,g);if(e>(N+m)/2&&e<=(k+m)/2)return null===(j=r[s])||void 0===j?void 0:j.index}}else if(t)for(var C=0;C<i;C++){var S=t[C];if(null!=S){var E=t[C+1],P=t[C-1];if(0===C&&null!=E&&e<=(S.coordinate+E.coordinate)/2)return S.index;if(C===i-1&&null!=P&&e>(S.coordinate+P.coordinate)/2)return S.index;if(C>0&&C<i-1&&null!=P&&null!=E&&e>(S.coordinate+P.coordinate)/2&&e<=(S.coordinate+E.coordinate)/2)return S.index}}return-1},fT=()=>Tx(eI),bT=(e,t)=>t,vT=(e,t,r)=>r,yT=(e,t,r,a)=>a,wT=Bx(KM,e=>mf(e,e=>e.coordinate)),jT=Bx([dM,bT,vT,yT],nM),NT=Bx([jT,wM,fA,$M],iM),kT=Bx([dM,bT,vT,yT],lM),CT=Bx([uy,py,dw,Ey,KM,yT,kT,cM],sM),ST=Bx([jT,CT],(e,t)=>{var r;return null!==(r=e.coordinate)&&void 0!==r?r:t}),ET=Bx([KM,NT],LD),PT=Bx([kT,NT,rO,fA,ET,cM,bT],mM),OT=Bx([jT,NT],(e,t)=>({isActive:e.active&&null!=t,activeIndex:t})),IT=(e,t,r,a,n,o,i)=>{if(e&&a&&n&&o&&r){var s=ek(e,r);if(s){var l=((e,t)=>"centric"===t?e.angle:e.radius)(s,t),c=xT(l,i,o,a,n),d=((e,t,r,a)=>{var n=t.find(e=>e&&e.index===r);if(n){if("centric"===e){var o=n.coordinate,{radius:i}=a;return mT(mT(mT({},a),YN(a.cx,a.cy,i,o)),{},{angle:o,radius:i})}var s=n.coordinate,{angle:l}=a;return mT(mT(mT({},a),YN(a.cx,a.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}})(t,o,c,s);return{activeIndex:String(c),activeCoordinate:d}}}},AT=Bx(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(null!=t){var a=e[t];if(null!=a)return r?a.panoramaElement:a.element}}),DT=Bx(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(e=>parseInt(e,10)).concat(Object.values(nI));return Array.from(new Set(t)).sort((e,t)=>e-t)},{memoizeOptions:{resultEqualityCheck:function(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}}});function MT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function TT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?MT(Object(r),!0).forEach(function(t){FT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function FT(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var zT={zIndexMap:Object.values(nI).reduce((e,t)=>TT(TT({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),{})},RT=new Set(Object.values(nI));var _T=ov({name:"zIndex",initialState:zT,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Jb()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!function(e){return RT.has(e)}(r)&&delete e.zIndexMap[r])},prepare:Jb()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:a,isPanorama:n}=t.payload;e.zIndexMap[r]?n?e.zIndexMap[r].panoramaElement=a:e.zIndexMap[r].element=a:e.zIndexMap[r]={consumers:0,element:n?void 0:a,panoramaElement:n?a:void 0}},prepare:Jb()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Jb()}}}),{registerZIndexPortal:LT,unregisterZIndexPortal:$T,registerZIndexPortalElement:UT,unregisterZIndexPortalElement:BT}=_T.actions,VT=_T.reducer;function GT(e){var{zIndex:t,children:r}=e,a=void 0!==uw()&&void 0!==t&&0!==t,n=Ay(),o=Ix();W.useLayoutEffect(()=>a?(o(LT({zIndex:t})),()=>{o($T({zIndex:t}))}):Sm,[o,t,a]);var i=Tx(e=>AT(e,t,n));return a?i?de.createPortal(r,i):null:r}function qT(){return qT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},qT.apply(null,arguments)}function HT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function WT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?HT(Object(r),!0).forEach(function(t){KT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function KT(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JT(e){var{cursor:t,cursorComp:r,cursorProps:a}=e;return W.isValidElement(t)?W.cloneElement(t,a):W.createElement(r,a)}function YT(e){var t,r,a,n,{coordinate:o,payload:i,index:s,offset:l,tooltipAxisBandSize:c,layout:d,cursor:u,tooltipEventType:p,chartName:h}=e,m=o,g=i,x=s;if(!u||!m||"ScatterChart"!==h&&"axis"!==p)return null;if("ScatterChart"===h)r=m,a=$j,n=nI.cursorLine;else if("BarChart"===h)r=function(e,t,r,a){var n=a/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-n:r.left+.5,y:"horizontal"===e?r.top+.5:t.y-n,width:"horizontal"===e?a:r.width-1,height:"horizontal"===e?r.height-1:a}}(d,m,l,c),a=RN,n=nI.cursorRectangle;else if("radial"===d&&Fm(m)){var{cx:f,cy:b,radius:v,startAngle:y,endAngle:w}=tk(m);r={cx:f,cy:b,startAngle:y,endAngle:w,innerRadius:v,outerRadius:v},a=sk,n=nI.cursorLine}else r={points:lk(d,m,l)},a=Tj,n=nI.cursorLine;var j="object"==typeof u&&"className"in u?u.className:void 0,N=WT(WT(WT(WT({stroke:"#ccc",pointerEvents:"none"},l),r),Op(u)),{},{payload:g,payloadIndex:x,className:ws("recharts-tooltip-cursor",j)});return W.createElement(GT,{zIndex:null!==(t=e.zIndex)&&void 0!==t?t:n},W.createElement(JT,{cursor:u,cursorComp:a,cursorProps:N}))}function XT(e){var t=pT(),r=sw(),a=uw(),n=fT();return null==t||null==r||null==a||null==n?null:W.createElement(YT,qT({},e,{offset:r,layout:a,tooltipAxisBandSize:t,chartName:n}))}var QT,ZT=W.createContext(null),eF={exports:{}};var tF=(QT||(QT=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}function n(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,a,o,i){if("function"!=typeof a)throw new TypeError("The listener must be a function");var s=new n(a,o||e,i),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function i(e,t){0===--e._eventsCount?e._events=new a:delete e._events[t]}function s(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,a,n=[];if(0===this._eventsCount)return n;for(a in e=this._events)t.call(e,a)&&n.push(r?a.slice(1):a);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},s.prototype.listeners=function(e){var t=r?r+e:e,a=this._events[t];if(!a)return[];if(a.fn)return[a.fn];for(var n=0,o=a.length,i=new Array(o);n<o;n++)i[n]=a[n].fn;return i},s.prototype.listenerCount=function(e){var t=r?r+e:e,a=this._events[t];return a?a.fn?1:a.length:0},s.prototype.emit=function(e,t,a,n,o,i){var s=r?r+e:e;if(!this._events[s])return!1;var l,c,d=this._events[s],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,a),!0;case 4:return d.fn.call(d.context,t,a,n),!0;case 5:return d.fn.call(d.context,t,a,n,o),!0;case 6:return d.fn.call(d.context,t,a,n,o,i),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var p,h=d.length;for(c=0;c<h;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,a);break;case 4:d[c].fn.call(d[c].context,t,a,n);break;default:if(!l)for(p=1,l=new Array(u-1);p<u;p++)l[p-1]=arguments[p];d[c].fn.apply(d[c].context,l)}}return!0},s.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,a,n){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return i(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||n&&!s.once||a&&s.context!==a||i(this,o);else{for(var l=0,c=[],d=s.length;l<d;l++)(s[l].fn!==t||n&&!s[l].once||a&&s[l].context!==a)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:i(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&i(this,t)):(this._events=new a,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s}(eF)),eF.exports);var rF=new(F(tF)),aF="recharts.syncEvent.tooltip",nF="recharts.syncEvent.brush";function oF(e,t){if(t){var r=Number.parseInt(t,10);if(!hm(r))return null==e?void 0:e[r]}}var iF=ov({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),sF=iF.reducer,{createEventEmitter:lF}=iF.actions;function cF(e){return e.tooltip.syncInteraction}var dF=ov({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:a}=t.payload;null!=r&&(e.dataStartIndex=r),null!=a&&(e.dataEndIndex=a)}}}),{setChartData:uF,setDataStartEndIndexes:pF,setComputedData:hF}=dF.actions,mF=dF.reducer,gF=["x","y"];function xF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function fF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xF(Object(r),!0).forEach(function(t){bF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function bF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vF(){var e=Tx(tI),t=Tx(aI),r=Ix(),a=Tx(rI),n=Tx(KM),o=uw(),i=ow(),s=Tx(e=>e.rootProps.className);W.useEffect(()=>{if(null==e)return Sm;var s=(s,l,c)=>{var d;if(t!==c&&e===s)if("index"!==a){if(null!=n){var u;if("function"==typeof a){var p={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},h=a(n,p);u=n[h]}else"value"===a&&(u=n.find(e=>String(e.value)===l.payload.label));var{coordinate:m}=l.payload;if(null!=u&&!1!==l.payload.active&&null!=m&&null!=i){var{x:g,y:x}=m,f=Math.min(g,i.x+i.width),b=Math.min(x,i.y+i.height),v={x:"horizontal"===o?u.coordinate:f,y:"horizontal"===o?b:u.coordinate},y=QD({active:l.payload.active,coordinate:v,dataKey:l.payload.dataKey,index:String(u.index),label:l.payload.label,sourceViewBox:l.payload.sourceViewBox,graphicalItemId:l.payload.graphicalItemId});r(y)}else r(QD({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}))}}else if(i&&null!=l&&null!==(d=l.payload)&&void 0!==d&&d.coordinate&&l.payload.sourceViewBox){var w=l.payload.coordinate,{x:j,y:N}=w,k=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(w,gF),{x:C,y:S,width:E,height:P}=l.payload.sourceViewBox,O=fF(fF({},k),{},{x:i.x+(E?(j-C)/E:0)*i.width,y:i.y+(P?(N-S)/P:0)*i.height});r(fF(fF({},l),{},{payload:fF(fF({},l.payload),{},{coordinate:O})}))}else r(l)};return rF.on(aF,s),()=>{rF.off(aF,s)}},[s,r,t,e,a,n,o,i])}function yF(){var e=Ix();W.useEffect(()=>{e(lF())},[e]),vF(),function(){var e=Tx(tI),t=Tx(aI),r=Ix();W.useEffect(()=>{if(null==e)return Sm;var a=(a,n,o)=>{t!==o&&e===a&&r(pF(n))};return rF.on(nF,a),()=>{rF.off(nF,a)}},[r,t,e])}()}function wF(e,t,r,a,n,o){var i=Tx(r=>((e,t,r)=>{if(null!=t){var a=dM(e);return"axis"===t?"hover"===r?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:"hover"===r?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}})(r,e,t)),s=Tx(aI),l=Tx(tI),c=Tx(rI),d=Tx(cF),u=null==d?void 0:d.active,p=ow();W.useEffect(()=>{if(!u&&null!=l&&null!=s){var e=QD({active:o,coordinate:r,dataKey:i,index:n,label:"number"==typeof a?String(a):a,sourceViewBox:p,graphicalItemId:void 0});rF.emit(aF,l,e,s)}},[u,r,i,n,a,s,l,c,o,p])}function jF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function NF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jF(Object(r),!0).forEach(function(t){kF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function kF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CF(e){return e.dataKey}var SF=[],EF={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function PF(e){var t,r,a=$m(e,EF),{active:n,allowEscapeViewBox:o,animationDuration:i,animationEasing:s,content:l,filterNull:c,isAnimationActive:d,offset:u,payloadUniqBy:p,position:h,reverseDirection:m,useTranslate3d:g,wrapperStyle:x,cursor:f,shared:b,trigger:v,defaultIndex:y,portal:w,axisId:j}=a,N=Ix(),k="number"==typeof y?String(y):y;W.useEffect(()=>{N(qD({shared:b,trigger:v,axisId:j,active:n,defaultIndex:k}))},[N,b,v,j,n,k]);var C=ow(),S=Nj(),E=function(e){return Tx(t=>_D(t,e))}(b),{activeIndex:P,isActive:O}=null!==(t=Tx(e=>OT(e,E,v,k)))&&void 0!==t?t:{},I=Tx(e=>PT(e,E,v,k)),A=Tx(e=>ET(e,E,v,k)),D=Tx(e=>ST(e,E,v,k)),M=I,T=W.useContext(ZT),F=null!==(r=null!=n?n:O)&&void 0!==r&&r,[z,R]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,r]=W.useState({height:0,left:0,top:0,width:0}),a=W.useCallback(e=>{if(null!=e){var a=e.getBoundingClientRect(),n={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(n.height-t.height)>1||Math.abs(n.left-t.left)>1||Math.abs(n.top-t.top)>1||Math.abs(n.width-t.width)>1)&&r({height:n.height,left:n.left,top:n.top,width:n.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,a]}([M,F]),_="axis"===E?A:void 0;wF(E,v,D,_,P,F);var L=null!=w?w:T;if(null==L||null==C||null==E)return null;var $=null!=M?M:SF;F||($=SF),c&&$.length&&($=function(e,t,r){return!0===t?fx(e,r):"function"==typeof t?fx(e,t):e}($.filter(e=>null!=e.value&&(!0!==e.hide||a.includeHidden)),p,CF));var U=$.length>0,B=W.createElement(jj,{allowEscapeViewBox:o,animationDuration:i,animationEasing:s,isAnimationActive:d,active:F,coordinate:D,hasPayload:U,offset:u,position:h,reverseDirection:m,useTranslate3d:g,viewBox:C,wrapperStyle:x,lastBoundingBox:z,innerRef:R,hasPortalFromProps:Boolean(w)},function(e,t){return W.isValidElement(e)?W.cloneElement(e,t):"function"==typeof e?W.createElement(e,t):W.createElement(mj,t)}(l,NF(NF({},a),{},{payload:$,label:_,active:F,activeIndex:P,coordinate:D,accessibilityLayer:S})));return W.createElement(W.Fragment,null,de.createPortal(B,L),F&&W.createElement(XT,{cursor:f,tooltipEventType:E,coordinate:D,payload:$,index:P}))}var OF=e=>null;function IF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}OF.displayName="Cell";function AF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function DF(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var MF=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?AF(Object(r),!0).forEach(function(t){DF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},{cacheSize:2e3,enableCache:!0}),TF=new class{constructor(e){IF(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;null!=r&&this.cache.delete(r)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(MF.cacheSize),FF={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},zF="recharts_measurement_span";var RF=(e,t)=>{try{var r=document.getElementById(zF);r||((r=document.createElement("span")).setAttribute("id",zF),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,FF,t),r.textContent="".concat(e);var a=r.getBoundingClientRect();return{width:a.width,height:a.height}}catch(n){return{width:0,height:0}}},_F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||uN)return{width:0,height:0};if(!MF.enableCache)return RF(e,t);var r=function(e,t){var r=t.fontSize||"",a=t.fontFamily||"",n=t.fontWeight||"",o=t.fontStyle||"",i=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(a,"|").concat(n,"|").concat(o,"|").concat(i,"|").concat(s)}(e,t),a=TF.get(r);if(a)return a;var n=RF(e,t);return TF.set(r,n),n};var LF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$F=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UF=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,BF=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,VF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},GF=["cm","mm","pt","pc","in","Q","px"];var qF="NaN";class HF{static parse(e){var t,[,r,a]=null!==(t=BF.exec(e))&&void 0!==t?t:[];return null==r?HF.NaN:new HF(parseFloat(r),null!=a?a:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,hm(e)&&(this.unit=""),""===t||UF.test(t)||(this.num=NaN,this.unit=""),function(e){return GF.includes(e)}(t)&&(this.num=function(e,t){return e*VF[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new HF(NaN,""):new HF(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new HF(NaN,""):new HF(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new HF(NaN,""):new HF(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new HF(NaN,""):new HF(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return hm(this.num)}}function WF(e){if(null==e||e.includes(qF))return qF;for(var t=e;t.includes("*")||t.includes("/");){var r,[,a,n,o]=null!==(r=LF.exec(t))&&void 0!==r?r:[],i=HF.parse(null!=a?a:""),s=HF.parse(null!=o?o:""),l="*"===n?i.multiply(s):i.divide(s);if(l.isNaN())return qF;t=t.replace(LF,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,u,p]=null!==(c=$F.exec(t))&&void 0!==c?c:[],h=HF.parse(null!=d?d:""),m=HF.parse(null!=p?p:""),g="+"===u?h.add(m):h.subtract(m);if(g.isNaN())return qF;t=t.replace($F,g.toString())}return t}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(HF,"NaN",new HF(NaN,""));var KF=/\(([^()]*)\)/;function JF(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,r=e;null!=(t=KF.exec(r));){var[,a]=t;r=r.replace(KF,WF(a))}return r}(t),t=WF(t)}function YF(e){var t=function(e){try{return JF(e)}catch(t){return qF}}(e.slice(5,-1));return t===qF?"":t}var XF=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],QF=["dx","dy","angle","className","breakAll"];function ZF(){return ZF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ZF.apply(null,arguments)}function ez(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var tz=/[ \f\n\r\t\v\u2028\u2029]+/,rz=e=>{var{children:t,breakAll:r,style:a}=e;try{var n=[];return Nm(t)||(n=r?t.toString().split(""):t.toString().split(tz)),{wordsWithComputedWidth:n.map(e=>({word:e,width:_F(e,a).width})),spaceWidth:r?0:_F("",a).width}}catch(o){return null}};function az(e){return"start"===e||"middle"===e||"end"===e||"inherit"===e}var nz=(e,t,r,a)=>e.reduce((e,n)=>{var{word:o,width:i}=n,s=e[e.length-1];if(s&&null!=i&&(null==t||a||s.width+i+r<Number(t)))s.words.push(o),s.width+=i+r;else{var l={words:[o],width:i};e.push(l)}return e},[]),oz=e=>e.reduce((e,t)=>e.width>t.width?e:t),iz=(e,t,r,a,n,o,i,s)=>{var l=e.slice(0,t),c=rz({breakAll:r,style:a,children:l+""});if(!c)return[!1,[]];var d=nz(c.wordsWithComputedWidth,o,i,s);return[d.length>n||oz(d).width>Number(o),d]},sz=e=>[{words:Nm(e)?[]:e.toString().split(tz),width:void 0}],lz=e=>{var{width:t,scaleToFit:r,children:a,style:n,breakAll:o,maxLines:i}=e;if((t||r)&&!uN){var s=rz({breakAll:o,children:a,style:n});if(!s)return sz(a);var{wordsWithComputedWidth:l,spaceWidth:c}=s;return((e,t,r,a,n)=>{var{maxLines:o,children:i,style:s,breakAll:l}=e,c=gm(o),d=String(i),u=nz(t,a,r,n);if(!c||n)return u;if(!(u.length>o||oz(u).width>Number(a)))return u;for(var p,h=0,m=d.length-1,g=0;h<=m&&g<=d.length-1;){var x=Math.floor((h+m)/2),f=x-1,[b,v]=iz(d,f,l,s,o,a,r,n),[y]=iz(d,x,l,s,o,a,r,n);if(b||y||(h=x+1),b&&y&&(m=x-1),!b&&y){p=v;break}g++}return p||u})({breakAll:o,children:a,maxLines:i,style:n},l,c,t,Boolean(r))}return sz(a)},cz="#808080",dz={angle:0,breakAll:!1,capHeight:"0.71em",fill:cz,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},uz=W.forwardRef((e,t)=>{var r=$m(e,dz),{x:a,y:n,lineHeight:o,capHeight:i,fill:s,scaleToFit:l,textAnchor:c,verticalAnchor:d}=r,u=ez(r,XF),p=W.useMemo(()=>lz({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:l,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,l,u.style,u.width]),{dx:h,dy:m,angle:g,className:x,breakAll:f}=u,b=ez(u,QF);if(!xm(a)||!xm(n)||0===p.length)return null;var v,y=Number(a)+(gm(h)?h:0),w=Number(n)+(gm(m)?m:0);if(!Hv(y)||!Hv(w))return null;switch(d){case"start":v=YF("calc(".concat(i,")"));break;case"middle":v=YF("calc(".concat((p.length-1)/2," * -").concat(o," + (").concat(i," / 2))"));break;default:v=YF("calc(".concat(p.length-1," * -").concat(o,")"))}var j=[];if(l){var N=p[0].width,{width:k}=u;j.push("scale(".concat(gm(k)&&gm(N)?k/N:1,")"))}return g&&j.push("rotate(".concat(g,", ").concat(y,", ").concat(w,")")),j.length&&(b.transform=j.join(" ")),W.createElement("text",ZF({},Ip(b),{ref:t,x:y,y:w,className:ws("recharts-text",x),textAnchor:c,fill:s.includes("url")?cz:s}),p.map((e,t)=>{var r=e.words.join(f?"":" ");return W.createElement("tspan",{x:y,dy:0===t?v:o,key:"".concat(r,"-").concat(t)},r)}))});uz.displayName="Text";var pz=["labelRef"],hz=["content"];function mz(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function xz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gz(Object(r),!0).forEach(function(t){fz(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gz(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function fz(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bz(){return bz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},bz.apply(null,arguments)}var vz=W.createContext(null),yz=e=>{var{x:t,y:r,upperWidth:a,lowerWidth:n,width:o,height:i,children:s}=e,l=W.useMemo(()=>({x:t,y:r,upperWidth:a,lowerWidth:n,width:o,height:i}),[t,r,a,n,o,i]);return W.createElement(vz.Provider,{value:l},s)},wz=()=>{var e=W.useContext(vz),t=ow();return e||nw(t)},jz=W.createContext(null),Nz=e=>null!=e&&"function"==typeof e,kz=(e,t,r,a,n)=>{var o,i,{offset:s,className:l}=e,{cx:c,cy:d,innerRadius:u,outerRadius:p,startAngle:h,endAngle:m,clockWise:g}=n,x=(u+p)/2,f=((e,t)=>pm(t-e)*Math.min(Math.abs(t-e),360))(h,m),b=f>=0?1:-1;switch(t){case"insideStart":o=h+b*s,i=g;break;case"insideEnd":o=m-b*s,i=!g;break;case"end":o=m+b*s,i=g;break;default:throw new Error("Unsupported position ".concat(t))}i=f<=0?i:!i;var v=YN(c,d,x,o),y=YN(c,d,x,o+359*(i?1:-1)),w="M".concat(v.x,",").concat(v.y,"\n    A").concat(x,",").concat(x,",0,1,").concat(i?0:1,",\n    ").concat(y.x,",").concat(y.y),j=Nm(e.id)?bm("recharts-radial-line-"):e.id;return W.createElement("text",bz({},a,{dominantBaseline:"central",className:ws("recharts-radial-bar-label",l)}),W.createElement("defs",null,W.createElement("path",{id:j,d:w})),W.createElement("textPath",{xlinkHref:"#".concat(j)},r))},Cz=e=>"cx"in e&&gm(e.cx),Sz={angle:0,offset:5,zIndex:nI.label,position:"middle",textBreakAll:!1};function Ez(e){var t,r,a,n,o,i=$m(e,Sz),{viewBox:s,position:l,value:c,children:d,content:u,className:p="",textBreakAll:h,labelRef:m}=i,g=(t=W.useContext(jz),r=Tx(EI),t||r),x=wz();if(!(a=null==s?"center"===l?x:null!=g?g:x:Cz(s)?s:nw(s))||Nm(c)&&Nm(d)&&!W.isValidElement(u)&&"function"!=typeof u)return null;var f=xz(xz({},i),{},{viewBox:a});if(W.isValidElement(u)){var{labelRef:b}=f,v=mz(f,pz);return W.cloneElement(u,v)}if("function"==typeof u){var{content:y}=f,w=mz(f,hz);if(n=W.createElement(u,w),W.isValidElement(n))return n}else n=(e=>{var{value:t,formatter:r}=e,a=Nm(e.children)?t:e.children;return"function"==typeof r?r(a):a})(i);var j=Ip(i);if(Cz(a)){if("insideStart"===l||"insideEnd"===l||"end"===l)return kz(i,l,n,j,a);o=((e,t,r)=>{var{cx:a,cy:n,innerRadius:o,outerRadius:i,startAngle:s,endAngle:l}=e,c=(s+l)/2;if("outside"===r){var{x:d,y:u}=YN(a,n,i+t,c);return{x:d,y:u,textAnchor:d>=a?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:a,y:n,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:a,y:n,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:a,y:n,textAnchor:"middle",verticalAnchor:"end"};var p=(o+i)/2,{x:h,y:m}=YN(a,n,p,c);return{x:h,y:m,textAnchor:"middle",verticalAnchor:"middle"}})(a,i.offset,i.position)}else o=((e,t)=>{var r,{parentViewBox:a,offset:n,position:o}=e;null==a||Cz(a)||(r=a);var{x:i,y:s,upperWidth:l,lowerWidth:c,height:d}=t,u=i,p=i+(l-c)/2,h=(u+p)/2,m=(l+c)/2,g=u+l/2,x=d>=0?1:-1,f=x*n,b=x>0?"end":"start",v=x>0?"start":"end",y=l>=0?1:-1,w=y*n,j=y>0?"end":"start",N=y>0?"start":"end";if("top"===o)return xz(xz({},{x:u+l/2,y:s-f,textAnchor:"middle",verticalAnchor:b}),r?{height:Math.max(s-r.y,0),width:l}:{});if("bottom"===o)return xz(xz({},{x:p+c/2,y:s+d+f,textAnchor:"middle",verticalAnchor:v}),r?{height:Math.max(r.y+r.height-(s+d),0),width:c}:{});if("left"===o){var k={x:h-w,y:s+d/2,textAnchor:j,verticalAnchor:"middle"};return xz(xz({},k),r?{width:Math.max(k.x-r.x,0),height:d}:{})}if("right"===o){var C={x:h+m+w,y:s+d/2,textAnchor:N,verticalAnchor:"middle"};return xz(xz({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:d}:{})}var S=r?{width:m,height:d}:{};return"insideLeft"===o?xz({x:h+w,y:s+d/2,textAnchor:N,verticalAnchor:"middle"},S):"insideRight"===o?xz({x:h+m-w,y:s+d/2,textAnchor:j,verticalAnchor:"middle"},S):"insideTop"===o?xz({x:u+l/2,y:s+f,textAnchor:"middle",verticalAnchor:v},S):"insideBottom"===o?xz({x:p+c/2,y:s+d-f,textAnchor:"middle",verticalAnchor:b},S):"insideTopLeft"===o?xz({x:u+w,y:s+f,textAnchor:N,verticalAnchor:v},S):"insideTopRight"===o?xz({x:u+l-w,y:s+f,textAnchor:j,verticalAnchor:v},S):"insideBottomLeft"===o?xz({x:p+w,y:s+d-f,textAnchor:N,verticalAnchor:b},S):"insideBottomRight"===o?xz({x:p+c-w,y:s+d-f,textAnchor:j,verticalAnchor:b},S):o&&"object"==typeof o&&(gm(o.x)||mm(o.x))&&(gm(o.y)||mm(o.y))?xz({x:i+vm(o.x,m),y:s+vm(o.y,d),textAnchor:"end",verticalAnchor:"end"},S):xz({x:g,y:s+d/2,textAnchor:"middle",verticalAnchor:"middle"},S)})(i,a);return W.createElement(GT,{zIndex:i.zIndex},W.createElement(uz,bz({ref:m,className:ws("recharts-label",p)},j,o,{textAnchor:az(j.textAnchor)?j.textAnchor:o.textAnchor,breakAll:h}),n))}Ez.displayName="Label";function Pz(e){var{label:t,labelRef:r}=e;return((e,t,r)=>{if(!e)return null;var a={viewBox:t,labelRef:r};return!0===e?W.createElement(Ez,bz({key:"label-implicit"},a)):xm(e)?W.createElement(Ez,bz({key:"label-implicit",value:e},a)):W.isValidElement(e)?e.type===Ez?W.cloneElement(e,xz({key:"label-implicit"},a)):W.createElement(Ez,bz({key:"label-implicit",content:e},a)):Nz(e)?W.createElement(Ez,bz({key:"label-implicit",content:e},a)):e&&"object"==typeof e?W.createElement(Ez,bz({},e,{key:"label-implicit"},a)):null})(t,wz(),r)||null}var Oz,Iz={},Az={};function Dz(){return Oz||(Oz=1,e=Az,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.last=function(e){return e[e.length-1]}),Az;var e}var Mz,Tz,Fz,zz,Rz={};function _z(){return Mz||(Mz=1,e=Rz,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}),Rz;var e}function Lz(){return Tz||(Tz=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dz(),r=_z(),a=eg();e.last=function(e){if(a.isArrayLike(e))return t.last(r.toArray(e))}}(Iz)),Iz}function $z(){return zz?Fz:(zz=1,Fz=Lz().last)}const Uz=F($z());var Bz=["valueAccessor"],Vz=["dataKey","clockWise","id","textBreakAll","zIndex"];function Gz(){return Gz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Gz.apply(null,arguments)}function qz(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Hz=e=>Array.isArray(e.value)?Uz(e.value):e.value,Wz=W.createContext(void 0),Kz=Wz.Provider,Jz=W.createContext(void 0),Yz=Jz.Provider;function Xz(e){var{valueAccessor:t=Hz}=e,r=qz(e,Bz),{dataKey:a,clockWise:n,id:o,textBreakAll:i,zIndex:s}=r,l=qz(r,Vz),c=W.useContext(Wz),d=W.useContext(Jz),u=c||d;return u&&u.length?W.createElement(GT,{zIndex:null!=s?s:nI.label},W.createElement(zp,{className:"recharts-label-list"},u.map((e,n)=>{var s,c=Nm(a)?t(e,n):Xv(e&&e.payload,a),d=Nm(o)?{}:{id:"".concat(o,"-").concat(n)};return W.createElement(Ez,Gz({key:"label-".concat(n)},Ip(e),l,d,{fill:null!==(s=r.fill)&&void 0!==s?s:e.fill,parentViewBox:e.parentViewBox,value:c,textBreakAll:i,viewBox:e.viewBox,index:n,zIndex:0}))}))):null}function Qz(e){var{label:t}=e;return t?!0===t?W.createElement(Xz,{key:"labelList-implicit"}):W.isValidElement(t)||Nz(t)?W.createElement(Xz,{key:"labelList-implicit",content:t}):"object"==typeof t?W.createElement(Xz,Gz({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Zz(){return Zz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Zz.apply(null,arguments)}Xz.displayName="LabelList";var eR=e=>{var{cx:t,cy:r,r:a,className:n}=e,o=ws("recharts-dot",n);return gm(t)&&gm(r)&&gm(a)?W.createElement("circle",Zz({},Pp(e),zm(e),{className:o,cx:t,cy:r,r:a})):null},tR=e=>e.graphicalItems.polarItems,rR=Bx([PI,OI],QI),aR=Bx([tR,JI,rR],tA),nR=Bx([aR],iA),oR=Bx([nR,aO],lA),iR=Bx([oR,JI,aR],dA);Bx([oR,JI,aR],(e,t,r)=>r.length>0?e.flatMap(e=>r.flatMap(r=>{var a;return{value:Xv(e,null!==(a=t.dataKey)&&void 0!==a?a:r.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null==t?void 0:t.dataKey)?e.map(e=>({value:Xv(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})));var sR=()=>{},lR=Bx([oR,JI,aR,EA,PI],OA),cR=Bx([JI,kA,CA,sR,lR,sR,dw,PI],HA),dR=Bx([JI,dw,oR,iR,QO,PI,cR],JA),uR=Bx([dR,JI,QA],eD);Bx([JI,dR,uR,PI],rD);var pR=ov({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:hR,removeRadiusAxis:mR,addAngleAxis:gR,removeAngleAxis:xR}=pR.actions,fR=pR.reducer;function bR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function vR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bR(Object(r),!0).forEach(function(t){yR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function yR(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var wR,jR,NR=Bx([tR,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),kR=[],CR=(e,t,r)=>0===(null==r?void 0:r.length)?kR:r,SR=Bx([aO,NR,CR],(e,t,r)=>{var a,{chartData:n}=e;if(null!=t&&((a=null!=(null==t?void 0:t.data)&&t.data.length>0?t.data:n)&&a.length||null==r||(a=r.map(e=>vR(vR({},t.presentationProps),e.props))),null!=a))return a}),ER=Bx([SR,NR,CR],(e,t,r)=>{if(null!=e&&null!=t)return e.map((e,a)=>{var n,o,i=Xv(e,t.nameKey,t.name);return o=null!=r&&null!==(n=r[a])&&void 0!==n&&null!==(n=n.props)&&void 0!==n&&n.fill?r[a].props.fill:"object"==typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:dy(i,t.dataKey),color:o,payload:e,type:t.legendType}})}),PR=Bx([SR,NR,CR,Ey],(e,t,r,a)=>{if(null!=t&&null!=e)return function(e){var t,r,a,{pieSettings:n,displayedData:o,cells:i,offset:s}=e,{cornerRadius:l,startAngle:c,endAngle:d,dataKey:u,nameKey:p,tooltipType:h}=n,m=Math.abs(n.minAngle),g=B_(c,d),x=Math.abs(g),f=o.length<=1?0:null!==(t=n.paddingAngle)&&void 0!==t?t:0,b=o.filter(e=>0!==Xv(e,u,0)).length,v=x-b*m-(x>=360?b:b-1)*f,y=o.reduce((e,t)=>{var r=Xv(t,u,0);return e+(gm(r)?r:0)},0);y>0&&(r=o.map((e,t)=>{var r,o=Xv(e,u,0),d=Xv(e,p,t),x=U_(n,s,e),b=(gm(o)?o:0)/y,w=T_(T_({},e),i&&i[t]&&i[t].props),j=(r=t?a.endAngle+pm(g)*f*(0!==o?1:0):c)+pm(g)*((0!==o?m:0)+b*v),N=(r+j)/2,k=(x.innerRadius+x.outerRadius)/2,C=[{name:d,value:o,payload:w,dataKey:u,type:h,graphicalItemId:n.id}],S=YN(x.cx,x.cy,k,N);return a=T_(T_(T_(T_({},n.presentationProps),{},{percent:b,cornerRadius:"string"==typeof l?parseFloat(l):l,name:d,tooltipPayload:C,midAngle:N,middleRadius:k,tooltipPosition:S},w),x),{},{value:o,dataKey:u,startAngle:r,endAngle:j,payload:w,paddingAngle:pm(g)*f})}));return r}({offset:a,pieSettings:t,displayedData:e,cells:r})}),OR={exports:{}},IR={};function AR(){if(wR)return IR;wR=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),i=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),h=Symbol.for("react.client.reference");function m(h){if("object"==typeof h&&null!==h){var m=h.$$typeof;switch(m){case e:switch(h=h.type){case r:case n:case a:case l:case c:case p:return h;default:switch(h=h&&h.$$typeof){case i:case s:case u:case d:case o:return h;default:return m}}case t:return m}}}return IR.ContextConsumer=o,IR.ContextProvider=i,IR.Element=e,IR.ForwardRef=s,IR.Fragment=r,IR.Lazy=u,IR.Memo=d,IR.Portal=t,IR.Profiler=n,IR.StrictMode=a,IR.Suspense=l,IR.SuspenseList=c,IR.isContextConsumer=function(e){return m(e)===o},IR.isContextProvider=function(e){return m(e)===i},IR.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===e},IR.isForwardRef=function(e){return m(e)===s},IR.isFragment=function(e){return m(e)===r},IR.isLazy=function(e){return m(e)===u},IR.isMemo=function(e){return m(e)===d},IR.isPortal=function(e){return m(e)===t},IR.isProfiler=function(e){return m(e)===n},IR.isStrictMode=function(e){return m(e)===a},IR.isSuspense=function(e){return m(e)===l},IR.isSuspenseList=function(e){return m(e)===c},IR.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===n||e===a||e===l||e===c||"object"==typeof e&&null!==e&&(e.$$typeof===u||e.$$typeof===d||e.$$typeof===i||e.$$typeof===o||e.$$typeof===s||e.$$typeof===h||void 0!==e.getModuleId)},IR.typeOf=m,IR}function DR(){return jR||(jR=1,OR.exports=AR()),OR.exports}var MR=DR(),TR=e=>"string"==typeof e?e:e?e.displayName||e.name||"Component":"",FR=null,zR=null,RR=e=>{if(e===FR&&Array.isArray(zR))return zR;var t=[];return W.Children.forEach(e,e=>{Nm(e)||(MR.isFragment(e)?t=t.concat(RR(e.props.children)):t.push(e))}),zR=t,FR=e,t};function _R(e,t){var r=[],a=[];return a=Array.isArray(t)?t.map(e=>TR(e)):[TR(t)],RR(e).forEach(e=>{var t=cm(e,"type.displayName")||cm(e,"type.name");t&&-1!==a.indexOf(t)&&r.push(e)}),r}var LR,$R,UR,BR=e=>!e||"object"!=typeof e||!("clipDot"in e)||Boolean(e.clipDot),VR={};function GR(){return LR||(LR=1,e=VR,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isPlainObject=function(e){if("object"!=typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){var t;const r=e[Symbol.toStringTag];return null!=r&&(!(null===(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))||void 0===t||!t.writable)&&e.toString()===`[object ${r}]`)}let r=e;for(;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}),VR;var e}function qR(){return UR?$R:(UR=1,$R=GR().isPlainObject)}const HR=F(qR());var WR,KR,JR,YR,XR;function QR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function ZR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?QR(Object(r),!0).forEach(function(t){e_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function e_(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t_(){return t_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},t_.apply(null,arguments)}function r_(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var a_=(e,t,r,a,n)=>{var o,i=r-a;return o=um(WR||(WR=r_(["M ",",",""])),e,t),o+=um(KR||(KR=r_(["L ",",",""])),e+r,t),o+=um(JR||(JR=r_(["L ",",",""])),e+r-i/2,t+n),o+=um(YR||(YR=r_(["L ",",",""])),e+r-i/2-a,t+n),o+=um(XR||(XR=r_(["L ",","," Z"])),e,t)},n_={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},o_=e=>{var t=$m(e,n_),{x:r,y:a,upperWidth:n,lowerWidth:o,height:i,className:s}=t,{animationEasing:l,animationDuration:c,animationBegin:d,isUpdateAnimationActive:u}=t,p=W.useRef(null),[h,m]=W.useState(-1),g=W.useRef(n),x=W.useRef(o),f=W.useRef(i),b=W.useRef(r),v=W.useRef(a),y=xN(e,"trapezoid-");if(W.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var e=p.current.getTotalLength();e&&m(e)}catch(t){}},[]),r!==+r||a!==+a||n!==+n||o!==+o||i!==+i||0===n&&0===o||0===i)return null;var w=ws("recharts-trapezoid",s);if(!u)return W.createElement("g",null,W.createElement("path",t_({},Ip(t),{className:w,d:a_(r,a,n,o,i)})));var j=g.current,N=x.current,k=f.current,C=b.current,S=v.current,E="0px ".concat(-1===h?1:h,"px"),P="".concat(h,"px 0px"),O=Gj(["strokeDasharray"],c,l);return W.createElement(gN,{animationId:y,key:y,canBegin:h>0,duration:c,easing:l,isActive:u,begin:d},e=>{var s=wm(j,n,e),l=wm(N,o,e),c=wm(k,i,e),d=wm(C,r,e),u=wm(S,a,e);p.current&&(g.current=s,x.current=l,f.current=c,b.current=d,v.current=u);var h=e>0?{transition:O,strokeDasharray:P}:{strokeDasharray:E};return W.createElement("path",t_({},Ip(t),{className:w,d:a_(d,u,s,l,c),ref:p,style:ZR(ZR({},h),t.style)}))})},i_=["option","shapeType","activeClassName"];function s_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function l_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s_(Object(r),!0).forEach(function(t){c_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c_(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d_(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return W.createElement(RN,r);case"trapezoid":return W.createElement(o_,r);case"sector":return W.createElement(sk,r);case"symbols":if(function(e){return"symbols"===e}(t))return W.createElement(Tm,r);break;case"curve":return W.createElement(Tj,r);default:return null}}function u_(e){var t,{option:r,shapeType:a,activeClassName:n="recharts-active-shape"}=e,o=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,i_);if(W.isValidElement(r))t=W.cloneElement(r,l_(l_({},o),function(e){return W.isValidElement(e)?e.props:e}(r)));else if("function"==typeof r)t=r(o,o.index);else if(HR(r)&&"boolean"!=typeof r){var i=function(e,t){return l_(l_({},t),e)}(r,o);t=W.createElement(d_,{shapeType:a,elementProps:i})}else{var s=o;t=W.createElement(d_,{shapeType:a,elementProps:s})}return o.isActive?W.createElement(zp,{className:n},t):t}var p_;function h_(e){var{tooltipEntrySettings:t}=e,r=Ix(),a=Ay(),n=W.useRef(null);return W.useLayoutEffect(()=>{a||(null===n.current?r(BD(t)):n.current!==t&&r(VD({prev:n.current,next:t})),n.current=t)},[t,r,a]),W.useLayoutEffect(()=>()=>{n.current&&(r(GD(n.current)),n.current=null)},[r]),null}function m_(e){var{legendPayload:t}=e,r=Ix(),a=Ay(),n=W.useRef(null);return W.useLayoutEffect(()=>{a||(null===n.current?r(oj(t)):n.current!==t&&r(ij({prev:n.current,next:t})),n.current=t)},[r,a,t]),W.useLayoutEffect(()=>()=>{n.current&&(r(sj(n.current)),n.current=null)},[r]),null}function g_(e){var{legendPayload:t}=e,r=Ix(),a=Tx(dw),n=W.useRef(null);return W.useLayoutEffect(()=>{"centric"!==a&&"radial"!==a||(null===n.current?r(oj(t)):n.current!==t&&r(ij({prev:n.current,next:t})),n.current=t)},[r,a,t]),W.useLayoutEffect(()=>()=>{n.current&&(r(sj(n.current)),n.current=null)},[r]),null}var x_=null!==(p_=J["useId".toString()])&&void 0!==p_?p_:()=>{var[e]=W.useState(()=>bm("uid-"));return e};var f_=W.createContext(void 0),b_=e=>{var{id:t,type:r,children:a}=e,n=function(e,t){var r=x_();return t||(e?"".concat(e,"-").concat(r):r)}("recharts-".concat(r),t);return W.createElement(f_.Provider,{value:n},a(n))},v_=ov({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Jb()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:a}=t.payload,n=zb(e).cartesianItems.indexOf(r);n>-1&&(e.cartesianItems[n]=a)},prepare:Jb()},removeCartesianGraphicalItem:{reducer(e,t){var r=zb(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Jb()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Jb()},removePolarGraphicalItem:{reducer(e,t){var r=zb(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Jb()}}}),{addCartesianGraphicalItem:y_,replaceCartesianGraphicalItem:w_,removeCartesianGraphicalItem:j_,addPolarGraphicalItem:N_,removePolarGraphicalItem:k_}=v_.actions,C_=v_.reducer,S_=e=>{var t=Ix(),r=W.useRef(null);return W.useLayoutEffect(()=>{null===r.current?t(y_(e)):r.current!==e&&t(w_({prev:r.current,next:e})),r.current=e},[t,e]),W.useLayoutEffect(()=>()=>{r.current&&(t(j_(r.current)),r.current=null)},[t]),null},E_=W.memo(S_);function P_(e){var t=Ix();return W.useLayoutEffect(()=>(t(N_(e)),()=>{t(k_(e))}),[t,e]),null}var O_=["key"],I_=["onMouseEnter","onClick","onMouseLeave"],A_=["id"],D_=["id"];function M_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function T_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M_(Object(r),!0).forEach(function(t){F_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function F_(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z_(){return z_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},z_.apply(null,arguments)}function R_(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function __(e){var t=W.useMemo(()=>_R(e.children,OF),[e.children]),r=Tx(r=>ER(r,e.id,t));return null==r?null:W.createElement(g_,{legendPayload:r})}var L_=W.memo(e=>{var{dataKey:t,nameKey:r,sectors:a,stroke:n,strokeWidth:o,fill:i,name:s,hide:l,tooltipType:c,id:d}=e,u={dataDefinedOnItem:a.map(e=>e.tooltipPayload),positions:a.map(e=>e.tooltipPosition),settings:{stroke:n,strokeWidth:o,fill:i,dataKey:t,nameKey:r,name:dy(s,t),hide:l,type:c,color:i,unit:"",graphicalItemId:d}};return W.createElement(h_,{tooltipEntrySettings:u})}),$_=(e,t)=>e>t?"start":e<t?"end":"middle",U_=(e,t,r)=>{var{top:a,left:n,width:o,height:i}=t,s=XN(o,i),l=n+vm(e.cx,o,o/2),c=a+vm(e.cy,i,i/2),d=vm(e.innerRadius,s,0),u=((e,t,r)=>vm("function"==typeof t?t(e):t,r,.8*r))(r,e.outerRadius,s);return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:e.maxRadius||Math.sqrt(o*o+i*i)/2}},B_=(e,t)=>pm(t-e)*Math.min(Math.abs(t-e),360);function V_(e){var{sectors:t,props:r,showLabels:a}=e,{label:n,labelLine:o,dataKey:i}=r;if(!a||!n||!t)return null;var s=Pp(r),l=Op(n),c=Op(o),d="object"==typeof n&&"offsetRadius"in n&&"number"==typeof n.offsetRadius&&n.offsetRadius||20,u=t.map((e,t)=>{var r=(e.startAngle+e.endAngle)/2,a=YN(e.cx,e.cy,e.outerRadius+d,r),u=T_(T_(T_(T_({},s),e),{},{stroke:"none"},l),{},{index:t,textAnchor:$_(a.x,e.cx)},a),p=T_(T_(T_(T_({},s),e),{},{fill:"none",stroke:e.fill},c),{},{index:t,points:[YN(e.cx,e.cy,e.outerRadius,r),a],key:"line"});return W.createElement(GT,{zIndex:nI.label,key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(t)},W.createElement(zp,null,o&&((e,t)=>{if(W.isValidElement(e))return W.cloneElement(e,t);if("function"==typeof e)return e(t);var r=ws("recharts-pie-label-line","boolean"!=typeof e?e.className:""),{key:a}=t,n=R_(t,O_);return W.createElement(Tj,z_({},n,{type:"linear",className:r}))})(o,p),((e,t,r)=>{if(W.isValidElement(e))return W.cloneElement(e,t);var a=r;if("function"==typeof e&&(a=e(t),W.isValidElement(a)))return a;var n=ws("recharts-pie-label-text",function(e){return e&&"object"==typeof e&&"className"in e&&"string"==typeof e.className?e.className:""}(e));return W.createElement(uz,z_({},t,{alignmentBaseline:"middle",className:n}),a)})(n,u,Xv(e,i))))});return W.createElement(zp,{className:"recharts-pie-labels"},u)}function G_(e){var{sectors:t,props:r,showLabels:a}=e,{label:n}=r;return"object"==typeof n&&null!=n&&"position"in n?W.createElement(Qz,{label:n}):W.createElement(V_,{sectors:t,props:r,showLabels:a})}function q_(e){var t,r,a,n,{sectors:o,activeShape:i,inactiveShape:s,allOtherPieProps:l,shape:c,id:d}=e,u=Tx(ZM),p=Tx(tT),h=Tx(rT),{onMouseEnter:m,onClick:g,onMouseLeave:x}=l,f=R_(l,I_),b=((e,t,r)=>{var a=Ix();return(n,o)=>i=>{null==e||e(n,o,i),a(HD({activeIndex:String(o),activeDataKey:t,activeCoordinate:n.tooltipPosition,activeGraphicalItemId:r}))}})(m,l.dataKey,d),v=(e=>{var t=Ix();return(r,a)=>n=>{null==e||e(r,a,n),t(WD())}})(x),y=(t=g,r=l.dataKey,a=d,n=Ix(),(e,o)=>i=>{null==t||t(e,o,i),n(JD({activeIndex:String(o),activeDataKey:r,activeCoordinate:e.tooltipPosition,activeGraphicalItemId:a}))});return null==o||0===o.length?null:W.createElement(W.Fragment,null,o.map((e,t)=>{if(0===(null==e?void 0:e.startAngle)&&0===(null==e?void 0:e.endAngle)&&1!==o.length)return null;var r=null==h||h===d,a=String(t)===u&&(null==p||l.dataKey===p)&&r,n=i&&a?i:u?s:null,m=T_(T_({},e),{},{stroke:e.stroke,tabIndex:-1,[fy]:t,[by]:d});return W.createElement(zp,z_({key:"sector-".concat(null==e?void 0:e.startAngle,"-").concat(null==e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(t),tabIndex:-1,className:"recharts-pie-sector"},Rm(f,e,t),{onMouseEnter:b(e,t),onMouseLeave:v(e,t),onClick:y(e,t)}),W.createElement(u_,z_({option:null!=c?c:n,index:t,shapeType:"sector",isActive:a},m)))}))}function H_(e){var{showLabels:t,sectors:r,children:a}=e,n=W.useMemo(()=>t&&r?r.map(e=>({value:e.value,payload:e.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:e.cx,cy:e.cy,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clockWise:!1},fill:e.fill})):[],[r,t]);return W.createElement(Yz,{value:t?n:void 0},a)}function W_(e){var{props:t,previousSectorsRef:r,id:a}=e,{sectors:n,isAnimationActive:o,animationBegin:i,animationDuration:s,animationEasing:l,activeShape:c,inactiveShape:d,onAnimationStart:u,onAnimationEnd:p}=t,h=xN(t,"recharts-pie-"),m=r.current,[g,x]=W.useState(!1),f=W.useCallback(()=>{"function"==typeof p&&p(),x(!1)},[p]),b=W.useCallback(()=>{"function"==typeof u&&u(),x(!0)},[u]);return W.createElement(H_,{showLabels:!g,sectors:n},W.createElement(gN,{animationId:h,begin:i,duration:s,isActive:o,easing:l,onAnimationStart:b,onAnimationEnd:f,key:h},e=>{var o=[],i=n&&n[0],s=null==i?void 0:i.startAngle;return null==n||n.forEach((t,r)=>{var a=m&&m[r],n=r>0?cm(t,"paddingAngle",0):0;if(a){var i=wm(a.endAngle-a.startAngle,t.endAngle-t.startAngle,e),l=T_(T_({},t),{},{startAngle:s+n,endAngle:s+i+n});o.push(l),s=l.endAngle}else{var{endAngle:c,startAngle:d}=t,u=wm(0,c-d,e),p=T_(T_({},t),{},{startAngle:s+n,endAngle:s+u+n});o.push(p),s=p.endAngle}}),r.current=o,W.createElement(zp,null,W.createElement(q_,{sectors:o,activeShape:c,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:a}))}),W.createElement(G_,{showLabels:!g,sectors:n,props:t}),t.children)}var K_={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:nI.area};function J_(e){var{id:t}=e,r=R_(e,A_),{hide:a,className:n,rootTabIndex:o}=e,i=W.useMemo(()=>_R(e.children,OF),[e.children]),s=Tx(e=>PR(e,t,i)),l=W.useRef(null),c=ws("recharts-pie",n);return a||null==s?(l.current=null,W.createElement(zp,{tabIndex:o,className:c})):W.createElement(GT,{zIndex:e.zIndex},W.createElement(L_,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:s,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),W.createElement(zp,{tabIndex:o,className:c},W.createElement(W_,{props:T_(T_({},r),{},{sectors:s}),previousSectorsRef:l,id:t})))}function Y_(e){var t=$m(e,K_),{id:r}=t,a=R_(t,D_),n=Pp(a);return W.createElement(b_,{id:r,type:"pie"},e=>W.createElement(W.Fragment,null,W.createElement(P_,{type:"pie",id:e,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:n,maxRadius:t.maxRadius}),W.createElement(__,z_({},a,{id:e})),W.createElement(J_,z_({},a,{id:e}))))}Y_.displayName="Pie";var X_=["points"];function Q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function Z_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q_(Object(r),!0).forEach(function(t){eL(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eL(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tL(){return tL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},tL.apply(null,arguments)}function rL(e){var{option:t,dotProps:r,className:a}=e;if(W.isValidElement(t))return W.cloneElement(t,r);if("function"==typeof t)return t(r);var n=ws(a,"boolean"!=typeof t?t.className:""),o=null!=r?r:{},{points:i}=o,s=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(o,X_);return W.createElement(eR,tL({},s,{className:n}))}function aL(e){var{points:t,dot:r,className:a,dotClassName:n,dataKey:o,baseProps:i,needClip:s,clipPathId:l,zIndex:c=nI.scatter}=e;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(t,r))return null;var d,u=BR(r),p=null==(d=r)?null:W.isValidElement(d)?Ip(d.props):"object"!=typeof d||Array.isArray(d)?null:Ip(d),h=t.map((e,a)=>{var s,l,c=Z_(Z_(Z_({r:3},i),p),{},{index:a,cx:null!==(s=e.x)&&void 0!==s?s:void 0,cy:null!==(l=e.y)&&void 0!==l?l:void 0,dataKey:o,value:e.value,payload:e.payload,points:t});return W.createElement(rL,{key:"dot-".concat(a),option:r,dotProps:c,className:n})}),m={};return s&&null!=l&&(m.clipPath="url(#clipPath-".concat(u?"":"dots-").concat(l,")")),W.createElement(GT,{zIndex:c},W.createElement(zp,tL({className:a},m),h))}function nL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function oL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nL(Object(r),!0).forEach(function(t){iL(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nL(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function iL(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var sL=ov({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Jb()},replaceXAxis:{reducer(e,t){var{prev:r,next:a}=t.payload;void 0!==e.xAxis[r.id]&&(r.id!==a.id&&delete e.xAxis[r.id],e.xAxis[a.id]=a)},prepare:Jb()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Jb()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Jb()},replaceYAxis:{reducer(e,t){var{prev:r,next:a}=t.payload;void 0!==e.yAxis[r.id]&&(r.id!==a.id&&delete e.yAxis[r.id],e.yAxis[a.id]=a)},prepare:Jb()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Jb()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Jb()},replaceZAxis:{reducer(e,t){var{prev:r,next:a}=t.payload;void 0!==e.zAxis[r.id]&&(r.id!==a.id&&delete e.zAxis[r.id],e.zAxis[a.id]=a)},prepare:Jb()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Jb()},updateYAxisWidth(e,t){var{id:r,width:a}=t.payload,n=e.yAxis[r];if(n){var o=n.widthHistory||[];if(3===o.length&&o[0]===o[2]&&a===o[1]&&a!==n.width&&Math.abs(a-o[0])<=1)return;var i=[...o,a].slice(-3);e.yAxis[r]=oL(oL({},e.yAxis[r]),{},{width:a,widthHistory:i})}}}}),{addXAxis:lL,replaceXAxis:cL,removeXAxis:dL,addYAxis:uL,replaceYAxis:pL,removeYAxis:hL,addZAxis:mL,replaceZAxis:gL,removeZAxis:xL,updateYAxisWidth:fL}=sL.actions,bL=sL.reducer,vL=Bx([Ey],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),yL=Bx([vL,uy,py],(e,t,r)=>{if(e&&null!=t&&null!=r)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),wL=()=>Tx(yL);function jL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function NL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jL(Object(r),!0).forEach(function(t){kL(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jL(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function kL(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var CL=e=>{var{point:t,childIndex:r,mainColor:a,activeDot:n,dataKey:o,clipPath:i}=e;if(!1===n||null==t.x||null==t.y)return null;var s,l=NL(NL(NL({},{index:r,dataKey:o,cx:t.x,cy:t.y,r:4,fill:null!=a?a:"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value}),Op(n)),zm(n));return s=W.isValidElement(n)?W.cloneElement(n,l):"function"==typeof n?n(l):W.createElement(eR,l),W.createElement(zp,{className:"recharts-active-dot",clipPath:i},s)};function SL(e){var{points:t,mainColor:r,activeDot:a,itemDataKey:n,clipPath:o,zIndex:i=nI.activeDot}=e,s=Tx(ZM),l=Tx(lT);if(null==t||null==l)return null;var c=t.find(e=>l.includes(e.payload));return Nm(c)?null:W.createElement(GT,{zIndex:i},W.createElement(CL,{point:c,childIndex:Number(s),mainColor:r,dataKey:n,activeDot:a,clipPath:o}))}var EL=e=>{var{chartData:t}=e,r=Ix(),a=Ay();return W.useEffect(()=>a?()=>{}:(r(uF(t)),()=>{r(uF(void 0))}),[t,r,a]),null},PL={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},OL=ov({name:"brush",initialState:PL,reducers:{setBrushSettings:(e,t)=>null==t.payload?PL:t.payload}}),{setBrushSettings:IL}=OL.actions,AL=OL.reducer;class DL{static create(e){return new DL(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var n=this.bandwidth?this.bandwidth():0;return this.scale(e)+n}if(t){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var t=this.range(),r=t[0],a=t[t.length-1];return r<=a?e>=r&&e<=a:e>=a&&e<=r}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(DL,"EPS",1e-4);var ML=ov({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=zb(e).dots.findIndex(e=>e===t.payload);-1!==r&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=zb(e).areas.findIndex(e=>e===t.payload);-1!==r&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=zb(e).lines.findIndex(e=>e===t.payload);-1!==r&&e.lines.splice(r,1)}}}),{addDot:TL,removeDot:FL,addArea:zL,removeArea:RL,addLine:_L,removeLine:LL}=ML.actions,$L=ML.reducer,UL=W.createContext(void 0),BL=e=>{var{children:t}=e,[r]=W.useState("".concat(bm("recharts"),"-clip")),a=wL();if(null==a)return null;var{x:n,y:o,width:i,height:s}=a;return W.createElement(UL.Provider,{value:r},W.createElement("defs",null,W.createElement("clipPath",{id:r},W.createElement("rect",{x:n,y:o,height:s,width:i}))),t)};function VL(e,t){if(t<1)return[];if(1===t)return e;for(var r=[],a=0;a<e.length;a+=t){var n=e[a];void 0!==n&&r.push(n)}return r}function GL(e,t,r){return function(e){var{width:t,height:r}=e,a=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=a*Math.PI/180,o=Math.atan(r/t),i=n>o&&n<Math.PI-o?r/Math.sin(n):t/Math.cos(n);return Math.abs(i)}({width:e.width+t.width,height:e.height+t.height},r)}function qL(e,t,r,a,n){if(e*t<e*a||e*t>e*n)return!1;var o=r();return e*(t-e*o/2-a)>=0&&e*(t+e*o/2-n)<=0}function HL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function WL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?HL(Object(r),!0).forEach(function(t){KL(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HL(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function KL(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JL(e,t,r){var a,{tick:n,ticks:o,viewBox:i,minTickGap:s,orientation:l,interval:c,tickFormatter:d,unit:u,angle:p}=e;if(!o||!o.length||!n)return[];if(gm(c)||uN)return null!==(a=function(e,t){return VL(e,t+1)}(o,gm(c)?c:0))&&void 0!==a?a:[];var h=[],m="top"===l||"bottom"===l?"width":"height",g=u&&"width"===m?_F(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=(e,a)=>{var n="function"==typeof d?d(e.value,a):e.value;return"width"===m?GL(_F(n,{fontSize:t,letterSpacing:r}),g,p):_F(n,{fontSize:t,letterSpacing:r})[m]},f=o.length>=2?pm(o[1].coordinate-o[0].coordinate):1,b=function(e,t,r){var a="width"===r,{x:n,y:o,width:i,height:s}=e;return 1===t?{start:a?n:o,end:a?n+i:o+s}:{start:a?n+i:o+s,end:a?n:o}}(i,f,m);return"equidistantPreserveStart"===c?function(e,t,r,a,n){for(var o,i=(a||[]).slice(),{start:s,end:l}=t,c=0,d=1,u=s,p=function(){var t=null==a?void 0:a[c];if(void 0===t)return{v:VL(a,d)};var o,i=c,p=()=>(void 0===o&&(o=r(t,i)),o),h=t.coordinate,m=0===c||qL(e,h,p,u,l);m||(c=0,u=s,d+=1),m&&(u=h+e*(p()/2+n),c+=d)};d<=i.length;)if(o=p())return o.v;return[]}(f,b,x,o,s):"equidistantPreserveEnd"===c?function(e,t,r,a,n){var o=(a||[]).slice().length;if(0===o)return[];for(var{start:i,end:s}=t,l=1;l<=o;l++){for(var c=(o-1)%l,d=i,u=!0,p=function(){var t,o=a[h],i=h,l=()=>(void 0===t&&(t=r(o,i)),t),p=o.coordinate,m=h===c||qL(e,p,l,d,s);if(!m)return u=!1,1;m&&(d=p+e*(l()/2+n))},h=c;h<o&&!p();h+=l);if(u){for(var m=[],g=c;g<o;g+=l)m.push(a[g]);return m}}return[]}(f,b,x,o,s):(h="preserveStart"===c||"preserveStartEnd"===c?function(e,t,r,a,n,o){var i=(a||[]).slice(),s=i.length,{start:l,end:c}=t;if(o){var d=a[s-1],u=r(d,s-1),p=e*(d.coordinate+e*u/2-c);i[s-1]=d=WL(WL({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate}),null!=d.tickCoord&&qL(e,d.tickCoord,()=>u,l,c)&&(c=d.tickCoord-e*(u/2+n),i[s-1]=WL(WL({},d),{},{isShow:!0}))}for(var h=o?s-1:s,m=function(t){var a,o=i[t],s=()=>(void 0===a&&(a=r(o,t)),a);if(0===t){var d=e*(o.coordinate-e*s()/2-l);i[t]=o=WL(WL({},o),{},{tickCoord:d<0?o.coordinate-d*e:o.coordinate})}else i[t]=o=WL(WL({},o),{},{tickCoord:o.coordinate});null!=o.tickCoord&&qL(e,o.tickCoord,s,l,c)&&(l=o.tickCoord+e*(s()/2+n),i[t]=WL(WL({},o),{},{isShow:!0}))},g=0;g<h;g++)m(g);return i}(f,b,x,o,s,"preserveStartEnd"===c):function(e,t,r,a,n){for(var o=(a||[]).slice(),i=o.length,{start:s}=t,{end:l}=t,c=function(t){var a,c=o[t],d=()=>(void 0===a&&(a=r(c,t)),a);if(t===i-1){var u=e*(c.coordinate+e*d()/2-l);o[t]=c=WL(WL({},c),{},{tickCoord:u>0?c.coordinate-u*e:c.coordinate})}else o[t]=c=WL(WL({},c),{},{tickCoord:c.coordinate});null!=c.tickCoord&&qL(e,c.tickCoord,d,s,l)&&(l=c.tickCoord-e*(d()/2+n),o[t]=WL(WL({},c),{},{isShow:!0}))},d=i-1;d>=0;d--)c(d);return o}(f,b,x,o,s),h.filter(e=>e.isShow))}var YL=["axisLine","width","height","className","hide","ticks","axisType"];function XL(){return XL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},XL.apply(null,arguments)}function QL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function ZL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?QL(Object(r),!0).forEach(function(t){e$(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QL(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function e$(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var t$={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:nI.axis};function r$(e){var{x:t,y:r,width:a,height:n,orientation:o,mirror:i,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var c=ZL(ZL(ZL({},l),Pp(s)),{},{fill:"none"});if("top"===o||"bottom"===o){var d=+("top"===o&&!i||"bottom"===o&&i);c=ZL(ZL({},c),{},{x1:t,y1:r+d*n,x2:t+a,y2:r+d*n})}else{var u=+("left"===o&&!i||"right"===o&&i);c=ZL(ZL({},c),{},{x1:t+u*a,y1:r,x2:t+u*a,y2:r+n})}return W.createElement("line",XL({},c,{className:ws("recharts-cartesian-axis-line",cm(s,"className"))}))}function a$(e){var t,{option:r,tickProps:a,value:n}=e,o=ws(a.className,"recharts-cartesian-axis-tick-value");if(W.isValidElement(r))t=W.cloneElement(r,ZL(ZL({},a),{},{className:o}));else if("function"==typeof r)t=r(ZL(ZL({},a),{},{className:o}));else{var i="recharts-cartesian-axis-tick-value";"boolean"!=typeof r&&(i=ws(i,null==r?void 0:r.className)),t=W.createElement(uz,XL({},a,{className:i}),n)}return t}var n$=W.forwardRef((e,t)=>{var{ticks:r=[],tick:a,tickLine:n,stroke:o,tickFormatter:i,unit:s,padding:l,tickTextProps:c,orientation:d,mirror:u,x:p,y:h,width:m,height:g,tickSize:x,tickMargin:f,fontSize:b,letterSpacing:v,getTicksConfig:y,events:w,axisType:j}=e,N=JL(ZL(ZL({},y),{},{ticks:r}),b,v),k=function(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}(d,u),C=function(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}(d,u),S=Pp(y),E=Op(a),P={};"object"==typeof n&&(P=n);var O=ZL(ZL({},S),{},{fill:"none"},P),I=N.map(e=>ZL({entry:e},function(e,t,r,a,n,o,i,s,l){var c,d,u,p,h,m,g=s?-1:1,x=e.tickSize||i,f=gm(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":c=d=e.coordinate,m=(u=(p=r+ +!s*n)-g*x)-g*l,h=f;break;case"left":u=p=e.coordinate,h=(c=(d=t+ +!s*a)-g*x)-g*l,m=f;break;case"right":u=p=e.coordinate,h=(c=(d=t+ +s*a)+g*x)+g*l,m=f;break;default:c=d=e.coordinate,m=(u=(p=r+ +s*n)+g*x)+g*l,h=f}return{line:{x1:c,y1:u,x2:d,y2:p},tick:{x:h,y:m}}}(e,p,h,m,g,d,x,u,f))),A=I.map(e=>{var{entry:t,line:r}=e;return W.createElement(zp,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},n&&W.createElement("line",XL({},O,r,{className:ws("recharts-cartesian-axis-tick-line",cm(n,"className"))})))}),D=I.map((e,t)=>{var{entry:r,tick:n}=e,d=ZL(ZL(ZL(ZL({textAnchor:k,verticalAnchor:C},S),{},{stroke:"none",fill:o},E),n),{},{index:t,payload:r,visibleTicksCount:N.length,tickFormatter:i,padding:l},c);return W.createElement(zp,XL({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(r.value,"-").concat(r.coordinate,"-").concat(r.tickCoord)},Rm(w,r,t)),a&&W.createElement(a$,{option:a,tickProps:d,value:"".concat("function"==typeof i?i(r.value,t):r.value).concat(s||"")}))});return W.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(j,"-ticks")},D.length>0&&W.createElement(GT,{zIndex:nI.label},W.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(j,"-tick-labels"),ref:t},D)),A.length>0&&W.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(j,"-tick-lines")},A))}),o$=W.forwardRef((e,t)=>{var{axisLine:r,width:a,height:n,className:o,hide:i,ticks:s,axisType:l}=e,c=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,YL),[d,u]=W.useState(""),[p,h]=W.useState(""),m=W.useRef(null);W.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var t;return(e=>{var{ticks:t,label:r,labelGapWithTick:a=5,tickSize:n=0,tickMargin:o=0}=e,i=0;if(t){Array.from(t).forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>i&&(i=t.width)}});var s=r?r.getBoundingClientRect().width:0,l=i+(n+o)+s+(r?a:0);return Math.round(l)}return 0})({ticks:m.current,label:null===(t=e.labelRef)||void 0===t?void 0:t.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=W.useCallback(e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=t;var r=t[0];if(r){var a=window.getComputedStyle(r),n=a.fontSize,o=a.letterSpacing;n===d&&o===p||(u(n),h(o))}}},[d,p]);return i||null!=a&&a<=0||null!=n&&n<=0?null:W.createElement(GT,{zIndex:e.zIndex},W.createElement(zp,{className:ws("recharts-cartesian-axis",o)},W.createElement(r$,{x:e.x,y:e.y,width:a,height:n,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Pp(e)}),W.createElement(n$,{ref:g,axisType:l,events:c,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),W.createElement(yz,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},W.createElement(Pz,{label:e.label,labelRef:e.labelRef}),e.children)))}),i$=W.forwardRef((e,t)=>{var r=$m(e,t$);return W.createElement(o$,XL({},r,{ref:t}))});i$.displayName="CartesianAxis";var s$=["x1","y1","x2","y2","key"],l$=["offset"],c$=["xAxisId","yAxisId"],d$=["xAxisId","yAxisId"];function u$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function p$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u$(Object(r),!0).forEach(function(t){h$(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function h$(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m$(){return m$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},m$.apply(null,arguments)}function g$(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var x$=e=>{var{fill:t}=e;if(!t||"none"===t)return null;var{fillOpacity:r,x:a,y:n,width:o,height:i,ry:s}=e;return W.createElement("rect",{x:a,y:n,ry:s,width:o,height:i,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function f$(e){var t,{option:r,lineItemProps:a}=e;if(W.isValidElement(r))t=W.cloneElement(r,a);else if("function"==typeof r)t=r(a);else{var n,{x1:o,y1:i,x2:s,y2:l,key:c}=a,d=null!==(n=Pp(g$(a,s$)))&&void 0!==n?n:{},{offset:u}=d,p=g$(d,l$);t=W.createElement("line",m$({},p,{x1:o,y1:i,x2:s,y2:l,fill:"none",key:c}))}return t}function b$(e){var{x:t,width:r,horizontal:a=!0,horizontalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:o,yAxisId:i}=e,s=g$(e,c$),l=n.map((e,n)=>{var o=p$(p$({},s),{},{x1:t,y1:e,x2:t+r,y2:e,key:"line-".concat(n),index:n});return W.createElement(f$,{key:"line-".concat(n),option:a,lineItemProps:o})});return W.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function v$(e){var{y:t,height:r,vertical:a=!0,verticalPoints:n}=e;if(!a||!n||!n.length)return null;var{xAxisId:o,yAxisId:i}=e,s=g$(e,d$),l=n.map((e,n)=>{var o=p$(p$({},s),{},{x1:e,y1:t,x2:e,y2:t+r,key:"line-".concat(n),index:n});return W.createElement(f$,{option:a,lineItemProps:o,key:"line-".concat(n)})});return W.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function y$(e){var{horizontalFill:t,fillOpacity:r,x:a,y:n,width:o,height:i,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length||null==s)return null;var c=s.map(e=>Math.round(e+n-n)).sort((e,t)=>e-t);n!==c[0]&&c.unshift(0);var d=c.map((e,s)=>{var l=!c[s+1]?n+i-e:c[s+1]-e;if(l<=0)return null;var d=s%t.length;return W.createElement("rect",{key:"react-".concat(s),y:e,x:a,height:l,width:o,stroke:"none",fill:t[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function w$(e){var{vertical:t=!0,verticalFill:r,fillOpacity:a,x:n,y:o,width:i,height:s,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var c=l.map(e=>Math.round(e+n-n)).sort((e,t)=>e-t);n!==c[0]&&c.unshift(0);var d=c.map((e,t)=>{var l=!c[t+1]?n+i-e:c[t+1]-e;if(l<=0)return null;var d=t%r.length;return W.createElement("rect",{key:"react-".concat(t),x:e,y:o,width:l,height:s,stroke:"none",fill:r[d],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var j$=(e,t)=>{var{xAxis:r,width:a,height:n,offset:o}=e;return Zv(JL(p$(p$(p$({},t$),r),{},{ticks:ey(r),viewBox:{x:0,y:0,width:a,height:n}})),o.left,o.left+o.width,t)},N$=(e,t)=>{var{yAxis:r,width:a,height:n,offset:o}=e;return Zv(JL(p$(p$(p$({},t$),r),{},{ticks:ey(r),viewBox:{x:0,y:0,width:a,height:n}})),o.top,o.top+o.height,t)},k$={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:nI.grid};function C$(e){var t=lw(),r=cw(),a=sw(),n=p$(p$({},$m(e,k$)),{},{x:gm(e.x)?e.x:a.left,y:gm(e.y)?e.y:a.top,width:gm(e.width)?e.width:a.width,height:gm(e.height)?e.height:a.height}),{xAxisId:o,yAxisId:i,x:s,y:l,width:c,height:d,syncWithTicks:u,horizontalValues:p,verticalValues:h}=n,m=Ay(),g=Tx(e=>OD(e,"xAxis",o,m)),x=Tx(e=>OD(e,"yAxis",i,m));if(!(Wv(c)&&Wv(d)&&gm(s)&&gm(l)))return null;var f=n.verticalCoordinatesGenerator||j$,b=n.horizontalCoordinatesGenerator||N$,{horizontalPoints:v,verticalPoints:y}=n;if(!(v&&v.length||"function"!=typeof b)){var w=p&&p.length,j=b({yAxis:x?p$(p$({},x),{},{ticks:w?p:x.ticks}):void 0,width:null!=t?t:c,height:null!=r?r:d,offset:a},!!w||u);By(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(v=j)}if(!(y&&y.length||"function"!=typeof f)){var N=h&&h.length,k=f({xAxis:g?p$(p$({},g),{},{ticks:N?h:g.ticks}):void 0,width:null!=t?t:c,height:null!=r?r:d,offset:a},!!N||u);By(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(y=k)}return W.createElement(GT,{zIndex:n.zIndex},W.createElement("g",{className:"recharts-cartesian-grid"},W.createElement(x$,{fill:n.fill,fillOpacity:n.fillOpacity,x:n.x,y:n.y,width:n.width,height:n.height,ry:n.ry}),W.createElement(y$,m$({},n,{horizontalPoints:v})),W.createElement(w$,m$({},n,{verticalPoints:y})),W.createElement(b$,m$({},n,{offset:a,horizontalPoints:v,xAxis:g,yAxis:x})),W.createElement(v$,m$({},n,{offset:a,verticalPoints:y,xAxis:g,yAxis:x}))))}C$.displayName="CartesianGrid";var S$=ov({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]||(e[r]=[]),e[r].push(a)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:a,next:n}=t.payload;e[r]&&(e[r]=e[r].map(e=>e.dataKey===a.dataKey&&e.direction===a.direction?n:e))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]&&(e[r]=e[r].filter(e=>e.dataKey!==a.dataKey||e.direction!==a.direction))}}}),{addErrorBar:E$,replaceErrorBar:P$,removeErrorBar:O$}=S$.actions,I$=S$.reducer;function A$(e,t){var r,a,n=Tx(t=>VI(t,e)),o=Tx(e=>HI(e,t)),i=null!==(r=null==n?void 0:n.allowDataOverflow)&&void 0!==r?r:UI.allowDataOverflow,s=null!==(a=null==o?void 0:o.allowDataOverflow)&&void 0!==a?a:GI.allowDataOverflow;return{needClip:i||s,needClipX:i,needClipY:s}}function D$(e){var{xAxisId:t,yAxisId:r,clipPathId:a}=e,n=wL(),{needClipX:o,needClipY:i,needClip:s}=A$(t,r);if(!s||!n)return null;var{x:l,y:c,width:d,height:u}=n;return W.createElement("clipPath",{id:"clipPath-".concat(a)},W.createElement("rect",{x:o?l:l-d/2,y:i?c:c-u/2,width:o?d:2*d,height:i?u:2*u}))}var M$,T$,F$={exports:{}},z$={};T$||(T$=1,F$.exports=function(){if(M$)return z$;M$=1;var e=q(),t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=e.useSyncExternalStore,a=e.useRef,n=e.useEffect,o=e.useMemo,i=e.useDebugValue;return z$.useSyncExternalStoreWithSelector=function(e,s,l,c,d){var u=a(null);if(null===u.current){var p={hasValue:!1,value:null};u.current=p}else p=u.current;u=o(function(){function e(e){if(!n){if(n=!0,r=e,e=c(e),void 0!==d&&p.hasValue){var o=p.value;if(d(o,e))return a=o}return a=e}if(o=a,t(r,e))return o;var i=c(e);return void 0!==d&&d(o,i)?(r=e,o):(r=e,a=i)}var r,a,n=!1,o=void 0===l?null:l;return[function(){return e(s())},null===o?void 0:function(){return e(o())}]},[s,l,c,d]);var h=r(e,u[0],u[1]);return n(function(){p.hasValue=!0,p.value=h},[h]),i(h),h},z$}()),F$.exports;var R$=W.version.startsWith("19"),_$=Symbol.for(R$?"react.transitional.element":"react.element"),L$=Symbol.for("react.portal"),$$=Symbol.for("react.fragment"),U$=Symbol.for("react.strict_mode"),B$=Symbol.for("react.profiler"),V$=Symbol.for("react.consumer"),G$=Symbol.for("react.context"),q$=Symbol.for("react.forward_ref"),H$=Symbol.for("react.suspense"),W$=Symbol.for("react.suspense_list"),K$=Symbol.for("react.memo"),J$=Symbol.for("react.lazy"),Y$=q$,X$=K$;function Q$(e){return function(e){if("object"==typeof e&&null!==e){const{$$typeof:t}=e;switch(t){case _$:switch(e=e.type){case $$:case B$:case U$:case H$:case W$:return e;default:switch(e=e&&e.$$typeof){case G$:case q$:case J$:case K$:case V$:return e;default:return t}}case L$:return t}}}(e)===K$}function Z$(e,t,r,a,{areStatesEqual:n,areOwnPropsEqual:o,areStatePropsEqual:i}){let s,l,c,d,u,p=!1;function h(p,h){const m=!o(h,l),g=!n(p,s,h,l);return s=p,l=h,m&&g?(c=e(s,l),t.dependsOnOwnProps&&(d=t(a,l)),u=r(c,d,l),u):m?(e.dependsOnOwnProps&&(c=e(s,l)),t.dependsOnOwnProps&&(d=t(a,l)),u=r(c,d,l),u):g?function(){const t=e(s,l),a=!i(t,c);return c=t,a&&(u=r(c,d,l)),u}():u}return function(n,o){return p?h(n,o):(s=n,l=o,c=e(s,l),d=t(a,l),u=r(c,d,l),p=!0,u)}}function eU(e){return function(t){const r=e(t);function a(){return r}return a.dependsOnOwnProps=!1,a}}function tU(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function rU(e,t){return function(t,{displayName:r}){const a=function(e,t){return a.dependsOnOwnProps?a.mapToProps(e,t):a.mapToProps(e,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(t,r){a.mapToProps=e,a.dependsOnOwnProps=tU(e);let n=a(t,r);return"function"==typeof n&&(a.mapToProps=n,a.dependsOnOwnProps=tU(n),n=a(t,r)),n},a}}function aU(e,t){return(r,a)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${a.wrappedComponentName}.`)}}function nU(e,t,r){return{...r,...e,...t}}var oU={notify(){},get:()=>[]};function iU(e,t){let r,a=oU,n=0,o=!1;function i(){c.onStateChange&&c.onStateChange()}function s(){n++,r||(r=t?t.addNestedSub(i):e.subscribe(i),a=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){var t;t=()=>{let t=e;for(;t;)t.callback(),t=t.next},t()},get(){const t=[];let r=e;for(;r;)t.push(r),r=r.next;return t},subscribe(r){let a=!0;const n=t={callback:r,next:null,prev:t};return n.prev?n.prev.next=n:e=n,function(){a&&null!==e&&(a=!1,n.next?n.next.prev=n.prev:t=n.prev,n.prev?n.prev.next=n.next:e=n.next)}}}}())}function l(){n--,r&&0===n&&(r(),r=void 0,a.clear(),a=oU)}const c={addNestedSub:function(e){s();const t=a.subscribe(e);let r=!1;return()=>{r||(r=!0,t(),l())}},notifyNestedSubs:function(){a.notify()},handleChangeWrapper:i,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,s())},tryUnsubscribe:function(){o&&(o=!1,l())},getListeners:()=>a};return c}var sU=(()=>!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement))(),lU=(()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product)(),cU=(()=>sU||lU?W.useLayoutEffect:W.useEffect)();function dU(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function uU(e,t){if(dU(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(let n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(t,r[n])||!dU(e[r[n]],t[r[n]]))return!1;return!0}var pU={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},hU={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},mU={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},gU={[Y$]:{$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},[X$]:mU};function xU(e){return Q$(e)?mU:gU[e.$$typeof]||pU}var fU=Object.defineProperty,bU=Object.getOwnPropertyNames,vU=Object.getOwnPropertySymbols,yU=Object.getOwnPropertyDescriptor,wU=Object.getPrototypeOf,jU=Object.prototype;function NU(e,t){if("string"!=typeof t){if(jU){const r=wU(t);r&&r!==jU&&NU(e,r)}let r=bU(t);vU&&(r=r.concat(vU(t)));const a=xU(e),n=xU(t);for(let o=0;o<r.length;++o){const i=r[o];if(!(hU[i]||n&&n[i]||a&&a[i])){const r=yU(t,i);try{fU(e,i,r)}catch(Xd){}}}}return e}var kU=Symbol.for("react-redux-context"),CU="undefined"!=typeof globalThis?globalThis:{};function SU(){var e;if(!W.createContext)return{};const t=null!==(e=CU[kU])&&void 0!==e?e:CU[kU]=new Map;let r=t.get(W.createContext);return r||(r=W.createContext(null),t.set(W.createContext,r)),r}var EU=SU(),PU=[null,null];function OU(e,t,r,a,n,o){e.current=a,r.current=!1,n.current&&(n.current=null,o())}function IU(e,t){return e===t}var AU=function(e,t,r,{pure:a,areStatesEqual:n=IU,areOwnPropsEqual:o=uU,areStatePropsEqual:i=uU,areMergedPropsEqual:s=uU,forwardRef:l=!1,context:c=EU}={}){const d=c,u=function(e){return e?"function"==typeof e?rU(e):aU(e,"mapStateToProps"):eU(()=>({}))}(e),p=function(e){return e&&"object"==typeof e?eU(t=>function(e,t){const r={};for(const a in e){const n=e[a];"function"==typeof n&&(r[a]=(...e)=>t(n(...e)))}return r}(e,t)):e?"function"==typeof e?rU(e):aU(e,"mapDispatchToProps"):eU(e=>({dispatch:e}))}(t),h=function(e){return e?"function"==typeof e?function(e){return function(t,{displayName:r,areMergedPropsEqual:a}){let n,o=!1;return function(t,r,i){const s=e(t,r,i);return o?a(s,n)||(n=s):(o=!0,n=s),n}}}(e):aU(e,"mergeProps"):()=>nU}(r),m=Boolean(e);return e=>{const t=e.displayName||e.name||"Component",r=`Connect(${t})`,a={shouldHandleStateChanges:m,displayName:r,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:u,initMapDispatchToProps:p,initMergeProps:h,areStatesEqual:n,areStatePropsEqual:i,areOwnPropsEqual:o,areMergedPropsEqual:s};function c(t){const[r,n,o]=W.useMemo(()=>{const{reactReduxForwardedRef:e,...r}=t;return[t.context,e,r]},[t]),i=W.useMemo(()=>{let e=d;return null!=r&&r.Consumer,e},[r,d]),s=W.useContext(i),l=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),c=Boolean(s)&&Boolean(s.store),u=l?t.store:s.store,p=c?s.getServerState:u.getState,h=W.useMemo(()=>function(e,{initMapStateToProps:t,initMapDispatchToProps:r,initMergeProps:a,...n}){return Z$(t(e,n),r(e,n),a(e,n),e,n)}(u.dispatch,a),[u]),[g,x]=W.useMemo(()=>{if(!m)return PU;const e=iU(u,l?void 0:s.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]},[u,l,s]),f=W.useMemo(()=>l?s:{...s,subscription:g},[l,s,g]),b=W.useRef(void 0),v=W.useRef(o),y=W.useRef(void 0),w=W.useRef(!1),j=W.useRef(!1),N=W.useRef(void 0);cU(()=>(j.current=!0,()=>{j.current=!1}),[]);const k=W.useMemo(()=>()=>y.current&&o===v.current?y.current:h(u.getState(),o),[u,o]),C=W.useMemo(()=>e=>g?function(e,t,r,a,n,o,i,s,l,c,d){if(!e)return()=>{};let u=!1,p=null;const h=()=>{if(u||!s.current)return;const e=t.getState();let r,h;try{r=a(e,n.current)}catch(Xd){h=Xd,p=Xd}h||(p=null),r===o.current?i.current||c():(o.current=r,l.current=r,i.current=!0,d())};return r.onStateChange=h,r.trySubscribe(),h(),()=>{if(u=!0,r.tryUnsubscribe(),r.onStateChange=null,p)throw p}}(m,u,g,h,v,b,w,j,y,x,e):()=>{},[g]);var S,E,P;let O;S=OU,E=[v,b,w,o,y,x],cU(()=>S(...E),P);try{O=W.useSyncExternalStore(C,k,p?()=>h(p(),o):k)}catch(A){throw N.current&&(A.message+=`\nThe error may be correlated with this previous error:\n${N.current.stack}\n\n`),A}cU(()=>{N.current=void 0,y.current=void 0,b.current=O});const I=W.useMemo(()=>W.createElement(e,{...O,ref:n}),[n,e,O]);return W.useMemo(()=>m?W.createElement(i.Provider,{value:f},I):I,[i,I,f])}const g=W.memo(c);if(g.WrappedComponent=e,g.displayName=c.displayName=r,l){const t=W.forwardRef(function(e,t){return W.createElement(g,{...e,reactReduxForwardedRef:t})});return t.displayName=r,t.WrappedComponent=e,NU(t,e)}return NU(g,e)}};var DU=function(e){const{children:t,context:r,serverState:a,store:n}=e,o=W.useMemo(()=>{const e=iU(n);return{store:n,subscription:e,getServerState:a?()=>a:void 0}},[n,a]),i=W.useMemo(()=>n.getState(),[n]);cU(()=>{const{subscription:e}=o;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),i!==n.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[o,i]);const s=r||EU;return W.createElement(s.Provider,{value:o},t)},MU=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function TU(e,t){return null==e&&null==t||("number"==typeof e&&"number"==typeof t?e===t||e!=e&&t!=t:e===t)}function FU(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var a of r)if(MU.has(a)){if(null==e[a]&&null==t[a])continue;if(!uU(e[a],t[a]))return!1}else if(!TU(e[a],t[a]))return!1;return!0}function zU(e,t){var r,a;return null!==(r=null===(a=e.graphicalItems.cartesianItems.find(e=>e.id===t))||void 0===a?void 0:a.xAxisId)&&void 0!==r?r:0}function RU(e,t){var r,a;return null!==(r=null===(a=e.graphicalItems.cartesianItems.find(e=>e.id===t))||void 0===a?void 0:a.yAxisId)&&void 0!==r?r:0}var _U=(e,t,r)=>DD(e,"xAxis",zU(e,t),r),LU=(e,t,r)=>AD(e,"xAxis",zU(e,t),r),$U=(e,t,r)=>DD(e,"yAxis",RU(e,t),r),UU=(e,t,r)=>AD(e,"yAxis",RU(e,t),r),BU=Bx([dw,_U,$U,LU,UU],(e,t,r,a,n)=>Qv(e,"xAxis")?ly(t,a,!1):ly(r,n,!1)),VU=Bx([ZI,(e,t)=>t],(e,t)=>e.filter(e=>"area"===e.type).find(e=>e.id===t)),GU=e=>{var t=dw(e);return Qv(t,"xAxis")?"yAxis":"xAxis"},qU=Bx([VU,(e,t,r)=>yA(e,GU(e),((e,t)=>"yAxis"===GU(e)?RU(e,t):zU(e,t))(e,t),r)],(e,t)=>{var r;if(null!=e&&null!=t){var{stackId:a}=e,n=II(e);if(null!=a&&null!=n){var o=null===(r=t[a])||void 0===r?void 0:r.stackedData,i=null==o?void 0:o.find(e=>e.key===n);if(null!=i)return i.map(e=>[e[0],e[1]])}}}),HU=Bx([dw,_U,$U,LU,UU,qU,(e,t,r)=>r?aO(e):rO(e),BU,VU,e=>e.rootProps.baseValue],(e,t,r,a,n,o,i,s,l,c)=>{var{chartData:d,dataStartIndex:u,dataEndIndex:p}=i;if(null!=l&&("horizontal"===e||"vertical"===e)&&null!=t&&null!=r&&null!=a&&null!=n&&0!==a.length&&0!==n.length&&null!=s){var h,{data:m}=l;if(null!=(h=m&&m.length>0?m:null==d?void 0:d.slice(u,p+1)))return function(e){var t,{areaSettings:{connectNulls:r,baseValue:a,dataKey:n},stackedData:o,layout:i,chartBaseValue:s,xAxis:l,yAxis:c,displayedData:d,dataStartIndex:u,xAxisTicks:p,yAxisTicks:h,bandSize:m}=e,g=o&&o.length,x=mB(i,s,a,l,c),f="horizontal"===i,b=!1,v=d.map((e,t)=>{var a,i,s;if(g)s=o[u+t];else{var d=Xv(e,n);Array.isArray(d)?(s=d,b=!0):s=[x,d]}var v=null!==(a=null===(i=s)||void 0===i?void 0:i[1])&&void 0!==a?a:null,y=null==v||g&&!r&&null==Xv(e,n);return f?{x:ny({axis:l,ticks:p,bandSize:m,entry:e,index:t}),y:y?null:c.scale(v),value:s,payload:e}:{x:y?null:l.scale(v),y:ny({axis:c,ticks:h,bandSize:m,entry:e,index:t}),value:s,payload:e}});t=g||b?v.map(e=>{var t=Array.isArray(e.value)?e.value[0]:null;return f?{x:e.x,y:null!=t&&null!=e.y?c.scale(t):null,payload:e.payload}:{x:null!=t?l.scale(t):null,y:e.y,payload:e.payload}}):f?c.scale(x):l.scale(x);return{points:v,baseLine:t,isRange:b}}({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:n,dataStartIndex:u,areaSettings:l,stackedData:o,displayedData:h,chartBaseValue:c,bandSize:s})}}),WU=["id"],KU=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function JU(){return JU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},JU.apply(null,arguments)}function YU(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function XU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function QU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?XU(Object(r),!0).forEach(function(t){ZU(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XU(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ZU(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eB(e,t){return e&&"none"!==e?e:t}var tB=e=>{var{dataKey:t,name:r,stroke:a,fill:n,legendType:o,hide:i}=e;return[{inactive:i,dataKey:t,type:o,color:eB(a,n),value:dy(r,t),payload:e}]},rB=W.memo(e=>{var{dataKey:t,data:r,stroke:a,strokeWidth:n,fill:o,name:i,hide:s,unit:l,tooltipType:c,id:d}=e,u={dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:n,fill:o,dataKey:t,nameKey:void 0,name:dy(i,t),hide:s,type:c,color:eB(a,o),unit:l,graphicalItemId:d}};return W.createElement(h_,{tooltipEntrySettings:u})});function aB(e){var{clipPathId:t,points:r,props:a}=e,{needClip:n,dot:o,dataKey:i}=a,s=Pp(a);return W.createElement(aL,{points:r,dot:o,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:i,baseProps:s,needClip:n,clipPathId:t})}function nB(e){var{showLabels:t,children:r,points:a}=e,n=a.map(e=>{var t,r,a={x:null!==(t=e.x)&&void 0!==t?t:0,y:null!==(r=e.y)&&void 0!==r?r:0,width:0,lowerWidth:0,upperWidth:0,height:0};return QU(QU({},a),{},{value:e.value,payload:e.payload,parentViewBox:void 0,viewBox:a,fill:void 0})});return W.createElement(Kz,{value:t?n:void 0},r)}function oB(e){var{points:t,baseLine:r,needClip:a,clipPathId:n,props:o}=e,{layout:i,type:s,stroke:l,connectNulls:c,isRange:d}=o,{id:u}=o,p=YU(o,WU),h=Pp(p),m=Ip(p);return W.createElement(W.Fragment,null,(null==t?void 0:t.length)>1&&W.createElement(zp,{clipPath:a?"url(#clipPath-".concat(n,")"):void 0},W.createElement(Tj,JU({},m,{id:u,points:t,connectNulls:c,type:s,baseLine:r,layout:i,stroke:"none",className:"recharts-area-area"})),"none"!==l&&W.createElement(Tj,JU({},h,{className:"recharts-area-curve",layout:i,type:s,connectNulls:c,fill:"none",points:t})),"none"!==l&&d&&W.createElement(Tj,JU({},h,{className:"recharts-area-curve",layout:i,type:s,connectNulls:c,fill:"none",points:r}))),W.createElement(aB,{points:t,props:p,clipPathId:n}))}function iB(e){var t,r,{alpha:a,baseLine:n,points:o,strokeWidth:i}=e,s=null===(t=o[0])||void 0===t?void 0:t.y,l=null===(r=o[o.length-1])||void 0===r?void 0:r.y;if(!Hv(s)||!Hv(l))return null;var c=a*Math.abs(s-l),d=Math.max(...o.map(e=>e.x||0));return gm(n)?d=Math.max(n,d):n&&Array.isArray(n)&&n.length&&(d=Math.max(...n.map(e=>e.x||0),d)),gm(d)?W.createElement("rect",{x:0,y:s<l?s:s-c,width:d+(i?parseInt("".concat(i),10):1),height:Math.floor(c)}):null}function sB(e){var t,r,{alpha:a,baseLine:n,points:o,strokeWidth:i}=e,s=null===(t=o[0])||void 0===t?void 0:t.x,l=null===(r=o[o.length-1])||void 0===r?void 0:r.x;if(!Hv(s)||!Hv(l))return null;var c=a*Math.abs(s-l),d=Math.max(...o.map(e=>e.y||0));return gm(n)?d=Math.max(n,d):n&&Array.isArray(n)&&n.length&&(d=Math.max(...n.map(e=>e.y||0),d)),gm(d)?W.createElement("rect",{x:s<l?s:s-c,y:0,width:c,height:Math.floor(d+(i?parseInt("".concat(i),10):1))}):null}function lB(e){var{alpha:t,layout:r,points:a,baseLine:n,strokeWidth:o}=e;return"vertical"===r?W.createElement(iB,{alpha:t,points:a,baseLine:n,strokeWidth:o}):W.createElement(sB,{alpha:t,points:a,baseLine:n,strokeWidth:o})}function cB(e){var{needClip:t,clipPathId:r,props:a,previousPointsRef:n,previousBaselineRef:o}=e,{points:i,baseLine:s,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:u,onAnimationStart:p,onAnimationEnd:h}=a,m=xN(W.useMemo(()=>({points:i,baseLine:s}),[i,s]),"recharts-area-"),g=(()=>{var e=uw();if("horizontal"===e||"vertical"===e)return e})(),[x,f]=W.useState(!1),b=!x,v=W.useCallback(()=>{"function"==typeof h&&h(),f(!1)},[h]),y=W.useCallback(()=>{"function"==typeof p&&p(),f(!0)},[p]);if(null==g)return null;var w=n.current,j=o.current;return W.createElement(nB,{showLabels:b,points:i},a.children,W.createElement(gN,{animationId:m,begin:c,duration:d,isActive:l,easing:u,onAnimationEnd:v,onAnimationStart:y,key:m},e=>{if(w){var c,d=w.length/i.length,u=1===e?i:i.map((t,r)=>{var a=Math.floor(r*d);if(w[a]){var n=w[a];return QU(QU({},t),{},{x:wm(n.x,t.x,e),y:wm(n.y,t.y,e)})}return t});return c=gm(s)?wm(j,s,e):Nm(s)||hm(s)?wm(j,0,e):s.map((t,r)=>{var a=Math.floor(r*d);if(Array.isArray(j)&&j[a]){var n=j[a];return QU(QU({},t),{},{x:wm(n.x,t.x,e),y:wm(n.y,t.y,e)})}return t}),e>0&&(n.current=u,o.current=c),W.createElement(oB,{points:u,baseLine:c,needClip:t,clipPathId:r,props:a})}return e>0&&(n.current=i,o.current=s),W.createElement(zp,null,l&&W.createElement("defs",null,W.createElement("clipPath",{id:"animationClipPath-".concat(r)},W.createElement(lB,{alpha:e,points:i,baseLine:s,layout:g,strokeWidth:a.strokeWidth}))),W.createElement(zp,{clipPath:"url(#animationClipPath-".concat(r,")")},W.createElement(oB,{points:i,baseLine:s,needClip:t,clipPathId:r,props:a})))}),W.createElement(Qz,{label:a.label}))}function dB(e){var{needClip:t,clipPathId:r,props:a}=e,n=W.useRef(null),o=W.useRef();return W.createElement(cB,{needClip:t,clipPathId:r,props:a,previousPointsRef:n,previousBaselineRef:o})}class uB extends W.PureComponent{render(){var{hide:e,dot:t,points:r,className:a,top:n,left:o,needClip:i,xAxisId:s,yAxisId:l,width:c,height:d,id:u,baseLine:p,zIndex:h}=this.props;if(e)return null;var m=ws("recharts-area",a),g=u,{r:x,strokeWidth:f}=function(e){var t=Op(e);if(null!=t){var{r:r,strokeWidth:a}=t,n=Number(r),o=Number(a);return(Number.isNaN(n)||n<0)&&(n=3),(Number.isNaN(o)||o<0)&&(o=2),{r:n,strokeWidth:o}}return{r:3,strokeWidth:2}}(t),b=BR(t),v=2*x+f,y=i?"url(#clipPath-".concat(b?"":"dots-").concat(g,")"):void 0;return W.createElement(GT,{zIndex:h},W.createElement(zp,{className:m},i&&W.createElement("defs",null,W.createElement(D$,{clipPathId:g,xAxisId:s,yAxisId:l}),!b&&W.createElement("clipPath",{id:"clipPath-dots-".concat(g)},W.createElement("rect",{x:o-v/2,y:n-v/2,width:c+v,height:d+v}))),W.createElement(dB,{needClip:i,clipPathId:g,props:this.props})),W.createElement(SL,{points:r,mainColor:eB(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:y}),this.props.isRange&&Array.isArray(p)&&W.createElement(SL,{points:p,mainColor:eB(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:y}))}}var pB={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:nI.area};function hB(e){var t,r=$m(e,pB),{activeDot:a,animationBegin:n,animationDuration:o,animationEasing:i,connectNulls:s,dot:l,fill:c,fillOpacity:d,hide:u,isAnimationActive:p,legendType:h,stroke:m,xAxisId:g,yAxisId:x}=r,f=YU(r,KU),b=uw(),v=fT(),{needClip:y}=A$(g,x),w=Ay(),{points:j,isRange:N,baseLine:k}=null!==(t=Tx(t=>HU(t,e.id,w)))&&void 0!==t?t:{},C=wL();if("horizontal"!==b&&"vertical"!==b||null==C)return null;if("AreaChart"!==v&&"ComposedChart"!==v)return null;var{height:S,width:E,x:P,y:O}=C;return j&&j.length?W.createElement(uB,JU({},f,{activeDot:a,animationBegin:n,animationDuration:o,animationEasing:i,baseLine:k,connectNulls:s,dot:l,fill:c,fillOpacity:d,height:S,hide:u,layout:b,isAnimationActive:"auto"===p?!uN:p,isRange:N,legendType:h,needClip:y,points:j,stroke:m,width:E,left:P,top:O,xAxisId:g,yAxisId:x})):null}var mB=(e,t,r,a,n)=>{var o=null!=r?r:t;if(gm(o))return o;var i="horizontal"===e?n:a,s=i.scale.domain();if("number"===i.type){var l=Math.max(s[0],s[1]),c=Math.min(s[0],s[1]);return"dataMin"===o?c:"dataMax"===o||l<0?l:Math.max(Math.min(s[0],s[1]),0)}return"dataMin"===o?s[0]:"dataMax"===o?s[1]:s[0]};function gB(e){var t=$m(e,pB),r=Ay();return W.createElement(b_,{id:t.id,type:"area"},e=>{return W.createElement(W.Fragment,null,W.createElement(m_,{legendPayload:tB(t)}),W.createElement(rB,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:e}),W.createElement(E_,{type:"area",id:e,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:(a=t.stackId,null==a?void 0:String(a)),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),W.createElement(hB,JU({},t,{id:e})));var a})}var xB=W.memo(gB,FU);xB.displayName="Area";var fB=["domain","range"],bB=["domain","range"];function vB(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yB(e,t){return e===t||!(!Array.isArray(e)||2!==e.length||!Array.isArray(t)||2!==t.length)&&(e[0]===t[0]&&e[1]===t[1])}function wB(e,t){if(e===t)return!0;var{domain:r,range:a}=e,n=vB(e,fB),{domain:o,range:i}=t,s=vB(t,bB);return!!yB(r,o)&&(!!yB(a,i)&&FU(n,s))}var jB=["dangerouslySetInnerHTML","ticks","scale"],NB=["id","scale"];function kB(){return kB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},kB.apply(null,arguments)}function CB(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function SB(e){var t=Ix(),r=W.useRef(null);return W.useLayoutEffect(()=>{null===r.current?t(lL(e)):r.current!==e&&t(cL({prev:r.current,next:e})),r.current=e},[e,t]),W.useLayoutEffect(()=>()=>{r.current&&(t(dL(r.current)),r.current=null)},[t]),null}var EB=e=>{var{xAxisId:t,className:r}=e,a=Tx(Oy),n=Ay(),o="xAxis",i=Tx(e=>ID(e,o,t,n)),s=Tx(e=>vD(e,t)),l=Tx(e=>jD(e,t)),c=Tx(e=>BI(e,t));if(null==s||null==l||null==c)return null;var{dangerouslySetInnerHTML:d,ticks:u,scale:p}=e,h=CB(e,jB),{id:m,scale:g}=c,x=CB(c,NB);return W.createElement(i$,kB({},h,x,{x:l.x,y:l.y,width:s.width,height:s.height,className:ws("recharts-".concat(o," ").concat(o),r),viewBox:a,ticks:i,axisType:o}))},PB={allowDataOverflow:UI.allowDataOverflow,allowDecimals:UI.allowDecimals,allowDuplicatedCategory:UI.allowDuplicatedCategory,angle:UI.angle,axisLine:t$.axisLine,height:UI.height,hide:!1,includeHidden:UI.includeHidden,interval:UI.interval,minTickGap:UI.minTickGap,mirror:UI.mirror,orientation:UI.orientation,padding:UI.padding,reversed:UI.reversed,scale:UI.scale,tick:UI.tick,tickCount:UI.tickCount,tickLine:t$.tickLine,tickSize:t$.tickSize,type:UI.type,xAxisId:0},OB=e=>{var t=$m(e,PB);return W.createElement(W.Fragment,null,W.createElement(SB,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),W.createElement(EB,t))},IB=W.memo(OB,wB);IB.displayName="XAxis";var AB=["dangerouslySetInnerHTML","ticks","scale"],DB=["id","scale"];function MB(){return MB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},MB.apply(null,arguments)}function TB(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function FB(e){var t=Ix(),r=W.useRef(null);return W.useLayoutEffect(()=>{null===r.current?t(uL(e)):r.current!==e&&t(pL({prev:r.current,next:e})),r.current=e},[e,t]),W.useLayoutEffect(()=>()=>{r.current&&(t(hL(r.current)),r.current=null)},[t]),null}var zB=e=>{var{yAxisId:t,className:r,width:a,label:n}=e,o=W.useRef(null),i=W.useRef(null),s=Tx(Oy),l=Ay(),c=Ix(),d="yAxis",u=Tx(e=>kD(e,t)),p=Tx(e=>ND(e,t)),h=Tx(e=>ID(e,d,t,l)),m=Tx(e=>qI(e,t));if(W.useLayoutEffect(()=>{if("auto"===a&&u&&!Nz(n)&&!W.isValidElement(n)&&null!=m){var e=o.current;if(e){var r=e.getCalculatedWidth();Math.round(u.width)!==Math.round(r)&&c(fL({id:t,width:r}))}}},[h,u,c,n,t,a,m]),null==u||null==p||null==m)return null;var{dangerouslySetInnerHTML:g,ticks:x,scale:f}=e,b=TB(e,AB),{id:v,scale:y}=m,w=TB(m,DB);return W.createElement(i$,MB({},b,w,{ref:o,labelRef:i,x:p.x,y:p.y,tickTextProps:"auto"===a?{width:void 0}:{width:a},width:u.width,height:u.height,className:ws("recharts-".concat(d," ").concat(d),r),viewBox:s,ticks:h,axisType:d}))},RB={allowDataOverflow:GI.allowDataOverflow,allowDecimals:GI.allowDecimals,allowDuplicatedCategory:GI.allowDuplicatedCategory,angle:GI.angle,axisLine:t$.axisLine,hide:!1,includeHidden:GI.includeHidden,interval:GI.interval,minTickGap:GI.minTickGap,mirror:GI.mirror,orientation:GI.orientation,padding:GI.padding,reversed:GI.reversed,scale:GI.scale,tick:GI.tick,tickCount:GI.tickCount,tickLine:t$.tickLine,tickSize:t$.tickSize,type:GI.type,width:GI.width,yAxisId:0},_B=e=>{var t=$m(e,RB);return W.createElement(W.Fragment,null,W.createElement(FB,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),W.createElement(zB,t))},LB=W.memo(_B,wB);LB.displayName="YAxis";var $B=Bx([(e,t)=>t,dw,EI,FI,GM,KM,wT,Ey],(e,t,r,a,n,o,i,s)=>{if(e&&t&&a&&n&&o)return"horizontal"===t||"vertical"===t?((e,t,r,a,n,o,i)=>{if(e&&r&&a&&n&&function(e,t){var{chartX:r,chartY:a}=e;return r>=t.left&&r<=t.left+t.width&&a>=t.top&&a<=t.top+t.height}(e,i)){var s=((e,t)=>"horizontal"===t?e.chartX:"vertical"===t?e.chartY:void 0)(e,t),l=xT(s,o,n,r,a),c=((e,t,r,a)=>{var n=t.find(e=>e&&e.index===r);if(n){if("horizontal"===e)return{x:n.coordinate,y:a.chartY};if("vertical"===e)return{x:a.chartX,y:n.coordinate}}return{x:0,y:0}})(t,n,l,e);return{activeIndex:String(l),activeCoordinate:c}}})(e,t,a,n,o,i,s):IT(e,t,r,a,n,o,i)}),UB=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,a=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/a)}},BB=Gb("mouseClick"),VB=Rv();VB.startListening({actionCreator:BB,effect:(e,t)=>{var r=e.payload,a=$B(t.getState(),UB(r));null!=(null==a?void 0:a.activeIndex)&&t.dispatch(XD({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var GB=Gb("mouseMove"),qB=Rv(),HB=null;function WB(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":"children"===e&&"object"==typeof t&&null!==t?"<<CHILDREN>>":t}qB.startListening({actionCreator:GB,effect:(e,t)=>{var r=e.payload;null!==HB&&cancelAnimationFrame(HB);var a=UB(r);HB=requestAnimationFrame(()=>{var e=t.getState();if("axis"===_D(e,e.tooltip.settings.shared)){var r=$B(e,a);null!=(null==r?void 0:r.activeIndex)?t.dispatch(YD({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate})):t.dispatch(KD())}HB=null})}});var KB={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},JB=ov({name:"rootProps",initialState:KB,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(r=t.payload.barGap)&&void 0!==r?r:KB.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),YB=JB.reducer,{updateOptions:XB}=JB.actions,QB=ov({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:ZB}=QB.actions,eV=QB.reducer,tV=Gb("keyDown"),rV=Gb("focus"),aV=Rv();aV.startListening({actionCreator:tV,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:a}=r.tooltip,n=e.payload;if("ArrowRight"===n||"ArrowLeft"===n||"Enter"===n){var o=iM(a,wM(r),fA(r),$M(r)),i=null==o?-1:Number(o);if(Number.isFinite(i)&&!(i<0)){var s=KM(r);if("Enter"!==n){var l=i+("ArrowRight"===n?1:-1)*("left-to-right"===TD(r)?1:-1);if(!(null==s||l>=s.length||l<0)){var c=CT(r,"axis","hover",String(l));t.dispatch(ZD({active:!0,activeIndex:l.toString(),activeCoordinate:c}))}}else{var d=CT(r,"axis","hover",String(a.index));t.dispatch(ZD({active:!a.active,activeIndex:a.index,activeCoordinate:d}))}}}}}}),aV.startListening({actionCreator:rV,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&null==a.index){var n=CT(r,"axis","hover",String("0"));t.dispatch(ZD({active:!0,activeIndex:"0",activeCoordinate:n}))}}}});var nV=Gb("externalEvent"),oV=Rv(),iV=new Map;oV.startListening({actionCreator:nV,effect:(e,t)=>{var{handler:r,reactEvent:a}=e.payload;if(null!=r){a.persist();var n=a.type,o=iV.get(n);void 0!==o&&cancelAnimationFrame(o);var i=requestAnimationFrame(()=>{try{var e=t.getState(),o={activeCoordinate:oT(e),activeDataKey:tT(e),activeIndex:ZM(e),activeLabel:eT(e),activeTooltipIndex:ZM(e),isTooltipActive:iT(e)};r(o,a)}finally{iV.delete(n)}});iV.set(n,i)}}});var sV=Bx([dM],e=>e.tooltipItemPayloads),lV=Bx([sV,cM,(e,t)=>t,(e,t,r)=>r],(e,t,r,a)=>{var n=e.find(e=>e.settings.graphicalItemId===a);if(null!=n){var{positions:o}=n;if(null!=o)return t(o,r)}}),cV=Gb("touchMove"),dV=Rv();dV.startListening({actionCreator:cV,effect:(e,t)=>{var r=e.payload;if(null!=r.touches&&0!==r.touches.length){var a=t.getState(),n=_D(a,a.tooltip.settings.shared);if("axis"===n){var o=r.touches[0];if(null==o)return;var i=$B(a,UB({clientX:o.clientX,clientY:o.clientY,currentTarget:r.currentTarget}));null!=(null==i?void 0:i.activeIndex)&&t.dispatch(YD({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if("item"===n){var s,l=r.touches[0];if(null==document.elementFromPoint||null==l)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(fy),u=null!==(s=c.getAttribute(by))&&void 0!==s?s:void 0,p=bM(a).find(e=>e.id===u);if(null==d||null==p||null==u)return;var{dataKey:h}=p,m=lV(a,d,u);t.dispatch(HD({activeDataKey:h,activeIndex:d,activeCoordinate:m,activeGraphicalItemId:u}))}}}});var uV=jf({brush:AL,cartesianAxis:bL,chartData:mF,errorBars:I$,graphicalItems:C_,layout:Gv,legend:lj,options:sF,polarAxis:fR,polarOptions:eV,referenceElements:$L,rootProps:YB,tooltip:eM,zIndex:VT});function pV(e){var{preloadedState:t,children:r,reduxStoreName:a}=e,n=Ay(),o=W.useRef(null);if(n)return r;null==o.current&&(o.current=function(e){return Qb({reducer:uV,preloadedState:e,middleware:e=>e({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes("es6")}).concat([VB.middleware,qB.middleware,aV.middleware,oV.middleware,dV.middleware]),enhancers:e=>{var t=e;return"function"==typeof e&&(t=e()),t.concat(Xb({type:"raf"}))},devTools:{serialize:{replacer:WB},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(t,a));var i=Px;return W.createElement(DU,{context:i,store:o.current},r)}function hV(e){var{layout:t,margin:r}=e,a=Ix(),n=Ay();return W.useEffect(()=>{n||(a(Uv(t)),a($v(r)))},[a,n,t,r]),null}var mV=W.memo(hV,FU);function gV(e){var t=Ix();return W.useEffect(()=>{t(XB(e))},[t,e]),null}function xV(e){var{zIndex:t,isPanorama:r}=e,a=W.useRef(null),n=Ix();return W.useLayoutEffect(()=>(a.current&&n(UT({zIndex:t,element:a.current,isPanorama:r})),()=>{n(BT({zIndex:t,isPanorama:r}))}),[n,t,r]),W.createElement("g",{tabIndex:-1,ref:a})}function fV(e){var{children:t,isPanorama:r}=e,a=Tx(DT);if(!a||0===a.length)return t;var n=a.filter(e=>e<0),o=a.filter(e=>e>0);return W.createElement(W.Fragment,null,n.map(e=>W.createElement(xV,{key:e,zIndex:e,isPanorama:r})),t,o.map(e=>W.createElement(xV,{key:e,zIndex:e,isPanorama:r})))}var bV=["children"];function vV(){return vV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},vV.apply(null,arguments)}var yV={width:"100%",height:"100%",display:"block"},wV=W.forwardRef((e,t)=>{var r=lw(),a=cw(),n=Nj();if(!Wv(r)||!Wv(a))return null;var o,i,{children:s,otherAttributes:l,title:c,desc:d}=e;return null!=l&&(o="number"==typeof l.tabIndex?l.tabIndex:n?0:void 0,i="string"==typeof l.role?l.role:n?"application":void 0),W.createElement(Mp,vV({},l,{title:c,desc:d,role:i,tabIndex:o,width:r,height:a,style:yV,ref:t}),s)}),jV=e=>{var{children:t}=e,r=Tx(My);if(!r)return null;var{width:a,height:n,y:o,x:i}=r;return W.createElement(Mp,{width:a,height:n,x:i,y:o},t)},NV=W.forwardRef((e,t)=>{var{children:r}=e,a=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,bV);return Ay()?W.createElement(jV,null,W.createElement(fV,{isPanorama:!0},r)):W.createElement(wV,vV({ref:t},a),W.createElement(fV,{isPanorama:!1},r))});function kV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function CV(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kV(Object(r),!0).forEach(function(t){SV(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kV(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function SV(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EV(){return EV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},EV.apply(null,arguments)}var PV=()=>(yF(),null);function OV(e){if("number"==typeof e)return e;if("string"==typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var IV=W.forwardRef((e,t)=>{var r,a,n=W.useRef(null),[o,i]=W.useState({containerWidth:OV(null===(r=e.style)||void 0===r?void 0:r.width),containerHeight:OV(null===(a=e.style)||void 0===a?void 0:a.height)}),s=W.useCallback((e,t)=>{i(r=>{var a=Math.round(e),n=Math.round(t);return r.containerWidth===a&&r.containerHeight===n?r:{containerWidth:a,containerHeight:n}})},[]),l=W.useCallback(e=>{if("function"==typeof t&&t(e),null!=e&&"undefined"!=typeof ResizeObserver){var{width:r,height:a}=e.getBoundingClientRect();s(r,a);var o=new ResizeObserver(e=>{var{width:t,height:r}=e[0].contentRect;s(t,r)});o.observe(e),n.current=o}},[t,s]);return W.useEffect(()=>()=>{var e=n.current;null!=e&&e.disconnect()},[s]),W.createElement(W.Fragment,null,W.createElement(pw,{width:o.containerWidth,height:o.containerHeight}),W.createElement("div",EV({ref:l},e)))}),AV=W.forwardRef((e,t)=>{var{width:r,height:a}=e,[n,o]=W.useState({containerWidth:OV(r),containerHeight:OV(a)}),i=W.useCallback((e,t)=>{o(r=>{var a=Math.round(e),n=Math.round(t);return r.containerWidth===a&&r.containerHeight===n?r:{containerWidth:a,containerHeight:n}})},[]),s=W.useCallback(e=>{if("function"==typeof t&&t(e),null!=e){var{width:r,height:a}=e.getBoundingClientRect();i(r,a)}},[t,i]);return W.createElement(W.Fragment,null,W.createElement(pw,{width:n.containerWidth,height:n.containerHeight}),W.createElement("div",EV({ref:s},e)))}),DV=W.forwardRef((e,t)=>{var{width:r,height:a}=e;return W.createElement(W.Fragment,null,W.createElement(pw,{width:r,height:a}),W.createElement("div",EV({ref:t},e)))}),MV=W.forwardRef((e,t)=>{var{width:r,height:a}=e;return mm(r)||mm(a)?W.createElement(AV,EV({},e,{ref:t})):W.createElement(DV,EV({},e,{ref:t}))});var TV=W.forwardRef((e,t)=>{var{children:r,className:a,height:n,onClick:o,onContextMenu:i,onDoubleClick:s,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:u,onMouseUp:p,onTouchEnd:h,onTouchMove:m,onTouchStart:g,style:x,width:f,responsive:b,dispatchTouchEvents:v=!0}=e,y=W.useRef(null),w=Ix(),[j,N]=W.useState(null),[k,C]=W.useState(null),S=function(){var e=Ix(),[t,r]=W.useState(null),a=Tx(hy);return W.useEffect(()=>{if(null!=t){var r=t.getBoundingClientRect().width/t.offsetWidth;Hv(r)&&r!==a&&e(Vv(r))}},[t,e,a]),r}(),E=tw(),P=(null==E?void 0:E.width)>0?E.width:f,O=(null==E?void 0:E.height)>0?E.height:n,I=W.useCallback(e=>{S(e),"function"==typeof t&&t(e),N(e),C(e),null!=e&&(y.current=e)},[S,t,N,C]),A=W.useCallback(e=>{w(BB(e)),w(nV({handler:o,reactEvent:e}))},[w,o]),D=W.useCallback(e=>{w(GB(e)),w(nV({handler:c,reactEvent:e}))},[w,c]),M=W.useCallback(e=>{w(KD()),w(nV({handler:d,reactEvent:e}))},[w,d]),T=W.useCallback(e=>{w(GB(e)),w(nV({handler:u,reactEvent:e}))},[w,u]),F=W.useCallback(()=>{w(rV())},[w]),z=W.useCallback(e=>{w(tV(e.key))},[w]),R=W.useCallback(e=>{w(nV({handler:i,reactEvent:e}))},[w,i]),_=W.useCallback(e=>{w(nV({handler:s,reactEvent:e}))},[w,s]),L=W.useCallback(e=>{w(nV({handler:l,reactEvent:e}))},[w,l]),$=W.useCallback(e=>{w(nV({handler:p,reactEvent:e}))},[w,p]),U=W.useCallback(e=>{w(nV({handler:g,reactEvent:e}))},[w,g]),B=W.useCallback(e=>{v&&w(cV(e)),w(nV({handler:m,reactEvent:e}))},[w,v,m]),V=W.useCallback(e=>{w(nV({handler:h,reactEvent:e}))},[w,h]),G=function(e){return!0===e?IV:MV}(b);return W.createElement(ZT.Provider,{value:j},W.createElement(Rp.Provider,{value:k},W.createElement(G,{width:null!=P?P:null==x?void 0:x.width,height:null!=O?O:null==x?void 0:x.height,className:ws("recharts-wrapper",a),style:CV({position:"relative",cursor:"default",width:P,height:O},x),onClick:A,onContextMenu:R,onDoubleClick:_,onFocus:F,onKeyDown:z,onMouseDown:L,onMouseEnter:D,onMouseLeave:M,onMouseMove:T,onMouseUp:$,onTouchEnd:V,onTouchMove:B,onTouchStart:U,ref:I},W.createElement(PV,null),r)))}),FV=["width","height","responsive","children","className","style","compact","title","desc"];var zV=W.forwardRef((e,t)=>{var{width:r,height:a,responsive:n,children:o,className:i,style:s,compact:l,title:c,desc:d}=e,u=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,FV),p=Pp(u);return l?W.createElement(W.Fragment,null,W.createElement(pw,{width:r,height:a}),W.createElement(NV,{otherAttributes:p,title:c,desc:d},o)):W.createElement(TV,{className:i,style:s,width:r,height:a,responsive:null!=n&&n,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},W.createElement(NV,{otherAttributes:p,title:c,desc:d,ref:t},W.createElement(BL,null,o)))});function RV(){return RV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},RV.apply(null,arguments)}var _V={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:{top:5,right:5,bottom:5,left:5},responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},LV=W.forwardRef(function(e,t){var r,a=$m(e.categoricalChartProps,_V),{chartName:n,defaultTooltipEventType:o,validateTooltipEventTypes:i,tooltipPayloadSearcher:s,categoricalChartProps:l}=e,c={chartName:n,defaultTooltipEventType:o,validateTooltipEventTypes:i,tooltipPayloadSearcher:s,eventEmitter:void 0};return W.createElement(pV,{preloadedState:{options:c},reduxStoreName:null!==(r=l.id)&&void 0!==r?r:n},W.createElement(EL,{chartData:l.data}),W.createElement(mV,{layout:a.layout,margin:a.margin}),W.createElement(gV,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),W.createElement(zV,RV({},a,{ref:t})))});function $V(e){var t=Ix();return W.useEffect(()=>{t(ZB(e))},[t,e]),null}var UV=["layout"];function BV(){return BV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},BV.apply(null,arguments)}var VV={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},GV=W.forwardRef(function(e,t){var r,a=$m(e.categoricalChartProps,VV),{layout:n}=a,o=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(a,UV),{chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c}=e,d={chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return W.createElement(pV,{preloadedState:{options:d},reduxStoreName:null!==(r=a.id)&&void 0!==r?r:i},W.createElement(EL,{chartData:a.data}),W.createElement(mV,{layout:n,margin:a.margin}),W.createElement(gV,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),W.createElement($V,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),W.createElement(zV,BV({},o,{ref:t})))});function qV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function HV(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qV(Object(r),!0).forEach(function(t){WV(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qV(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function WV(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var KV=["item"],JV=HV(HV({},VV),{},{layout:"centric",startAngle:0,endAngle:360}),YV=W.forwardRef((e,t)=>{var r=$m(e,JV);return W.createElement(GV,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:KV,tooltipPayloadSearcher:oF,categoricalChartProps:r,ref:t})}),XV=["axis"],QV=W.forwardRef((e,t)=>W.createElement(LV,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:XV,tooltipPayloadSearcher:oF,categoricalChartProps:e,ref:t}));const ZV="http://localhost:5006/api",eG=["#FF6600","#000000","#666666","#999999","#CCCCCC"],tG=({title:e,value:t,icon:r,trend:a,color:n,subtitle:o})=>H.jsx(ln,{className:"overflow-hidden border-none shadow-md hover:shadow-lg transition-shadow bg-white",children:H.jsxs(un,{className:"p-6",children:[H.jsxs("div",{className:"flex justify-between items-start",children:[H.jsxs("div",{className:"space-y-2",children:[H.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:e}),H.jsx("h3",{className:"text-2xl font-black text-gray-900",children:t}),o&&H.jsx("p",{className:"text-[10px] text-gray-400 font-medium",children:o})]}),H.jsx("div",{className:`p-3 rounded-xl ${n} bg-opacity-10 text-${n.split("-")[1]}-600`,children:H.jsx(r,{size:24})})]}),a&&H.jsxs("div",{className:"mt-4 flex items-center text-xs font-bold",children:[a>0?H.jsxs("span",{className:"text-green-500 flex items-center bg-green-50 px-2 py-0.5 rounded-full",children:[H.jsx(sr,{size:14,className:"mr-1"})," +",a,"%"]}):H.jsxs("span",{className:"text-red-500 flex items-center bg-red-50 px-2 py-0.5 rounded-full",children:[H.jsx(tr,{size:14,className:"mr-1"})," ",a,"%"]}),H.jsx("span",{className:"text-gray-400 ml-2 font-medium",children:"vs ayer"})]})]})}),rG=()=>{const e=it(),[t,r]=W.useState(!0),[a,n]=W.useState(!1),[o,i]=W.useState({salesToday:0,purchasesToday:0,cxpPending:0,lowStockCount:0,recentSales:[]}),[s,l]=W.useState({salesByHour:[],topProducts:[],cashStatus:[]});W.useEffect(()=>{(async()=>{try{r(!0);const[e,t]=await Promise.all([fetch(`${ZV}/Dashboard/Summary`),fetch(`${ZV}/Dashboard/Charts`)]);if(e.ok){const t=await e.json();i(t)}if(t.ok){const e=await t.json();l(e)}}catch(e){console.error("Dashboard error:",e)}finally{r(!1),setTimeout(()=>n(!0),100)}})()},[]);const c=e=>new Intl.NumberFormat("es-DO",{style:"currency",currency:"DOP"}).format(e);return H.jsxs("div",{className:"p-6 space-y-8 max-w-[1600px] mx-auto transition-colors duration-500",children:[H.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[H.jsxs("div",{children:[H.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[H.jsx(Jt,{className:"text-hd-orange",size:24}),H.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Consola Administrativa"})]}),H.jsx("p",{className:"text-gray-500 font-medium",children:"Anlisis de tiempo real y gestin operativa del sistema."})]}),H.jsxs("div",{className:"flex items-center gap-3",children:[H.jsxs(Za,{onClick:()=>e("/launchpad"),className:"bg-black hover:bg-gray-800 text-white font-black uppercase tracking-tighter italic border-b-4 border-hd-orange",children:[H.jsx(Xr,{size:18,className:"mr-2"})," Men de Mdulos"]}),H.jsxs("div",{className:"bg-white border px-4 py-2 rounded-lg flex items-center gap-2 text-sm font-bold text-gray-600 shadow-sm",children:[H.jsx(Or,{size:16,className:"text-hd-orange"}),(new Date).toLocaleDateString("es-DO",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]})]}),H.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[H.jsx(tG,{title:"Ventas de Hoy",value:c(o.salesToday),icon:Pa,color:"bg-blue-500",subtitle:"Subtotal + ITBIS acumulado"}),H.jsx(tG,{title:"Compras realizadas",value:c(o.purchasesToday),icon:za,color:"bg-green-500",subtitle:"Convertido a DOP"}),H.jsx(tG,{title:"CXP - Saldo Pendiente",value:c(o.cxpPending),icon:Dr,color:"bg-orange-500",subtitle:"Deuda total a proveedores"}),H.jsx(tG,{title:"Stock Crtico",value:o.lowStockCount,icon:Xt,color:"bg-red-500",subtitle:"Bajo stock de seguridad"})]}),H.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[H.jsxs(ln,{className:"xl:col-span-2 border-none shadow-xl bg-white overflow-hidden",children:[H.jsx(cn,{className:"flex flex-row items-center justify-between border-b bg-gray-50/30 px-6 py-4",children:H.jsxs(dn,{className:"text-lg font-black flex items-center gap-2",children:[H.jsx(za,{className:"text-hd-orange",size:20}),"Flujo de Ventas (ltimas 24h)"]})}),H.jsx(un,{className:"p-6 pt-8",children:H.jsx("div",{className:"w-full h-[300px]",style:{width:"100%",height:300},children:a&&s.salesByHour.length>0?H.jsx("div",{style:{width:"100%",height:300},children:H.jsx(aw,{children:H.jsxs(QV,{data:s.salesByHour.map(e=>({hour:`${e.Hour}:00`,amount:e.Amount})),children:[H.jsx("defs",{children:H.jsxs("linearGradient",{id:"colorSales",x1:"0",y1:"0",x2:"0",y2:"1",children:[H.jsx("stop",{offset:"5%",stopColor:"#FF6600",stopOpacity:.1}),H.jsx("stop",{offset:"95%",stopColor:"#FF6600",stopOpacity:0})]})}),H.jsx(C$,{strokeDasharray:"3 3",vertical:!1,stroke:"#E5E7EB"}),H.jsx(IB,{dataKey:"hour",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#9CA3AF"},dy:10}),H.jsx(LB,{hide:!0}),H.jsx(PF,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.1)"},formatter:e=>[c(e),"Ventas"]}),H.jsx(xB,{type:"monotone",dataKey:"amount",stroke:"#FF6600",strokeWidth:3,fillOpacity:1,fill:"url(#colorSales)"})]})})}):H.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 gap-2 border-2 border-dashed border-gray-100 rounded-xl",children:[H.jsx(za,{size:32}),H.jsx("p",{className:"text-sm font-medium italic",children:"Sin actividad de ventas en las ltimas 24h"})]})})})]}),H.jsxs(ln,{className:"border-none shadow-xl bg-white overflow-hidden",children:[H.jsx(cn,{className:"border-b bg-gray-50/30 px-6 py-4",children:H.jsxs(dn,{className:"text-lg font-black flex items-center gap-2",children:[H.jsx(Va,{className:"text-hd-orange",size:20}),"Distribucin de Efectivo"]})}),H.jsxs(un,{className:"p-6 flex flex-col items-center justify-center",children:[a&&s.cashStatus.length>0?H.jsx("div",{style:{width:"100%",height:240},children:H.jsx(aw,{children:H.jsxs(YV,{children:[H.jsx(Y_,{data:s.cashStatus,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"Value",children:s.cashStatus.map((e,t)=>H.jsx(OF,{fill:eG[t%eG.length]},`cell-${t}`))}),H.jsx(PF,{})]})})}):H.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 gap-2 border-2 border-dashed border-gray-100 rounded-xl",children:[H.jsx(Va,{size:32}),H.jsx("p",{className:"text-sm font-medium italic font-mono text-center px-4",children:"Sin datos de cobros hoy"})]}),H.jsx("div",{className:"grid grid-cols-2 gap-4 mt-4 w-full",children:s.cashStatus.map((e,t)=>H.jsxs("div",{className:"flex flex-col",children:[H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:eG[t%eG.length]}}),H.jsx("span",{className:"text-[10px] uppercase font-black text-gray-400",children:e.Name||"Otros"})]}),H.jsx("span",{className:"text-sm font-black text-gray-800 ml-4",children:c(e.Value)})]},t))})]})]})]}),H.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[H.jsxs(ln,{className:"lg:col-span-2 border-none shadow-xl bg-white overflow-hidden",children:[H.jsxs(cn,{className:"flex flex-row items-center justify-between border-b bg-gray-50/30 px-6 py-4",children:[H.jsxs(dn,{className:"text-lg font-black flex items-center gap-2",children:[H.jsx(Jt,{className:"text-hd-orange",size:20}),"Ventas del Da"]}),H.jsxs(Za,{variant:"ghost",size:"sm",className:"text-hd-orange font-bold text-xs uppercase tracking-widest hover:bg-orange-50",children:["Ver todas ",H.jsx(Cr,{size:14})]})]}),H.jsx(un,{className:"p-0",children:H.jsx("div",{className:"max-h-[400px] overflow-auto",children:H.jsxs("table",{className:"w-full text-left",children:[H.jsx("thead",{className:"bg-gray-50 text-gray-600 text-[10px] uppercase font-black tracking-widest border-b h-12 sticky top-0 bg-white",children:H.jsxs("tr",{children:[H.jsx("th",{className:"px-6",children:"No. Factura"}),H.jsx("th",{className:"px-6",children:"Cliente"}),H.jsx("th",{className:"px-6",children:"Hora"}),H.jsx("th",{className:"px-6 text-right",children:"Total"})]})}),H.jsx("tbody",{className:"divide-y divide-gray-100",children:0===o.recentSales.length?H.jsx("tr",{children:H.jsx("td",{colSpan:"4",className:"px-6 py-12 text-center text-gray-400 italic font-medium",children:"No se han registrado ventas hoy."})}):o.recentSales.map(e=>H.jsxs("tr",{className:"hover:bg-gray-50/80 transition-colors group",children:[H.jsx("td",{className:"px-6 py-4",children:H.jsx("span",{className:"font-black text-xs text-hd-orange bg-orange-50 px-2 py-1 rounded border border-orange-100",children:e.NumeroFactura})}),H.jsx("td",{className:"px-6 py-4 text-sm font-bold text-gray-700",children:e.Cliente||"Cliente General"}),H.jsx("td",{className:"px-6 py-4 text-xs font-medium text-gray-400 italic",children:new Date(e.Fecha).toLocaleString("es-DO",{hour:"2-digit",minute:"2-digit"})}),H.jsx("td",{className:"px-6 py-4 text-right",children:H.jsx("span",{className:"text-sm font-black text-gray-900",children:c(e.Total)})})]},e.NumeroFactura))})]})})})]}),H.jsxs(ln,{className:"border-none shadow-xl bg-white text-gray-900 overflow-hidden flex flex-col",children:[H.jsx(cn,{className:"border-b bg-gray-50/30 px-6 py-4",children:H.jsxs(dn,{className:"text-lg font-black flex items-center gap-2",children:[H.jsx(za,{className:"text-hd-orange",size:20}),"Productos Ms Vendidos"]})}),H.jsx(un,{className:"p-6 flex-grow",children:H.jsxs("div",{className:"space-y-6",children:[s.topProducts.map((e,t)=>H.jsxs("div",{className:"space-y-2",children:[H.jsxs("div",{className:"flex justify-between items-end",children:[H.jsx("span",{className:"text-xs font-bold text-gray-600 truncate max-w-[200px]",children:e.Name}),H.jsxs("span",{className:"text-xs font-black text-hd-orange",children:[e.Value," unds"]})]}),H.jsx("div",{className:"h-1.5 w-full bg-gray-100 rounded-full overflow-hidden",children:H.jsx("div",{className:"h-full bg-hd-orange rounded-full",style:{width:e.Value/Math.max(...s.topProducts.map(e=>e.Value))*100+"%"}})})]},t)),0===s.topProducts.length&&H.jsx("p",{className:"text-gray-500 text-sm italic text-center py-10",children:"Sin datos de productos este mes."})]})}),o.lowStockCount>0&&H.jsx("div",{className:"p-6 bg-red-600/10 border-t border-red-500/20 group cursor-pointer hover:bg-red-600/20 transition-colors",children:H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs("div",{className:"flex items-center gap-2 text-red-500",children:[H.jsx(Xt,{size:18}),H.jsxs("span",{className:"text-xs font-black uppercase tracking-tight",children:[o.lowStockCount," Alertas de Stock"]})]}),H.jsx(Cr,{size:16,className:"text-red-500 group-hover:translate-x-1 transition-transform"})]})})]})]})]})};function aG(e,t){var r=W.useState(function(){return{inputs:t,result:e()}})[0],a=W.useRef(!0),n=W.useRef(r),o=a.current||Boolean(t&&n.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(t,n.current.inputs)),i=o?n.current:{inputs:t,result:e()};return W.useEffect(function(){a.current=!1,n.current=i},[i]),i.result}var nG=aG,oG=function(e,t){return aG(function(){return e},t)},iG=function(e){var t=e.top,r=e.right,a=e.bottom,n=e.left;return{top:t,right:r,bottom:a,left:n,width:r-n,height:a-t,x:n,y:t,center:{x:(r+n)/2,y:(a+t)/2}}},sG=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},lG=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},cG={top:0,right:0,bottom:0,left:0},dG=function(e){var t=e.borderBox,r=e.margin,a=void 0===r?cG:r,n=e.border,o=void 0===n?cG:n,i=e.padding,s=void 0===i?cG:i,l=iG(sG(t,a)),c=iG(lG(t,o)),d=iG(lG(c,s));return{marginBox:l,borderBox:iG(t),paddingBox:c,contentBox:d,margin:a,border:o,padding:s}},uG=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var r=Number(t);return isNaN(r)&&function(){throw new Error("Invariant failed")}(),r},pG=function(e,t){var r,a,n=e.borderBox,o=e.border,i=e.margin,s=e.padding,l=(a=t,{top:(r=n).top+a.y,left:r.left+a.x,bottom:r.bottom+a.y,right:r.right+a.x});return dG({borderBox:l,border:o,margin:i,padding:s})},hG=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),pG(e,t)},mG=function(e,t){var r={top:uG(t.marginTop),right:uG(t.marginRight),bottom:uG(t.marginBottom),left:uG(t.marginLeft)},a={top:uG(t.paddingTop),right:uG(t.paddingRight),bottom:uG(t.paddingBottom),left:uG(t.paddingLeft)},n={top:uG(t.borderTopWidth),right:uG(t.borderRightWidth),bottom:uG(t.borderBottomWidth),left:uG(t.borderLeftWidth)};return dG({borderBox:e,margin:r,padding:a,border:n})},gG=function(e){var t=e.getBoundingClientRect(),r=window.getComputedStyle(e);return mG(t,r)},xG=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function fG(e,t){return e===t||!(!xG(e)||!xG(t))}function bG(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!fG(e[r],t[r]))return!1;return!0}function vG(e,t){void 0===t&&(t=bG);var r=null;function a(){for(var a=[],n=0;n<arguments.length;n++)a[n]=arguments[n];if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;var o=e.apply(this,a);return r={lastResult:o,lastArgs:a,lastThis:this},o}return a.clear=function(){r=null},a}var yG=function(e){var t=[],r=null,a=function(){for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];t=n,r||(r=requestAnimationFrame(function(){r=null,e.apply(void 0,t)}))};return a.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},a};function wG(){return wG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},wG.apply(null,arguments)}function jG(e,t){}function NG(){}function kG(e,t,r){const a=t.map(t=>{const a=(n=r,o=t.options,{...n,...o});var n,o;return e.addEventListener(t.eventName,t.fn,a),function(){e.removeEventListener(t.eventName,t.fn,a)}});return function(){a.forEach(e=>{e()})}}jG.bind(null,"warn"),jG.bind(null,"error");class CG extends Error{}function SG(e,t){throw new CG("Invariant failed")}CG.prototype.toString=function(){return this.message};class EG extends K.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=NG,this.onWindowError=e=>{const t=this.getCallbacks();t.isDragging()&&t.tryAbort();e.error instanceof CG&&e.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=e=>{this.callbacks=e}}componentDidMount(){this.unbind=kG(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(!(e instanceof CG))throw e;this.setState({})}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const PG=e=>e+1,OG=(e,t)=>{const r=e.droppableId===t.droppableId,a=PG(e.index),n=PG(t.index);return r?`\n      You have moved the item from position ${a}\n      to position ${n}\n    `:`\n    You have moved the item from position ${a}\n    in list ${e.droppableId}\n    to list ${t.droppableId}\n    in position ${n}\n  `},IG=(e,t,r)=>t.droppableId===r.droppableId?`\n      The item ${e}\n      has been combined with ${r.draggableId}`:`\n      The item ${e}\n      in list ${t.droppableId}\n      has been combined with ${r.draggableId}\n      in list ${r.droppableId}\n    `,AG=e=>`\n  The item has returned to its starting position\n  of ${PG(e.index)}\n`,DG={dragHandleUsageInstructions:"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",onDragStart:e=>`\n  You have lifted an item in position ${PG(e.source.index)}\n`,onDragUpdate:e=>{const t=e.destination;if(t)return OG(e.source,t);const r=e.combine;return r?IG(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},onDragEnd:e=>{if("CANCEL"===e.reason)return`\n      Movement cancelled.\n      ${AG(e.source)}\n    `;const t=e.destination,r=e.combine;return t?`\n      You have dropped the item.\n      ${OG(e.source,t)}\n    `:r?`\n      You have dropped the item.\n      ${IG(e.draggableId,e.source,r)}\n    `:`\n    The item has been dropped while not over a drop area.\n    ${AG(e.source)}\n  `}},MG={x:0,y:0},TG=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),FG=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),zG=(e,t)=>e.x===t.x&&e.y===t.y,RG=e=>({x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}),_G=(e,t,r=0)=>"x"===e?{x:t,y:r}:{x:r,y:t},LG=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),$G=(e,t)=>Math.min(...t.map(t=>LG(e,t))),UG=e=>t=>({x:e(t.x),y:e(t.y)});const BG=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),VG=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],GG=(e,t)=>t&&t.shouldClipSubject?((e,t)=>{const r=iG({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r})(t.pageMarginBox,e):iG(e);var qG=({page:e,withPlaceholder:t,axis:r,frame:a})=>{const n=((e,t)=>t?BG(e,t.scroll.diff.displacement):e)(e.marginBox,a),o=((e,t,r)=>r&&r.increasedBy?{...e,[t.end]:e[t.end]+r.increasedBy[t.line]}:e)(n,r,t);return{page:e,withPlaceholder:t,active:GG(o,a)}},HG=(e,t)=>{e.frame||SG();const r=e.frame,a=FG(t,r.scroll.initial),n=RG(a),o={...r,scroll:{initial:r.scroll.initial,current:t,diff:{value:a,displacement:n},max:r.scroll.max}},i=qG({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return{...e,frame:o,subject:i}};const WG=vG(e=>e.reduce((e,t)=>(e[t.descriptor.id]=t,e),{})),KG=vG(e=>e.reduce((e,t)=>(e[t.descriptor.id]=t,e),{})),JG=vG(e=>Object.values(e)),YG=vG(e=>Object.values(e));var XG=vG((e,t)=>{const r=YG(t).filter(t=>e===t.descriptor.droppableId).sort((e,t)=>e.descriptor.index-t.descriptor.index);return r});function QG(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function ZG(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var eq=vG((e,t)=>t.filter(t=>t.descriptor.id!==e.descriptor.id)),tq=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const rq={point:MG,value:0},aq={invisible:{},visible:{},all:[]},nq={displaced:aq,displacedBy:rq,at:null};var oq=(e,t)=>r=>e<=r&&r<=t,iq=e=>{const t=oq(e.top,e.bottom),r=oq(e.left,e.right);return a=>{if(t(a.top)&&t(a.bottom)&&r(a.left)&&r(a.right))return!0;const n=t(a.top)||t(a.bottom),o=r(a.left)||r(a.right);if(n&&o)return!0;const i=a.top<e.top&&a.bottom>e.bottom,s=a.left<e.left&&a.right>e.right;if(i&&s)return!0;return i&&o||s&&n}},sq=e=>{const t=oq(e.top,e.bottom),r=oq(e.left,e.right);return e=>t(e.top)&&t(e.bottom)&&r(e.left)&&r(e.right)};const lq={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},cq={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};const dq=({target:e,destination:t,viewport:r,withDroppableDisplacement:a,isVisibleThroughFrameFn:n})=>{const o=a?((e,t)=>{const r=t.frame?t.frame.scroll.diff.displacement:MG;return BG(e,r)})(e,t):e;return((e,t,r)=>!!t.subject.active&&r(t.subject.active)(e))(o,t,n)&&((e,t,r)=>r(t)(e))(o,r,n)},uq=e=>dq({...e,isVisibleThroughFrameFn:sq});function pq({afterDragging:e,destination:t,displacedBy:r,viewport:a,forceShouldAnimate:n,last:o}){return e.reduce(function(e,i){const s=function(e,t){const r=e.page.marginBox,a={top:t.point.y,right:0,bottom:0,left:t.point.x};return iG(sG(r,a))}(i,r),l=i.descriptor.id;e.all.push(l);var c;if(!(c={target:s,destination:t,viewport:a,withDroppableDisplacement:!0},dq({...c,isVisibleThroughFrameFn:iq})))return e.invisible[i.descriptor.id]=!0,e;const d=((e,t,r)=>{if("boolean"==typeof r)return r;if(!t)return!0;const{invisible:a,visible:n}=t;if(a[e])return!1;const o=n[e];return!o||o.shouldAnimate})(l,o,n),u={draggableId:l,shouldAnimate:d};return e.visible[l]=u,e},{all:[],visible:{},invisible:{}})}function hq({insideDestination:e,inHomeList:t,displacedBy:r,destination:a}){const n=function(e,t){if(!e.length)return 0;const r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}(e,{inHomeList:t});return{displaced:aq,displacedBy:r,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:n}}}}function mq({draggable:e,insideDestination:t,destination:r,viewport:a,displacedBy:n,last:o,index:i,forceShouldAnimate:s}){const l=tq(e,r);if(null==i)return hq({insideDestination:t,inHomeList:l,displacedBy:n,destination:r});const c=t.find(e=>e.descriptor.index===i);if(!c)return hq({insideDestination:t,inHomeList:l,displacedBy:n,destination:r});const d=eq(e,t),u=t.indexOf(c);return{displaced:pq({afterDragging:d.slice(u),destination:r,displacedBy:n,last:o,viewport:a.frame,forceShouldAnimate:s}),displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function gq(e,t){return Boolean(t.effected[e])}var xq=({isMovingForward:e,isInHomeList:t,draggable:r,draggables:a,destination:n,insideDestination:o,previousImpact:i,viewport:s,afterCritical:l})=>{const c=i.at;if(c||SG(),"REORDER"===c.type){const a=(({isMovingForward:e,isInHomeList:t,insideDestination:r,location:a})=>{if(!r.length)return null;const n=a.index,o=e?n+1:n-1,i=r[0].descriptor.index,s=r[r.length-1].descriptor.index;return o<i||o>(t?s:s+1)?null:o})({isMovingForward:e,isInHomeList:t,location:c.destination,insideDestination:o});return null==a?null:mq({draggable:r,insideDestination:o,destination:n,viewport:s,last:i.displaced,displacedBy:i.displacedBy,index:a})}const d=(({isMovingForward:e,destination:t,draggables:r,combine:a,afterCritical:n})=>{if(!t.isCombineEnabled)return null;const o=a.draggableId,i=r[o].descriptor.index;return gq(o,n)?e?i:i-1:e?i+1:i})({isMovingForward:e,destination:n,displaced:i.displaced,draggables:a,combine:c.combine,afterCritical:l});return null==d?null:mq({draggable:r,insideDestination:o,destination:n,viewport:s,last:i.displaced,displacedBy:i.displacedBy,index:d})},fq=({afterCritical:e,impact:t,draggables:r})=>{const a=ZG(t);a||SG();const n=a.draggableId,o=r[n].page.borderBox.center,i=(({displaced:e,afterCritical:t,combineWith:r,displacedBy:a})=>{const n=Boolean(e.visible[r]||e.invisible[r]);return gq(r,t)?n?MG:RG(a.point):n?a.point:MG})({displaced:t.displaced,afterCritical:e,combineWith:n,displacedBy:t.displacedBy});return TG(o,i)};const bq=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,vq=(e,t,r)=>t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2,yq=({axis:e,moveRelativeTo:t,isMoving:r})=>_G(e.line,t.marginBox[e.end]+bq(e,r),vq(e,t.marginBox,r)),wq=({axis:e,moveRelativeTo:t,isMoving:r})=>_G(e.line,t.marginBox[e.start]-((e,t)=>t.margin[e.end]+t.borderBox[e.size]/2)(e,r),vq(e,t.marginBox,r));var jq=({impact:e,draggable:t,draggables:r,droppable:a,afterCritical:n})=>{const o=XG(a.descriptor.id,r),i=t.page,s=a.axis;if(!o.length)return(({axis:e,moveInto:t,isMoving:r})=>_G(e.line,t.contentBox[e.start]+bq(e,r),vq(e,t.contentBox,r)))({axis:s,moveInto:a.page,isMoving:i});const{displaced:l,displacedBy:c}=e,d=l.all[0];if(d){const e=r[d];if(gq(d,n))return wq({axis:s,moveRelativeTo:e.page,isMoving:i});const t=pG(e.page,c.point);return wq({axis:s,moveRelativeTo:t,isMoving:i})}const u=o[o.length-1];if(u.descriptor.id===t.descriptor.id)return i.borderBox.center;if(gq(u.descriptor.id,n)){const e=pG(u.page,RG(n.displacedBy.point));return yq({axis:s,moveRelativeTo:e,isMoving:i})}return yq({axis:s,moveRelativeTo:u.page,isMoving:i})},Nq=(e,t)=>{const r=e.frame;return r?TG(t,r.scroll.diff.displacement):t};var kq=e=>{const t=(({impact:e,draggable:t,droppable:r,draggables:a,afterCritical:n})=>{const o=t.page.borderBox.center,i=e.at;return r&&i?"REORDER"===i.type?jq({impact:e,draggable:t,draggables:a,droppable:r,afterCritical:n}):fq({impact:e,draggables:a,afterCritical:n}):o})(e),r=e.droppable;return r?Nq(r,t):t},Cq=(e,t)=>{const r=FG(t,e.scroll.initial),a=RG(r);return{frame:iG({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:a}}}};function Sq(e,t){return e.map(e=>t[e])}var Eq=({pageBorderBoxCenter:e,draggable:t,viewport:r})=>{const a=((e,t)=>TG(e.scroll.diff.displacement,t))(r,e),n=FG(a,t.page.borderBox.center);return TG(t.client.borderBox.center,n)},Pq=({draggable:e,destination:t,newPageBorderBoxCenter:r,viewport:a,withDroppableDisplacement:n,onlyOnMainAxis:o=!1})=>{const i=FG(r,e.page.borderBox.center),s={target:BG(e.page.borderBox,i),destination:t,withDroppableDisplacement:n,viewport:a};return o?(e=>{return dq({...e,isVisibleThroughFrameFn:(t=e.destination.axis,e=>{const r=oq(e.top,e.bottom),a=oq(e.left,e.right);return e=>t===lq?r(e.top)&&r(e.bottom):a(e.left)&&a(e.right)})});var t})(s):uq(s)},Oq=({isMovingForward:e,draggable:t,destination:r,draggables:a,previousImpact:n,viewport:o,previousPageBorderBoxCenter:i,previousClientSelection:s,afterCritical:l})=>{if(!r.isEnabled)return null;const c=XG(r.descriptor.id,a),d=tq(t,r),u=(({isMovingForward:e,draggable:t,destination:r,insideDestination:a,previousImpact:n})=>{if(!r.isCombineEnabled)return null;if(!QG(n))return null;function o(e){const t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return{...n,at:t}}const i=n.displaced.all,s=i.length?i[0]:null;if(e)return s?o(s):null;const l=eq(t,a);if(!s)return l.length?o(l[l.length-1].descriptor.id):null;const c=l.findIndex(e=>e.descriptor.id===s);-1===c&&SG();const d=c-1;return d<0?null:o(l[d].descriptor.id)})({isMovingForward:e,draggable:t,destination:r,insideDestination:c,previousImpact:n})||xq({isMovingForward:e,isInHomeList:d,draggable:t,draggables:a,destination:r,insideDestination:c,previousImpact:n,viewport:o,afterCritical:l});if(!u)return null;const p=kq({impact:u,draggable:t,droppable:r,draggables:a,afterCritical:l});if(Pq({draggable:t,destination:r,newPageBorderBoxCenter:p,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})){return{clientSelection:Eq({pageBorderBoxCenter:p,draggable:t,viewport:o}),impact:u,scrollJumpRequest:null}}const h=FG(p,i),m=(({impact:e,viewport:t,destination:r,draggables:a,maxScrollChange:n})=>{const o=Cq(t,TG(t.scroll.current,n)),i=r.frame?HG(r,TG(r.frame.scroll.current,n)):r,s=e.displaced,l=pq({afterDragging:Sq(s.all,a),destination:r,displacedBy:e.displacedBy,viewport:o.frame,last:s,forceShouldAnimate:!1}),c=pq({afterDragging:Sq(s.all,a),destination:i,displacedBy:e.displacedBy,viewport:t.frame,last:s,forceShouldAnimate:!1}),d={},u={},p=[s,l,c];return s.all.forEach(e=>{const t=function(e,t){for(let r=0;r<t.length;r++){const a=t[r].visible[e];if(a)return a}return null}(e,p);t?u[e]=t:d[e]=!0}),{...e,displaced:{all:s.all,invisible:d,visible:u}}})({impact:u,viewport:o,destination:r,draggables:a,maxScrollChange:h});return{clientSelection:s,impact:m,scrollJumpRequest:h}};const Iq=e=>{const t=e.subject.active;return t||SG(),t};const Aq=(e,t)=>{const r=e.page.borderBox.center;return gq(e.descriptor.id,t)?FG(r,t.displacedBy.point):r},Dq=(e,t)=>{const r=e.page.borderBox;return gq(e.descriptor.id,t)?BG(r,RG(t.displacedBy.point)):r};var Mq=vG(function(e,t){const r=t[e.line];return{value:r,point:_G(e.line,r)}});const Tq=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),Fq=(e,t,r)=>{const a=e.frame;tq(t,e)&&SG(),e.subject.withPlaceholder&&SG();const n=Mq(e.axis,t.displaceBy).point,o=((e,t,r)=>{const a=e.axis;if("virtual"===e.descriptor.mode)return _G(a.line,t[a.line]);const n=e.subject.page.contentBox[a.size],o=XG(e.descriptor.id,r).reduce((e,t)=>e+t.client.marginBox[a.size],0),i=o+t[a.line]-n;return i<=0?null:_G(a.line,i)})(e,n,r),i={placeholderSize:n,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!a){const t=qG({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:e.frame});return{...e,subject:t}}const s=o?TG(a.scroll.max,o):a.scroll.max,l=Tq(a,s),c=qG({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:l});return{...e,subject:c,frame:l}};var zq=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:r,isOver:a,draggables:n,droppables:o,viewport:i,afterCritical:s})=>{const l=(({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:a,viewport:n})=>{const o=r.subject.active;if(!o)return null;const i=r.axis,s=oq(o[i.start],o[i.end]),l=JG(a).filter(e=>e!==r).filter(e=>e.isEnabled).filter(e=>Boolean(e.subject.active)).filter(e=>iq(n.frame)(Iq(e))).filter(t=>{const r=Iq(t);return e?o[i.crossAxisEnd]<r[i.crossAxisEnd]:r[i.crossAxisStart]<o[i.crossAxisStart]}).filter(e=>{const t=Iq(e),r=oq(t[i.start],t[i.end]);return s(t[i.start])||s(t[i.end])||r(o[i.start])||r(o[i.end])}).sort((t,r)=>{const a=Iq(t)[i.crossAxisStart],n=Iq(r)[i.crossAxisStart];return e?a-n:n-a}).filter((e,t,r)=>Iq(e)[i.crossAxisStart]===Iq(r[0])[i.crossAxisStart]);if(!l.length)return null;if(1===l.length)return l[0];const c=l.filter(e=>oq(Iq(e)[i.start],Iq(e)[i.end])(t[i.line]));return 1===c.length?c[0]:c.length>1?c.sort((e,t)=>Iq(e)[i.start]-Iq(t)[i.start])[0]:l.sort((e,r)=>{const a=$G(t,VG(Iq(e))),n=$G(t,VG(Iq(r)));return a!==n?a-n:Iq(e)[i.start]-Iq(r)[i.start]})[0]})({isMovingForward:e,pageBorderBoxCenter:t,source:a,droppables:o,viewport:i});if(!l)return null;const c=XG(l.descriptor.id,n),d=(({pageBorderBoxCenter:e,viewport:t,destination:r,insideDestination:a,afterCritical:n})=>{const o=a.filter(e=>uq({target:Dq(e,n),destination:r,viewport:t.frame,withDroppableDisplacement:!0})).sort((t,a)=>{const o=LG(e,Nq(r,Aq(t,n))),i=LG(e,Nq(r,Aq(a,n)));return o<i?-1:i<o?1:t.descriptor.index-a.descriptor.index});return o[0]||null})({pageBorderBoxCenter:t,viewport:i,destination:l,insideDestination:c,afterCritical:s}),u=(({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:r,draggable:a,draggables:n,destination:o,viewport:i,afterCritical:s})=>{if(!t){if(r.length)return null;const e={displaced:aq,displacedBy:rq,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},t=kq({impact:e,draggable:a,droppable:o,draggables:n,afterCritical:s}),l=tq(a,o)?o:Fq(o,a,n);return Pq({draggable:a,destination:l,newPageBorderBoxCenter:t,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?e:null}const l=Boolean(e[o.axis.line]<=t.page.borderBox.center[o.axis.line]),c=(()=>{const e=t.descriptor.index;return t.descriptor.id===a.descriptor.id||l?e:e+1})(),d=Mq(o.axis,a.displaceBy);return mq({draggable:a,insideDestination:r,destination:o,viewport:i,displacedBy:d,last:aq,index:c})})({previousPageBorderBoxCenter:t,destination:l,draggable:r,draggables:n,moveRelativeTo:d,insideDestination:c,viewport:i,afterCritical:s});if(!u)return null;const p=kq({impact:u,draggable:r,droppable:l,draggables:n,afterCritical:s});return{clientSelection:Eq({pageBorderBoxCenter:p,draggable:r,viewport:i}),impact:u,scrollJumpRequest:null}},Rq=e=>{const t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null};var _q=({state:e,type:t})=>{const r=((e,t)=>{const r=Rq(e);return r?t[r]:null})(e.impact,e.dimensions.droppables),a=Boolean(r),n=e.dimensions.droppables[e.critical.droppable.id],o=r||n,i=o.axis.direction,s="vertical"===i&&("MOVE_UP"===t||"MOVE_DOWN"===t)||"horizontal"===i&&("MOVE_LEFT"===t||"MOVE_RIGHT"===t);if(s&&!a)return null;const l="MOVE_DOWN"===t||"MOVE_RIGHT"===t,c=e.dimensions.draggables[e.critical.draggable.id],d=e.current.page.borderBoxCenter,{draggables:u,droppables:p}=e.dimensions;return s?Oq({isMovingForward:l,previousPageBorderBoxCenter:d,draggable:c,destination:o,draggables:u,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):zq({isMovingForward:l,previousPageBorderBoxCenter:d,draggable:c,isOver:o,draggables:u,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})};function Lq(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function $q(e){const t=oq(e.top,e.bottom),r=oq(e.left,e.right);return function(e){return t(e.y)&&r(e.x)}}function Uq({pageBorderBox:e,draggable:t,droppables:r}){const a=JG(r).filter(t=>{if(!t.isEnabled)return!1;const r=t.subject.active;if(!r)return!1;if(!function(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}(e,r))return!1;if($q(r)(e.center))return!0;const a=t.axis,n=r.center[a.crossAxisLine],o=e[a.crossAxisStart],i=e[a.crossAxisEnd],s=oq(r[a.crossAxisStart],r[a.crossAxisEnd]),l=s(o),c=s(i);return!l&&!c||(l?o<n:i>n)});return a.length?1===a.length?a[0].descriptor.id:function({pageBorderBox:e,draggable:t,candidates:r}){const a=t.page.borderBox.center,n=r.map(t=>{const r=t.axis,n=_G(t.axis.line,e.center[r.line],t.page.borderBox.center[r.crossAxisLine]);return{id:t.descriptor.id,distance:LG(a,n)}}).sort((e,t)=>t.distance-e.distance);return n[0]?n[0].id:null}({pageBorderBox:e,draggable:t,candidates:a}):null}const Bq=(e,t)=>iG(BG(e,t));function Vq({displaced:e,id:t}){return Boolean(e.visible[t]||e.invisible[t])}var Gq=({pageOffset:e,draggable:t,draggables:r,droppables:a,previousImpact:n,viewport:o,afterCritical:i})=>{const s=Bq(t.page.borderBox,e),l=Uq({pageBorderBox:s,draggable:t,droppables:a});if(!l)return nq;const c=a[l],d=XG(c.descriptor.id,r),u=((e,t)=>{const r=e.frame;return r?Bq(t,r.scroll.diff.value):t})(c,s);return(({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:r,destination:a,insideDestination:n,afterCritical:o})=>{if(!a.isCombineEnabled)return null;const i=a.axis,s=Mq(a.axis,e.displaceBy),l=s.value,c=t[i.start],d=t[i.end],u=eq(e,n).find(e=>{const t=e.descriptor.id,a=e.page.borderBox,n=a[i.size]/4,s=gq(t,o),u=Vq({displaced:r.displaced,id:t});return s?u?d>a[i.start]+n&&d<a[i.end]-n:c>a[i.start]-l+n&&c<a[i.end]-l-n:u?d>a[i.start]+l+n&&d<a[i.end]+l-n:c>a[i.start]+n&&c<a[i.end]-n});return u?{displacedBy:s,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:u.descriptor.id,droppableId:a.descriptor.id}}}:null})({pageBorderBoxWithDroppableScroll:u,draggable:t,previousImpact:n,destination:c,insideDestination:d,afterCritical:i})||(({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:r,insideDestination:a,last:n,viewport:o,afterCritical:i})=>{const s=r.axis,l=Mq(r.axis,t.displaceBy),c=l.value,d=e[s.start],u=e[s.end],p=function({draggable:e,closest:t,inHomeList:r}){return t?r&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}({draggable:t,closest:eq(t,a).find(e=>{const t=e.descriptor.id,r=e.page.borderBox.center[s.line],a=gq(t,i),o=Vq({displaced:n,id:t});return a?o?u<=r:d<r-c:o?u<=r+c:d<r})||null,inHomeList:tq(t,r)});return mq({draggable:t,insideDestination:a,destination:r,viewport:o,last:n,displacedBy:l,index:p})})({pageBorderBoxWithDroppableScroll:u,draggable:t,destination:c,insideDestination:d,last:n.displaced,viewport:o,afterCritical:i})},qq=(e,t)=>({...e,[t.descriptor.id]:t});const Hq=({previousImpact:e,impact:t,droppables:r})=>{const a=Rq(e),n=Rq(t);if(!a)return r;if(a===n)return r;const o=r[a];if(!o.subject.withPlaceholder)return r;const i=(e=>{const t=e.subject.withPlaceholder;t||SG();const r=e.frame;if(!r){const t=qG({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:t}}const a=t.oldFrameMaxScroll;a||SG();const n=Tq(r,a),o=qG({page:e.subject.page,axis:e.axis,frame:n,withPlaceholder:null});return{...e,subject:o,frame:n}})(o);return qq(r,i)};var Wq=({state:e,clientSelection:t,dimensions:r,viewport:a,impact:n,scrollJumpRequest:o})=>{const i=a||e.viewport,s=r||e.dimensions,l=t||e.current.client.selection,c=FG(l,e.initial.client.selection),d={offset:c,selection:l,borderBoxCenter:TG(e.initial.client.borderBoxCenter,c)},u={selection:TG(d.selection,i.scroll.current),borderBoxCenter:TG(d.borderBoxCenter,i.scroll.current),offset:TG(d.offset,i.scroll.diff.value)},p={client:d,page:u};if("COLLECTING"===e.phase)return{...e,dimensions:s,viewport:i,current:p};const h=s.draggables[e.critical.draggable.id],m=n||Gq({pageOffset:u.offset,draggable:h,draggables:s.draggables,droppables:s.droppables,previousImpact:e.impact,viewport:i,afterCritical:e.afterCritical}),g=(({draggable:e,draggables:t,droppables:r,previousImpact:a,impact:n})=>{const o=Hq({previousImpact:a,impact:n,droppables:r}),i=Rq(n);if(!i)return o;const s=r[i];if(tq(e,s))return o;if(s.subject.withPlaceholder)return o;const l=Fq(s,e,t);return qq(o,l)})({draggable:h,impact:m,previousImpact:e.impact,draggables:s.draggables,droppables:s.droppables});return{...e,current:p,dimensions:{draggables:s.draggables,droppables:g},impact:m,viewport:i,scrollJumpRequest:o||null,forceShouldAnimate:!o&&null}};var Kq=({impact:e,viewport:t,draggables:r,destination:a,forceShouldAnimate:n})=>{const o=e.displaced,i=function(e,t){return e.map(e=>t[e])}(o.all,r),s=pq({afterDragging:i,destination:a,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:n,last:o});return{...e,displaced:s}},Jq=({impact:e,draggable:t,droppable:r,draggables:a,viewport:n,afterCritical:o})=>{const i=kq({impact:e,draggable:t,draggables:a,droppable:r,afterCritical:o});return Eq({pageBorderBoxCenter:i,draggable:t,viewport:n})},Yq=({state:e,dimensions:t,viewport:r})=>{"SNAP"!==e.movementMode&&SG();const a=e.impact,n=r||e.viewport,o=t||e.dimensions,{draggables:i,droppables:s}=o,l=i[e.critical.draggable.id],c=Rq(a);c||SG();const d=s[c],u=Kq({impact:a,viewport:n,destination:d,draggables:i}),p=Jq({impact:u,draggable:l,droppable:d,draggables:i,viewport:n,afterCritical:e.afterCritical});return Wq({impact:u,clientSelection:p,state:e,dimensions:o,viewport:n})},Xq=({draggable:e,home:t,draggables:r,viewport:a})=>{const n=Mq(t.axis,e.displaceBy),o=XG(t.descriptor.id,r),i=o.indexOf(e);-1===i&&SG();const s=o.slice(i+1),l=s.reduce((e,t)=>(e[t.descriptor.id]=!0,e),{}),c={inVirtualList:"virtual"===t.descriptor.mode,displacedBy:n,effected:l};var d;return{impact:{displaced:pq({afterDragging:s,destination:t,displacedBy:n,last:null,viewport:a.frame,forceShouldAnimate:!1}),displacedBy:n,at:{type:"REORDER",destination:(d=e.descriptor,{index:d.index,droppableId:d.droppableId})}},afterCritical:c}},Qq=({additions:e,updatedDroppables:t,viewport:r})=>{const a=r.scroll.diff.value;return e.map(e=>{const n=e.descriptor.droppableId,o=(e=>{const t=e.frame;return t||SG(),t})(t[n]).scroll.diff.value,i=(({draggable:e,offset:t,initialWindowScroll:r})=>{const a=pG(e.client,t),n=hG(a,r);return{...e,placeholder:{...e.placeholder,client:a},client:a,page:n}})({draggable:e,offset:TG(a,o),initialWindowScroll:r.scroll.initial});return i})};const Zq=e=>"SNAP"===e.movementMode,eH=(e,t,r)=>{const a=((e,t)=>({draggables:e.draggables,droppables:qq(e.droppables,t)}))(e.dimensions,t);return!Zq(e)||r?Wq({state:e,dimensions:a}):Yq({state:e,dimensions:a})};function tH(e){return e.isDragging&&"SNAP"===e.movementMode?{...e,scrollJumpRequest:null}:e}const rH={phase:"IDLE",completed:null,shouldFlush:!1};var aH=(e=rH,t)=>{if("FLUSH"===t.type)return{...rH,shouldFlush:!0};if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&SG();const{critical:r,clientSelection:a,viewport:n,dimensions:o,movementMode:i}=t.payload,s=o.draggables[r.draggable.id],l=o.droppables[r.droppable.id],c={selection:a,borderBoxCenter:s.client.borderBox.center,offset:MG},d={client:c,page:{selection:TG(c.selection,n.scroll.initial),borderBoxCenter:TG(c.selection,n.scroll.initial),offset:TG(c.selection,n.scroll.diff.value)}},u=JG(o.droppables).every(e=>!e.isFixedOnPage),{impact:p,afterCritical:h}=Xq({draggable:s,home:l,draggables:o.draggables,viewport:n});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:i,dimensions:o,initial:d,current:d,isWindowScrollAllowed:u,impact:p,afterCritical:h,onLiftImpact:p,viewport:n,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&SG();return{...e,phase:"COLLECTING"}}if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&SG(),(({state:e,published:t})=>{const r=t.modified.map(t=>{const r=e.dimensions.droppables[t.droppableId];return HG(r,t.scroll)}),a={...e.dimensions.droppables,...WG(r)},n=KG(Qq({additions:t.additions,updatedDroppables:a,viewport:e.viewport})),o={...e.dimensions.draggables,...n};t.removals.forEach(e=>{delete o[e]});const i={droppables:a,draggables:o},s=Rq(e.impact),l=s?i.droppables[s]:null,c=i.draggables[e.critical.draggable.id],d=i.droppables[e.critical.droppable.id],{impact:u,afterCritical:p}=Xq({draggable:c,home:d,draggables:o,viewport:e.viewport}),h=l&&l.isCombineEnabled?e.impact:u,m=Gq({pageOffset:e.current.page.offset,draggable:i.draggables[e.critical.draggable.id],draggables:i.draggables,droppables:i.droppables,previousImpact:h,viewport:e.viewport,afterCritical:p}),g={...e,phase:"DRAGGING",impact:m,onLiftImpact:u,dimensions:i,afterCritical:p,forceShouldAnimate:!1};return"COLLECTING"===e.phase?g:{...g,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}})({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Lq(e)||SG();const{client:r}=t.payload;return zG(r,e.current.client.selection)?e:Wq({state:e,clientSelection:r,impact:Zq(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return tH(e);if("COLLECTING"===e.phase)return tH(e);Lq(e)||SG();const{id:r,newScroll:a}=t.payload,n=e.dimensions.droppables[r];if(!n)return e;const o=HG(n,a);return eH(e,o,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Lq(e)||SG();const{id:r,isEnabled:a}=t.payload,n=e.dimensions.droppables[r];n||SG(),n.isEnabled===a&&SG();const o={...n,isEnabled:a};return eH(e,o,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Lq(e)||SG();const{id:r,isCombineEnabled:a}=t.payload,n=e.dimensions.droppables[r];n||SG(),n.isCombineEnabled===a&&SG();const o={...n,isCombineEnabled:a};return eH(e,o,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Lq(e)||SG(),e.isWindowScrollAllowed||SG();const r=t.payload.newScroll;if(zG(e.viewport.scroll.current,r))return tH(e);const a=Cq(e.viewport,r);return Zq(e)?Yq({state:e,viewport:a}):Wq({state:e,viewport:a})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Lq(e))return e;const r=t.payload.maxScroll;if(zG(r,e.viewport.scroll.max))return e;const a={...e.viewport,scroll:{...e.viewport.scroll,max:r}};return{...e,viewport:a}}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&SG();const r=_q({state:e,type:t.type});return r?Wq({state:e,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){const r=t.payload.reason;"COLLECTING"!==e.phase&&SG();return{...e,phase:"DROP_PENDING",isWaiting:!0,reason:r}}if("DROP_ANIMATE"===t.type){const{completed:r,dropDuration:a,newHomeClientOffset:n}=t.payload;"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&SG();return{phase:"DROP_ANIMATING",completed:r,dropDuration:a,newHomeClientOffset:n,dimensions:e.dimensions}}if("DROP_COMPLETE"===t.type){const{completed:e}=t.payload;return{phase:"IDLE",completed:e,shouldFlush:!1}}return e};function nH(e,t){return e instanceof Object&&"type"in e&&e.type===t}const oH=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),iH=()=>({type:"COLLECTION_STARTING",payload:null}),sH=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),lH=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),cH=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),dH=e=>({type:"MOVE",payload:e}),uH=()=>({type:"MOVE_UP",payload:null}),pH=()=>({type:"MOVE_DOWN",payload:null}),hH=()=>({type:"MOVE_RIGHT",payload:null}),mH=()=>({type:"MOVE_LEFT",payload:null}),gH=e=>({type:"DROP_COMPLETE",payload:e}),xH=e=>({type:"DROP",payload:e}),fH=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});const bH="cubic-bezier(.2,1,.1,1)",vH={drop:0,combining:.7},yH={drop:.75},wH={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},jH=`${wH.outOfTheWay}s ${"cubic-bezier(0.2, 0, 0, 1)"}`,NH={fluid:`opacity ${jH}`,snap:`transform ${jH}, opacity ${jH}`,drop:e=>{const t=`${e}s ${bH}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${jH}`,placeholder:`height ${jH}, width ${jH}, margin ${jH}`},kH=e=>zG(e,MG)?void 0:`translate(${e.x}px, ${e.y}px)`,CH=kH,SH=(e,t)=>{const r=kH(e);if(r)return t?`${r} scale(${yH.drop})`:r},{minDropTime:EH,maxDropTime:PH}=wH,OH=PH-EH;const IH=({getState:e,dispatch:t})=>r=>a=>{if(!nH(a,"DROP"))return void r(a);const n=e(),o=a.payload.reason;if("COLLECTING"===n.phase)return void t((e=>({type:"DROP_PENDING",payload:e}))({reason:o}));if("IDLE"===n.phase)return;"DROP_PENDING"===n.phase&&n.isWaiting&&SG(),"DRAGGING"!==n.phase&&"DROP_PENDING"!==n.phase&&SG();const i=n.critical,s=n.dimensions,l=s.draggables[n.critical.draggable.id],{impact:c,didDropInsideDroppable:d}=(({draggables:e,reason:t,lastImpact:r,home:a,viewport:n,onLiftImpact:o})=>{if(!r.at||"DROP"!==t)return{impact:Kq({draggables:e,impact:o,destination:a,viewport:n,forceShouldAnimate:!0}),didDropInsideDroppable:!1};return"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:aq},didDropInsideDroppable:!0}})({reason:o,lastImpact:n.impact,afterCritical:n.afterCritical,onLiftImpact:n.onLiftImpact,home:n.dimensions.droppables[n.critical.droppable.id],viewport:n.viewport,draggables:n.dimensions.draggables}),u=d?QG(c):null,p=d?ZG(c):null,h={index:i.draggable.index,droppableId:i.droppable.id},m={draggableId:l.descriptor.id,type:l.descriptor.type,source:h,reason:o,mode:n.movementMode,destination:u,combine:p},g=(({impact:e,draggable:t,dimensions:r,viewport:a,afterCritical:n})=>{const{draggables:o,droppables:i}=r,s=Rq(e),l=s?i[s]:null,c=i[t.descriptor.droppableId],d=Jq({impact:e,draggable:t,draggables:o,afterCritical:n,droppable:l||c,viewport:a});return FG(d,t.client.borderBox.center)})({impact:c,draggable:l,dimensions:s,viewport:n.viewport,afterCritical:n.afterCritical}),x={critical:n.critical,afterCritical:n.afterCritical,result:m,impact:c};if(!(!zG(n.current.client.offset,g)||Boolean(m.combine)))return void t(gH({completed:x}));const f=(({current:e,destination:t,reason:r})=>{const a=LG(e,t);if(a<=0)return EH;if(a>=1500)return PH;const n=EH+OH*(a/1500);return Number(("CANCEL"===r?.6*n:n).toFixed(2))})({current:n.current.client.offset,destination:g,reason:o});t((e=>({type:"DROP_ANIMATE",payload:e}))({newHomeClientOffset:g,dropDuration:f,completed:x}))};var AH=()=>({x:window.pageXOffset,y:window.pageYOffset});function DH({onWindowScroll:e}){const t=yG(function(){e(AH())}),r=(a=t,{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||a()}});var a;let n=NG;function o(){return n!==NG}return{start:function(){o()&&SG(),n=kG(window,[r])},stop:function(){o()||SG(),t.cancel(),n(),n=NG},isActive:o}}const MH=e=>{const t=DH({onWindowScroll:t=>{e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return e=>r=>{!t.isActive()&&nH(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&(e=>nH(e,"DROP_COMPLETE")||nH(e,"DROP_ANIMATE")||nH(e,"FLUSH"))(r)&&t.stop(),e(r)}};var TH=()=>{const e=[];return{add:t=>{const r=setTimeout(()=>(t=>{const r=e.findIndex(e=>e.timerId===t);-1===r&&SG();const[a]=e.splice(r,1);a.callback()})(r)),a={timerId:r,callback:t};e.push(a)},flush:()=>{if(!e.length)return;const t=[...e];e.length=0,t.forEach(e=>{clearTimeout(e.timerId),e.callback()})}}};const FH=(e,t)=>{t()},zH=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function RH(e,t,r,a){if(!e)return void r(a(t));const n=(e=>{let t=!1,r=!1;const a=setTimeout(()=>{r=!0}),n=n=>{t||r||(t=!0,e(n),clearTimeout(a))};return n.wasCalled=()=>t,n})(r);e(t,{announce:n}),n.wasCalled()||r(a(t))}var _H=(e,t)=>{const r=((e,t)=>{const r=TH();let a=null;const n=r=>{a||SG(),a=null,FH(0,()=>RH(e().onDragEnd,r,t,DG.onDragEnd))};return{beforeCapture:(t,r)=>{a&&SG(),FH(0,()=>{const a=e().onBeforeCapture;a&&a({draggableId:t,mode:r})})},beforeStart:(t,r)=>{a&&SG(),FH(0,()=>{const a=e().onBeforeDragStart;a&&a(zH(t,r))})},start:(n,o)=>{a&&SG();const i=zH(n,o);a={mode:o,lastCritical:n,lastLocation:i.source,lastCombine:null},r.add(()=>{FH(0,()=>RH(e().onDragStart,i,t,DG.onDragStart))})},update:(n,o)=>{const i=QG(o),s=ZG(o);a||SG();const l=!((e,t)=>{if(e===t)return!0;const r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,a=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&a})(n,a.lastCritical);l&&(a.lastCritical=n);const c=!((e,t)=>null==e&&null==t||null!=e&&null!=t&&e.droppableId===t.droppableId&&e.index===t.index)(a.lastLocation,i);c&&(a.lastLocation=i);const d=!((e,t)=>null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId)(a.lastCombine,s);if(d&&(a.lastCombine=s),!l&&!c&&!d)return;const u={...zH(n,a.mode),combine:s,destination:i};r.add(()=>{FH(0,()=>RH(e().onDragUpdate,u,t,DG.onDragUpdate))})},flush:()=>{a||SG(),r.flush()},drop:n,abort:()=>{if(!a)return;const e={...zH(a.lastCritical,a.mode),combine:null,destination:null,reason:"CANCEL"};n(e)}}})(e,t);return e=>t=>a=>{if(nH(a,"BEFORE_INITIAL_CAPTURE"))return void r.beforeCapture(a.payload.draggableId,a.payload.movementMode);if(nH(a,"INITIAL_PUBLISH")){const e=a.payload.critical;return r.beforeStart(e,a.payload.movementMode),t(a),void r.start(e,a.payload.movementMode)}if(nH(a,"DROP_COMPLETE")){const e=a.payload.completed.result;return r.flush(),t(a),void r.drop(e)}if(t(a),nH(a,"FLUSH"))return void r.abort();const n=e.getState();"DRAGGING"===n.phase&&r.update(n.critical,n.impact)}};const LH=e=>t=>r=>{if(!nH(r,"DROP_ANIMATION_FINISHED"))return void t(r);const a=e.getState();"DROP_ANIMATING"!==a.phase&&SG(),e.dispatch(gH({completed:a.completed}))},$H=e=>{let t=null,r=null;return a=>n=>{if((nH(n,"FLUSH")||nH(n,"DROP_COMPLETE")||nH(n,"DROP_ANIMATION_FINISHED"))&&(r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)),a(n),!nH(n,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};r=requestAnimationFrame(()=>{r=null,t=kG(window,[o])})}};var UH=e=>t=>r=>a=>{if((e=>nH(e,"DROP_COMPLETE")||nH(e,"DROP_ANIMATE")||nH(e,"FLUSH"))(a))return e.stop(),void r(a);if(nH(a,"INITIAL_PUBLISH")){r(a);const n=t.getState();return"DRAGGING"!==n.phase&&SG(),void e.start(n)}r(a),e.scroll(t.getState())};const BH=e=>t=>r=>{if(t(r),!nH(r,"PUBLISH_WHILE_DRAGGING"))return;const a=e.getState();"DROP_PENDING"===a.phase&&(a.isWaiting||e.dispatch(xH({reason:a.reason})))},VH=Cf;var GH=({dimensionMarshal:e,focusMarshal:t,styleMarshal:r,getResponders:a,announce:n,autoScroller:o})=>{return wf(aH,VH(Sf((i=r,()=>e=>t=>{nH(t,"INITIAL_PUBLISH")&&i.dragging(),nH(t,"DROP_ANIMATE")&&i.dropping(t.payload.completed.result.reason),(nH(t,"FLUSH")||nH(t,"DROP_COMPLETE"))&&i.resting(),e(t)}),(e=>()=>t=>r=>{(nH(r,"DROP_COMPLETE")||nH(r,"FLUSH")||nH(r,"DROP_ANIMATE"))&&e.stopPublishing(),t(r)})(e),(e=>({getState:t,dispatch:r})=>a=>n=>{if(!nH(n,"LIFT"))return void a(n);const{id:o,clientSelection:i,movementMode:s}=n.payload,l=t();"DROP_ANIMATING"===l.phase&&r(gH({completed:l.completed})),"IDLE"!==t().phase&&SG(),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:o,movementMode:s}});const c={draggableId:o,scrollOptions:{shouldPublishImmediately:"SNAP"===s}},{critical:d,dimensions:u,viewport:p}=e.startPublishing(c);r({type:"INITIAL_PUBLISH",payload:{critical:d,dimensions:u,clientSelection:i,movementMode:s,viewport:p}})})(e),IH,LH,$H,BH,UH(o),MH,(e=>{let t=!1;return()=>r=>a=>{if(nH(a,"INITIAL_PUBLISH"))return t=!0,e.tryRecordFocus(a.payload.critical.draggable.id),r(a),void e.tryRestoreFocusRecorded();if(r(a),t){if(nH(a,"FLUSH"))return t=!1,void e.tryRestoreFocusRecorded();if(nH(a,"DROP_COMPLETE")){t=!1;const r=a.payload.completed.result;r.combine&&e.tryShiftRecord(r.draggableId,r.combine.draggableId),e.tryRestoreFocusRecorded()}}}})(t),_H(a,n))));var i};var qH=({scrollHeight:e,scrollWidth:t,height:r,width:a})=>{const n=FG({x:t,y:e},{x:a,y:r});return{x:Math.max(0,n.x),y:Math.max(0,n.y)}},HH=()=>{const e=document.documentElement;return e||SG(),e},WH=()=>{const e=HH();return qH({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},KH=({critical:e,scrollOptions:t,registry:r})=>{const a=(()=>{const e=AH(),t=WH(),r=e.y,a=e.x,n=HH(),o=n.clientWidth,i=n.clientHeight;return{frame:iG({top:r,left:a,right:a+o,bottom:r+i}),scroll:{initial:e,current:e,max:t,diff:{value:MG,displacement:MG}}}})(),n=a.scroll.current,o=e.droppable,i=r.droppable.getAllByType(o.type).map(e=>e.callbacks.getDimensionAndWatchScroll(n,t)),s=r.draggable.getAllByType(e.draggable.type).map(e=>e.getDimension(n));return{dimensions:{draggables:KG(s),droppables:WG(i)},critical:e,viewport:a}};function JH(e,t,r){if(r.descriptor.id===t.id)return!1;if(r.descriptor.type!==t.type)return!1;return"virtual"===e.droppable.getById(r.descriptor.droppableId).descriptor.mode}var YH=(e,t)=>{let r=null;const a=function({registry:e,callbacks:t}){let r={additions:{},removals:{},modified:{}},a=null;const n=()=>{a||(t.collectionStarting(),a=requestAnimationFrame(()=>{a=null;const{additions:n,removals:o,modified:i}=r,s=Object.keys(n).map(t=>e.draggable.getById(t).getDimension(MG)).sort((e,t)=>e.descriptor.index-t.descriptor.index),l=Object.keys(i).map(t=>({droppableId:t,scroll:e.droppable.getById(t).callbacks.getScrollWhileDragging()})),c={additions:s,removals:Object.keys(o),modified:l};r={additions:{},removals:{},modified:{}},t.publish(c)}))};return{add:e=>{const t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],n()},remove:e=>{const t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],n()},stop:()=>{a&&(cancelAnimationFrame(a),a=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),n=t=>{r||SG();const n=r.critical.draggable;"ADDITION"===t.type&&JH(e,n,t.value)&&a.add(t.value),"REMOVAL"===t.type&&JH(e,n,t.value)&&a.remove(t.value)};return{updateDroppableIsEnabled:(a,n)=>{e.droppable.exists(a)||SG(),r&&t.updateDroppableIsEnabled({id:a,isEnabled:n})},updateDroppableIsCombineEnabled:(a,n)=>{r&&(e.droppable.exists(a)||SG(),t.updateDroppableIsCombineEnabled({id:a,isCombineEnabled:n}))},scrollDroppable:(t,a)=>{r&&e.droppable.getById(t).callbacks.scroll(a)},updateDroppableScroll:(a,n)=>{r&&(e.droppable.exists(a)||SG(),t.updateDroppableScroll({id:a,newScroll:n}))},startPublishing:t=>{r&&SG();const a=e.draggable.getById(t.draggableId),o=e.droppable.getById(a.descriptor.droppableId),i={draggable:a.descriptor,droppable:o.descriptor},s=e.subscribe(n);return r={critical:i,unsubscribe:s},KH({critical:i,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:()=>{if(!r)return;a.stop();const t=r.critical.droppable;e.droppable.getAllByType(t.type).forEach(e=>e.callbacks.dragStopped()),r.unsubscribe(),r=null}}},XH=(e,t)=>"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason),QH=e=>{window.scrollBy(e.x,e.y)};const ZH=vG(e=>JG(e).filter(e=>!!e.isEnabled&&!!e.frame));var eW=({center:e,destination:t,droppables:r})=>{if(t){const e=r[t];return e.frame?e:null}const a=((e,t)=>ZH(t).find(t=>(t.frame||SG(),$q(t.frame.pageMarginBox)(e)))||null)(e,r);return a};const tW={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var rW=({startOfRange:e,endOfRange:t,current:r})=>{const a=t-e;if(0===a)return 0;return(r-e)/a},aW=({distanceToEdge:e,thresholds:t,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:n})=>{const o=((e,t,r=()=>tW)=>{const a=r();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return a.maxPixelScroll;if(e===t.startScrollingFrom)return 1;const n=1-rW({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=a.maxPixelScroll*a.ease(n);return Math.ceil(o)})(e,t,n);return 0===o?0:a?Math.max(((e,t,r)=>{const a=r(),n=a.durationDampening.accelerateAt,o=a.durationDampening.stopDampeningAt,i=t,s=o,l=Date.now()-i;if(l>=o)return e;if(l<n)return 1;const c=rW({startOfRange:n,endOfRange:s,current:l}),d=e*a.ease(c);return Math.ceil(d)})(o,r,n),1):o},nW=({container:e,distanceToEdges:t,dragStartTime:r,axis:a,shouldUseTimeDampening:n,getAutoScrollerOptions:o})=>{const i=((e,t,r=()=>tW)=>{const a=r();return{startScrollingFrom:e[t.size]*a.startFromPercentage,maxScrollValueAt:e[t.size]*a.maxScrollAtPercentage}})(e,a,o);return t[a.end]<t[a.start]?aW({distanceToEdge:t[a.end],thresholds:i,dragStartTime:r,shouldUseTimeDampening:n,getAutoScrollerOptions:o}):-1*aW({distanceToEdge:t[a.start],thresholds:i,dragStartTime:r,shouldUseTimeDampening:n,getAutoScrollerOptions:o})};const oW=UG(e=>0===e?0:e);var iW=({dragStartTime:e,container:t,subject:r,center:a,shouldUseTimeDampening:n,getAutoScrollerOptions:o})=>{const i={top:a.y-t.top,right:t.right-a.x,bottom:t.bottom-a.y,left:a.x-t.left},s=nW({container:t,distanceToEdges:i,dragStartTime:e,axis:lq,shouldUseTimeDampening:n,getAutoScrollerOptions:o}),l=nW({container:t,distanceToEdges:i,dragStartTime:e,axis:cq,shouldUseTimeDampening:n,getAutoScrollerOptions:o}),c=oW({x:l,y:s});if(zG(c,MG))return null;const d=(({container:e,subject:t,proposedScroll:r})=>{const a=t.height>e.height,n=t.width>e.width;return n||a?n&&a?null:{x:n?0:r.x,y:a?0:r.y}:r})({container:t,subject:r,proposedScroll:c});return d?zG(d,MG)?null:d:null};const sW=UG(e=>0===e?0:e>0?1:-1),lW=(()=>{const e=(e,t)=>e<0?e:e>t?e-t:0;return({current:t,max:r,change:a})=>{const n=TG(t,a),o={x:e(n.x,r.x),y:e(n.y,r.y)};return zG(o,MG)?null:o}})(),cW=({max:e,current:t,change:r})=>{const a={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},n=sW(r),o=lW({max:a,current:t,change:n});return!o||(0!==n.x&&0===o.x||0!==n.y&&0===o.y)},dW=(e,t)=>cW({current:e.scroll.current,max:e.scroll.max,change:t}),uW=(e,t)=>{const r=e.frame;return!!r&&cW({current:r.scroll.current,max:r.scroll.max,change:t})};var pW=({state:e,dragStartTime:t,shouldUseTimeDampening:r,scrollWindow:a,scrollDroppable:n,getAutoScrollerOptions:o})=>{const i=e.current.page.borderBoxCenter,s=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const n=(({viewport:e,subject:t,center:r,dragStartTime:a,shouldUseTimeDampening:n,getAutoScrollerOptions:o})=>{const i=iW({dragStartTime:a,container:e.frame,subject:t,center:r,shouldUseTimeDampening:n,getAutoScrollerOptions:o});return i&&dW(e,i)?i:null})({dragStartTime:t,viewport:e.viewport,subject:s,center:i,shouldUseTimeDampening:r,getAutoScrollerOptions:o});if(n)return void a(n)}const l=eW({center:i,destination:Rq(e.impact),droppables:e.dimensions.droppables});if(!l)return;const c=(({droppable:e,subject:t,center:r,dragStartTime:a,shouldUseTimeDampening:n,getAutoScrollerOptions:o})=>{const i=e.frame;if(!i)return null;const s=iW({dragStartTime:a,container:i.pageMarginBox,subject:t,center:r,shouldUseTimeDampening:n,getAutoScrollerOptions:o});return s&&uW(e,s)?s:null})({dragStartTime:t,droppable:l,subject:s,center:i,shouldUseTimeDampening:r,getAutoScrollerOptions:o});c&&n(l.descriptor.id,c)},hW=({move:e,scrollDroppable:t,scrollWindow:r})=>{const a=(e,r)=>{if(!uW(e,r))return r;const a=((e,t)=>{const r=e.frame;return r&&uW(e,t)?lW({current:r.scroll.current,max:r.scroll.max,change:t}):null})(e,r);if(!a)return t(e.descriptor.id,r),null;const n=FG(r,a);t(e.descriptor.id,n);return FG(r,n)},n=(e,t,a)=>{if(!e)return a;if(!dW(t,a))return a;const n=((e,t)=>{if(!dW(e,t))return null;const r=e.scroll.max,a=e.scroll.current;return lW({current:a,max:r,change:t})})(t,a);if(!n)return r(a),null;const o=FG(a,n);r(o);return FG(a,o)};return t=>{const r=t.scrollJumpRequest;if(!r)return;const o=Rq(t.impact);o||SG();const i=a(t.dimensions.droppables[o],r);if(!i)return;const s=t.viewport,l=n(t.isWindowScrollAllowed,s,i);l&&((t,r)=>{const a=TG(t.current.client.selection,r);e({client:a})})(t,l)}},mW=({scrollDroppable:e,scrollWindow:t,move:r,getAutoScrollerOptions:a})=>{const n=(({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r=()=>tW})=>{const a=yG(e),n=yG(t);let o=null;const i=e=>{o||SG();const{shouldUseTimeDampening:t,dragStartTime:i}=o;pW({state:e,scrollWindow:a,scrollDroppable:n,dragStartTime:i,shouldUseTimeDampening:t,getAutoScrollerOptions:r})};return{start:e=>{o&&SG();const t=Date.now();let a=!1;const n=()=>{a=!0};pW({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:n,scrollDroppable:n,getAutoScrollerOptions:r}),o={dragStartTime:t,shouldUseTimeDampening:a},a&&i(e)},stop:()=>{o&&(a.cancel(),n.cancel(),o=null)},scroll:i}})({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:a}),o=hW({move:r,scrollWindow:t,scrollDroppable:e});return{scroll:e=>{a().disabled||"DRAGGING"!==e.phase||("FLUID"!==e.movementMode?e.scrollJumpRequest&&o(e):n.scroll(e))},start:n.start,stop:n.stop}};const gW="data-rfd",xW=(()=>{const e=`${gW}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),fW=(()=>{const e=`${gW}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),bW=(()=>{const e=`${gW}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),vW={contextId:`${gW}-scroll-container-context-id`},yW=(e,t)=>e.map(e=>{const r=e.styles[t];return r?`${e.selector} { ${r} }`:""}).join(" ");const wW="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?W.useLayoutEffect:W.useEffect,jW=()=>{const e=document.querySelector("head");return e||SG(),e},NW=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function kW(e,t){const r=nG(()=>(e=>{const t=(r=e,e=>`[${e}="${r}"]`);var r;const a=(()=>{const e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:t(xW.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}})(),n=[(()=>{const e=`\n      transition: ${NH.outOfTheWay};\n    `;return{selector:t(fW.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}})(),a,{selector:t(bW.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:yW(n,"always"),resting:yW(n,"resting"),dragging:yW(n,"dragging"),dropAnimating:yW(n,"dropAnimating"),userCancel:yW(n,"userCancel")}})(e),[e]),a=W.useRef(null),n=W.useRef(null),o=oG(vG(e=>{const t=n.current;t||SG(),t.textContent=e}),[]),i=oG(e=>{const t=a.current;t||SG(),t.textContent=e},[]);wW(()=>{(a.current||n.current)&&SG();const s=NW(t),l=NW(t);return a.current=s,n.current=l,s.setAttribute(`${gW}-always`,e),l.setAttribute(`${gW}-dynamic`,e),jW().appendChild(s),jW().appendChild(l),i(r.always),o(r.resting),()=>{const e=e=>{const t=e.current;t||SG(),jW().removeChild(t),e.current=null};e(a),e(n)}},[t,i,o,r.always,r.resting,e]);const s=oG(()=>o(r.dragging),[o,r.dragging]),l=oG(e=>{o("DROP"!==e?r.userCancel:r.dropAnimating)},[o,r.dropAnimating,r.userCancel]),c=oG(()=>{n.current&&o(r.resting)},[o,r.resting]);return nG(()=>({dragging:s,dropping:l,resting:c}),[s,l,c])}function CW(e,t){return Array.from(e.querySelectorAll(t))}var SW=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function EW(e){return e instanceof SW(e).HTMLElement}function PW(e){const t=W.useRef({}),r=W.useRef(null),a=W.useRef(null),n=W.useRef(!1),o=oG(function(e,r){const a={id:e,focus:r};return t.current[e]=a,function(){const r=t.current;r[e]!==a&&delete r[e]}},[]),i=oG(function(t){const r=function(e,t){const r=`[${xW.contextId}="${e}"]`,a=CW(document,r);if(!a.length)return null;const n=a.find(e=>e.getAttribute(xW.draggableId)===t);return n&&EW(n)?n:null}(e,t);r&&r!==document.activeElement&&r.focus()},[e]),s=oG(function(e,t){r.current===e&&(r.current=t)},[]),l=oG(function(){a.current||n.current&&(a.current=requestAnimationFrame(()=>{a.current=null;const e=r.current;e&&i(e)}))},[i]),c=oG(function(e){r.current=null;const t=document.activeElement;t&&t.getAttribute(xW.draggableId)===e&&(r.current=e)},[]);wW(()=>(n.current=!0,function(){n.current=!1;const e=a.current;e&&cancelAnimationFrame(e)}),[]);return nG(()=>({register:o,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:s}),[o,c,l,s])}function OW(){const e={draggables:{},droppables:{}},t=[];function r(e){t.length&&t.forEach(t=>t(e))}function a(t){return e.draggables[t]||null}const n={register:t=>{e.draggables[t.descriptor.id]=t,r({type:"ADDITION",value:t})},update:(t,r)=>{const a=e.draggables[r.descriptor.id];a&&a.uniqueId===t.uniqueId&&(delete e.draggables[r.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:t=>{const n=t.descriptor.id,o=a(n);o&&t.uniqueId===o.uniqueId&&(delete e.draggables[n],e.droppables[t.descriptor.droppableId]&&r({type:"REMOVAL",value:t}))},getById:function(e){const t=a(e);return t||SG(),t},findById:a,exists:e=>Boolean(a(e)),getAllByType:t=>Object.values(e.draggables).filter(e=>e.descriptor.type===t)};function o(t){return e.droppables[t]||null}const i={register:t=>{e.droppables[t.descriptor.id]=t},unregister:t=>{const r=o(t.descriptor.id);r&&t.uniqueId===r.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){const t=o(e);return t||SG(),t},findById:o,exists:e=>Boolean(o(e)),getAllByType:t=>Object.values(e.droppables).filter(e=>e.descriptor.type===t)};return{draggable:n,droppable:i,subscribe:function(e){return t.push(e),function(){const r=t.indexOf(e);-1!==r&&t.splice(r,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var IW=K.createContext(null),AW=()=>{const e=document.body;return e||SG(),e};const DW={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};const MW={separator:"::"};function TW(e,t=MW){const r=K.useId();return nG(()=>`${e}${t.separator}${r}`,[t.separator,e,r])}var FW=K.createContext(null);function zW(e){const t=W.useRef(e);return W.useEffect(()=>{t.current=e}),t}function RW(e){return"IDLE"!==e.phase&&"DROP_ANIMATING"!==e.phase&&e.isDragging}const _W=9,LW=13,$W=33,UW=34,BW=35,VW=36,GW={[LW]:!0,[_W]:!0};var qW=e=>{GW[e.keyCode]&&e.preventDefault()};const HW=(()=>{const e="visibilitychange";if("undefined"==typeof document)return e;return[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(e=>`on${e}`in document)||e})();const WW={type:"IDLE"};function KW({cancel:e,completed:t,getPhase:r,setPhase:a}){return[{eventName:"mousemove",fn:e=>{const{button:t,clientX:n,clientY:o}=e;if(0!==t)return;const i={x:n,y:o},s=r();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(i);"PENDING"!==s.type&&SG();if(!function(e,t){return Math.abs(t.x-e.x)>=5||Math.abs(t.y-e.y)>=5}(s.point,i))return;e.preventDefault();const l=s.actions.fluidLift(i);a({type:"DRAGGING",actions:l})}},{eventName:"mouseup",fn:a=>{const n=r();"DRAGGING"===n.type?(a.preventDefault(),n.actions.drop({shouldBlockNextClick:!0}),t()):e()}},{eventName:"mousedown",fn:t=>{"DRAGGING"===r().type&&t.preventDefault(),e()}},{eventName:"keydown",fn:t=>{if("PENDING"!==r().type)return 27===t.keyCode?(t.preventDefault(),void e()):void qW(t);e()}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{"PENDING"===r().type&&e()}},{eventName:"webkitmouseforcedown",fn:t=>{const a=r();"IDLE"===a.type&&SG(),a.actions.shouldRespectForcePress()?e():t.preventDefault()}},{eventName:HW,fn:e}]}function JW(){}const YW={[UW]:!0,[$W]:!0,[VW]:!0,[BW]:!0};function XW(e,t){function r(){t(),e.cancel()}return[{eventName:"keydown",fn:a=>27===a.keyCode?(a.preventDefault(),void r()):32===a.keyCode?(a.preventDefault(),t(),void e.drop()):40===a.keyCode?(a.preventDefault(),void e.moveDown()):38===a.keyCode?(a.preventDefault(),void e.moveUp()):39===a.keyCode?(a.preventDefault(),void e.moveRight()):37===a.keyCode?(a.preventDefault(),void e.moveLeft()):void(YW[a.keyCode]?a.preventDefault():qW(a))},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:HW,fn:r}]}const QW={type:"IDLE"};const ZW=["input","button","textarea","select","option","optgroup","video","audio"];function eK(e,t){if(null==t)return!1;if(ZW.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return"true"===r||""===r||t!==e&&eK(e,t.parentElement)}function tK(e,t){const r=t.target;return!!EW(r)&&eK(e,r)}var rK=e=>iG(e.getBoundingClientRect()).center;const aK=(()=>{const e="matches";if("undefined"==typeof document)return e;return[e,"msMatchesSelector","webkitMatchesSelector"].find(e=>e in Element.prototype)||e})();function nK(e,t){return null==e?null:e[aK](t)?e:nK(e.parentElement,t)}function oK(e,t){return e.closest?e.closest(t):nK(e,t)}function iK(e,t){const r=t.target;if(!((a=r)instanceof SW(a).Element))return null;var a;const n=function(e){return`[${xW.contextId}="${e}"]`}(e),o=oK(r,n);return o&&EW(o)?o:null}function sK(e){e.preventDefault()}function lK({expected:e,phase:t,isLockActive:r,shouldWarn:a}){return!!r()&&e===t}function cK({lockAPI:e,store:t,registry:r,draggableId:a}){if(e.isClaimed())return!1;const n=r.draggable.findById(a);return!!n&&(!!n.options.isEnabled&&!!XH(t.getState(),a))}function dK({lockAPI:e,contextId:t,store:r,registry:a,draggableId:n,forceSensorStop:o,sourceEvent:i}){if(!cK({lockAPI:e,store:r,registry:a,draggableId:n}))return null;const s=a.draggable.getById(n),l=function(e,t){const r=`[${fW.contextId}="${e}"]`,a=CW(document,r).find(e=>e.getAttribute(fW.id)===t);return a&&EW(a)?a:null}(t,s.descriptor.id);if(!l)return null;if(i&&!s.options.canDragInteractiveElements&&tK(l,i))return null;const c=e.claim(o||NG);let d="PRE_DRAG";function u(){return s.options.shouldRespectForcePress}function p(){return e.isActive(c)}const h=function(e,t){lK({expected:e,phase:d,isLockActive:p,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function m(t){function a(){e.release(),d="COMPLETED"}function n(e,n={shouldBlockNextClick:!1}){if(t.cleanup(),n.shouldBlockNextClick){const e=kG(window,[{eventName:"click",fn:sK,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(e)}a(),r.dispatch(xH({reason:e}))}return"PRE_DRAG"!==d&&(a(),SG()),r.dispatch((e=>({type:"LIFT",payload:e}))(t.liftActionArgs)),d="DRAGGING",{isActive:()=>lK({expected:"DRAGGING",phase:d,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:u,drop:e=>n("DROP",e),cancel:e=>n("CANCEL",e),...t.actions}}const g={isActive:()=>lK({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:u,fluidLift:function(e){const t=yG(e=>{h(()=>dH({client:e}))});return{...m({liftActionArgs:{id:n,clientSelection:e,movementMode:"FLUID"},cleanup:()=>t.cancel(),actions:{move:t}}),move:t}},snapLift:function(){const e={moveUp:()=>h(uH),moveRight:()=>h(hH),moveDown:()=>h(pH),moveLeft:()=>h(mH)};return m({liftActionArgs:{id:n,clientSelection:rK(l),movementMode:"SNAP"},cleanup:NG,actions:e})},abort:function(){lK({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!0})&&e.release()}};return g}const uK=[function(e){const t=W.useRef(WW),r=W.useRef(NG),a=nG(()=>({eventName:"mousedown",fn:function(t){if(t.defaultPrevented)return;if(0!==t.button)return;if(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)return;const a=e.findClosestDraggableId(t);if(!a)return;const n=e.tryGetLock(a,i,{sourceEvent:t});if(!n)return;t.preventDefault();const o={x:t.clientX,y:t.clientY};r.current(),c(n,o)}}),[e]),n=nG(()=>({eventName:"webkitmouseforcewillbegin",fn:t=>{if(t.defaultPrevented)return;const r=e.findClosestDraggableId(t);if(!r)return;const a=e.findOptionsForDraggable(r);a&&(a.shouldRespectForcePress||e.canGetLock(r)&&t.preventDefault())}}),[e]),o=oG(function(){r.current=kG(window,[n,a],{passive:!1,capture:!0})},[n,a]),i=oG(()=>{"IDLE"!==t.current.type&&(t.current=WW,r.current(),o())},[o]),s=oG(()=>{const e=t.current;i(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[i]),l=oG(function(){const e=KW({cancel:s,completed:i,getPhase:()=>t.current,setPhase:e=>{t.current=e}});r.current=kG(window,e,{capture:!0,passive:!1})},[s,i]),c=oG(function(e,r){"IDLE"!==t.current.type&&SG(),t.current={type:"PENDING",point:r,actions:e},l()},[l]);wW(function(){return o(),function(){r.current()}},[o])},function(e){const t=W.useRef(JW),r=nG(()=>({eventName:"keydown",fn:function(r){if(r.defaultPrevented)return;if(32!==r.keyCode)return;const n=e.findClosestDraggableId(r);if(!n)return;const o=e.tryGetLock(n,l,{sourceEvent:r});if(!o)return;r.preventDefault();let i=!0;const s=o.snapLift();function l(){i||SG(),i=!1,t.current(),a()}t.current(),t.current=kG(window,XW(s,l),{capture:!0,passive:!1})}}),[e]),a=oG(function(){t.current=kG(window,[r],{passive:!1,capture:!0})},[r]);wW(function(){return a(),function(){t.current()}},[a])},function(e){const t=W.useRef(QW),r=W.useRef(NG),a=oG(function(){return t.current},[]),n=oG(function(e){t.current=e},[]),o=nG(()=>({eventName:"touchstart",fn:function(t){if(t.defaultPrevented)return;const a=e.findClosestDraggableId(t);if(!a)return;const n=e.tryGetLock(a,s,{sourceEvent:t});if(!n)return;const o=t.touches[0],{clientX:i,clientY:l}=o,c={x:i,y:l};r.current(),u(n,c)}}),[e]),i=oG(function(){r.current=kG(window,[o],{capture:!0,passive:!1})},[o]),s=oG(()=>{const e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),n(QW),r.current(),i())},[i,n]),l=oG(()=>{const e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()},[s]),c=oG(function(){const e={capture:!0,passive:!1},t={cancel:l,completed:s,getPhase:a},n=kG(window,function({cancel:e,completed:t,getPhase:r}){return[{eventName:"touchmove",options:{capture:!1},fn:t=>{const a=r();if("DRAGGING"!==a.type)return void e();a.hasMoved=!0;const{clientX:n,clientY:o}=t.touches[0],i={x:n,y:o};t.preventDefault(),a.actions.move(i)}},{eventName:"touchend",fn:a=>{const n=r();"DRAGGING"===n.type?(a.preventDefault(),n.actions.drop({shouldBlockNextClick:!0}),t()):e()}},{eventName:"touchcancel",fn:t=>{"DRAGGING"===r().type?(t.preventDefault(),e()):e()}},{eventName:"touchforcechange",fn:t=>{const a=r();"IDLE"===a.type&&SG();const n=t.touches[0];if(!n)return;if(!(n.force>=.15))return;const o=a.actions.shouldRespectForcePress();if("PENDING"!==a.type)return o?a.hasMoved?void t.preventDefault():void e():void t.preventDefault();o&&e()}},{eventName:HW,fn:e}]}(t),e),o=kG(window,function({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:e=>{e.preventDefault()}},{eventName:"keydown",fn:r=>{"DRAGGING"===t().type?(27===r.keyCode&&r.preventDefault(),e()):e()}},{eventName:HW,fn:e}]}(t),e);r.current=function(){n(),o()}},[l,a,s]),d=oG(function(){const e=a();"PENDING"!==e.type&&SG();const t=e.actions.fluidLift(e.point);n({type:"DRAGGING",actions:t,hasMoved:!1})},[a,n]),u=oG(function(e,t){"IDLE"!==a().type&&SG();const r=setTimeout(d,120);n({type:"PENDING",point:t,actions:e,longPressTimerId:r}),c()},[c,a,n,d]);wW(function(){return i(),function(){r.current();const e=a();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),n(QW))}},[a,i,n]),wW(function(){return kG(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}];function pK({contextId:e,store:t,registry:r,customSensors:a,enableDefaultSensors:n}){const o=[...n?uK:[],...a||[]],i=W.useState(()=>function(){let e=null;function t(){e||SG(),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&SG();const r={abandon:t};return e=r,r},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}())[0],s=oG(function(e,t){RW(e)&&!RW(t)&&i.tryAbandon()},[i]);wW(function(){let e=t.getState();const r=t.subscribe(()=>{const r=t.getState();s(e,r),e=r});return r},[i,t,s]),wW(()=>i.tryAbandon,[i.tryAbandon]);const l=oG(e=>cK({lockAPI:i,registry:r,store:t,draggableId:e}),[i,r,t]),c=oG((a,n,o)=>dK({lockAPI:i,registry:r,contextId:e,store:t,draggableId:a,forceSensorStop:n||null,sourceEvent:o&&o.sourceEvent?o.sourceEvent:null}),[e,i,r,t]),d=oG(t=>function(e,t){const r=iK(e,t);return r?r.getAttribute(xW.draggableId):null}(e,t),[e]),u=oG(e=>{const t=r.draggable.findById(e);return t?t.options:null},[r.draggable]),p=oG(function(){i.isClaimed()&&(i.tryAbandon(),"IDLE"!==t.getState().phase&&t.dispatch({type:"FLUSH",payload:null}))},[i,t]),h=oG(()=>i.isClaimed(),[i]),m=nG(()=>({canGetLock:l,tryGetLock:c,findClosestDraggableId:d,findOptionsForDraggable:u,tryReleaseLock:p,isLockClaimed:h}),[l,c,d,u,p,h]);for(let g=0;g<o.length;g++)o[g](m)}function hK(e){return e.current||SG(),e.current}function mK(e){const{contextId:t,setCallbacks:r,sensors:a,nonce:n,dragHandleUsageInstructions:o}=e,i=W.useRef(null),s=zW(e),l=oG(()=>(e=>({onBeforeCapture:t=>{de.flushSync(()=>{e.onBeforeCapture&&e.onBeforeCapture(t)})},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}))(s.current),[s]),c=oG(()=>(e=>({...tW,...e.autoScrollerOptions,durationDampening:{...tW.durationDampening,...e.autoScrollerOptions}}))(s.current),[s]),d=function(e){const t=nG(()=>(e=>`rfd-announcement-${e}`)(e),[e]),r=W.useRef(null);return W.useEffect(function(){const e=document.createElement("div");return r.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),wG(e.style,DW),AW().appendChild(e),function(){setTimeout(function(){const t=AW();t.contains(e)&&t.removeChild(e),e===r.current&&(r.current=null)})}},[t]),oG(e=>{const t=r.current;t&&(t.textContent=e)},[])}(t),u=function({contextId:e,text:t}){const r=TW("hidden-text",{separator:"-"}),a=nG(()=>function({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}({contextId:e,uniqueId:r}),[r,e]);return W.useEffect(function(){const e=document.createElement("div");return e.id=a,e.textContent=t,e.style.display="none",AW().appendChild(e),function(){const t=AW();t.contains(e)&&t.removeChild(e)}},[a,t]),a}({contextId:t,text:o}),p=kW(t,n),h=oG(e=>{hK(i).dispatch(e)},[]),m=nG(()=>kf({publishWhileDragging:oH,updateDroppableScroll:sH,updateDroppableIsEnabled:lH,updateDroppableIsCombineEnabled:cH,collectionStarting:iH},h),[h]),g=function(){const e=nG(OW,[]);return W.useEffect(()=>function(){e.clean()},[e]),e}(),x=nG(()=>YH(g,m),[g,m]),f=nG(()=>mW({scrollWindow:QH,scrollDroppable:x.scrollDroppable,getAutoScrollerOptions:c,...kf({move:dH},h)}),[x.scrollDroppable,h,c]),b=PW(t),v=nG(()=>GH({announce:d,autoScroller:f,dimensionMarshal:x,focusMarshal:b,getResponders:l,styleMarshal:p}),[d,f,x,b,l,p]);i.current=v;const y=oG(()=>{const e=hK(i);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})},[]),w=oG(()=>{const e=hK(i).getState();return"DROP_ANIMATING"===e.phase||"IDLE"!==e.phase&&e.isDragging},[]);r(nG(()=>({isDragging:w,tryAbort:y}),[w,y]));const j=oG(e=>XH(hK(i).getState(),e),[]),N=oG(()=>Lq(hK(i).getState()),[]),k=nG(()=>({marshal:x,focus:b,contextId:t,canLift:j,isMovementAllowed:N,dragHandleUsageInstructionsId:u,registry:g}),[t,x,u,b,j,N,g]);return pK({contextId:t,store:v,registry:g,customSensors:a||null,enableDefaultSensors:!1!==e.enableDefaultSensors}),W.useEffect(()=>y,[y]),K.createElement(FW.Provider,{value:k},K.createElement(DU,{context:IW,store:v},e.children))}function gK(e){const t=K.useId(),r=e.dragHandleUsageInstructions||DG.dragHandleUsageInstructions;return K.createElement(EG,null,a=>K.createElement(mK,{nonce:e.nonce,contextId:t,setCallbacks:a,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const xK=5e3,fK=4500,bK=(e,t)=>t?NH.drop(t.duration):e?NH.snap:NH.fluid,vK=(e,t)=>{if(e)return t?vH.drop:vH.combining};function yK(e){return"DRAGGING"===e.type?function(e){const t=e.dimension.client,{offset:r,combineWith:a,dropping:n}=e,o=Boolean(a),i=(e=>null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode)(e),s=Boolean(n),l=s?SH(r,o):CH(r);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:bK(i,n),transform:l,opacity:vK(o,s),zIndex:s?fK:xK,pointerEvents:"none"}}(e):{transform:CH((t=e).offset),transition:t.shouldAnimateDisplacement?void 0:"none"};var t}function wK(e){const t=TW("draggable"),{descriptor:r,registry:a,getDraggableRef:n,canDragInteractiveElements:o,shouldRespectForcePress:i,isEnabled:s}=e,l=nG(()=>({canDragInteractiveElements:o,shouldRespectForcePress:i,isEnabled:s}),[o,s,i]),c=oG(e=>{const t=n();return t||SG(),function(e,t,r=MG){const a=window.getComputedStyle(t),n=t.getBoundingClientRect(),o=mG(n,a),i=hG(o,r);return{descriptor:e,placeholder:{client:o,tagName:t.tagName.toLowerCase(),display:a.display},displaceBy:{x:o.marginBox.width,y:o.marginBox.height},client:o,page:i}}(r,t,e)},[r,n]),d=nG(()=>({uniqueId:t,descriptor:r,options:l,getDimension:c}),[r,c,l,t]),u=W.useRef(d),p=W.useRef(!0);wW(()=>(a.draggable.register(u.current),()=>a.draggable.unregister(u.current)),[a.draggable]),wW(()=>{if(p.current)return void(p.current=!1);const e=u.current;u.current=d,a.draggable.update(d,e)},[d,a.draggable])}var jK=K.createContext(null);function NK(e){const t=W.useContext(e);return t||SG(),t}function kK(e){e.preventDefault()}var CK=(e,t)=>e===t,SK=e=>{const{combine:t,destination:r}=e;return r?r.droppableId:t?t.droppableId:null};function EK(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const PK={mapped:{type:"SECONDARY",offset:MG,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:EK(null)}};const OK=AU(()=>{const e=function(){const e=vG((e,t)=>({x:e,y:t})),t=vG((e,t,r=null,a=null,n=null)=>({isDragging:!0,isClone:t,isDropAnimating:Boolean(n),dropAnimation:n,mode:e,draggingOver:r,combineWith:a,combineTargetFor:null})),r=vG((e,r,a,n,o=null,i=null,s=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:o,combineWith:i,mode:r,offset:e,dimension:a,forceShouldAnimate:s,snapshot:t(r,n,o,i,null)}}));return(a,n)=>{if(RW(a)){if(a.critical.draggable.id!==n.draggableId)return null;const t=a.current.client.offset,i=a.dimensions.draggables[n.draggableId],s=Rq(a.impact),l=(o=a.impact).at&&"COMBINE"===o.at.type?o.at.combine.draggableId:null,c=a.forceShouldAnimate;return r(e(t.x,t.y),a.movementMode,i,n.isClone,s,l,c)}var o;if("DROP_ANIMATING"===a.phase){const e=a.completed;if(e.result.draggableId!==n.draggableId)return null;const r=n.isClone,o=a.dimensions.draggables[n.draggableId],i=e.result,s=i.mode,l=SK(i),c=(e=>e.combine?e.combine.draggableId:null)(i),d={duration:a.dropDuration,curve:bH,moveTo:a.newHomeClientOffset,opacity:c?vH.drop:null,scale:c?yH.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:o,dropping:d,draggingOver:l,combineWith:c,mode:s,forceShouldAnimate:null,snapshot:t(s,r,l,c,d)}}}return null}}(),t=function(){const e=vG((e,t)=>({x:e,y:t})),t=vG(EK),r=vG((e,r=null,a)=>({mapped:{type:"SECONDARY",offset:e,combineTargetFor:r,shouldAnimateDisplacement:a,snapshot:t(r)}})),a=e=>e?r(MG,e,!0):null,n=(t,n,o,i)=>{const s=o.displaced.visible[t],l=Boolean(i.inVirtualList&&i.effected[t]),c=ZG(o),d=c&&c.draggableId===t?n:null;if(!s){if(!l)return a(d);if(o.displaced.invisible[t])return null;const n=RG(i.displacedBy.point),s=e(n.x,n.y);return r(s,d,!0)}if(l)return a(d);const u=o.displacedBy.point,p=e(u.x,u.y);return r(p,d,s.shouldAnimate)};return(e,t)=>{if(RW(e))return e.critical.draggable.id===t.draggableId?null:n(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){const r=e.completed;return r.result.draggableId===t.draggableId?null:n(t.draggableId,r.result.draggableId,r.impact,r.afterCritical)}return null}}();return(r,a)=>e(r,a)||t(r,a)||PK},{dropAnimationFinished:fH},null,{context:IW,areStatePropsEqual:CK})(e=>{const t=W.useRef(null),r=oG((e=null)=>{t.current=e},[]),a=oG(()=>t.current,[]),{contextId:n,dragHandleUsageInstructionsId:o,registry:i}=NK(FW),{type:s,droppableId:l}=NK(jK),c=nG(()=>({id:e.draggableId,index:e.index,type:s,droppableId:l}),[e.draggableId,e.index,s,l]),{children:d,draggableId:u,isEnabled:p,shouldRespectForcePress:h,canDragInteractiveElements:m,isClone:g,mapped:x,dropAnimationFinished:f}=e;if(!g){wK(nG(()=>({descriptor:c,registry:i,getDraggableRef:a,canDragInteractiveElements:m,shouldRespectForcePress:h,isEnabled:p}),[c,i,a,m,h,p]))}const b=nG(()=>p?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":u,"data-rfd-drag-handle-context-id":n,draggable:!1,onDragStart:kK}:null,[n,o,u,p]),v=oG(e=>{"DRAGGING"===x.type&&x.dropping&&"transform"===e.propertyName&&de.flushSync(f)},[f,x]),y=nG(()=>{const e=yK(x),t="DRAGGING"===x.type&&x.dropping?v:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":n,"data-rfd-draggable-id":u,style:e,onTransitionEnd:t},dragHandleProps:b}},[n,b,u,x,v,r]),w=nG(()=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}),[c.droppableId,c.id,c.index,c.type]);return K.createElement(K.Fragment,null,d(y,x.snapshot,w))});function IK(e){return NK(jK).isUsingCloneFor!==e.draggableId||e.isClone?K.createElement(OK,e):null}function AK(e){const t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,r=Boolean(e.disableInteractiveElementBlocking),a=Boolean(e.shouldRespectForcePress);return K.createElement(IK,wG({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:a}))}const DK=e=>t=>e===t,MK=DK("scroll"),TK=DK("auto"),FK=(e,t)=>t(e.overflowX)||t(e.overflowY),zK=e=>null==e||e===document.body||e===document.documentElement?null:(e=>{const t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return FK(r,MK)||FK(r,TK)})(e)?e:zK(e.parentElement);var RK=e=>({x:e.scrollLeft,y:e.scrollTop});const _K=e=>{if(!e)return!1;return"fixed"===window.getComputedStyle(e).position||_K(e.parentElement)};var LK=({ref:e,descriptor:t,env:r,windowScroll:a,direction:n,isDropDisabled:o,isCombineEnabled:i,shouldClipSubject:s})=>{const l=r.closestScrollable,c=((e,t)=>{const r=gG(e);if(!t)return r;if(e!==t)return r;const a=r.paddingBox.top-t.scrollTop,n=r.paddingBox.left-t.scrollLeft,o=a+t.scrollHeight,i=n+t.scrollWidth,s=sG({top:a,right:i,bottom:o,left:n},r.border);return dG({borderBox:s,margin:r.margin,border:r.border,padding:r.padding})})(e,l),d=hG(c,a),u=(()=>{if(!l)return null;const e=gG(l),t={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:e,page:hG(e,a),scroll:RK(l),scrollSize:t,shouldClipSubject:s}})(),p=(({descriptor:e,isEnabled:t,isCombineEnabled:r,isFixedOnPage:a,direction:n,client:o,page:i,closest:s})=>{const l=(()=>{if(!s)return null;const{scrollSize:e,client:t}=s,r=qH({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:s.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:s.shouldClipSubject,scroll:{initial:s.scroll,current:s.scroll,max:r,diff:{value:MG,displacement:MG}}}})(),c="vertical"===n?lq:cq;return{descriptor:e,isCombineEnabled:r,isFixedOnPage:a,axis:c,isEnabled:t,client:o,page:i,frame:l,subject:qG({page:i,withPlaceholder:null,axis:c,frame:l})}})({descriptor:t,isEnabled:!o,isCombineEnabled:i,isFixedOnPage:r.isFixedOnPage,direction:n,client:c,page:d,closest:u});return p};const $K={passive:!1},UK={passive:!0};var BK=e=>e.shouldPublishImmediately?$K:UK;const VK=e=>e&&e.env.closestScrollable||null;function GK(e){const t=W.useRef(null),r=NK(FW),a=TW("droppable"),{registry:n,marshal:o}=r,i=zW(e),s=nG(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),l=W.useRef(s),c=nG(()=>vG((e,r)=>{t.current||SG();const a={x:e,y:r};o.updateDroppableScroll(s.id,a)}),[s.id,o]),d=oG(()=>{const e=t.current;return e&&e.env.closestScrollable?RK(e.env.closestScrollable):MG},[]),u=oG(()=>{const e=d();c(e.x,e.y)},[d,c]),p=nG(()=>yG(u),[u]),h=oG(()=>{const e=t.current,r=VK(e);e&&r||SG();e.scrollOptions.shouldPublishImmediately?u():p()},[p,u]),m=oG((e,a)=>{t.current&&SG();const n=i.current,o=n.getDroppableRef();o||SG();const l={closestScrollable:zK(c=o),isFixedOnPage:_K(c)};var c;const d={ref:o,descriptor:s,env:l,scrollOptions:a};t.current=d;const u=LK({ref:o,descriptor:s,env:l,windowScroll:e,direction:n.direction,isDropDisabled:n.isDropDisabled,isCombineEnabled:n.isCombineEnabled,shouldClipSubject:!n.ignoreContainerClipping}),p=l.closestScrollable;return p&&(p.setAttribute(vW.contextId,r.contextId),p.addEventListener("scroll",h,BK(d.scrollOptions))),u},[r.contextId,s,h,i]),g=oG(()=>{const e=t.current,r=VK(e);return e&&r||SG(),RK(r)},[]),x=oG(()=>{const e=t.current;e||SG();const r=VK(e);t.current=null,r&&(p.cancel(),r.removeAttribute(vW.contextId),r.removeEventListener("scroll",h,BK(e.scrollOptions)))},[h,p]),f=oG(e=>{const r=t.current;r||SG();const a=VK(r);a||SG(),a.scrollTop+=e.y,a.scrollLeft+=e.x},[]),b=nG(()=>({getDimensionAndWatchScroll:m,getScrollWhileDragging:g,dragStopped:x,scroll:f}),[x,m,g,f]),v=nG(()=>({uniqueId:a,descriptor:s,callbacks:b}),[b,s,a]);wW(()=>(l.current=v.descriptor,n.droppable.register(v),()=>{t.current&&x(),n.droppable.unregister(v)}),[b,s,x,v,o,n.droppable]),wW(()=>{t.current&&o.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,o]),wW(()=>{t.current&&o.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,o])}function qK(){}const HK={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},WK=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>{const a=(({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>e||"close"===r?HK:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin})({isAnimatingOpenOnMount:e,placeholder:t,animate:r});return{display:t.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?NH.placeholder:null}};var KK=K.memo(e=>{const t=W.useRef(null),r=oG(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:a,onTransitionEnd:n,onClose:o,contextId:i}=e,[s,l]=W.useState("open"===e.animate);W.useEffect(()=>s?"open"!==a?(r(),l(!1),qK):t.current?qK:(t.current=setTimeout(()=>{t.current=null,l(!1)}),r):qK,[a,s,r]);const c=oG(e=>{"height"===e.propertyName&&(n(),"close"===a&&o())},[a,o,n]),d=WK({isAnimatingOpenOnMount:s,animate:e.animate,placeholder:e.placeholder});return K.createElement(e.placeholder.tagName,{style:d,"data-rfd-placeholder-context-id":i,onTransitionEnd:c,ref:e.innerRef})});class JK extends K.PureComponent{constructor(...e){super(...e),this.state={isVisible:Boolean(this.props.on),data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{"close"===this.state.animate&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const YK={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||SG(),document.body}},XK=e=>{let t,r={...e};for(t in YK)void 0===e[t]&&(r={...r,[t]:YK[t]});return r},QK=(e,t)=>e===t.droppable.type,ZK=(e,t)=>t.draggables[e.draggable.id],eJ=AU(()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},r=vG(e=>({draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}})),a=vG((a,n,o,i,s,l)=>{const c=s.descriptor.id;if(s.descriptor.droppableId===a){const e=l?{render:l,dragging:r(s.descriptor)}:null,t={isDraggingOver:o,draggingOverWith:o?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:t,useClone:e}}if(!n)return t;if(!i)return e;const d={isDraggingOver:o,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:d,useClone:null}});return(r,n)=>{const o=XK(n),i=o.droppableId,s=o.type,l=!o.isDropDisabled,c=o.renderClone;if(RW(r)){const e=r.critical;if(!QK(s,e))return t;const n=ZK(e,r.dimensions),o=Rq(r.impact)===i;return a(i,l,o,o,n,c)}if("DROP_ANIMATING"===r.phase){const e=r.completed;if(!QK(s,e.critical))return t;const n=ZK(e.critical,r.dimensions);return a(i,l,SK(e.result)===i,Rq(e.impact)===i,n,c)}if("IDLE"===r.phase&&r.completed&&!r.shouldFlush){const a=r.completed;if(!QK(s,a.critical))return t;const n=Rq(a.impact)===i,o=Boolean(a.impact.at&&"COMBINE"===a.impact.at.type),l=a.critical.droppable.id===i;return n?o?e:t:l?e:t}return t}},{updateViewportMaxScroll:e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e})},(e,t,r)=>({...XK(r),...e,...t}),{context:IW,areStatePropsEqual:CK})(e=>{const t=W.useContext(FW);t||SG();const{contextId:r,isMovementAllowed:a}=t,n=W.useRef(null),o=W.useRef(null),{children:i,droppableId:s,type:l,mode:c,direction:d,ignoreContainerClipping:u,isDropDisabled:p,isCombineEnabled:h,snapshot:m,useClone:g,updateViewportMaxScroll:x,getContainerForClone:f}=e,b=oG(()=>n.current,[]),v=oG((e=null)=>{n.current=e},[]);oG(()=>o.current,[]);const y=oG((e=null)=>{o.current=e},[]),w=oG(()=>{a()&&x({maxScroll:WH()})},[a,x]);GK({droppableId:s,type:l,mode:c,direction:d,isDropDisabled:p,isCombineEnabled:h,ignoreContainerClipping:u,getDroppableRef:b});const j=nG(()=>K.createElement(JK,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:e,data:t,animate:a})=>K.createElement(KK,{placeholder:t,onClose:e,innerRef:y,animate:a,contextId:r,onTransitionEnd:w})),[r,w,e.placeholder,e.shouldAnimatePlaceholder,y]),N=nG(()=>({innerRef:v,placeholder:j,droppableProps:{"data-rfd-droppable-id":s,"data-rfd-droppable-context-id":r}}),[r,s,j,v]),k=g?g.dragging.draggableId:null,C=nG(()=>({droppableId:s,type:l,isUsingCloneFor:k}),[s,k,l]);return K.createElement(jK.Provider,{value:C},i(N,m),function(){if(!g)return null;const{dragging:e,render:t}=g,r=K.createElement(IK,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(r,a)=>t(r,a,e));return ue.createPortal(r,f())}())});var tJ=eJ;const rJ=()=>{const e=it(),[t,r]=W.useState([]),[a,n]=W.useState([]),[o,i]=W.useState(!1);W.useEffect(()=>{const e=localStorage.getItem("launchpad_structure"),t=localStorage.getItem("launchpad_hidden"),a=Ka.filter(e=>"inicio"!==e.id);if(t)try{n(JSON.parse(t))}catch(Xd){}if(e)try{let t=JSON.parse(e).map(e=>{const t=a.find(t=>t.id===e.id);return t?{...t,id:e.id,label:e.label,subItems:e.subItems.map(e=>{let t=null;return a.forEach(r=>{var a;const n=null===(a=r.subItems)||void 0===a?void 0:a.find(t=>t.path===e.path);n&&(t=n)}),t||e})}:null}).filter(Boolean);const n=a.filter(e=>!t.some(t=>t.id===e.id));n.length>0&&(t=[...t,...n]),r(t)}catch(Xd){r(a)}else r(a)},[]);const s=(e,t=a)=>{r(e);const n=e.map(e=>{var t;return{id:e.id,label:e.label,subItems:(null===(t=e.subItems)||void 0===t?void 0:t.map(e=>({label:e.label,path:e.path,highlight:e.highlight})))||[]}});localStorage.setItem("launchpad_structure",JSON.stringify(n)),localStorage.setItem("launchpad_hidden",JSON.stringify(t))},l=e=>{const t=a.includes(e)?a.filter(t=>t!==e):[...a,e];n(t),localStorage.setItem("launchpad_hidden",JSON.stringify(t))},c=o?t:t.filter(e=>!a.includes(e.id));return H.jsx("div",{className:"min-h-screen bg-gray-50 p-6 lg:p-12 animate-in fade-in duration-500 overflow-y-auto font-sans",children:H.jsxs("div",{className:"max-w-[1600px] mx-auto space-y-10",children:[H.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 pb-8",children:[H.jsxs("div",{children:[H.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[H.jsx("div",{className:"p-2 bg-hd-orange rounded-lg shadow-lg shadow-hd-orange/20",children:H.jsx(Xr,{size:22,className:"text-white"})}),H.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-widest uppercase italic",children:"Mapa Operativo"})]}),H.jsx("p",{className:"text-gray-400 font-bold uppercase tracking-[0.4em] text-[10px] flex items-center gap-2 font-mono",children:"Personalizacin y Control Unificado"})]}),H.jsxs("div",{className:"flex items-center gap-3",children:[H.jsxs(Za,{variant:o?"hd-orange":"outline",size:"sm",className:"font-bold uppercase tracking-tight text-[10px] h-10 px-4 "+(o?"bg-hd-orange text-white":"bg-white text-gray-400 border-gray-200 hover:text-hd-orange"),onClick:()=>i(!o),children:[H.jsx(Na,{size:16,className:"mr-2"}),o?"Guardar Cambios":"Personalizar Vista"]}),H.jsx(Za,{variant:"outline",size:"sm",className:"bg-white text-gray-300 hover:text-red-500 border-gray-100 h-10",onClick:()=>{window.confirm("Restablecer el men a su estado original?")&&(localStorage.removeItem("launchpad_structure"),localStorage.removeItem("launchpad_hidden"),window.location.reload())},children:H.jsx(ba,{size:14})}),H.jsx(Za,{variant:"ghost",size:"icon",className:"text-gray-400 hover:text-hd-orange hover:bg-orange-50 rounded-full h-12 w-12 transition-colors",onClick:()=>e("/"),children:H.jsx(Ha,{size:32})})]})]}),o&&H.jsxs("div",{className:"bg-white p-6 rounded-xl border border-hd-orange/20 shadow-sm animate-in slide-in-from-top duration-300",children:[H.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[H.jsx(Na,{size:18,className:"text-hd-orange"}),H.jsx("h3",{className:"text-sm font-black uppercase tracking-widest text-gray-900 italic",children:"Gestin de Visibilidad"})]}),H.jsx("div",{className:"flex flex-wrap gap-4",children:t.map(e=>{const t=a.includes(e.id);return H.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 rounded-lg border transition-all cursor-pointer "+(t?"bg-gray-50 border-gray-100 opacity-60":"bg-orange-50 border-orange-100 text-hd-orange"),children:[H.jsx("input",{type:"checkbox",checked:!t,onChange:()=>l(e.id),className:"accent-hd-orange h-4 w-4"}),H.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tighter",children:e.label})]},e.id)})}),H.jsx("p",{className:"text-[9px] text-gray-400 mt-4 italic font-bold uppercase tracking-wider",children:"* Los mdulos desmarcados no aparecern en la vista normal. Puedes arrastrar los paneles abajo para reordenarlos."})]}),H.jsx(gK,{onDragEnd:e=>{const{source:r,destination:a,type:n}=e;if(a){if("MODULE"===n){const e=Array.from(t),[n]=e.splice(r.index,1);return e.splice(a.index,0,n),void s(e)}if("SUBITEM"===n){const e=t.findIndex(e=>e.id===r.droppableId),n=t.findIndex(e=>e.id===a.droppableId);if(-1===e||-1===n)return;const o=[...t],i={...o[e]},l={...o[n]},c=Array.from(i.subItems||[]),[d]=c.splice(r.index,1);if(r.droppableId===a.droppableId)c.splice(a.index,0,d),i.subItems=c,o[e]=i;else{const t=Array.from(l.subItems||[]);t.splice(a.index,0,d),i.subItems=c,l.subItems=t,o[e]=i,o[n]=l}s(o)}}},children:H.jsx(tJ,{droppableId:"all-modules",direction:"horizontal",type:"MODULE",children:t=>H.jsxs("div",{...t.droppableProps,ref:t.innerRef,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-8 gap-y-12 pb-20",children:[c.map((t,r)=>{const n=t.icon||Jt,i=a.includes(t.id);return H.jsx(AK,{draggableId:t.id,index:r,isDragDisabled:!o,children:(r,a)=>H.jsx(ln,{ref:r.innerRef,...r.draggableProps,className:`border-none shadow-md bg-white hover:shadow-xl transition-all duration-300 flex flex-col relative ${a.isDragging?"ring-2 ring-hd-orange shadow-2xl scale-105 z-50":""} ${i&&o?"opacity-50 grayscale":""}`,children:H.jsxs("div",{className:"p-5 flex-grow flex flex-col space-y-4",children:[H.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 pb-4",children:[H.jsxs("div",{className:"flex items-center gap-3",children:[H.jsx("div",{className:"p-2 rounded-lg border transition-colors "+(i?"bg-gray-100 text-gray-400":"bg-orange-50 text-hd-orange border-orange-100"),children:H.jsx(n,{size:20})}),H.jsx("h2",{className:"text-lg font-black text-gray-800 tracking-tight uppercase italic",children:t.label})]}),H.jsxs("div",{className:"flex items-center gap-2",children:[o&&H.jsx("button",{onClick:()=>l(t.id),className:"p-1.5 rounded-full transition-colors "+(i?"text-gray-400 hover:text-green-500 bg-gray-50":"text-hd-orange hover:text-gray-400 bg-orange-50"),title:i?"Mostrar":"Ocultar",children:i?H.jsx(Tr,{size:16}):H.jsx(Fr,{size:16})}),o&&H.jsx("div",{...r.dragHandleProps,className:"text-gray-300 hover:text-hd-orange cursor-grab active:cursor-grabbing p-1",children:H.jsx(Br,{size:18})})]})]}),H.jsx(tJ,{droppableId:t.id,type:"SUBITEM",isDropDisabled:!o&&!t.id.includes("utilidades"),children:(r,a)=>{var n;return H.jsxs("div",{...r.droppableProps,ref:r.innerRef,className:"flex-grow space-y-1 p-2 rounded-lg transition-colors min-h-[50px] "+(a.isDraggingOver?"bg-orange-50/50 outline-2 outline-dashed outline-hd-orange/20":""),children:[null===(n=t.subItems)||void 0===n?void 0:n.map((r,a)=>{const n=r.icon||Cr,i=`${t.id}-${r.path}-${a}`;return H.jsx(AK,{draggableId:i,index:a,isDragDisabled:!o,children:(t,a)=>H.jsxs("div",{ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,onClick:()=>!a.isDragging&&e(r.path),className:`flex items-center group cursor-pointer p-3 rounded-lg transition-all border border-transparent ${a.isDragging?"bg-white shadow-xl scale-105 border-hd-orange z-[100]":"hover:bg-gray-50"} ${r.highlight?"bg-orange-50/50 border-orange-100":""}`,children:[H.jsx("div",{className:"p-1.5 rounded bg-gray-100 mr-3 transition-colors "+(r.highlight?"text-hd-orange":"text-gray-400 group-hover:text-hd-orange"),children:H.jsx(n,{size:14})}),H.jsx("div",{className:"flex-grow",children:H.jsx("span",{className:"text-[11px] font-bold uppercase tracking-wider transition-colors "+(r.highlight?"text-hd-orange":"text-gray-600 group-hover:text-gray-900"),children:r.label})}),H.jsx(Cr,{size:12,className:"transition-all text-hd-orange "+(a.isDragging?"opacity-100":"opacity-0 group-hover:opacity-100 group-hover:translate-x-1")})]})},i)}),r.placeholder]})}})]})})},t.id)}),t.placeholder]})})}),H.jsx("div",{className:"text-center opacity-40 pt-8 border-t border-gray-200",children:H.jsx("p",{className:"text-gray-400 text-[10px] font-black uppercase tracking-[0.5em]",children:"CENTRO DE CONTROL PERSONALIZABLE  v1.3.0"})})]})})},aJ="http://localhost:5006/api",nJ=()=>{var e,t;const[r,a]=W.useState({showStockBreakdown:!0,enableBeep:!0,defaultWarehouseId:null,filterByCurrency:!1,filterByPriceLevel:!1,selectedPriceLevel:"",distributionDefaultUnit:"UND",distributionUseSeparateSequence:!1,enableStockTooltip:!0}),[n,o]=W.useState({id:0,code:"SALES_INVOICE",prefix:"FACT-",currentValue:0,length:6}),[i,s]=W.useState({id:0,code:"DIST_INVOICE",prefix:"DIST-",currentValue:0,length:6}),[l,c]=W.useState({defaultClientId:null}),[d,u]=W.useState([]),[p,h]=W.useState([]),[m,g]=W.useState([]),[x,f]=W.useState(!1),[b,v]=W.useState(null);W.useEffect(()=>{const e=localStorage.getItem("pos_config");if(e)try{const t=JSON.parse(e);a(e=>({...e,...t}))}catch(Xd){console.error("Failed to parse saved POS config",Xd)}(async()=>{try{const t=await An();if(u(t),v(null),!r.defaultWarehouseId&&t.length>0){var e;const r=null!==(e=t[0].id)&&void 0!==e?e:t[0].Id;a(e=>({...e,defaultWarehouseId:r}))}}catch(Xd){console.error(Xd),v(Xd.message)}})(),(async()=>{try{const e=await fetch(`${aJ}/Clients`);if(e.ok){const t=await e.json();h(Array.isArray(t)?t:t.value||[])}}catch(Xd){console.error("Error fetching clients:",Xd)}})(),(async()=>{try{const e=await mn();g(e)}catch(Xd){console.error("Error fetching price levels:",Xd)}})(),(async()=>{try{const e=await fetch(`${aJ}/Sequences`);if(e.ok){const t=await e.json(),r=t.find(e=>"SALES_INVOICE"===e.code);r&&o(r);const a=t.find(e=>"DIST_INVOICE"===e.code);a&&s(a)}}catch(Xd){console.error("Error fetching sequences:",Xd)}})(),(async()=>{try{const e=await fetch(`${aJ}/CompanyConfiguration`);if(e.ok){const t=await e.json();c(t||{})}}catch(Xd){console.error("Error fetching company config:",Xd)}})()},[]);const y=(e,t)=>{a(r=>{const a={...r,[e]:t};return localStorage.setItem("pos_config",JSON.stringify(a)),window.dispatchEvent(new Event("pos_config_changed")),a})},w=async()=>{f(!0);try{n.id&&await fetch(`${aJ}/Sequences/${n.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),r.distributionUseSeparateSequence&&i.id?await fetch(`${aJ}/Sequences/${i.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}):r.distributionUseSeparateSequence&&i.id;if(!(await fetch(`${aJ}/CompanyConfiguration`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).ok)throw new Error("Error al guardar configuracin de empresa");alert("Configuracin guardada correctamente")}catch(e){console.error(e),alert("Error al guardar cambios")}finally{f(!1)}};return H.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 max-w-4xl mx-auto p-6",children:[H.jsxs("div",{children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:"Configuracin de POS"}),H.jsx("p",{className:"text-sm text-gray-500",children:"Personalice el comportamiento y la visualizacin del terminal de punto de venta."})]}),H.jsxs(Gn,{defaultValue:"general",className:"w-full",children:[H.jsxs(qn,{className:"mb-4",children:[H.jsx(Hn,{value:"general",children:"General"}),H.jsx(Hn,{value:"distribucion",children:"Ventas Distribucin"})]}),H.jsxs(Wn,{value:"general",className:"space-y-6",children:[H.jsxs(ln,{className:"shadow-lg border-none overflow-hidden",children:[H.jsx(cn,{className:"bg-gray-50/50 border-b border-gray-100",children:H.jsxs(dn,{className:"flex items-center gap-2",children:[H.jsx(sa,{className:"h-5 w-5 text-hd-orange"}),"Interfaz de Venta"]})}),H.jsxs(un,{className:"p-6 space-y-6",children:[H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Almacn Predeterminado"}),H.jsxs("select",{value:null!==(e=r.defaultWarehouseId)&&void 0!==e?e:"",onChange:e=>y("defaultWarehouseId",parseInt(e.target.value)||null),className:"w-full bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-hd-orange focus:border-hd-orange p-2.5",children:[H.jsx("option",{value:"",children:"-- Seleccione --"}),d.map((e,t)=>H.jsx("option",{value:e.id||e.Id,children:e.nombre||e.Nombre},e.id||e.Id||t))]}),H.jsx("p",{className:"text-xs text-gray-500",children:"Se selecciona al abrir el POS."})]}),H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Cliente Predeterminado"}),H.jsxs("select",{value:null!==(t=l.defaultClientId)&&void 0!==t?t:"",onChange:e=>c(t=>({...t,defaultClientId:parseInt(e.target.value)||null})),className:"w-full bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-hd-orange focus:border-hd-orange p-2.5",children:[H.jsx("option",{value:"",children:"-- Seleccione (Por defecto: Consumidor Final) --"}),p.map((e,t)=>H.jsx("option",{value:e.id||e.Id,children:e.name||e.Name},e.id||e.Id||t))]}),H.jsx("p",{className:"text-xs text-gray-500",children:"Se carga automticamente en la venta."})]})]}),H.jsx("div",{className:"pt-4 border-t border-gray-100",children:H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs("div",{className:"space-y-1",children:[H.jsx("h3",{className:"font-medium text-gray-900 text-sm",children:"Permitir Venta sin Stock"}),H.jsx("p",{className:"text-xs text-gray-500",children:"Permitir facturar artculos con inventario cero o negativo."})]}),H.jsx("button",{onClick:()=>c(e=>({...e,allowNegativeStock:!e.allowNegativeStock})),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-hd-orange focus:ring-offset-2 "+(l.allowNegativeStock?"bg-hd-orange":"bg-gray-200"),children:H.jsx("span",{className:(l.allowNegativeStock?"translate-x-6":"translate-x-1")+" inline-block h-4 w-4 transform rounded-full bg-white transition-transform shadow-sm"})})]})}),H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t border-gray-100",children:[H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs("div",{className:"space-y-1",children:[H.jsx("h3",{className:"font-medium text-gray-900 text-sm",children:"Desglose de Stock"}),H.jsx("p",{className:"text-xs text-gray-500",children:"Ver existencia por almacn al pasar el mouse."})]}),H.jsx("button",{onClick:()=>y("showStockBreakdown",!r.showStockBreakdown),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-hd-orange focus:ring-offset-2 "+(r.showStockBreakdown?"bg-hd-orange":"bg-gray-200"),children:H.jsx("span",{className:(r.showStockBreakdown?"translate-x-6":"translate-x-1")+" inline-block h-4 w-4 transform rounded-full bg-white transition-transform shadow-sm"})})]}),H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs("div",{className:"space-y-1",children:[H.jsx("h3",{className:"font-medium text-gray-900 text-sm",children:"Sonido (Beep)"}),H.jsx("p",{className:"text-xs text-gray-500",children:"Reproduce sonido al escanear."})]}),H.jsx("button",{onClick:()=>y("enableBeep",!r.enableBeep),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-hd-orange focus:ring-offset-2 "+(!1!==r.enableBeep?"bg-hd-orange":"bg-gray-200"),children:H.jsx("span",{className:(!1!==r.enableBeep?"translate-x-6":"translate-x-1")+" inline-block h-4 w-4 transform rounded-full bg-white transition-transform shadow-sm"})})]}),H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs("div",{className:"space-y-1",children:[H.jsx("h3",{className:"font-medium text-gray-900 text-sm",children:"Filtrar por Moneda del Cliente"}),H.jsx("p",{className:"text-xs text-gray-500",children:"Ocultar artculos que no tengan precio en la moneda del cliente."})]}),H.jsx("button",{onClick:()=>y("filterByCurrency",!r.filterByCurrency),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-hd-orange focus:ring-offset-2 "+(r.filterByCurrency?"bg-hd-orange":"bg-gray-200"),children:H.jsx("span",{className:(r.filterByCurrency?"translate-x-6":"translate-x-1")+" inline-block h-4 w-4 transform rounded-full bg-white transition-transform shadow-sm"})})]}),H.jsx("div",{className:"flex items-center justify-between col-span-1 md:col-span-2 border-t border-gray-100 pt-4 mt-2",children:H.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[H.jsxs("div",{className:"flex items-center justify-between w-full",children:[H.jsxs("div",{className:"space-y-1",children:[H.jsx("h3",{className:"font-medium text-gray-900 text-sm",children:"Filtrar por Nivel de Precio"}),H.jsx("p",{className:"text-xs text-gray-500",children:"Solo mostrar artculos que tengan precio definido en el nivel seleccionado."})]}),H.jsx("button",{onClick:()=>y("filterByPriceLevel",!r.filterByPriceLevel),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-hd-orange focus:ring-offset-2 "+(r.filterByPriceLevel?"bg-hd-orange":"bg-gray-200"),children:H.jsx("span",{className:(r.filterByPriceLevel?"translate-x-6":"translate-x-1")+" inline-block h-4 w-4 transform rounded-full bg-white transition-transform shadow-sm"})})]}),r.filterByPriceLevel&&H.jsxs("div",{className:"mt-2 animate-in slide-in-from-top-2 duration-300",children:[H.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-1 block",children:"Nivel de Precio requerido"}),H.jsxs("select",{value:r.selectedPriceLevel||"",onChange:e=>y("selectedPriceLevel",e.target.value),className:"w-full md:w-1/2 bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-hd-orange focus:border-hd-orange p-2.5",children:[H.jsx("option",{value:"",children:"-- Seleccione Nivel --"}),m.map((e,t)=>H.jsx("option",{value:e.nombre||e.Nombre,children:e.nombre||e.Nombre},t))]})]})]})})]})]})]}),H.jsxs(ln,{className:"shadow-lg border-none overflow-hidden",children:[H.jsx(cn,{className:"bg-gray-50/50 border-b border-gray-100",children:H.jsxs(dn,{className:"flex items-center gap-2",children:[H.jsx(wa,{className:"h-5 w-5 text-blue-600"}),"Secuencia de Ventas (Facturas)"]})}),H.jsxs(un,{className:"p-6 space-y-6",children:[H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prefijo"}),H.jsx("input",{type:"text",value:n.prefix||"",onChange:e=>o({...n,prefix:e.target.value}),className:"w-full bg-gray-50 border border-gray-300 rounded-lg p-2.5 text-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Ej: FACT-"})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Secuencia Actual"}),H.jsx("input",{type:"number",value:n.currentValue,onChange:e=>o({...n,currentValue:parseInt(e.target.value)}),className:"w-full bg-gray-50 border border-gray-300 rounded-lg p-2.5 text-sm focus:ring-blue-500 focus:border-blue-500"}),H.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Siguiente: ",n.prefix,String(n.currentValue+1).padStart(n.length,"0")]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ceros a la Izquierda"}),H.jsx("input",{type:"number",value:n.length,onChange:e=>o({...n,length:parseInt(e.target.value)}),className:"w-full bg-gray-50 border border-gray-300 rounded-lg p-2.5 text-sm focus:ring-blue-500 focus:border-blue-500",min:"1",max:"20"})]})]}),H.jsx("div",{className:"flex items-center justify-end pt-4",children:H.jsx(Za,{onClick:w,disabled:x,className:"bg-blue-600 hover:bg-blue-700",children:x?"Guardando...":"Guardar Configuracin"})})]})]})]}),H.jsx(Wn,{value:"distribucion",children:H.jsxs(ln,{className:"shadow-lg border-none overflow-hidden",children:[H.jsx(cn,{className:"bg-gray-50/50 border-b border-gray-100",children:H.jsxs(dn,{className:"flex items-center gap-2",children:[H.jsx(sa,{className:"h-5 w-5 text-purple-600"}),"Configuracin de Distribucin"]})}),H.jsxs(un,{className:"p-6 space-y-6",children:[H.jsx("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-100 mb-6",children:H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs("div",{className:"space-y-1",children:[H.jsx("h3",{className:"font-medium text-yellow-900 text-sm",children:"Control de Inventario (Global)"}),H.jsx("p",{className:"text-xs text-yellow-700",children:"Permitir facturar artculos con inventario cero o negativo."})]}),H.jsx("button",{onClick:()=>c(e=>({...e,allowNegativeStock:!e.allowNegativeStock})),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 "+(l.allowNegativeStock?"bg-yellow-500":"bg-gray-200"),children:H.jsx("span",{className:(l.allowNegativeStock?"translate-x-6":"translate-x-1")+" inline-block h-4 w-4 transform rounded-full bg-white transition-transform shadow-sm"})})]})}),H.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-100 mb-6",children:H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs("div",{className:"space-y-1",children:[H.jsx("h3",{className:"font-medium text-blue-900 text-sm",children:"Tooltip de Inventario"}),H.jsx("p",{className:"text-xs text-blue-700",children:"Mostrar desglose de stock por almacn al pasar el mouse sobre un producto."})]}),H.jsx("button",{onClick:()=>y("enableStockTooltip",!r.enableStockTooltip),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 "+(r.enableStockTooltip?"bg-blue-600":"bg-gray-200"),children:H.jsx("span",{className:(r.enableStockTooltip?"translate-x-6":"translate-x-1")+" inline-block h-4 w-4 transform rounded-full bg-white transition-transform shadow-sm"})})]})}),H.jsxs("div",{className:"space-y-2 max-w-md",children:[H.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Unidad Predeterminada"}),H.jsx("input",{type:"text",value:r.distributionDefaultUnit||"UND",onChange:e=>y("distributionDefaultUnit",e.target.value),className:"w-full bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-purple-600 focus:border-purple-600 p-2.5",placeholder:"Ej: UND, CAJA, LBS"}),H.jsx("p",{className:"text-xs text-gray-500",children:"Unidad por defecto al agregar productos si no tienen una definida."})]}),H.jsx("hr",{className:"border-gray-100"}),H.jsxs("div",{className:"space-y-4",children:[H.jsx("h3",{className:"font-medium text-gray-900 text-sm",children:"Secuencia de Numeracin"}),H.jsxs("div",{className:"flex flex-col gap-3",children:[H.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[H.jsx("input",{type:"radio",name:"seqStrategy",checked:!r.distributionUseSeparateSequence,onChange:()=>y("distributionUseSeparateSequence",!1),className:"w-4 h-4 text-purple-600 focus:ring-purple-500 border-gray-300"}),H.jsxs("div",{children:[H.jsx("span",{className:"block text-sm font-medium text-gray-900",children:"Usar la misma secuencia de Ventas"}),H.jsxs("span",{className:"block text-xs text-gray-500",children:["Las facturas de distribucin seguirn el consecutivo general (",n.prefix,"...)."]})]})]}),H.jsxs("label",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[H.jsx("input",{type:"radio",name:"seqStrategy",checked:r.distributionUseSeparateSequence,onChange:()=>y("distributionUseSeparateSequence",!0),className:"w-4 h-4 text-purple-600 focus:ring-purple-500 border-gray-300"}),H.jsxs("div",{children:[H.jsx("span",{className:"block text-sm font-medium text-gray-900",children:"Usar secuencia independiente"}),H.jsx("span",{className:"block text-xs text-gray-500",children:"Crear una numeracin separada para el mdulo de distribucin."})]})]})]})]}),r.distributionUseSeparateSequence&&H.jsxs("div",{className:"mt-4 p-4 bg-purple-50 rounded-lg border border-purple-100 animate-in fade-in slide-in-from-top-2",children:[H.jsx("h4",{className:"text-sm font-bold text-purple-800 mb-3",children:"Configurar Secuencia de Distribucin"}),H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-xs font-medium text-purple-700 mb-1",children:"Prefijo"}),H.jsx("input",{type:"text",value:i.prefix||"",onChange:e=>s({...i,prefix:e.target.value}),className:"w-full bg-white border border-purple-200 rounded p-2 text-sm focus:ring-purple-500 focus:border-purple-500"})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-xs font-medium text-purple-700 mb-1",children:"Actual"}),H.jsx("input",{type:"number",value:i.currentValue,onChange:e=>s({...i,currentValue:parseInt(e.target.value)}),className:"w-full bg-white border border-purple-200 rounded p-2 text-sm focus:ring-purple-500 focus:border-purple-500"})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-xs font-medium text-purple-700 mb-1",children:"Longitud"}),H.jsx("input",{type:"number",value:i.length,onChange:e=>s({...i,length:parseInt(e.target.value)}),className:"w-full bg-white border border-purple-200 rounded p-2 text-sm focus:ring-purple-500 focus:border-purple-500"})]})]}),H.jsxs("p",{className:"text-xs text-purple-600 mt-2",children:["Ejemplo de prxima factura: ",H.jsxs("strong",{children:[i.prefix,String(i.currentValue+1).padStart(i.length,"0")]})]})]}),H.jsx("div",{className:"flex items-center justify-end pt-4",children:H.jsx(Za,{onClick:w,disabled:x,className:"bg-purple-600 hover:bg-purple-700",children:x?"Guardando...":"Guardar Cambios"})})]})]})})]})]})},oJ="http://localhost:5006/api",iJ=()=>{const[e,t]=W.useState([]),[r,a]=W.useState(!1),[n,o]=W.useState("");W.useEffect(()=>{i()},[]);const i=async()=>{try{const e=await fetch(`${oJ}/Sequences`);if(e.ok){const r=await e.json();t(r.filter(e=>["PURCHASE_ORDER","GOODS_RECEIPT","DIRECT_PURCHASE"].includes(e.code)))}}catch(e){console.error("Error fetching sequences:",e)}},s=(e,r,a)=>{t(t=>t.map(t=>t.id===e?{...t,[r]:a}:t))},l=(t,n,i)=>{const l=e.find(e=>e.code===t);return l?H.jsxs(ln,{className:"shadow-lg border-none overflow-hidden h-full",children:[H.jsx(cn,{className:"bg-gray-50/50 border-b border-gray-100",children:H.jsxs(dn,{className:"flex items-center gap-2",children:[i,n]})}),H.jsxs(un,{className:"p-6 space-y-6",children:[H.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prefijo"}),H.jsx("input",{type:"text",value:l.prefix||"",onChange:e=>s(l.id,"prefix",e.target.value),className:"w-full bg-gray-50 border border-gray-300 rounded-lg p-2.5 text-sm focus:ring-blue-500 focus:border-blue-500 font-mono"})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Secuencia Actual"}),H.jsx("input",{type:"number",value:l.currentValue,onChange:e=>s(l.id,"currentValue",parseInt(e.target.value)),className:"w-full bg-gray-50 border border-gray-300 rounded-lg p-2.5 text-sm focus:ring-blue-500 focus:border-blue-500 font-mono"}),H.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Prximo: ",l.prefix,String(l.currentValue+1).padStart(l.length,"0")]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Longitud (Ceros)"}),H.jsx("input",{type:"number",value:l.length,onChange:e=>s(l.id,"length",parseInt(e.target.value)),className:"w-full bg-gray-50 border border-gray-300 rounded-lg p-2.5 text-sm focus:ring-blue-500 focus:border-blue-500",min:"1",max:"20"})]})]}),H.jsx("div",{className:"flex items-center justify-end pt-4",children:H.jsx(Za,{onClick:()=>(async e=>{a(!0);try{(await fetch(`${oJ}/Sequences/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok?(o("Configuracin guardada correctamente"),setTimeout(()=>o(""),3e3)):alert("Eror al guardar")}catch(t){console.error("Error saving:",t),alert("Error al guardar")}finally{a(!1)}})(l),disabled:r,className:"bg-blue-600 hover:bg-blue-700 w-full",children:"Guardar Cambios"})})]})]}):null};return H.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 max-w-5xl mx-auto p-6",children:[H.jsxs("div",{className:"flex justify-between items-center",children:[H.jsxs("div",{children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:"Configuracin de Compras"}),H.jsx("p",{className:"text-sm text-gray-500",children:"Gestione las secuencias de documentos para el ciclo de compras."})]}),n&&H.jsx("div",{className:"bg-green-100 text-green-800 px-4 py-2 rounded-lg text-sm font-medium animate-pulse",children:n})]}),H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l("PURCHASE_ORDER","Orden de Compra",H.jsx(zr,{className:"h-5 w-5 text-blue-600"})),l("GOODS_RECEIPT","Recepcin de Mercanca",H.jsx(ca,{className:"h-5 w-5 text-orange-600"})),l("DIRECT_PURCHASE","Factura Directa",H.jsx(zr,{className:"h-5 w-5 text-emerald-600"}))]})]})},sJ="http://localhost:5006/api",lJ=()=>{var e,t,r,a,n;const o=it(),[i,s]=W.useState([]),[l,c]=W.useState(null),[d,u]=W.useState(null),[p,h]=W.useState(!1),[m,g]=W.useState(!1),[x,f]=W.useState("properties"),[b,v]=W.useState([]),[y,w]=W.useState(""),[j,N]=W.useState([]),[k,C]=W.useState([]),[S,E]=W.useState(!1),[P,O]=W.useState(null),[I,A]=W.useState("receipt.NumeroRecibo"),[D,M]=W.useState(!1),[T,F]=W.useState([]),[z,R]=W.useState(!1);W.useEffect(()=>{Y(),q(),_()},[]);const _=async()=>{R(!0);try{const e=await fetch(`${sJ}/Printers`);if(e.ok){const t=await e.json();F(t)}}catch(e){console.error("Error fetching printers:",e)}finally{R(!1)}},[L,$]=W.useState("Informacin Adicional"),[U,B]=W.useState({company:{name:"MI EMPRESA S.A.",rnc:"123-456-789",address:"Calle Principal #123, Santo Domingo",phone:"(809) 555-1234"},receipt:{NumeroRecibo:"REC-0001",NumeroFactura:"FACT-0001",date:(new Date).toLocaleDateString(),time:(new Date).toLocaleTimeString(),cashier:"Juan Prez",client:"Cliente General",subtotal:100,tax:18,total:118,paymentMethod:"Efectivo",ncf:"B0100000001",ncfExpiration:"31/12/2025",tipoNCF:"Factura de Crdito Fiscal",clientRnc:"101-00000-1",clientAddress:"Av. Winston Churchill, Santo Domingo",items:[{description:"Martillo De Ua 16oz",quantity:1,price:450,total:450,sku:"HER-001",discount:0,tax:81},{description:'Clavos de Acero 2"',quantity:50,price:2.5,total:125,sku:"FER-005",discount:5,tax:22.5},{description:"Cinta Mtrica 5m",quantity:1,price:350,total:350,sku:"HER-002",discount:0,tax:63}]}}),V=W.useMemo(()=>{const e={empresa:[{id:"companyLogo",type:"image",label:"Logo Empresa",source:"company.logoPath",height:60,alignment:"center"},{id:"companyName",type:"text",label:"Nombre Empresa",source:"company.name",fontSize:14,bold:!0,alignment:"center"},{id:"companyRNC",type:"text",label:"RNC",source:"company.rnc",fontSize:10,alignment:"center"},{id:"companyAddress",type:"text",label:"Direccin",source:"company.address",fontSize:9,alignment:"center"},{id:"companyPhone",type:"text",label:"Telfono",source:"company.phone",fontSize:9,alignment:"center"}],recibo:[{id:"invoiceNumber",type:"text",label:"No. Factura",source:"receipt.NumeroFactura",fontSize:10,alignment:"left"},{id:"receiptNumber",type:"text",label:"NumeroRecibo",source:"receipt.NumeroRecibo",fontSize:10,alignment:"left"},{id:"date",type:"text",label:"Fecha",source:"receipt.date",format:"date",fontSize:10,alignment:"left"},{id:"time",type:"text",label:"Hora",source:"receipt.time",format:"time",fontSize:10,alignment:"left"},{id:"cashier",type:"text",label:"Cajero",source:"receipt.cashier",fontSize:10,alignment:"left"},{id:"client",type:"text",label:"Cliente",source:"receipt.client",fontSize:10,alignment:"left"},{id:"clientRnc",type:"text",label:"RNC Cliente",source:"receipt.clientRnc",fontSize:10,alignment:"left"},{id:"clientAddress",type:"text",label:"Direccin Cliente",source:"receipt.clientAddress",fontSize:10,alignment:"left"},{id:"ncf",type:"text",label:"NCF",source:"receipt.ncf",fontSize:10,alignment:"left"},{id:"ncfExpiration",type:"text",label:"Vencimiento NCF",source:"receipt.ncfExpiration",fontSize:9,alignment:"left"},{id:"tipoNCF",type:"text",label:"Tipo NCF",source:"receipt.tipoNCF",fontSize:9,alignment:"left"},{id:"itemsTable",type:"table",label:"Tabla Detalles (Built-in)",source:"receipt.items",fontSize:9}],totales:[{id:"subtotal",type:"text",label:"Subtotal",source:"receipt.subtotal",format:"currency",fontSize:10,alignment:"right"},{id:"itbis",type:"text",label:"ITBIS",source:"receipt.tax",format:"currency",fontSize:10,alignment:"right"},{id:"total",type:"text",label:"Total",source:"receipt.total",format:"currency",fontSize:14,bold:!0,alignment:"right"},{id:"paymentMethod",type:"text",label:"Mtodo Pago",source:"receipt.paymentMethod",fontSize:10,alignment:"left"}],visuales:[{id:"separator",type:"line",label:"Lnea Separadora",style:"solid"},{id:"space_small",type:"space",label:"Espacio Pequeo",height:10},{id:"space_large",type:"space",label:"Espacio Grande",height:20},{id:"customText",type:"text",label:"Texto Simple",text:"Gracias por su compra!",fontSize:12,bold:!0,alignment:"center"},{id:"compositeText",type:"composite",label:"Texto Compuesto",text:"{receipt.NumeroRecibo} - {receipt.date}",fontSize:10,alignment:"center"}]};return y&&j.length>0&&(e.sqlView=j.map(e=>{const t=e.Name||e.name||e.NAME;return{id:`sql_${y}_${t}`,type:"text",label:`${t}`,source:`ext.${t}`,fontSize:10,alignment:"left"}})),e},[y,j]),G=W.useMemo(()=>{const e=[{label:"Descripcin",value:"description"},{label:"Cantidad",value:"quantity"},{label:"Precio",value:"price"},{label:"Total Fila",value:"total"},{label:"SKU / Cdigo",value:"sku"},{label:"Descuento",value:"discount"},{label:"ITBIS Art.",value:"tax"}];return y&&j.length>0&&j.forEach(t=>{const r=t.Name||t.name||t.NAME;e.push({label:`SQL: ${r}`,value:r})}),e},[y,j]);W.useEffect(()=>{Y(),J(),q()},[]),W.useEffect(()=>{var e;if(null!=l&&null!==(e=l.config)&&void 0!==e&&e.sections){const e=l.config.sections.find(e=>{var t;return null===(t=e.viewBinding)||void 0===t?void 0:t.viewName});e&&(console.log("Template has binding, fetching data for:",e.viewBinding.viewName),K(e.viewBinding.viewName))}},[null==l?void 0:l.id]);const q=async()=>{E(!0),O(null);try{const e=new AbortController,t=setTimeout(()=>e.abort(),5e3),r=await fetch(`${sJ}/SqlMetadata/Ping`,{signal:e.signal}).catch(()=>null);r&&!r.ok&&console.warn("Ping failed, but continuing with Views fetch...");const a=await fetch(`${sJ}/SqlMetadata/Views`,{signal:e.signal});if(clearTimeout(t),a.ok){const e=await a.json();console.log("SQL Views loaded:",e),v(e),O(null)}else{const e=await a.json().catch(()=>({}));O(e.message||`Error del servidor (${a.status}): El endpoint no fue encontrado o el backend no est cargando este controlador.`)}}catch(e){console.error("Error fetching SQL views:",e),"AbortError"===e.name?O("La conexin con el servidor SQL tard demasiado (Timeout)."):O("No se pudo conectar con el servidor. Verifique que el API est activo en "+sJ)}finally{E(!1)}},K=async e=>{if(e){E(!0);try{const t=await fetch(`${sJ}/SqlMetadata/Views/${encodeURIComponent(e)}/Columns`);if(t.ok){const e=await t.json();N(e),C([])}const r=await fetch(`${sJ}/SqlMetadata/Execute/${encodeURIComponent(e)}`);if(r.ok){const e=await r.json();let t=e;if(Array.isArray(e)&&(t=e.length>0?e[0]:null),!t&&data.length>0&&(t={},data.forEach(e=>{const r=e.Name||e.name||e.NAME;t[r]=`[${r}]`}),console.log("Generated MOCK data for preview:",t)),t){const e={};Object.keys(t).forEach(r=>{e[r]=t[r],e[r.toLowerCase()]=t[r]}),B(t=>({...t,ext:e}))}}}catch(t){console.error("Error fetching view metadata:",t)}finally{E(!1)}}},J=async()=>{try{const e=await fetch(`${sJ}/CompanyConfiguration`);if(e.ok){const t=await e.json();B(e=>({...e,company:{name:t.nombreEmpresa||e.company.name,rnc:t.rnc||e.company.rnc,address:t.direccion||e.company.address,phone:t.telefono||e.company.phone,logoPath:t.logoPath?`${sJ.replace("/api","")}${t.logoPath}`:null}}))}}catch(e){console.error("Error fetching company config:",e)}},Y=async()=>{try{const e=await(async()=>{const e=await fetch(`${Zo}/ReceiptTemplates`);if(!e.ok)throw new Error("Error al obtener plantillas");return e.json()})();if(s(e),e.length>0){const t=e.find(e=>e.porDefecto)||e[0];X(t.id)}else c({nombre:"Nueva Plantilla",tipoRecibo:"Venta",anchoMM:80,config:{paperWidth:"80mm",padding:0,sections:[{id:"header",name:"Encabezado",order:1,visible:!0,fields:[]},{id:"info",name:"Informacin",order:2,visible:!0,fields:[]},{id:"items",name:"Productos",order:3,visible:!0,type:"table",fields:[]},{id:"totals",name:"Totales",order:4,visible:!0,fields:[]},{id:"footer",name:"Pie",order:5,visible:!0,fields:[]}]}})}catch(e){console.error("Error loading templates:",e)}},X=async e=>{try{const t=await(async e=>{const t=await fetch(`${Zo}/ReceiptTemplates/${e}`);if(!t.ok)throw new Error("Error al obtener plantilla");return t.json()})(e),r=JSON.parse(t.configuracionJSON);c({...t,config:r})}catch(t){console.error("Error loading template:",t)}},Q=(e,t,r,a)=>{const n={...l.config},o=n.sections.findIndex(t=>t.id===e);if(-1!==o){if(e===t)n.sections[o][r]=a;else{const e=n.sections[o].fields.findIndex(e=>e.id===t);-1!==e&&(n.sections[o].fields[e][r]=a)}c({...l,config:n}),d&&d.id===t&&u({...d,[r]:a})}},Z=(e,t)=>{const r={...l.config,[e]:t};c({...l,config:r})},ee=(e,t)=>{if(!e)return"";const r=e.split(".");let a=U;for(const n of r)a=a&&void 0!==a[n]?a[n]:"";return"currency"===t?`$${Number(a).toFixed(2)}`:a},te=(e,t)=>{const r=e.alignment||"left",a=e.fontSize||10,n=e.bold?"bold":"normal";if("line"===e.type){const t="double"===e.style?"double":"dashed"===e.style?"dashed":"solid";return H.jsx("hr",{style:{borderTop:`1px ${t} #000`,margin:"5px 0"}})}if("space"===e.type)return H.jsx("div",{style:{height:`${e.height||10}px`}});if("image"===e.type){const t=ee(e.source);return t?H.jsx("div",{style:{textAlign:e.alignment||"center",marginBottom:"5px"},children:H.jsx("img",{src:t,alt:"logo",style:{maxHeight:`${e.height||60}px`,maxWidth:"100%",objectFit:"contain"}})}):H.jsx("div",{className:"text-red-500 text-xs text-center",children:"[Imagen no encontrada]"})}if("table"===e.type){var o;const r=(null===(o=U.receipt)||void 0===o?void 0:o.items)||[],n=e.columns&&e.columns.length>0?e.columns:[{label:"Desc",field:"description",width:40,active:!0},{label:"Cant",field:"quantity",width:20,active:!0},{label:"Prec",field:"price",width:20,active:!0,format:"currency"},{label:"Total",field:"total",width:20,active:!0,format:"currency"}],i=Array.isArray(n)?n.filter(e=>e&&!1!==e.active):[],s=e.rowLayout||[{type:"columns"}],l=e.headerBorder||"dashed",c="none"===l?"none":`1px ${l} black`,d=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e||0);return 0===i.length&&0===s.length?H.jsx("div",{className:"p-2 border border-dashed text-gray-400 text-[10px] text-center italic",children:"Tabla sin configuracin"}):H.jsxs("div",{className:"receipt-table",style:{width:"100%",fontSize:`${a}px`,fontFamily:"monospace",marginBottom:"5px"},children:[s.some(e=>"columns"===e.type)&&H.jsx("div",{style:{display:"flex",borderBottom:c,paddingBottom:"2px",marginBottom:"2px",fontWeight:"bold",position:"relative"},children:i.map((r,a)=>H.jsxs("div",{style:{width:`${r.width}%`,textAlign:r.alignment||"left",position:"relative"},children:[r.label||"Col",e.resizeMode&&a<i.length-1&&H.jsx("div",{onMouseDown:r=>((e,t,r,a)=>{e.preventDefault(),e.stopPropagation();const n=e.clientX,o=[...r.columns||[]],i=o[t],s=o[t+1];if(!i||!s)return;const l=i.width,c=s.width,d=e.target.closest(".receipt-table");if(!d)return;const u=d.offsetWidth,p=e=>{const t=(e.clientX-n)/u*100;let d=l+t,p=c-t;d<5||p<5||(i.width=d,s.width=p,Q(a,r.id,"columns",[...o]))},h=()=>{document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",h)};document.addEventListener("mousemove",p),document.addEventListener("mouseup",h)})(r,a,e,t),style:{position:"absolute",right:0,top:0,bottom:0,width:"10px",cursor:"col-resize",zIndex:10,transform:"translateX(50%)",display:"flex",justifyContent:"center"},className:"group/resizer hover:bg-blue-100/50",children:H.jsx("div",{className:"w-[2px] h-full bg-blue-400 opacity-50 group-hover/resizer:opacity-100"})})]},a))}),Array.isArray(r)&&r.slice(0,3).map((e,t)=>H.jsx("div",{style:{marginBottom:"4px",borderBottom:t<r.length-1?"1px dotted #ccc":"none"},children:s.map((t,r)=>{if("columns"===t.type)return H.jsx("div",{style:{display:"flex"},children:i.map((t,r)=>H.jsx("div",{style:{width:`${t.width}%`,textAlign:t.alignment||"left",overflow:"hidden"},children:"currency"===t.format?d(e[t.field]):e[t.field]||"-"},r))},r);if("text"===t.type){const n=t.text?t.text.replace(/\{(\w+)\}/g,(t,r)=>e[r]||t):"";return H.jsx("div",{style:{textAlign:t.alignment||"left",fontSize:`${t.fontSize||a-1}px`,fontStyle:"italic",color:"#666",whiteSpace:"pre-wrap"},children:n},r)}return"separator"===t.type?H.jsx("div",{style:{borderTop:"1px dashed #ccc",margin:"2px 0"}},r):null})},t))]})}let i="";return i="composite"===e.type||e.text&&e.text.includes("{")?(e=>e?e.replace(/\{([\w\.]+)\}/g,(e,t)=>{const r=ee(t);return null!=r?r:""}):"")(e.text):e.text||(e.source?ee(e.source,e.format):""),i&&""!==i||(i=`[${e.label||"Campo Vaco"}]`),H.jsx("div",{style:{textAlign:r,fontSize:`${a}px`,fontWeight:n,marginBottom:"3px"},children:i})};return H.jsxs(gK,{onDragEnd:e=>{if(!e.destination)return;const{source:t,destination:r,draggableId:a}=e;if("palette"===t.droppableId){let e=null;for(const r of Object.values(V)){const t=r.find(e=>e.id===a);if(t){console.log("Found field in palette:",t),e={...t,id:`${t.id}_${Date.now()}`};break}}if(!e)return void console.warn("Field not found in palette:",a);const t={...l.config},n=t.sections.findIndex(e=>e.id===r.droppableId);-1!==n&&(t.sections[n].fields||(t.sections[n].fields=[]),t.sections[n].fields.splice(r.index,0,e),c({...l,config:t}))}else{const e={...l.config},a=e.sections.findIndex(e=>e.id===t.droppableId),n=e.sections.findIndex(e=>e.id===r.droppableId);if(-1!==a&&-1!==n){const o=[...e.sections[a].fields||[]],[i]=o.splice(t.index,1);if(t.droppableId===r.droppableId)o.splice(r.index,0,i),e.sections[a].fields=o;else{const t=[...e.sections[n].fields||[]];t.splice(r.index,0,i),e.sections[a].fields=o,e.sections[n].fields=t}c({...l,config:e})}}},children:[H.jsx("style",{children:"\n    .custom-scrollbar::-webkit-scrollbar { width: 6px; }\n    .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }\n    .custom-scrollbar::-webkit-scrollbar-thumb { background: #e2e8f0; border-radius: 10px; }\n    .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #cbd5e1; }\n    \n    @keyframes slideIn {\n        from { transform: translateX(20px); opacity: 0; }\n        to { transform: translateX(0); opacity: 1; }\n    }\n    .animate-slide-in { animation: slideIn 0.3s ease forwards; }\n"}),H.jsxs("div",{className:"flex flex-col h-screen bg-gray-100 font-sans text-gray-800",children:[H.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-3 flex items-center justify-between",children:[H.jsxs("div",{className:"flex items-center gap-4",children:[H.jsx(Za,{variant:"ghost",onClick:()=>o("/configuracion/pos"),children:H.jsx(ar,{className:"h-5 w-5"})}),H.jsxs("div",{children:[H.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Diseador de Recibos"}),H.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[H.jsx("select",{className:"text-xs bg-gray-50 border rounded px-2 py-1 font-semibold text-gray-700 focus:ring-1 focus:ring-hd-orange",value:(null==l?void 0:l.id)||"",onChange:e=>X(e.target.value),children:i.map(e=>H.jsx("option",{value:e.id,children:e.nombre},e.id))}),H.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest px-2 py-0.5 bg-gray-100 rounded",children:(null==l?void 0:l.tipoRecibo)||"Venta"})]})]})]}),H.jsxs("div",{className:"flex items-center gap-4",children:[H.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-gray-100 rounded-full",children:[H.jsx("div",{className:"h-2 w-2 rounded-full "+(P&&P.includes("API")?"bg-red-500 animate-pulse":"bg-green-500")}),H.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase",children:P&&P.includes("API")?"API Offline":"API Online"})]}),H.jsxs(Za,{variant:"outline",className:"h-9 px-4 text-gray-600 hover:text-hd-orange transition-colors",onClick:()=>o("/configuracion"),children:[H.jsx(ar,{className:"h-4 w-4 mr-2"})," Volver"]}),H.jsx("div",{className:"h-6 w-px bg-gray-200"}),H.jsxs(Za,{variant:"outline",className:"h-9 px-4 text-gray-600",onClick:()=>g(!0),children:[H.jsx(Fr,{className:"h-4 w-4 mr-2"})," Previsualizar"]}),H.jsxs(Za,{className:"h-9 px-6 bg-hd-orange text-white hover:bg-orange-600 shadow-md transform active:scale-95 transition-all",onClick:async()=>{if(l){h(!0);try{var e;const t={Id:l.id||0,Nombre:l.nombre||l.Nombre||"Nueva Plantilla",Descripcion:l.descripcion||l.Descripcion||"",TipoRecibo:l.tipoRecibo||l.TipoRecibo||"Venta",AnchoMM:l.anchoMM||l.AnchoMM||("58mm"===(null===(e=l.config)||void 0===e?void 0:e.paperWidth)?58:80),PrinterName:l.printerName||l.PrinterName||"",ConfiguracionJSON:JSON.stringify(l.config),Activo:void 0!==l.activo?l.activo:void 0===l.Activo||l.Activo,PorDefecto:void 0!==l.porDefecto?l.porDefecto:void 0!==l.PorDefecto&&l.PorDefecto,Usuario:l.usuario||l.Usuario||"Admin"},r=t.Id&&t.Id>2e9;if(t.Id&&!r)await(async(e,t)=>{const r=await fetch(`${Zo}/ReceiptTemplates/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("Error al actualizar plantilla");return 204===r.status?null:r.json()})(t.Id,t);else{const{Id:e,...r}=t;await(async e=>{const t=await fetch(`${Zo}/ReceiptTemplates`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Error al crear plantilla");return t.json()})(r)}alert("Plantilla guardada exitosamente!"),Y()}catch(t){console.error("Error saving template:",t),alert("Error al guardar: "+t.message)}finally{h(!1)}}},disabled:p,children:[p?H.jsx(Zr,{className:"h-4 w-4 animate-spin mr-2"}):H.jsx(wa,{className:"h-4 w-4 mr-2"}),"GUARDAR CAMBIOS"]})]})]}),H.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[H.jsxs("div",{className:"w-72 bg-white border-r border-gray-200 flex flex-col",children:[H.jsxs("div",{className:"p-4 border-b bg-gray-50 flex items-center justify-between",children:[H.jsx("h3",{className:"text-xs font-black text-gray-500 uppercase tracking-widest",children:"Paleta de Campos"}),H.jsx(xa,{className:"h-4 w-4 text-hd-orange"})]}),H.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6 custom-scrollbar",children:H.jsx(tJ,{droppableId:"palette",isDropDisabled:!0,children:e=>{let t=0;return H.jsxs("div",{ref:e.innerRef,...e.droppableProps,style:{minHeight:"100%"},children:[Object.entries(V).map(([e,r])=>H.jsxs("div",{className:"mb-8",children:[H.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[H.jsx("div",{className:"h-1 w-1 bg-hd-orange rounded-full"}),H.jsx("h4",{className:"text-[11px] font-bold text-gray-400 uppercase tracking-wider",children:"sqlView"===e?"DATO EXTERNO (SQL)":e})]}),H.jsx("div",{className:"space-y-2",children:r.map(r=>{const a=t++;return H.jsx(AK,{draggableId:r.id,index:a,children:(t,a)=>H.jsx("div",{ref:t.innerRef,...t.draggableProps,...t.dragHandleProps,style:{...t.draggableProps.style},className:"p-3 bg-white border border-gray-100 rounded shadow-sm cursor-move hover:border-hd-orange hover:shadow-md transition-all group "+(a.isDragging?"ring-2 ring-hd-orange ring-opacity-50":""),children:H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx(Br,{className:"h-4 w-4 text-gray-300 group-hover:text-hd-orange"}),H.jsx("span",{className:"text-xs font-bold text-gray-700",children:r.label})]}),"sqlView"===e&&H.jsx(Ar,{className:"h-3 w-3 text-blue-400"})]})})},r.id)})})]},e)),e.placeholder]})}})})]}),H.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-200/50 p-12 custom-scrollbar flex justify-center items-start",children:H.jsxs("div",{className:"relative",children:[H.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 w-16 h-6 bg-gray-400/20 rounded z-0"}),H.jsxs("div",{className:"bg-white shadow-[0_10px_40px_rgba(0,0,0,0.1)] border-t-[3px] border-hd-orange overflow-hidden relative z-10",style:{width:"58mm"===(null==l||null===(e=l.config)||void 0===e?void 0:e.paperWidth)?"220px":"302px",minHeight:"600px",transition:"width 0.3s ease"},children:[H.jsx("div",{className:"h-2 w-full bg-white relative overflow-hidden",children:H.jsx("div",{className:"absolute top-0 left-0 w-full h-1 flex justify-around opacity-20",children:Array(20).fill(0).map((e,t)=>H.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-300 -mt-1"},t))})}),H.jsx("div",{className:"p-4",children:null==l||null===(t=l.config)||void 0===t||null===(t=t.sections)||void 0===t?void 0:t.map(e=>H.jsx(tJ,{droppableId:e.id,children:(t,r)=>{var a;return H.jsxs("div",{ref:t.innerRef,...t.droppableProps,className:"min-h-[40px] mb-4 p-2 rounded "+(r.isDraggingOver?"bg-orange-50 border border-orange-200":"border border-transparent"),children:[H.jsxs("div",{className:"text-[10px] text-gray-400 mb-1.5 font-black uppercase flex justify-between items-center tracking-tighter",children:[H.jsx("span",{className:"bg-gray-100 px-1.5 py-0.5 rounded text-gray-500",children:e.name}),"table"===e.type&&H.jsxs("span",{className:"text-blue-500 flex items-center gap-1 cursor-pointer hover:underline",onClick:()=>u({...e,sectionId:e.id}),children:[H.jsx(Ar,{size:10})," Editar Columnas"]})]}),"table"===e.type?H.jsx("div",{className:"p-1 rounded cursor-pointer "+((null==d?void 0:d.id)===e.id?"bg-orange-50 border border-orange-200":"hover:bg-gray-50"),onClick:()=>u({...e,sectionId:e.id}),children:te({type:"table",...e},e.id)}):null===(a=e.fields)||void 0===a?void 0:a.map((t,r)=>H.jsx(AK,{draggableId:t.id,index:r,children:(r,a)=>H.jsxs("div",{ref:r.innerRef,...r.draggableProps,className:"group relative "+(a.isDragging?"opacity-50":""),onClick:()=>u({...t,sectionId:e.id}),children:[H.jsx("div",{...r.dragHandleProps,className:"absolute -left-4 top-1 opacity-0 group-hover:opacity-100 cursor-move",children:H.jsx(Br,{className:"h-4 w-4 text-gray-400"})}),H.jsx("div",{className:"p-1 rounded "+((null==d?void 0:d.id)===t.id?"bg-orange-50 border border-orange-200":"hover:bg-gray-50"),children:te(t,e.id)}),H.jsx("button",{onClick:r=>{r.stopPropagation(),((e,t)=>{const r={...l.config},a=r.sections.findIndex(t=>t.id===e);-1!==a&&(e===t?(r.sections[a].type=void 0,r.sections[a].fields=[]):r.sections[a].fields=r.sections[a].fields.filter(e=>e.id!==t),c({...l,config:r}),d&&d.id===t&&u(null))})(e.id,t.id)},className:"absolute -right-4 top-1 opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700",children:H.jsx(Ta,{className:"h-3.5 w-3.5"})})]})},t.id)),t.placeholder]})}},e.id))})]})]})}),H.jsxs("div",{className:"w-80 bg-white border-l border-gray-200 flex flex-col overflow-hidden shadow-xl",children:[H.jsxs("div",{className:"flex border-b",children:[H.jsxs("button",{onClick:()=>f("properties"),className:"flex-1 py-3 text-[10px] font-bold uppercase tracking-wider flex items-center justify-center gap-2 "+("properties"===x?"text-hd-orange border-b-2 border-hd-orange bg-orange-50":"text-gray-500 hover:bg-gray-50"),children:[H.jsx(ka,{className:"h-3.5 w-3.5"})," Propiedades"]}),H.jsxs("button",{onClick:()=>f("views"),className:"flex-1 py-3 text-[10px] font-bold uppercase tracking-wider flex items-center justify-center gap-2 "+("views"===x?"text-hd-orange border-b-2 border-hd-orange bg-orange-50":"text-gray-500 hover:bg-gray-50"),children:[H.jsx(Ar,{className:"h-3.5 w-3.5"})," Vista SQL"]})]}),H.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:"properties"===x?H.jsxs("div",{className:"p-4 space-y-4",children:[H.jsxs("h3",{className:"text-xs font-black text-gray-700 uppercase tracking-tight flex items-center gap-2",children:[d?H.jsx(da,{size:14,className:"text-hd-orange"}):H.jsx(Yr,{size:14,className:"text-hd-orange"}),d?"Configurar Campo":"Diseo del Recibo"]}),d?H.jsxs("div",{className:"space-y-5 animate-in slide-in-from-right-2 duration-200",children:[H.jsxs("div",{className:"space-y-4 bg-gray-50 p-3 rounded-lg border border-gray-100",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-[8px] font-black text-gray-400 uppercase mb-2 tracking-widest",children:"Alineacin Horizontal"}),H.jsx("div",{className:"flex gap-1",children:["left","center","right"].map(e=>H.jsxs("button",{onClick:()=>Q(d.sectionId,d.id,"alignment",e),className:"flex-1 h-8 flex items-center justify-center rounded border transition-all "+(d.alignment===e?"bg-hd-orange text-white border-hd-orange shadow-sm":"bg-white text-gray-400 border-gray-200 hover:border-hd-orange hover:text-hd-orange"),children:["left"===e&&H.jsx(Zt,{size:16}),"center"===e&&H.jsx(Qt,{size:16}),"right"===e&&H.jsx(er,{size:16})]},e))})]}),H.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-[8px] font-black text-gray-400 uppercase mb-1 tracking-widest",children:"Tamao (px)"}),H.jsx(en,{type:"number",value:d.fontSize||10,className:"h-8 text-xs font-bold",onChange:e=>Q(d.sectionId,d.id,"fontSize",parseInt(e.target.value))})]}),H.jsx("div",{className:"flex flex-col justify-end",children:H.jsxs("label",{className:"flex items-center gap-2 cursor-pointer h-8 px-2 bg-white border rounded hover:border-hd-orange transition-colors",children:[H.jsx("input",{type:"checkbox",checked:d.bold||!1,className:"rounded text-hd-orange focus:ring-hd-orange",onChange:e=>Q(d.sectionId,d.id,"bold",e.target.checked)}),H.jsx("span",{className:"text-[10px] font-bold text-gray-600",children:"Negrita"})]})})]})]}),"composite"===d.type&&H.jsxs("div",{className:"space-y-3 p-3 bg-white border rounded-lg shadow-sm",children:[H.jsx("label",{className:"block text-[10px] font-bold text-gray-700 uppercase",children:"Texto Dinmico"}),H.jsx("textarea",{value:d.text||"",rows:3,className:"w-full text-xs border rounded-md p-2 focus:ring-1 focus:ring-hd-orange outline-none bg-gray-50",onChange:e=>Q(d.sectionId,d.id,"text",e.target.value),placeholder:"Escribe aqu. Usa el men de abajo para insertar variables."}),H.jsx("div",{className:"grid grid-cols-2 gap-1.5 max-h-40 overflow-y-auto p-1.5 border rounded bg-gray-50 custom-scrollbar",children:[{label:"Nombre Empresa",value:"{company.name}"},{label:"RNC",value:"{company.rnc}"},{label:"Direccin",value:"{company.address}"},{label:"Telfono",value:"{company.phone}"},{label:"NumeroRecibo",value:"{receipt.NumeroRecibo}"},{label:"Fecha",value:"{receipt.date}"},{label:"Hora",value:"{receipt.time}"},{label:"Cajero",value:"{receipt.cashier}"},{label:"Cliente",value:"{receipt.client}"},{label:"RNC Cliente",value:"{receipt.clientRnc}"},{label:"Dir. Cliente",value:"{receipt.clientAddress}"},{label:"NCF",value:"{receipt.ncf}"},{label:"Vencimiento NCF",value:"{receipt.ncfExpiration}"},{label:"Tipo NCF",value:"{receipt.tipoNCF}"},{label:"Subtotal",value:"{receipt.subtotal}"},{label:"ITBIS",value:"{receipt.tax}"},{label:"Total",value:"{receipt.total}"}].map(e=>H.jsx("button",{onClick:()=>(e=>{if(!d)return;const t=d.text||"";Q(d.sectionId,d.id,"text",t+e)})(e.value),className:"text-left text-[9px] p-2 bg-white border border-gray-100 rounded shadow-sm truncate hover:border-hd-orange hover:text-hd-orange transition-colors",children:e.label},e.value))})]}),"table"===d.type&&H.jsxs("div",{className:"space-y-6",children:[H.jsxs("div",{className:"space-y-3",children:[H.jsxs("div",{className:"flex justify-between items-center bg-gray-800 text-white p-2.5 rounded-t-lg",children:[H.jsxs("div",{className:"flex flex-col",children:[H.jsx("label",{className:"text-[10px] font-black uppercase tracking-tighter",children:"Columnas Principales"}),H.jsx("span",{className:"text-[9px] text-gray-400",children:"Campos en la fila central"})]}),H.jsxs("div",{className:"flex gap-1 items-center",children:[H.jsxs("button",{onClick:()=>Q(d.sectionId,d.id,"resizeMode",!d.resizeMode),className:"px-2 py-1 rounded text-[9px] font-black uppercase transition-colors flex items-center gap-1 "+(d.resizeMode?"bg-blue-500 text-white":"bg-gray-700 text-gray-400 hover:text-white"),title:"Activar para redimensionar columnas con el mouse",children:[H.jsx(la,{size:10})," ",d.resizeMode?"Ajustando":"Ajustar"]}),H.jsx("div",{className:"w-px h-3 bg-gray-600 mx-1"}),H.jsx("button",{onClick:()=>{const e=d.columns||[{label:"Desc",field:"description",width:40,active:!0},{label:"Cant",field:"quantity",width:20,active:!0},{label:"Prec",field:"price",width:20,active:!0,format:"currency"},{label:"Total",field:"total",width:20,active:!0,format:"currency"}],t=e.map(e=>({...e,width:Math.floor(.8*e.width)})),r=t.reduce((e,t)=>e+t.width,0),a={label:"Nuevo",field:"description",width:100-r,alignment:"left",active:!0};Q(d.sectionId,d.id,"columns",[...t,a])},className:"px-2 py-1 bg-hd-orange rounded text-[9px] font-black uppercase hover:bg-white hover:text-hd-orange transition-colors",children:"+ Col"}),H.jsx("button",{onClick:()=>{Q(d.sectionId,d.id,"columns",[{label:"Desc",field:"description",width:40,active:!0},{label:"Cant",field:"quantity",width:20,active:!0},{label:"Prec",field:"price",width:20,active:!0,format:"currency"},{label:"Total",field:"total",width:20,active:!0,format:"currency"}])},className:"px-2 py-1 bg-white/10 rounded text-[9px] font-black uppercase hover:bg-white/20 transition-colors",children:"Reset"})]})]}),H.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto p-1.5 border border-t-0 rounded-b-lg bg-gray-50 custom-scrollbar",children:(d.columns||[]).map((e,t)=>H.jsxs("div",{className:"bg-white p-2 rounded border border-gray-200 space-y-2 shadow-sm relative group/col",children:[H.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[H.jsx(en,{placeholder:"Etiqueta",value:e.label,className:"h-7 text-[10px] font-bold",onChange:e=>{const r=[...d.columns||[]];r[t].label=e.target.value,Q(d.sectionId,d.id,"columns",r)}}),H.jsxs("select",{value:e.field,className:"h-7 text-[10px] border rounded bg-white focus:ring-1 focus:ring-hd-orange outline-none",onChange:e=>{const r=[...d.columns||[]];r[t].field=e.target.value,Q(d.sectionId,d.id,"columns",r)},children:[H.jsx("option",{value:"",children:"Seleccionar Campo..."}),G.map(e=>H.jsx("option",{value:e.value,children:e.label},e.value))]})]}),H.jsxs("div",{className:"flex items-center gap-2 pt-1.5 border-t border-gray-100",children:[H.jsx("div",{className:"flex bg-gray-100 rounded p-0.5",children:["left","center","right"].map(r=>H.jsxs("button",{onClick:()=>{const e=[...d.columns||[]];e[t].alignment=r,Q(d.sectionId,d.id,"columns",e)},className:"p-1 rounded text-gray-500 hover:text-hd-orange transition-colors "+(e.alignment===r?"bg-white shadow text-hd-orange font-bold":""),title:"left"===r?"Izquierda":"center"===r?"Centro":"Derecha",children:["left"===r&&H.jsx(Zt,{size:10}),"center"===r&&H.jsx(Qt,{size:10}),"right"===r&&H.jsx(er,{size:10})]},r))}),H.jsxs("div",{className:"flex items-center bg-gray-100 rounded px-2 h-6 flex-1",children:[H.jsx("span",{className:"text-[8px] font-black text-gray-400 mr-2 uppercase",children:"W%"}),H.jsx("input",{type:"number",value:e.width,className:"bg-transparent text-[10px] font-bold w-full text-center outline-none",onChange:e=>{const r=[...d.columns||[]];r[t].width=parseInt(e.target.value),Q(d.sectionId,d.id,"columns",r)}})]}),H.jsxs("select",{value:e.format||"",className:"h-6 text-[9px] border rounded flex-1 bg-white",onChange:e=>{const r=[...d.columns||[]];r[t].format=e.target.value,Q(d.sectionId,d.id,"columns",r)},children:[H.jsx("option",{value:"",children:"Sin Formato"}),H.jsx("option",{value:"currency",children:"Moneda ($)"})]}),H.jsx("button",{className:"text-gray-300 hover:text-red-500 transition-colors ml-auto",onClick:()=>{const e=(d.columns||[]).filter((e,r)=>r!==t);Q(d.sectionId,d.id,"columns",e)},children:H.jsx(Ta,{size:12})})]})]},t))})]}),H.jsxs("div",{className:"space-y-3",children:[H.jsxs("div",{className:"flex justify-between items-center bg-hd-orange text-white p-2.5 rounded-t-lg",children:[H.jsxs("div",{className:"flex flex-col",children:[H.jsx("label",{className:"text-[10px] font-black uppercase tracking-tighter",children:"Fila Extra (Multi-lnea)"}),H.jsx("span",{className:"text-[9px] text-orange-100",children:"Lneas arriba o abajo"})]}),H.jsxs("div",{className:"flex gap-1",children:[H.jsx("button",{onClick:()=>{const e=d.rowLayout||[{type:"columns"}];Q(d.sectionId,d.id,"rowLayout",[...e,{type:"text",text:"Ref: {sku}",alignment:"left",fontSize:8}])},className:"px-2 py-1 bg-white text-hd-orange rounded text-[9px] font-black uppercase hover:bg-orange-50 transition-colors",children:"+ Texto"}),H.jsx("button",{onClick:()=>{const e=d.rowLayout||[{type:"columns"}];Q(d.sectionId,d.id,"rowLayout",[...e,{type:"separator"}])},className:"px-2 py-1 bg-white text-hd-orange rounded text-[9px] font-black uppercase hover:bg-orange-50 transition-colors",children:"+ Raya"})]})]}),H.jsx("div",{className:"space-y-2 p-1.5 border border-t-0 rounded-b-lg bg-gray-50 max-h-60 overflow-y-auto custom-scrollbar",children:(d.rowLayout||[{type:"columns"}]).map((e,t,r)=>H.jsxs("div",{className:"bg-white p-2 rounded border border-gray-100 flex flex-col gap-2 group/row shadow-sm",children:[H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsx("span",{className:"text-[8px] font-black px-1.5 py-0.5 rounded uppercase "+("columns"===e.type?"bg-hd-orange/10 text-hd-orange":"bg-gray-100 text-gray-500"),children:"columns"===e.type?"Columnas":"text"===e.type?"Texto":"Raya"}),H.jsxs("div",{className:"flex items-center gap-1 opacity-50 group-hover:opacity-100 transition-opacity",children:[t>0&&H.jsx("button",{onClick:()=>{const e=[...d.rowLayout||[]];[e[t],e[t-1]]=[e[t-1],e[t]],Q(d.sectionId,d.id,"rowLayout",e)},className:"text-gray-500 hover:text-hd-orange p-1 bg-gray-100 rounded",title:"Subir",children:H.jsx(Sr,{size:14})}),t<r.length-1&&H.jsx("button",{onClick:()=>{const e=[...d.rowLayout||[]];[e[t],e[t+1]]=[e[t+1],e[t]],Q(d.sectionId,d.id,"rowLayout",e)},className:"text-gray-500 hover:text-hd-orange p-1 bg-gray-100 rounded",title:"Bajar",children:H.jsx(wr,{size:14})}),"columns"!==e.type&&H.jsx("button",{onClick:()=>{const e=(d.rowLayout||[]).filter((e,r)=>r!==t);Q(d.sectionId,d.id,"rowLayout",e)},className:"text-red-400 hover:text-red-600 ml-1 p-1 bg-red-50 rounded",children:H.jsx(Ta,{size:14})})]})]}),"text"===e.type&&H.jsxs("div",{className:"flex items-center gap-1",children:[H.jsx(en,{value:e.text,className:"h-7 text-[10px] flex-1",placeholder:"Ej: SKU: {sku}",onChange:e=>{const r=[...d.rowLayout||[]];r[t].text=e.target.value,Q(d.sectionId,d.id,"rowLayout",r)}}),H.jsxs("select",{value:"",className:"h-7 w-8 text-center bg-gray-50 border rounded font-black text-hd-orange text-xs cursor-pointer",onChange:e=>{if(!e.target.value)return;const r=[...d.rowLayout||[]];r[t].text=(r[t].text||"")+` {${e.target.value}}`,Q(d.sectionId,d.id,"rowLayout",r)},children:[H.jsx("option",{value:"",children:"+"}),G.map(e=>H.jsx("option",{value:e.value,children:e.label},e.value))]})]}),"separator"===e.type&&H.jsx("div",{className:"h-px w-full border-t border-dashed border-gray-200"})]},t))})]})]}),H.jsx(Za,{variant:"outline",className:"w-full h-9 text-[10px] font-black uppercase tracking-widest border-2 hover:bg-gray-50",onClick:()=>u(null),children:"Cerrar Editor"})]}):H.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[H.jsxs("div",{children:[H.jsxs("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-3 tracking-widest flex items-center gap-2",children:[H.jsx("div",{className:"h-2 w-2 bg-hd-orange rounded-full"})," Ancho del Papel"]}),H.jsx("div",{className:"flex gap-2",children:["80mm","58mm"].map(e=>{var t;return H.jsxs("button",{onClick:()=>Z("paperWidth",e),className:"flex-1 p-3 border-2 rounded-xl flex flex-col items-center gap-1 transition-all "+((null==l||null===(t=l.config)||void 0===t?void 0:t.paperWidth)===e?"border-hd-orange bg-orange-50 text-hd-orange shadow-inner":"border-gray-100 text-gray-400 hover:border-gray-200"),children:[H.jsx("div",{className:"text-sm font-bold",children:e}),H.jsx("div",{className:"text-[8px] uppercase tracking-tighter",children:"80mm"===e?"Estndar":"Cintas"})]},e)})})]}),H.jsxs("div",{children:[H.jsxs("div",{className:"flex justify-between items-center mb-2",children:[H.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Mrgenes Laterales"}),H.jsxs("span",{className:"text-[10px] font-bold text-hd-orange",children:[(null==l||null===(r=l.config)||void 0===r?void 0:r.padding)||0,"px"]})]}),H.jsx("input",{type:"range",min:"0",max:"30",value:(null==l||null===(a=l.config)||void 0===a?void 0:a.padding)||0,className:"w-full accent-hd-orange",onChange:e=>Z("padding",parseInt(e.target.value))})]}),H.jsxs("div",{children:[H.jsxs("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-2 tracking-widest flex items-center gap-2",children:[H.jsx(fa,{className:"h-3 w-3 text-gray-400"})," Impresora Predeterminada"]}),H.jsxs("div",{className:"relative",children:[H.jsxs("select",{value:(null==l?void 0:l.printerName)||"",onChange:e=>{c(t=>({...t,printerName:e.target.value}))},className:"w-full h-10 text-xs font-bold border border-gray-200 rounded-lg px-3 bg-white focus:ring-2 focus:ring-hd-orange outline-none shadow-sm appearance-none",children:[H.jsx("option",{value:"",children:"-- Sin Impresora Asignada --"}),T.map(e=>H.jsx("option",{value:e,children:e},e))]}),H.jsx("div",{className:"absolute right-3 top-3 pointer-events-none",children:z?H.jsx(va,{className:"h-4 w-4 text-hd-orange animate-spin"}):H.jsx(wr,{className:"h-4 w-4 text-gray-400"})})]}),H.jsx("p",{className:"text-[8px] text-gray-400 mt-1.5 italic",children:"Esta impresora se usar automticamente al imprimir este recibo."})]}),H.jsxs("div",{className:"p-4 bg-orange-100/50 rounded-xl border border-orange-100 flex flex-col gap-2",children:[H.jsx(Yr,{className:"h-5 w-5 text-blue-400 shrink-0"}),H.jsx("p",{className:"text-[9px] text-blue-600 leading-tight",children:"Las vistas SQL te permiten traer datos externos (como estados de cuenta o turnos) a tu recibo."})]})]})]}):H.jsx("div",{className:"p-4 space-y-4 h-full flex flex-col",children:y?H.jsxs("div",{className:"space-y-4 animate-in slide-in-from-right duration-300 flex-1 flex flex-col",children:[H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs("button",{onClick:()=>w(""),className:"text-[10px] font-black text-hd-orange flex items-center gap-1 uppercase hover:underline tracking-tight",children:[H.jsx(ar,{className:"h-3 w-3"})," Lista de Vistas"]}),H.jsx("span",{className:"text-[9px] font-black text-gray-400 bg-gray-100 px-2 py-1 rounded uppercase tracking-tighter",children:y})]}),H.jsx("div",{className:"flex-1 overflow-y-auto border border-gray-200 rounded-xl bg-gray-50/50 shadow-inner custom-scrollbar",children:S?H.jsxs("div",{className:"p-12 text-center text-gray-400",children:[H.jsx(Zr,{className:"h-8 w-8 animate-spin mx-auto mb-2 text-hd-orange"}),H.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:"Leyendo SQL..."})]}):H.jsx("div",{className:"p-1 space-y-1",children:j.map(e=>{const t=e.Name||e.name||e.NAME;return H.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-white rounded-lg border border-transparent hover:border-hd-orange cursor-pointer transition-all shadow-sm",children:[H.jsx("input",{type:"checkbox",className:"rounded text-hd-orange focus:ring-hd-orange",checked:k.includes(t),onChange:e=>e.target.checked?C([...k,t]):C(k.filter(e=>e!==t))}),H.jsx("span",{className:"text-xs font-bold text-gray-600",children:t})]},t)})})}),H.jsxs("div",{className:"space-y-3 bg-white p-3 rounded-xl border border-gray-100 shadow-lg mt-auto",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-2 tracking-widest",children:"Vincular con (Parmetro)"}),H.jsxs("select",{value:I,onChange:e=>A(e.target.value),className:"w-full h-9 text-xs font-bold border rounded px-2 bg-white focus:ring-1 focus:ring-hd-orange outline-none",children:[H.jsx("option",{value:"receipt.NumeroRecibo",children:"NumeroRecibo (REC-XXXX)"}),H.jsx("option",{value:"receipt.NumeroFactura",children:"No. Factura (FACT-XXXX)"})]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase mb-2 tracking-widest",children:"Nombre del Nuevo Grupo"}),H.jsx(en,{value:L,onChange:e=>$(e.target.value),placeholder:"Ej: Historial Pagos",className:"h-9 text-xs font-bold focus:ring-hd-orange"})]}),H.jsx(Za,{onClick:()=>{if(!y||0===k.length)return;const e=`ext_${y.toLowerCase()}_${Date.now()}`,t=k.map((t,r)=>({id:`field_${e}_${r}`,type:"text",label:t,source:`ext.${t}`,fontSize:10,alignment:"left",marginBottom:2})),r={id:e,name:L,order:(l.config.sections.length>0?Math.max(...l.config.sections.map(e=>e.order)):0)+1,visible:!0,fields:t,viewBinding:{viewName:y,mappingField:I}},a={...l.config,sections:[...l.config.sections,r]};c({...l,config:a}),alert("Seccin agregada al final del recibo con los campos seleccionados."),f("properties")},disabled:0===k.length,className:"w-full bg-hd-orange text-white text-xs font-black h-10 shadow-md hover:shadow-lg hover:-translate-y-0.5 transition-all uppercase tracking-widest",children:"VINCULAR DATOS"})]})]}):H.jsxs("div",{className:"space-y-4 flex-1 flex flex-col overflow-hidden",children:[H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs("div",{className:"flex flex-col",children:[H.jsxs("h3",{className:"text-xs font-black text-gray-700 uppercase tracking-tight flex items-center gap-2",children:[H.jsx(Ar,{className:"h-4 w-4 text-hd-orange"})," Objetos de Datos SQL"]}),H.jsx("span",{className:"text-[9px] text-gray-400 font-bold uppercase tracking-tighter",children:sJ})]}),H.jsx("button",{onClick:q,disabled:S,className:"p-2 hover:bg-orange-50 rounded-full transition-colors text-hd-orange disabled:opacity-30",children:H.jsx(va,{className:"h-4 w-4 "+(S?"animate-spin":"")})})]}),H.jsxs("div",{className:"flex-1 overflow-y-auto border border-gray-100 rounded-xl bg-gray-50/50 custom-scrollbar",children:[S&&H.jsxs("div",{className:"p-12 text-center text-gray-400",children:[H.jsx(Zr,{className:"h-8 w-8 animate-spin mx-auto mb-3 text-hd-orange"}),H.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:"Conectando..."})]}),P&&H.jsxs("div",{className:"p-8 text-center bg-red-50 border border-red-100 rounded-lg m-2",children:[H.jsx(Ha,{className:"h-8 w-8 mx-auto mb-2 text-red-500 opacity-50"}),H.jsx("p",{className:"text-[10px] font-black text-red-600 uppercase mb-2",children:"Error de Conexin"}),H.jsx("p",{className:"text-[9px] text-red-500 italic mb-3",children:P}),H.jsx(Za,{size:"sm",variant:"outline",className:"h-7 text-[9px] border-red-200 text-red-600 hover:bg-red-50",onClick:q,children:"REINTENTAR"})]}),!S&&!P&&0===b.length&&H.jsxs("div",{className:"p-12 text-center",children:[H.jsx(Ar,{className:"h-12 w-12 mx-auto mb-3 text-gray-200"}),H.jsx("p",{className:"text-[10px] font-black uppercase text-gray-400 tracking-widest",children:"Sin datos disponibles"}),H.jsx("p",{className:"text-[9px] text-gray-400 italic mt-2",children:"No se encontraron Vistas o Tablas en el SQL del Backend."})]}),b.map((e,t)=>{const r=e.Name||e.name||e.NAME,a=e.Type||e.type||"View";return H.jsxs("button",{onClick:()=>{w(r),K(r)},className:"w-full text-left px-4 py-3 border-b border-gray-100 last:border-0 hover:bg-white flex justify-between items-center group transition-all hover:shadow-sm",children:[H.jsxs("div",{className:"flex flex-col",children:[H.jsx("span",{className:"font-bold text-xs text-gray-700",children:r}),H.jsx("span",{className:"text-[8px] text-orange-400 px-1 py-0.5 bg-orange-50 rounded uppercase font-black self-start mt-1 tracking-tighter",children:a})]}),H.jsx(Cr,{className:"h-4 w-4 text-gray-300 group-hover:text-hd-orange transition-transform group-hover:translate-x-1"})]},r||t)})]}),H.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-3 rounded-lg flex gap-3",children:[H.jsx(Yr,{className:"h-5 w-5 text-blue-400 shrink-0"}),H.jsx("p",{className:"text-[9px] text-blue-600 leading-tight",children:"Las vistas SQL te permiten traer datos externos (como estados de cuenta o turnos) a tu recibo."})]})]})})})]})]}),m&&H.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:H.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full max-h-[90vh] flex flex-col overflow-hidden animate-in zoom-in-95 duration-300",children:[H.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b flex items-center justify-between",children:[H.jsxs("h3",{className:"font-black text-gray-800 uppercase tracking-widest text-xs flex items-center gap-2",children:[H.jsx(Fr,{className:"h-4 w-4 text-hd-orange"})," Previsualizacin Real"]}),H.jsx("button",{onClick:()=>g(!1),className:"p-1.5 hover:bg-gray-200 rounded-full transition-colors",children:H.jsx(Ha,{className:"h-5 w-5 text-gray-400"})})]}),H.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-10 flex justify-center bg-gray-200 custom-scrollbar",children:H.jsx("div",{className:"bg-white shadow-2xl p-6 ring-1 ring-black/5 h-fit mb-10",style:{width:"58mm"===(null==l||null===(n=l.config)||void 0===n?void 0:n.paperWidth)?"220px":"302px",minHeight:"400px"},children:H.jsx(ti,{template:l,data:U})})}),H.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-t flex justify-end gap-3",children:[H.jsx(Za,{variant:"outline",className:"h-10 text-xs font-bold px-6",onClick:()=>g(!1),children:"Cerrar"}),H.jsxs(Za,{className:"bg-hd-orange text-white h-10 text-xs font-black uppercase tracking-widest px-6 shadow-md",onClick:()=>window.print(),children:[H.jsx(fa,{className:"h-5 w-5 mr-2"})," Imprimir"]})]})]})})]})]})},cJ=W.createContext(),dJ=({children:e})=>{const[t,r]=W.useState(localStorage.getItem("theme")||"soft-dark");W.useEffect(()=>{document.documentElement.classList.remove("theme-original","theme-homeDepot","theme-soft-dark","theme-light","theme-dark"),document.documentElement.classList.add(`theme-${t}`),"soft-dark"===t||"homeDepot"===t?document.documentElement.classList.add("theme-dark"):document.documentElement.classList.add("theme-light"),localStorage.setItem("theme",t)},[t]);const a="soft-dark"===t||"homeDepot"===t;return H.jsx(cJ.Provider,{value:{theme:t,toggleTheme:()=>{r(e=>"original"===e?"soft-dark":"original")},setTheme:r,isDarkMode:a},children:e})},uJ=()=>{const[e,t]=W.useState(""),[r,a]=W.useState(""),[n,o]=W.useState(!1),[i,s]=W.useState(!1),[l,c]=W.useState(""),{login:d}=Gt(),{isDarkMode:u}=(()=>{const e=K.useContext(cJ);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e})();return H.jsxs("div",{className:"min-h-screen bg-hd-black flex items-center justify-center p-4 relative overflow-hidden font-sans",children:[H.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-hd-orange/10 blur-[120px] rounded-full animate-pulse"}),H.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-hd-orange/5 blur-[120px] rounded-full"}),H.jsxs("div",{className:"w-full max-w-md bg-zinc-900/80 backdrop-blur-xl rounded-3xl border border-white/10 shadow-2xl p-8 relative z-10 animate-in fade-in zoom-in duration-500",children:[H.jsxs("div",{className:"flex flex-col items-center mb-10",children:[H.jsx("div",{className:"w-16 h-16 bg-hd-orange rounded-2xl flex items-center justify-center shadow-lg shadow-hd-orange/20 mb-6 group transition-transform hover:scale-110",children:H.jsx(Ca,{size:36,className:"text-white group-hover:animate-bounce"})}),H.jsx("h1",{className:"text-3xl font-black text-white italic uppercase tracking-tighter mb-2",children:"POS CRONO"}),H.jsxs("p",{className:"text-zinc-500 text-xs font-black uppercase tracking-[0.3em] flex items-center gap-2",children:[H.jsx(Jt,{size:12,className:"text-hd-orange"}),"Acceso de Seguridad"]})]}),H.jsxs("form",{onSubmit:async t=>{t.preventDefault(),s(!0),c("");try{const t=await fetch("http://localhost:5006/api/Auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:e,password:r})});if(t.ok){const e=await t.json();d(e)}else{const e=await t.json();c(e.message||"Credenciales invlidas (401)")}}catch(a){c("Error de conexin con el servidor")}finally{s(!1)}},className:"space-y-6",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-[10px] font-black text-zinc-500 uppercase tracking-widest mb-2 ml-1 italic",children:"Nombre de Usuario"}),H.jsxs("div",{className:"relative group",children:[H.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-zinc-500 group-focus-within:text-hd-orange transition-colors",children:H.jsx(Ua,{size:18})}),H.jsx("input",{type:"text",required:!0,value:e,onChange:e=>t(e.target.value),className:"w-full bg-zinc-800/50 border border-white/5 rounded-xl py-4 pl-12 pr-4 text-white focus:outline-none focus:ring-2 focus:ring-hd-orange/50 focus:border-hd-orange transition-all font-medium placeholder:text-zinc-700",placeholder:"Ingresa tu usuario"})]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-[10px] font-black text-zinc-500 uppercase tracking-widest mb-2 ml-1 italic",children:"Contrasea"}),H.jsxs("div",{className:"relative group",children:[H.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-zinc-500 group-focus-within:text-hd-orange transition-colors",children:H.jsx(ea,{size:18})}),H.jsx("input",{type:n?"text":"password",required:!0,value:r,onChange:e=>a(e.target.value),className:"w-full bg-zinc-800/50 border border-white/5 rounded-xl py-4 pl-12 pr-12 text-white focus:outline-none focus:ring-2 focus:ring-hd-orange/50 focus:border-hd-orange transition-all font-medium placeholder:text-zinc-700",placeholder:""}),H.jsx("button",{type:"button",onClick:()=>o(!n),className:"absolute inset-y-0 right-0 pr-4 flex items-center text-zinc-500 hover:text-white transition-colors",children:n?H.jsx(Tr,{size:18}):H.jsx(Fr,{size:18})})]})]}),l&&H.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-500 text-[10px] font-black uppercase tracking-wider p-4 rounded-xl flex items-center gap-2 animate-in slide-in-from-top-2",children:[H.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full animate-ping"}),l]}),H.jsx(Za,{type:"submit",disabled:i,className:"w-full bg-hd-orange hover:bg-orange-600 text-white font-black uppercase tracking-widest py-6 rounded-xl shadow-lg shadow-hd-orange/20 transition-all active:scale-95 flex items-center justify-center gap-2 italic",children:i?H.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):H.jsxs(H.Fragment,{children:["Confirmar Acceso ",H.jsx(ea,{size:16})]})})]}),H.jsx("div",{className:"mt-10 pt-8 border-t border-white/5 text-center px-4",children:H.jsx("p",{className:"text-[9px] text-zinc-600 font-black uppercase tracking-[0.2em] leading-relaxed italic",children:"El acceso al sistema est monitoreado. Cualquier intento no autorizado ser registrado en los registros de auditora."})})]})]})},pJ=()=>{const{user:e}=Gt(),[t,r]=W.useState([]),[a,n]=W.useState(null),[o,i]=W.useState([]),[s,l]=W.useState([]),[c,d]=W.useState(""),[u,p]=W.useState(!1),[h,m]=W.useState(!1),[g,x]=W.useState({type:"",text:""});W.useEffect(()=>{f(),b()},[]),W.useEffect(()=>{a&&v(a.id)},[a]);const f=async()=>{try{const t=await fetch("http://localhost:5006/api/SecurityEditor/groups",{headers:{Authorization:`Bearer ${e.token}`}}),o=await t.json();r(o),o.length>0&&!a&&n(o[0])}catch(t){console.error("Error fetching groups",t)}},b=async()=>{try{const t=await fetch("http://localhost:5006/api/SecurityEditor/permissions-catalog",{headers:{Authorization:`Bearer ${e.token}`}}),r=await t.json();i(r)}catch(t){console.error("Error fetching catalog",t)}},v=async t=>{p(!0);try{const r=await fetch(`http://localhost:5006/api/SecurityEditor/group-permissions/${t}`,{headers:{Authorization:`Bearer ${e.token}`}}),a=await r.json();l(a)}catch(r){console.error("Error fetching group permissions",r)}finally{p(!1)}},y=e=>{l(t=>t.map(t=>t.securityObjectId===e?{...t,uiBehavior:0===t.uiBehavior?1:0}:t))},w=o.filter(e=>e.name.toLowerCase().includes(c.toLowerCase())||e.code.toLowerCase().includes(c.toLowerCase())||e.category.toLowerCase().includes(c.toLowerCase())),j=Array.from(new Set(w.map(e=>e.category)));return H.jsxs("div",{className:"p-8 bg-[var(--bg-main)] min-h-screen text-[var(--text-main)] transition-colors duration-500 font-sans",children:[H.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-6 border-b border-[var(--border-color)] pb-6",children:[H.jsxs("div",{children:[H.jsxs("h1",{className:"text-3xl md:text-4xl font-extrabold tracking-tight flex items-center gap-3 text-[var(--text-main)]",children:[H.jsx("div",{className:"p-2.5 bg-hd-orange/10 rounded-xl",children:H.jsx(Sa,{size:28,className:"text-hd-orange"})}),"Editor de Seguridad"]}),H.jsxs("p",{className:"text-[var(--text-muted)] text-sm font-medium mt-1 ml-1 pl-14 flex items-center gap-2 opacity-80",children:[H.jsx(Jt,{size:14,className:"text-hd-orange"}),"Control de acceso basado en roles (RBAC)"]})]}),H.jsxs("div",{className:"flex items-center gap-4 self-end md:self-auto",children:[g.text&&H.jsxs("div",{className:"px-4 py-2.5 rounded-xl text-xs font-bold uppercase tracking-widest flex items-center gap-2 animate-in slide-in-from-right duration-300 shadow-sm "+("success"===g.type?"bg-emerald-500/10 text-emerald-600 border border-emerald-500/20":"bg-red-500/10 text-red-600 border border-red-500/20"),children:["success"===g.type?H.jsx(br,{size:16}):H.jsx(Xt,{size:16}),g.text]}),H.jsxs(Za,{onClick:async()=>{m(!0),x({type:"",text:""});try{const t=await fetch("http://localhost:5006/api/SecurityEditor/group-permissions/bulk-update",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify(s.map(e=>({...e,roleId:a.id})))});t.ok?(x({type:"success",text:"Configuracin guardada correctamente"}),setTimeout(()=>x({type:"",text:""}),3e3)):x({type:"error",text:"Error al guardar los cambios"})}catch(t){x({type:"error",text:"Error de conexin"})}finally{m(!1)}},disabled:h||!a,className:"bg-hd-orange hover:bg-orange-600 text-white font-bold px-6 py-3 rounded-xl flex items-center gap-2 shadow-lg shadow-hd-orange/20 transition-all hover:scale-[1.02] active:scale-95 disabled:opacity-50 disabled:pointer-events-none",children:[h?H.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):H.jsx(wa,{size:18}),H.jsx("span",{className:"hidden sm:inline",children:"Guardar Cambios"})]})]})]}),H.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[H.jsxs("div",{className:"lg:col-span-3 lg:col-start-1 bg-[var(--bg-card)] rounded-3xl border border-[var(--border-color)] p-6 flex flex-col shadow-sm h-[calc(100vh-250px)] sticky top-6",children:[H.jsxs("div",{className:"flex items-center justify-between mb-6",children:[H.jsx("h2",{className:"text-xs font-bold uppercase tracking-widest text-[var(--text-muted)]",children:"Roles de Sistema"}),H.jsx("div",{className:"p-1.5 bg-[var(--bg-main)] rounded-lg text-hd-orange",children:H.jsx(Ba,{size:16})})]}),H.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-1 custom-scrollbar",children:t.map(e=>H.jsxs("button",{onClick:()=>n(e),className:"w-full text-left p-4 rounded-2xl transition-all border flex items-center justify-between group relative overflow-hidden "+((null==a?void 0:a.id)===e.id?"bg-hd-orange border-hd-orange shadow-lg shadow-hd-orange/20 text-white":"bg-[var(--bg-main)] border-[var(--border-color)] text-[var(--text-muted)] hover:bg-[var(--bg-main)]/80 hover:border-hd-orange/30 hover:text-[var(--text-main)]"),children:[H.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[H.jsx("div",{className:`p-2 rounded-xl ${(null==a?void 0:a.id)===e.id?"bg-white/20":"bg-[var(--bg-card)] shadow-sm"} transition-colors`,children:H.jsx(ea,{size:16})}),H.jsxs("div",{className:"flex flex-col",children:[H.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:e.name}),H.jsx("span",{className:`text-[10px] ${(null==a?void 0:a.id)===e.id?"text-white/80":"text-[var(--text-muted)]"} font-medium mt-0.5 truncate max-w-[120px]`,children:e.description||"Sin descripcin"})]})]}),(null==a?void 0:a.id)===e.id&&H.jsx(Cr,{size:16,className:"text-white/80"})]},e.id))})]}),H.jsxs("div",{className:"lg:col-span-9 bg-[var(--bg-card)] rounded-3xl border border-[var(--border-color)] p-8 flex flex-col shadow-sm h-[calc(100vh-250px)]",children:[H.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 mb-8",children:[H.jsxs("div",{className:"relative flex-1 group w-full",children:[H.jsx("div",{className:"absolute inset-0 bg-hd-orange/5 rounded-2xl blur-lg opacity-0 group-focus-within:opacity-100 transition-opacity duration-500"}),H.jsx(ja,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-[var(--text-muted)] group-focus-within:text-hd-orange transition-colors",size:20}),H.jsx("input",{type:"text",placeholder:"Buscar permiso, cdigo o categora...",value:c,onChange:e=>d(e.target.value),className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-2xl py-4 pl-14 pr-6 text-[var(--text-main)] placeholder-[var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-hd-orange/20 focus:border-hd-orange/50 transition-all shadow-sm relative z-10"})]}),H.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-[var(--bg-main)] rounded-xl border border-[var(--border-color)]",children:[H.jsx("span",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Permisos:"}),H.jsx("span",{className:"text-lg font-bold text-hd-orange",children:w.length})]})]}),H.jsx("div",{className:"flex-1 overflow-y-auto pr-4 custom-scrollbar space-y-10",children:j.map(e=>H.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[H.jsxs("div",{className:"flex items-center gap-4 mb-5",children:[H.jsxs("h3",{className:"text-sm font-bold uppercase tracking-widest text-hd-orange flex items-center gap-2",children:[H.jsx("div",{className:"w-2 h-2 rounded-full bg-hd-orange"}),e]}),H.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-[var(--border-color)] to-transparent"})]}),H.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-2 gap-4",children:w.filter(t=>t.category===e).map(e=>{var t;const r=s.find(t=>t.securityObjectId===e.id),n=(null==r?void 0:r.isAllowed)||!1,o=null!==(t=null==r?void 0:r.uiBehavior)&&void 0!==t?t:1;return H.jsxs("div",{className:"group p-5 rounded-2xl border transition-all duration-300 relative overflow-hidden "+(n?"bg-gradient-to-br from-[var(--bg-main)] to-[var(--bg-card)] border-hd-orange/30 shadow-md shadow-hd-orange/5":"bg-[var(--bg-main)] border-[var(--border-color)] opacity-70 hover:opacity-100 hover:border-[var(--border-color)]/80"),children:[H.jsx("div",{className:"flex justify-between items-start mb-4",children:H.jsxs("div",{className:"flex items-start gap-4",children:[H.jsx("button",{onClick:()=>{return t=e.id,void l(e=>{const r=e.find(e=>e.securityObjectId===t);return r?e.map(e=>e.securityObjectId===t?{...e,isAllowed:!e.isAllowed}:e):[...e,{roleId:a.id,securityObjectId:t,isAllowed:!0,uiBehavior:1}]});var t},className:"mt-1 min-w-[24px] h-6 rounded-lg border-2 flex items-center justify-center transition-all duration-200 "+(n?"bg-hd-orange border-hd-orange text-white shadow-sm scale-110":"border-[var(--text-muted)]/30 text-transparent hover:border-hd-orange/50"),children:H.jsx(yr,{size:16,strokeWidth:4})}),H.jsxs("div",{children:[H.jsx("h4",{className:"text-sm font-bold leading-tight "+(n?"text-[var(--text-main)]":"text-[var(--text-muted)]"),children:e.name}),H.jsx("span",{className:"inline-block mt-1.5 px-2 py-0.5 rounded text-[9px] font-mono font-bold bg-[var(--bg-card)] border border-[var(--border-color)] text-[var(--text-muted)] uppercase",children:e.code})]})]})}),H.jsx("p",{className:"text-xs text-[var(--text-muted)] leading-relaxed pl-10 mb-4 opacity-80",children:e.description}),H.jsxs("div",{className:"pl-10 flex items-center gap-2 transition-all duration-300 "+(n?"opacity-100 translate-y-0":"opacity-0 -translate-y-2 pointer-events-none"),children:[H.jsx("span",{className:"text-[9px] font-bold text-[var(--text-muted)] uppercase tracking-wider mr-2",children:"Si denegado:"}),H.jsx("button",{onClick:()=>n&&y(e.id),disabled:!n,className:"px-3 py-1.5 rounded-lg text-[10px] font-bold uppercase tracking-wider transition-all border "+(0===o?"bg-zinc-800 text-white border-zinc-900":"bg-transparent text-[var(--text-muted)] border-transparent hover:bg-[var(--bg-card)]"),title:"El elemento desaparece de la UI",children:H.jsxs("div",{className:"flex items-center gap-1.5",children:[H.jsx(Tr,{size:12})," Ocultar"]})}),H.jsx("button",{onClick:()=>n&&y(e.id),disabled:!n,className:"px-3 py-1.5 rounded-lg text-[10px] font-bold uppercase tracking-wider transition-all border "+(1===o?"bg-zinc-200 dark:bg-zinc-700 text-zinc-900 dark:text-gray-100 border-zinc-300 dark:border-zinc-600":"bg-transparent text-[var(--text-muted)] border-transparent hover:bg-[var(--bg-card)]"),title:"El elemento se ve pero no se puede usar",children:H.jsxs("div",{className:"flex items-center gap-1.5",children:[H.jsx(Oa,{size:12})," Inactivar"]})})]})]},e.id)})})]},e))})]})]})]})},hJ=()=>{const{user:e}=Gt(),[t,r]=W.useState([]),[a,n]=W.useState([]),[o,i]=W.useState(""),[s,l]=W.useState(!0),[c,d]=W.useState({type:"",text:""}),[u,p]=W.useState(!1),[h,m]=W.useState(!1),[g,x]=W.useState(!1),[f,b]=W.useState(null),[v,y]=W.useState({userName:"",fullName:"",email:"",password:"",role:"CAJEROS",isActive:!0}),[w,j]=W.useState("");W.useEffect(()=>{N()},[]);const N=async()=>{l(!0);try{const[t,a]=await Promise.all([fetch("http://localhost:5006/api/SecurityEditor/users",{headers:{Authorization:`Bearer ${e.token}`}}),fetch("http://localhost:5006/api/SecurityEditor/groups",{headers:{Authorization:`Bearer ${e.token}`}})]);if(t.ok&&a.ok){const e=await t.json(),o=await a.json();r(e),n(o)}}catch(t){console.error("Error fetching data",t),d({type:"error",text:"Error al conectar con el servidor"})}finally{l(!1)}},k=(e=null)=>{e?(b(e),y({userName:e.userName,fullName:e.fullName||"",email:e.email||"",password:"",role:"CAJEROS",isActive:e.isActive})):(b(null),y({userName:"",fullName:"",email:"",password:"",role:"CAJEROS",isActive:!0})),p(!0)},C=t.filter(e=>e.userName.toLowerCase().includes(o.toLowerCase())||e.fullName&&e.fullName.toLowerCase().includes(o.toLowerCase()));return H.jsxs("div",{className:"p-8 bg-[var(--bg-main)] min-h-screen text-[var(--text-main)] transition-colors duration-500 font-sans",children:[H.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-6",children:[H.jsxs("div",{children:[H.jsxs("h1",{className:"text-3xl md:text-4xl font-extrabold tracking-tight flex items-center gap-3 text-[var(--text-main)]",children:[H.jsx("div",{className:"p-2.5 bg-hd-orange/10 rounded-xl",children:H.jsx(Ba,{size:28,className:"text-hd-orange"})}),"Directorio de Usuarios"]}),H.jsx("p",{className:"text-[var(--text-muted)] text-sm font-medium mt-1 ml-1 pl-14 flex items-center gap-2 opacity-80",children:"Gestin de accesos y seguridad"})]}),H.jsxs("div",{className:"flex items-center gap-3 self-end md:self-auto",children:[H.jsx(Za,{onClick:N,className:"p-3 rounded-xl border border-[var(--border-color)] text-[var(--text-muted)] hover:text-[var(--text-main)] hover:bg-[var(--bg-card)] transition-all",title:"Recargar datos",children:H.jsx(va,{size:20,className:s?"animate-spin":""})}),H.jsxs(Za,{onClick:()=>k(),className:"bg-hd-orange hover:bg-orange-600 text-white font-bold px-6 py-3 rounded-xl flex items-center gap-2 shadow-lg shadow-hd-orange/20 transition-all hover:scale-[1.02] active:scale-95",children:[H.jsx($a,{size:18}),H.jsx("span",{className:"hidden sm:inline",children:"Nuevo Usuario"})]})]})]}),c.text&&H.jsxs("div",{className:"mb-8 p-4 rounded-xl flex items-center gap-3 border animate-in slide-in-from-top-2 duration-300 "+("error"===c.type?"bg-red-500/10 border-red-500/20 text-red-600":"bg-emerald-500/10 border-emerald-500/20 text-emerald-600"),children:["error"===c.type?H.jsx(qa,{size:20}):H.jsx(br,{size:20}),H.jsx("span",{className:"font-semibold text-sm",children:c.text}),H.jsx("button",{onClick:()=>d({type:"",text:""}),className:"ml-auto hover:bg-black/5 p-1 rounded-full transition-colors",children:H.jsx(qa,{size:16,className:"opacity-50"})})]}),H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6 mb-8",children:[H.jsx("div",{className:"col-span-12 md:col-span-7 lg:col-span-8",children:H.jsxs("div",{className:"relative group",children:[H.jsx("div",{className:"absolute inset-0 bg-hd-orange/5 rounded-2xl blur-lg opacity-0 group-focus-within:opacity-100 transition-opacity duration-500"}),H.jsx(ja,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-[var(--text-muted)] group-focus-within:text-hd-orange transition-colors",size:20}),H.jsx("input",{type:"text",placeholder:"Buscar usuario...",value:o,onChange:e=>i(e.target.value),className:"w-full bg-[var(--bg-card)] border border-[var(--border-color)] rounded-2xl py-4 pl-14 pr-6 text-[var(--text-main)] placeholder-[var(--text-muted)] focus:outline-none focus:ring-2 focus:ring-hd-orange/20 focus:border-hd-orange/50 transition-all shadow-sm relative z-10"})]})}),H.jsxs("div",{className:"col-span-12 md:col-span-5 lg:col-span-4 flex gap-4",children:[H.jsxs("div",{className:"flex-1 bg-[var(--bg-card)] border border-[var(--border-color)] rounded-2xl p-4 flex flex-col items-center justify-center shadow-sm hover:border-hd-orange/30 transition-colors",children:[H.jsx("span",{className:"text-2xl font-bold text-[var(--text-main)] w-full text-center truncate",children:t.length}),H.jsx("span",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-widest mt-1",children:"Registrados"})]}),H.jsxs("div",{className:"flex-1 bg-[var(--bg-card)] border border-[var(--border-color)] rounded-2xl p-4 flex flex-col items-center justify-center shadow-sm hover:border-emerald-500/30 transition-colors",children:[H.jsx("span",{className:"text-2xl font-bold text-emerald-500 w-full text-center truncate",children:t.filter(e=>e.isActive).length}),H.jsx("span",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-widest mt-1",children:"Activos"})]})]})]}),H.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:s?Array(6).fill(0).map((e,t)=>H.jsx("div",{className:"h-64 bg-[var(--bg-card)] rounded-2xl border border-[var(--border-color)] animate-pulse"},t)):C.map(e=>H.jsxs("div",{className:"bg-[var(--bg-card)] hover:shadow-xl hover:shadow-black/5 border border-[var(--border-color)] rounded-2xl p-6 transition-all duration-300 group relative flex flex-col",children:[H.jsxs("div",{className:"flex justify-between items-start mb-6",children:[H.jsxs("div",{className:"flex items-center gap-4",children:[H.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-hd-orange/10 to-transparent rounded-2xl flex items-center justify-center text-hd-orange font-bold text-xl shadow-inner border border-hd-orange/5 group-hover:scale-110 transition-transform duration-300",children:e.userName.charAt(0).toUpperCase()}),H.jsxs("div",{children:[H.jsx("h3",{className:"font-bold text-lg text-[var(--text-main)] leading-tight truncate max-w-[140px]",children:e.fullName||e.userName}),H.jsxs("p",{className:"text-xs text-[var(--text-muted)] font-mono mt-1 opacity-75",children:["@",e.userName]})]})]}),H.jsxs("div",{className:"px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider border flex items-center gap-1.5 "+(e.isActive?"bg-emerald-500/5 text-emerald-600 border-emerald-500/20":"bg-red-500/5 text-red-600 border-red-500/20"),children:[H.jsx("div",{className:"w-1.5 h-1.5 rounded-full "+(e.isActive?"bg-emerald-500 animate-pulse":"bg-red-500")}),e.isActive?"Activo":"Inactivo"]})]}),H.jsxs("div",{className:"space-y-3 mb-6 bg-[var(--bg-main)]/50 p-4 rounded-xl border border-[var(--border-color)]/50",children:[H.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-muted)]",children:[H.jsx(Sa,{size:14,className:"text-hd-orange opacity-70"}),H.jsx("span",{className:"font-semibold uppercase tracking-wide",children:"Acceso Total"})]}),H.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-muted)]",children:[H.jsx(ra,{size:14,className:"text-hd-orange opacity-70"}),H.jsx("span",{className:"truncate",children:e.email||"Sin correo asociado"})]})]}),H.jsxs("div",{className:"flex items-center gap-3 pt-2 mt-auto",children:[H.jsxs("button",{onClick:()=>k(e),className:"flex-1 py-2.5 rounded-xl bg-[var(--bg-main)] hover:bg-hd-orange hover:text-white text-[var(--text-main)] font-semibold text-xs uppercase tracking-wider transition-all border border-[var(--border-color)] hover:border-hd-orange hover:shadow-md flex items-center justify-center gap-2 group/btn",children:[H.jsx(pa,{size:14,className:"group-hover/btn:-translate-y-0.5 transition-transform"}),"Editar"]}),H.jsx("button",{onClick:()=>{b(e),m(!0)},className:"w-10 h-10 flex items-center justify-center rounded-xl bg-[var(--bg-main)] hover:bg-[var(--text-main)] hover:text-[var(--bg-main)] text-[var(--text-muted)] transition-colors border border-[var(--border-color)] group/key",title:"Cambiar Contrasea",children:H.jsx(Jr,{size:16,className:"group-hover/key:rotate-12 transition-transform"})})]})]},e.id))}),u&&H.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-in fade-in duration-200",children:H.jsxs("div",{className:"bg-[var(--bg-card)] w-full max-w-lg rounded-3xl shadow-2xl border border-[var(--border-color)] overflow-hidden animate-in zoom-in-95 duration-200 flex flex-col max-h-[90vh]",children:[H.jsxs("div",{className:"p-6 border-b border-[var(--border-color)] flex justify-between items-center bg-[var(--bg-main)]/50",children:[H.jsxs("div",{children:[H.jsx("h2",{className:"text-xl font-bold text-[var(--text-main)]",children:f?"Editar Perfil":"Nuevo Usuario"}),H.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-1",children:"Informacin de cuenta y permisos"})]}),H.jsx("button",{onClick:()=>p(!1),className:"text-[var(--text-muted)] hover:text-[var(--text-main)] hover:bg-[var(--bg-main)] p-2 rounded-full transition-all",children:H.jsx(qa,{size:24})})]}),H.jsx("div",{className:"overflow-y-auto p-6 md:p-8",children:H.jsxs("form",{id:"userForm",onSubmit:async t=>{t.preventDefault(),x(!0);try{const t=f?`http://localhost:5006/api/SecurityEditor/users/${f.id}`:"http://localhost:5006/api/SecurityEditor/users",r=f?"PUT":"POST",a=await fetch(t,{method:r,headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify(v)});if(a.ok)d({type:"success",text:`Usuario ${f?"actualizado":"creado"} correctamente`}),p(!1),N();else{const e=await a.json();d({type:"error",text:Array.isArray(e)?e[0].description:"Error al guardar usuario"})}}catch(r){d({type:"error",text:"Error de conexin"})}finally{x(!1)}},className:"space-y-5",children:[!f&&H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider ml-1",children:"Username (ID)"}),H.jsx("input",{required:!0,type:"text",value:v.userName,onChange:e=>y({...v,userName:e.target.value}),className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-xl py-3 px-4 text-[var(--text-main)] focus:ring-2 focus:ring-hd-orange/20 focus:border-hd-orange outline-none transition-all font-medium",placeholder:"ej. jperez"})]}),H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider ml-1",children:"Nombre Completo"}),H.jsx("input",{required:!0,type:"text",value:v.fullName,onChange:e=>y({...v,fullName:e.target.value}),className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-xl py-3 px-4 text-[var(--text-main)] focus:ring-2 focus:ring-hd-orange/20 focus:border-hd-orange outline-none transition-all",placeholder:"Nombre y Apellido"})]}),H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider ml-1",children:"Email"}),H.jsx("input",{type:"email",value:v.email,onChange:e=>y({...v,email:e.target.value}),className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-xl py-3 px-4 text-[var(--text-main)] focus:ring-2 focus:ring-hd-orange/20 focus:border-hd-orange outline-none transition-all",placeholder:"correo@ejemplo.com"})]}),!f&&H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider ml-1",children:"Contrasea"}),H.jsx("input",{required:!0,type:"password",value:v.password,onChange:e=>y({...v,password:e.target.value}),className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-xl py-3 px-4 text-[var(--text-main)] focus:ring-2 focus:ring-hd-orange/20 focus:border-hd-orange outline-none transition-all",placeholder:""})]}),H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider ml-1",children:"Rol / Permisos"}),H.jsxs("div",{className:"relative",children:[H.jsx("select",{value:v.role,onChange:e=>y({...v,role:e.target.value}),className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-xl py-3 px-4 text-[var(--text-main)] focus:ring-2 focus:ring-hd-orange/20 focus:border-hd-orange outline-none transition-all appearance-none cursor-pointer",children:a.map(e=>H.jsx("option",{value:e.name,children:e.name},e.id))}),H.jsx(Cr,{size:18,className:"absolute right-4 top-1/2 -translate-y-1/2 text-[var(--text-muted)] rotate-90 pointer-events-none"})]})]}),f&&H.jsxs("div",{className:"flex items-center gap-3 p-4 bg-[var(--bg-main)] rounded-xl border border-[var(--border-color)] cursor-pointer hover:border-hd-orange/30 transition-colors",onClick:()=>y({...v,isActive:!v.isActive}),children:[H.jsx("div",{className:"w-10 h-6 rounded-full p-1 transition-colors "+(v.isActive?"bg-hd-orange":"bg-gray-300 dark:bg-zinc-700"),children:H.jsx("div",{className:"w-4 h-4 rounded-full bg-white shadow-sm transition-transform "+(v.isActive?"translate-x-4":"translate-x-0")})}),H.jsx("label",{className:"text-sm font-semibold text-[var(--text-main)] cursor-pointer select-none flex-1",children:"Habilitar Acceso"})]})]})}),H.jsxs("div",{className:"p-6 border-t border-[var(--border-color)] bg-[var(--bg-main)]/30 flex gap-4",children:[H.jsx(Za,{type:"button",onClick:()=>p(!1),className:"flex-1 bg-transparent hover:bg-[var(--bg-main)] text-[var(--text-muted)] border border-[var(--border-color)] font-bold py-3.5 rounded-xl transition-all",children:"Cancelar"}),H.jsx(Za,{type:"submit",form:"userForm",disabled:g,className:"flex-1 bg-hd-orange hover:bg-orange-600 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-hd-orange/20 transition-all flex items-center justify-center gap-2",children:g?H.jsx("div",{className:"w-5 h-5 border-2 border-white/20 border-t-white rounded-full animate-spin"}):"Guardar"})]})]})}),h&&H.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:H.jsxs("div",{className:"bg-[var(--bg-card)] w-full max-w-md rounded-3xl shadow-2xl border border-[var(--border-color)] overflow-hidden animate-in zoom-in-95 duration-200",children:[H.jsxs("div",{className:"p-6 border-b border-[var(--border-color)] bg-[var(--bg-main)]",children:[H.jsx("h2",{className:"text-xl font-bold text-[var(--text-main)]",children:"Reestablecer Acceso"}),H.jsxs("p",{className:"text-xs text-[var(--text-muted)] mt-1",children:["Usuario: ",H.jsx("span",{className:"font-mono text-hd-orange font-bold uppercase",children:null==f?void 0:f.userName})]})]}),H.jsxs("div",{className:"p-8 space-y-6",children:[H.jsxs("div",{className:"space-y-2",children:[H.jsx("label",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider ml-1",children:"Nueva Contrasea"}),H.jsx("input",{type:"password",value:w,onChange:e=>j(e.target.value),className:"w-full bg-[var(--bg-main)] border border-[var(--border-color)] rounded-xl py-3 px-4 text-[var(--text-main)] focus:ring-2 focus:ring-hd-orange/20 focus:border-hd-orange outline-none transition-all",placeholder:"",autoFocus:!0})]}),H.jsxs("div",{className:"flex gap-4 pt-2",children:[H.jsx(Za,{onClick:()=>m(!1),className:"flex-1 bg-transparent hover:bg-[var(--bg-main)] text-[var(--text-muted)] border border-[var(--border-color)] font-bold py-3 rounded-xl",children:"Cancelar"}),H.jsx(Za,{onClick:async()=>{if(w){x(!0);try{(await fetch(`http://localhost:5006/api/SecurityEditor/users/${f.id}/reset-password`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify({newPassword:w})})).ok?(d({type:"success",text:"Contrasea actualizada"}),m(!1),j("")):d({type:"error",text:"Error al resetear contrasea"})}catch(t){d({type:"error",text:"Error de conexin"})}finally{x(!1)}}},disabled:g,className:"flex-1 bg-hd-orange hover:bg-orange-600 text-white font-bold py-3 rounded-xl shadow-md",children:g?"...":"Actualizar"})]})]})]})})]})},mJ=()=>{const e=it(),[t,r]=W.useState([]),[a,n]=W.useState(!0);W.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const e=await(async()=>{const e=await fetch(`${Yo}${Xo}`);if(!e.ok)throw new Error("Failed to fetch promotions");return e.json()})();r(e)}catch(e){console.error("Failed to load promotions",e)}finally{n(!1)}};return H.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto pb-20 p-6",children:[H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs("div",{children:[H.jsx("h1",{className:"text-3xl font-black text-gray-900 tracking-tight",children:"Promociones y Ofertas"}),H.jsx("p",{className:"text-gray-500 mt-1",children:"Gestiona descuentos, cupones y reglas automticas."})]}),H.jsxs(Za,{onClick:()=>e("/marketing/promociones/nuevo"),className:"bg-hd-orange hover:bg-orange-600 font-bold",children:[H.jsx(xa,{className:"mr-2 h-5 w-5"})," Nueva Promocin"]})]}),H.jsx(ln,{className:"border-0 shadow-lg overflow-hidden",children:H.jsx("div",{className:"overflow-x-auto",children:H.jsxs("table",{className:"w-full",children:[H.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:H.jsxs("tr",{children:[H.jsx("th",{className:"text-left py-4 px-6 font-bold text-gray-600",children:"Nombre"}),H.jsx("th",{className:"text-left py-4 px-6 font-bold text-gray-600",children:"Tipo"}),H.jsx("th",{className:"text-left py-4 px-6 font-bold text-gray-600",children:"Vigencia"}),H.jsx("th",{className:"text-center py-4 px-6 font-bold text-gray-600",children:"Estado"}),H.jsx("th",{className:"text-right py-4 px-6 font-bold text-gray-600",children:"Acciones"})]})}),H.jsx("tbody",{className:"divide-y divide-gray-50",children:t.map(t=>H.jsxs("tr",{className:"hover:bg-orange-50/30 transition-colors group",children:[H.jsx("td",{className:"py-4 px-6",children:H.jsxs("div",{className:"flex items-center gap-3",children:[H.jsx("div",{className:"bg-orange-100 p-2 rounded-lg text-hd-orange",children:H.jsx(Ia,{size:20})}),H.jsxs("div",{children:[H.jsx("p",{className:"font-bold text-gray-800",children:t.name}),H.jsxs("p",{className:"text-xs text-gray-400",children:["ID: ",t.id]})]})]})}),H.jsx("td",{className:"py-4 px-6 text-sm",children:H.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded border border-gray-200 font-medium",children:t.type})}),H.jsx("td",{className:"py-4 px-6 text-sm text-gray-500",children:H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx(fr,{size:14}),t.startDate]})}),H.jsx("td",{className:"py-4 px-6 text-center",children:H.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+(t.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:t.isActive?"Activa":"Inactiva"})}),H.jsx("td",{className:"py-4 px-6 text-right",children:H.jsx(Za,{variant:"ghost",size:"sm",onClick:()=>e(`/marketing/promociones/editar/${t.id}`),children:H.jsx(ua,{className:"h-4 w-4 text-gray-400 group-hover:text-hd-orange"})})})]},t.id))})]})})})]})},gJ=({isOpen:e,onClose:t,onSelect:r})=>{const[a,n]=W.useState(""),[o,i]=W.useState([]),[s,l]=W.useState(!1);W.useEffect(()=>{e&&(c(),n(""))},[e]);const c=async()=>{try{l(!0);const e=await Zn();i(e)}catch(e){console.error("Error loading categories:",e)}finally{l(!1)}},d=W.useMemo(()=>{const e=a.toLowerCase();return e?o.filter(t=>t.nombre.toLowerCase().includes(e)||t.descripcion&&t.descripcion.toLowerCase().includes(e)):o},[o,a]);return H.jsx(Rn,{open:e,onOpenChange:t,children:H.jsxs(_n,{className:"max-w-md p-0 overflow-hidden border-0 shadow-2xl bg-white rounded-xl h-[60vh] flex flex-col",children:[H.jsxs("div",{className:"bg-white border-b border-gray-100 p-4 flex flex-col gap-3 shrink-0",children:[H.jsxs("div",{className:"flex justify-between items-center",children:[H.jsxs("h2",{className:"text-lg font-semibold text-gray-800 tracking-tight flex items-center gap-2",children:[H.jsx(Yr,{className:"h-5 w-5 text-hd-orange"}),"Seleccionar Categora"]}),H.jsx(Za,{variant:"ghost",size:"icon",onClick:t,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full h-8 w-8",children:H.jsx(Ha,{size:20})})]}),H.jsxs("div",{className:"relative",children:[H.jsx(ja,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),H.jsx(en,{className:"w-full pl-9 h-9 bg-gray-50 border-gray-200 focus:bg-white transition-colors",placeholder:"Buscar categora...",value:a,onChange:e=>n(e.target.value),autoFocus:!0})]})]}),H.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-1 bg-gray-50",children:[s?H.jsx("div",{className:"flex justify-center p-8 text-gray-400 animate-pulse",children:"Cargando..."}):d.map(e=>H.jsxs("div",{onClick:()=>{r(e),t()},className:"group flex items-center gap-3 p-3 rounded-lg hover:bg-white hover:shadow-md border border-transparent hover:border-gray-100 cursor-pointer transition-all",children:[H.jsx("div",{className:"h-10 w-10 rounded-full bg-orange-100 flex items-center justify-center text-hd-orange group-hover:bg-hd-orange group-hover:text-white transition-colors",children:H.jsx(Ia,{size:18})}),H.jsxs("div",{children:[H.jsx("div",{className:"font-semibold text-gray-800",children:e.nombre}),e.descripcion&&H.jsx("div",{className:"text-xs text-gray-500",children:e.descripcion})]}),H.jsx("div",{className:"ml-auto opacity-0 group-hover:opacity-100 text-hd-orange",children:H.jsx(yr,{size:16})})]},e.id)),!s&&0===d.length&&H.jsx("div",{className:"text-center py-10 text-gray-400",children:"No se encontraron categoras."})]})]})})},xJ=()=>{const e=it(),{id:t}=lt(),r=!!t,[a,n]=W.useState({name:"",description:"",startDate:(new Date).toISOString().split("T")[0],endDate:"",isActive:!0,priority:0,rules:[],actions:[],autoApply:!1,stackable:!1,requiresCoupon:!1,applyTo:"Both"}),[o,i]=W.useState(!1),[s,l]=W.useState(!1),[c,d]=W.useState(null),[u,p]=W.useState(null);W.useEffect(()=>{r&&h()},[t]);const h=async()=>{try{var e,r;const a=await(async e=>{const t=await fetch(`${Yo}${Xo}/${e}`);if(!t.ok)throw new Error("Failed to fetch promotion");return t.json()})(t),o={...a,startDate:null===(e=a.startDate)||void 0===e?void 0:e.split("T")[0],endDate:(null===(r=a.endDate)||void 0===r?void 0:r.split("T")[0])||""};n(o)}catch(a){console.error("Error loading promo",a)}},m=[{value:"MinOrderTotal",label:"Monto Mnimo Orden"},{value:"ContainsProduct",label:"Contiene Producto (ID)"},{value:"ContainsCategory",label:"Contiene Categora (Nombre)"}],g=[{value:"DiscountPercentage",label:"Descuento (%)"},{value:"DiscountAmount",label:"Descuento Fijo ($)"}],x=(e,t)=>{n(r=>({...r,[e]:t}))};return H.jsxs("div",{className:"space-y-6 max-w-5xl mx-auto pb-20 p-6",children:[H.jsxs("div",{className:"flex items-center justify-between sticky top-0 bg-gray-50/95 backdrop-blur z-20 py-4 border-b border-gray-200 -mx-6 px-6",children:[H.jsxs("div",{className:"flex items-center gap-4",children:[H.jsx(Za,{variant:"ghost",onClick:()=>e("/marketing/promociones"),children:H.jsx(ar,{className:"h-5 w-5"})}),H.jsxs("div",{children:[H.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r?"Editar Promocin":"Nueva Promocin"}),H.jsx("p",{className:"text-sm text-gray-500",children:r?`ID: ${t}`:"Configura las reglas y beneficios"})]})]}),H.jsxs("div",{className:"flex gap-2",children:[H.jsx(Za,{variant:"outline",onClick:()=>e("/marketing/promociones"),children:"Cancelar"}),H.jsxs(Za,{onClick:async()=>{try{const n={...a,endDate:a.endDate?a.endDate:null,priority:parseInt(a.priority)||0,actions:a.actions.map(e=>({...e,value:parseFloat(e.value)||0,targetArtifact:e.targetArtifact||null})).filter(e=>e.value>0),rules:a.rules.map(e=>({...e,value:e.value?e.value.toString():""})).filter(e=>""!==e.value)};r?await(async(e,t)=>{const r=await fetch(`${Yo}${Xo}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw new Error("Failed to update promotion");return 204===r.status||r.json()})(t,n):await(async e=>{const t=await fetch(`${Yo}${Xo}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json().catch(()=>null);console.error("Backend Error:",e);let r=(null==e?void 0:e.title)||(null==e?void 0:e.message)||"Failed to create promotion";throw null!=e&&e.errors&&(r+=`\n${Object.entries(e.errors).map(([e,t])=>`${e}: ${t.join(", ")}`).join("\n")}`),new Error(r)}return t.json()})(n),e("/marketing/promociones")}catch(n){console.error("Error saving promotion",n),alert(`Error al guardar: ${n.message}`)}},className:"bg-hd-orange hover:bg-orange-600",children:[H.jsx(wa,{className:"mr-2 h-4 w-4"})," Guardar"]})]})]}),H.jsxs(ln,{className:"shadow-sm border-l-4 border-l-hd-orange",children:[H.jsx(cn,{children:H.jsxs(dn,{className:"flex items-center gap-2",children:[H.jsx(Lr,{className:"h-5 w-5 text-gray-500"})," Informacin General"]})}),H.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre de la Promocin"}),H.jsx("input",{type:"text",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-hd-orange focus:ring focus:ring-orange-200 sm:text-sm p-2 border",value:a.name,onChange:e=>x("name",e.target.value),placeholder:"Ej: Descuento Verano 2025"})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Prioridad"}),H.jsx("input",{type:"number",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-hd-orange focus:ring focus:ring-orange-200 sm:text-sm p-2 border",value:a.priority,onChange:e=>x("priority",e.target.value)}),H.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Mayor nmero = Se aplica primero."})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Aplicar A:"}),H.jsxs("select",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-hd-orange focus:ring focus:ring-orange-200 sm:text-sm p-2 border",value:a.applyTo,onChange:e=>x("applyTo",e.target.value),children:[H.jsx("option",{value:"Both",children:"Ambos (POS y Distribucin)"}),H.jsx("option",{value:"POS",children:"Solo POS"}),H.jsx("option",{value:"Distribution",children:"Solo Ventas Distribucin"})]})]}),H.jsxs("div",{className:"flex gap-4",children:[H.jsxs("div",{className:"flex-1",children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Inicio"}),H.jsx("input",{type:"date",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-hd-orange focus:ring focus:ring-orange-200 sm:text-sm p-2 border",value:a.startDate,onChange:e=>x("startDate",e.target.value)})]}),H.jsxs("div",{className:"flex-1",children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fin (Opcional)"}),H.jsx("input",{type:"date",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-hd-orange focus:ring focus:ring-orange-200 sm:text-sm p-2 border",value:a.endDate,onChange:e=>x("endDate",e.target.value)})]})]}),H.jsxs("div",{className:"flex items-center gap-4 mt-6",children:[H.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[H.jsx("input",{type:"checkbox",checked:a.isActive,onChange:e=>x("isActive",e.target.checked),className:"rounded text-hd-orange focus:ring-orange-500 h-5 w-5"}),H.jsx("span",{className:"text-gray-900 font-medium",children:"Activa"})]}),H.jsxs("label",{className:"flex items-center gap-2 cursor-pointer ml-4",children:[H.jsx("input",{type:"checkbox",checked:a.autoApply,onChange:e=>x("autoApply",e.target.checked),className:"rounded text-hd-orange focus:ring-orange-500 h-5 w-5"}),H.jsx("span",{className:"text-gray-900 font-medium",children:"Aplicar Automticamente"})]}),H.jsxs("label",{className:"flex items-center gap-2 cursor-pointer ml-4",children:[H.jsx("input",{type:"checkbox",checked:a.stackable,onChange:e=>x("stackable",e.target.checked),className:"rounded text-hd-orange focus:ring-orange-500 h-5 w-5"}),H.jsx("span",{className:"text-gray-900 font-medium",children:"Acumulable"})]})]})]})]}),H.jsxs(ln,{className:"shadow-sm",children:[H.jsx(cn,{className:"bg-gray-50 border-b border-gray-100",children:H.jsxs("div",{className:"flex justify-between items-center",children:[H.jsx(dn,{className:"text-gray-800",children:"Reglas (Condiciones)"}),H.jsxs(Za,{size:"sm",variant:"outline",onClick:()=>n({...a,rules:[...a.rules,{type:"MinOrderTotal",operator:"GreaterThan",value:""}]}),children:[H.jsx(xa,{className:"h-4 w-4 mr-1"})," Agregar Regla"]})]})}),H.jsxs("div",{className:"p-6 space-y-4",children:[0===a.rules.length&&H.jsx("div",{className:"text-center py-8 text-gray-400 border-2 border-dashed border-gray-200 rounded-lg",children:"No hay reglas definidas. La promocin se aplicar siempre."}),a.rules.map((e,t)=>H.jsxs("div",{className:"flex gap-4 items-center bg-gray-50 p-3 rounded border border-gray-200",children:[H.jsx("select",{className:"block w-1/3 rounded-md border-gray-300 shadow-sm focus:border-hd-orange focus:ring-orange-200 sm:text-sm p-2 border",value:e.type,onChange:e=>{const r=[...a.rules];r[t].type=e.target.value,n({...a,rules:r})},children:m.map(e=>H.jsx("option",{value:e.value,children:e.label},e.value))}),H.jsxs("select",{className:"block w-1/5 rounded-md border-gray-300 shadow-sm focus:border-hd-orange focus:ring-orange-200 sm:text-sm p-2 border",value:e.operator,onChange:e=>{const r=[...a.rules];r[t].operator=e.target.value,n({...a,rules:r})},children:[H.jsx("option",{value:"GreaterThan",children:"Mayor que"}),H.jsx("option",{value:"Equals",children:"Igual a"})]}),H.jsxs("div",{className:"relative flex-1 group",children:[H.jsx("input",{type:"text",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-hd-orange focus:ring-orange-200 sm:text-sm p-2 border "+("ContainsProduct"===e.type||"ContainsCategory"===e.type?"pr-10":""),placeholder:"ContainsProduct"===e.type?"ID Producto":"ContainsCategory"===e.type?"Nombre Categora":"Valor",value:e.value,onChange:e=>{const r=[...a.rules];r[t].value=e.target.value,n({...a,rules:r})}}),("ContainsProduct"===e.type||"ContainsCategory"===e.type)&&H.jsx("button",{type:"button",className:"absolute right-0 top-0 h-full px-3 text-gray-400 hover:text-hd-orange transition-colors rounded-r-md border-l border-transparent hover:bg-orange-50",onClick:()=>{d(t),"ContainsProduct"===e.type?i(!0):l(!0)},title:"Buscar...",children:"ContainsProduct"===e.type?H.jsx(ja,{size:16}):H.jsx(Yr,{size:16})})]}),H.jsx(Za,{variant:"ghost",size:"sm",onClick:()=>{const e=[...a.rules];e.splice(t,1),n({...a,rules:e})},children:H.jsx(Ta,{className:"h-4 w-4 text-red-500"})})]},t))]})]}),H.jsxs(ln,{className:"shadow-sm",children:[H.jsx(cn,{className:"bg-gray-50 border-b border-gray-100",children:H.jsxs("div",{className:"flex justify-between items-center",children:[H.jsx(dn,{className:"text-gray-800",children:"Beneficios (Acciones)"}),H.jsxs(Za,{size:"sm",variant:"outline",className:"text-hd-orange border-hd-orange hover:bg-orange-50",onClick:()=>n({...a,actions:[...a.actions,{type:"DiscountPercentage",value:0,appliesTo:"Order",targetArtifact:""}]}),children:[H.jsx(xa,{className:"h-4 w-4 mr-1"})," Agregar Beneficio"]})]})}),H.jsxs("div",{className:"p-6 space-y-4",children:[0===a.actions.length&&H.jsxs("div",{className:"text-center py-8 text-gray-400 border-2 border-dashed border-gray-200 rounded-lg",children:[H.jsx(Yt,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),"Qu gana el cliente? Agrega un beneficio."]}),a.actions.map((e,t)=>H.jsxs("div",{className:"flex flex-col gap-2 bg-green-50 p-3 rounded border border-green-200",children:[H.jsxs("div",{className:"flex gap-4 items-center",children:[H.jsx("select",{className:"block w-1/3 rounded-md border-gray-300 shadow-sm focus:border-hd-orange focus:ring-orange-200 sm:text-sm p-2 border",value:e.type,onChange:e=>{const r=[...a.actions];r[t].type=e.target.value,n({...a,actions:r})},children:g.map(e=>H.jsx("option",{value:e.value,children:e.label},e.value))}),H.jsx("input",{type:"number",className:"block w-32 rounded-md border-gray-300 shadow-sm focus:border-hd-orange focus:ring-orange-200 sm:text-sm p-2 border",placeholder:"0",value:e.value,onChange:e=>{const r=[...a.actions];r[t].value=e.target.value,n({...a,actions:r})}}),H.jsx("span",{className:"text-sm text-gray-500",children:"en"}),H.jsxs("select",{className:"block w-1/4 rounded-md border-gray-300 shadow-sm focus:border-hd-orange focus:ring-orange-200 sm:text-sm p-2 border",value:e.appliesTo,onChange:e=>{const r=[...a.actions];r[t].appliesTo=e.target.value,n({...a,actions:r})},children:[H.jsx("option",{value:"Order",children:"Total de la Orden"}),H.jsx("option",{value:"SpecificProduct",children:"Producto Especfico"}),H.jsx("option",{value:"Category",children:"Categora"})]}),H.jsx(Za,{variant:"ghost",size:"sm",onClick:()=>{const e=[...a.actions];e.splice(t,1),n({...a,actions:e})},children:H.jsx(Ta,{className:"h-4 w-4 text-red-500"})})]}),("SpecificProduct"===e.appliesTo||"Category"===e.appliesTo)&&H.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[H.jsx("span",{className:"text-xs text-gray-500 uppercase font-bold w-1/3 text-right pr-2",children:"SpecificProduct"===e.appliesTo?"ID del Producto:":"Nombre Categora:"}),H.jsxs("div",{className:"relative flex-1 group",children:[H.jsx("input",{type:"text",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-hd-orange focus:ring-green-200 sm:text-sm p-2 border pr-10",placeholder:"SpecificProduct"===e.appliesTo?"Ej: 101":"Ej: Herramientas",value:e.targetArtifact||"",onChange:e=>{const r=[...a.actions];r[t].targetArtifact=e.target.value,n({...a,actions:r})}}),H.jsx("button",{type:"button",className:"absolute right-0 top-0 h-full px-3 text-gray-400 hover:text-hd-orange transition-colors rounded-r-md border-l border-transparent hover:bg-orange-50",onClick:()=>{p(t),"SpecificProduct"===e.appliesTo?i(!0):l(!0)},title:"Buscar...",children:"SpecificProduct"===e.appliesTo?H.jsx(ja,{size:16}):H.jsx(Yr,{size:16})})]})]})]},t))]})]}),H.jsx($o,{isOpen:o,onClose:()=>i(!1),onSelect:e=>{if(null!==c){const t=[...a.rules];t[c].value=e.id.toString(),n({...a,rules:t}),d(null)}else if(null!==u){const t=[...a.actions];t[u].targetArtifact=e.id.toString(),n({...a,actions:t}),p(null)}i(!1)}}),H.jsx(gJ,{isOpen:s,onClose:()=>l(!1),onSelect:e=>{if(null!==c){const t=[...a.rules];t[c].value=e.nombre,n({...a,rules:t}),d(null)}else if(null!==u){const t=[...a.actions];t[u].targetArtifact=e.nombre,n({...a,actions:t}),p(null)}l(!1)}})]})},fJ=()=>{const[e,t]=W.useState(null),[r,a]=W.useState(!0);if(W.useEffect(()=>{(async()=>{try{const e=await fetch("http://localhost:5006/api/Trial/status");if(e.ok){const r=await e.json();t(r)}}catch(Xd){console.error("Error fetching trial status",Xd)}finally{a(!1)}})()},[]),r||!e)return null;const{daysRemaining:n,isExpired:o}=e;return o?H.jsxs("div",{className:"bg-red-600 text-white py-4 px-4 flex flex-col items-center justify-center gap-3 z-[9999] sticky top-0 shadow-lg",children:[H.jsxs("div",{className:"flex items-center gap-3",children:[H.jsx(Xt,{size:24,className:"text-yellow-300 animate-pulse"}),H.jsx("span",{className:"font-bold text-lg uppercase tracking-wider",children:"PERIODO DE PRUEBA EXPIRADO"})]}),H.jsxs("div",{className:"flex gap-2 mt-2",children:[H.jsx("input",{type:"text",placeholder:"Ingrese Clave de Activacin",id:"licenseKey",className:"px-3 py-1 text-black rounded text-sm w-64"}),H.jsx("button",{onClick:async()=>{const e=document.getElementById("licenseKey").value;(await fetch("http://localhost:5006/api/Trial/activate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:e})})).ok?(alert("Licencia Activada! El sistema se reiniciar."),window.location.reload()):alert("Clave invlida.")},className:"bg-white text-red-600 px-4 py-1 rounded font-bold text-sm hover:bg-gray-200 transition-colors",children:"ACTIVAR AHORA"})]})]}):n<=10?H.jsxs("div",{className:"bg-orange-500 text-white py-1.5 px-4 flex items-center justify-center gap-2 z-[9999] sticky top-0 shadow-md",children:[H.jsx(Or,{size:16}),H.jsxs("span",{className:"font-medium text-xs",children:["Atencin: Quedan ",H.jsxs("strong",{children:[n," das"]})," de tu periodo de prueba gratuito."]})]}):H.jsx("div",{className:"bg-gray-800 text-gray-300 py-1 px-4 flex items-center justify-center gap-2 z-[9999] sticky top-0 text-[10px] opacity-90 hover:opacity-100 transition-opacity",children:H.jsxs("span",{className:"uppercase tracking-widest font-semibold flex items-center gap-1",children:[H.jsx(Or,{size:10})," Versin Demo: ",n," das restantes"]})})};function bJ(){return H.jsxs(dJ,{children:[H.jsx(fJ,{}),H.jsx(Dt,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:H.jsx(Vt,{children:H.jsxs(Nt,{children:[H.jsx(wt,{path:"/login",element:H.jsx(uJ,{})}),H.jsxs(wt,{element:H.jsx(qt,{}),children:[H.jsxs(wt,{path:"/",element:H.jsx(Xa,{}),children:[H.jsx(wt,{index:!0,element:H.jsx(rG,{})}),H.jsx(wt,{path:"clientes",element:H.jsx(pn,{})}),H.jsx(wt,{path:"clientes/nuevo",element:H.jsx(vn,{})}),H.jsx(wt,{path:"clientes/editar/:id",element:H.jsx(vn,{})}),H.jsx(wt,{path:"proveedores",element:H.jsx(jn,{})}),H.jsx(wt,{path:"proveedores/nuevo",element:H.jsx(Cn,{})}),H.jsx(wt,{path:"proveedores/editar/:id",element:H.jsx(Cn,{})}),H.jsx(wt,{path:"vendedores",element:H.jsx(Ko,{})}),H.jsx(wt,{path:"vendedores/nuevo",element:H.jsx(Jo,{})}),H.jsx(wt,{path:"vendedores/editar/:id",element:H.jsx(Jo,{})}),H.jsx(wt,{path:"productos",element:H.jsx(Bn,{})}),H.jsx(wt,{path:"productos/nuevo",element:H.jsx(vo,{})}),H.jsx(wt,{path:"productos/editar/:id",element:H.jsx(vo,{})}),H.jsx(wt,{path:"inventario/lista-precios",element:H.jsx(Wd,{})}),H.jsx(wt,{path:"inventario/niveles-precios",element:H.jsx(qu,{})}),H.jsx(wt,{path:"inventario/categorias-articulos",element:H.jsx(qd,{})}),H.jsx(wt,{path:"inventario/unidades-medida",element:H.jsx(Ld,{})}),H.jsx(wt,{path:"inventario/historial",element:H.jsx(Gu,{})}),H.jsx(wt,{path:"inventario/historial/:articuloId",element:H.jsx(Gu,{})}),H.jsx(wt,{path:"inventario/almacenes",element:H.jsx($d,{})}),H.jsx(wt,{path:"inventario/grupos-impuestos",element:H.jsx(Ud,{})}),H.jsx(wt,{path:"inventario/grupos-producto",element:H.jsx(Bd,{})}),H.jsx(wt,{path:"configuracion/motivos-ajuste",element:H.jsx(Vd,{})}),H.jsx(wt,{path:"ajustes",element:H.jsx(Oo,{})}),H.jsx(wt,{path:"ajustes/nuevo",element:H.jsx(Ro,{})}),H.jsx(wt,{path:"transferencias",element:H.jsx(Lo,{})}),H.jsx(wt,{path:"transferencias/nuevo",element:H.jsx(Wo,{})}),H.jsx(wt,{path:"transferencias/editar/:id",element:H.jsx(Wo,{})}),H.jsx(wt,{path:"kardex",element:H.jsx(jo,{})}),H.jsx(wt,{path:"configuracion/ncf",element:H.jsx(Ql,{})}),H.jsx(wt,{path:"configuracion/clientes",element:H.jsx(tc,{})}),H.jsx(wt,{path:"configuracion/articulos",element:H.jsx(rc,{})}),H.jsx(wt,{path:"configuracion/monedas",element:H.jsx(vd,{})}),H.jsx(wt,{path:"configuracion/proveedores",element:H.jsx(Nd,{})}),H.jsx(wt,{path:"configuracion/compania",element:H.jsx(Cd,{})}),H.jsx(wt,{path:"configuracion/cxp",element:H.jsx(Ed,{})}),H.jsx(wt,{path:"configuracion/pos",element:H.jsx(nJ,{})}),H.jsx(wt,{path:"configuracion/compras",element:H.jsx(iJ,{})}),H.jsx(wt,{path:"configuracion/receipt-designer",element:H.jsx(lJ,{})}),H.jsx(wt,{path:"configuracion/transferencias",element:H.jsx(Md,{})}),H.jsx(wt,{path:"configuracion/ajustes",element:H.jsx(_d,{})}),H.jsx(wt,{path:"configuracion/security-editor",element:H.jsx(pJ,{})}),H.jsx(wt,{path:"configuracion/usuarios",element:H.jsx(hJ,{})}),H.jsx(wt,{path:"ventas/pos",element:H.jsx(ii,{})}),H.jsx(wt,{path:"ventas/distribucion",element:H.jsx(yi,{})}),H.jsx(wt,{path:"ventas/devoluciones",element:H.jsx($l,{})}),H.jsx(wt,{path:"ventas/historial-devoluciones",element:H.jsx(Ul,{})}),H.jsx(wt,{path:"ventas/historial",element:H.jsx(_l,{})}),H.jsx(wt,{path:"ventas/corte",element:H.jsx(Bl,{})}),H.jsx(wt,{path:"compras",element:H.jsx(Wl,{})}),H.jsx(wt,{path:"compras/nuevo",element:H.jsx(Yl,{})}),H.jsx(wt,{path:"compras/editar/:id",element:H.jsx(Yl,{})}),H.jsx(wt,{path:"compras/reportes",element:H.jsx(Od,{})}),H.jsx(wt,{path:"reportes/ventas",element:H.jsx(Qa,{title:"Reporte de Ventas"})}),H.jsx(wt,{path:"reportes/inventario",element:H.jsx(Qa,{title:"Reporte de Inventario"})}),H.jsx(wt,{path:"reportes/valoracion-inventario",element:H.jsx(Hu,{})}),H.jsx(wt,{path:"reportes/compras-multi-moneda",element:H.jsx(Wu,{})}),H.jsx(wt,{path:"reportes/manager",element:H.jsx(Xu,{})}),H.jsx(wt,{path:"compras/imprimir/:id",element:H.jsx(Yu,{})}),H.jsx(wt,{path:"cuentas-por-pagar/pagos",element:H.jsx(ip,{})}),H.jsx(wt,{path:"cuentas-por-cobrar/cobros",element:H.jsx(dp,{})}),H.jsx(wt,{path:"reportes/ventas-vendedor",element:H.jsx(Qa,{title:"Reporte por Vendedor"})}),H.jsx(wt,{path:"reportes/ventas-cliente",element:H.jsx(Qa,{title:"Reporte por Cliente"})}),H.jsx(wt,{path:"reportes/kardex",element:H.jsx(Qa,{title:"Movimientos de Artculos"})}),H.jsx(wt,{path:"reportes/clientes",element:H.jsx(Qa,{title:"Listado de Clientes"})}),H.jsx(wt,{path:"reportes/proveedores",element:H.jsx(Qa,{title:"Listado de Proveedores"})}),H.jsx(wt,{path:"marketing/promociones",element:H.jsx(mJ,{})}),H.jsx(wt,{path:"marketing/promociones/nuevo",element:H.jsx(xJ,{})}),H.jsx(wt,{path:"marketing/promociones/editar/:id",element:H.jsx(xJ,{})}),H.jsx(wt,{path:"crm/dashboard",element:H.jsx(hp,{})}),H.jsx(wt,{path:"crm/prospectos",element:H.jsx(pp,{})}),H.jsx(wt,{path:"crm/oportunidades",element:H.jsx(Qa,{title:"CRM Oportunidades"})}),H.jsx(wt,{path:"crm/actividades",element:H.jsx(Qa,{title:"CRM Actividades"})}),H.jsx(wt,{path:"crm/interacciones",element:H.jsx(Qa,{title:"CRM Interacciones"})}),H.jsx(wt,{path:"reportes/smartlist/facturas",element:H.jsx(fp,{})}),H.jsx(wt,{path:"reportes/smartlist/articulos",element:H.jsx(bp,{})}),H.jsx(wt,{path:"reportes/smartlist/proveedores",element:H.jsx(vp,{})}),H.jsx(wt,{path:"reportes/smartlist/pagos",element:H.jsx(yp,{})}),H.jsx(wt,{path:"reportes/smartlist/inventario",element:H.jsx(wp,{})}),H.jsx(wt,{path:"reportes/ventas-cobros",element:H.jsx(jp,{})}),H.jsx(wt,{path:"utilidades/calculadora",element:H.jsx(Qa,{title:"Calculadora"})}),H.jsx(wt,{path:"utilidades/notas",element:H.jsx(Qa,{title:"Bloc de Notas"})}),H.jsx(wt,{path:"utilidades/calendario",element:H.jsx(Qa,{title:"Calendario"})})]}),H.jsx(wt,{path:"launchpad",element:H.jsx(rJ,{})})]})]})})})]})}ce.createRoot(document.getElementById("root")).render(H.jsx(bJ,{}))}}})}();
